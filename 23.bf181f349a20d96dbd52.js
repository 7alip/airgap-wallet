(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"68Zl":function(e,t,n){"use strict";n.r(t),n.d(t,"ExchangeConfirmPageModule",function(){return Q});var i=n("138U"),o=n("ofXK"),c=n("3Pt+"),a=n("tyNb"),r=n("TEn/"),s=n("sYmb"),b=n("j1ZV"),l=n("mrSG"),d=n("RKiA"),h=n("kB5k"),u=n.n(h),m=n("1y+R"),p=n("nxqh"),g=n("hPkG"),f=n("dW0/"),x=n("jysE"),y=n("57MG"),P=n("fXoL");function v(e,t){if(1&e){var n=P.Rb();P.Qb(0,"ion-row",19),P.Yb("click",function(){return P.oc(n),P.ac().changellyUrl()}),P.Mb(1,"small",20),P.bc(2,"translate"),P.Pb()}2&e&&(P.Ab(1),P.gc("innerHTML",P.cc(2,1,"exchange-confirm.changelly_disclaimer"),P.pc))}function w(e,t){if(1&e){var n=P.Rb();P.Qb(0,"ion-row",19),P.Yb("click",function(){return P.oc(n),P.ac().changeNowUrl()}),P.Mb(1,"small",20),P.bc(2,"translate"),P.Pb()}2&e&&(P.Ab(1),P.gc("innerHTML",P.cc(2,1,"exchange-confirm.changenow_disclaimer"),P.pc))}var A=function(){function e(e,t,n,i,o,c,a){var r=this;if(this.router=e,this.exchangeProvider=t,this.route=n,this.operationsProvider=i,this.dataService=o,this.browserService=c,this.accountProvider=a,this.route.snapshot.data.special){var s=this.route.snapshot.data.special;this.fromWallet=s.fromWallet,this.toWallet=s.toWallet,this.fromCurrency=s.fromCurrency,this.toCurrency=s.toCurrency,this.exchangeResult=s.exchangeResult,this.fee=s.fee,this.memo=s.memo,this.amountExpectedFrom=this.exchangeResult.amountExpectedFrom?this.exchangeResult.amountExpectedFrom:s.amountExpectedFrom,this.amountExpectedTo=this.exchangeResult.amountExpectedTo?this.exchangeResult.amountExpectedTo:s.amountExpectedTo,this.feeFiatAmount=new u.a(this.fee).multipliedBy(this.fromWallet.currentMarketPrice).toString(),this.fromFiatAmount=new u.a(this.amountExpectedFrom).multipliedBy(this.fromWallet.currentMarketPrice).toNumber(),this.toFiatAmount=new u.a(this.amountExpectedTo).multipliedBy(this.toWallet.currentMarketPrice).toNumber()}this.exchangeProvider.getActiveExchange().subscribe(function(e){r.activeExchange=e})}return e.prototype.prepareTransaction=function(){return Object(l.b)(this,void 0,void 0,function(){var e,t,n,i;return Object(l.e)(this,function(o){switch(o.label){case 0:e=this.fromWallet,t=new u.a(new u.a(this.amountExpectedFrom)).shiftedBy(e.protocol.decimals),n=new u.a(this.fee).shiftedBy(e.protocol.feeDecimals),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.operationsProvider.prepareTransaction(e,this.exchangeResult.payinAddress,t,n,this.accountProvider.getWalletList(),this.memo)];case 2:return i=o.sent(),this.dataService.setData(m.b.INTERACTION,{wallet:e,airGapTxs:i.airGapTxs,data:i.unsignedTx,type:d.IACMessageType.TransactionSignRequest}),this.router.navigateByUrl("/interaction-selection/"+m.b.INTERACTION).catch(Object(g.b)(g.a.NAVIGATION)),[3,4];case 3:return o.sent(),[3,4];case 4:return[2]}})})},e.prototype.changellyUrl=function(){this.browserService.openUrl("https://old.changelly.com/aml-kyc")},e.prototype.changeNowUrl=function(){this.browserService.openUrl("https://support.changenow.io/hc/en-us/articles/360011609979")},e.\u0275fac=function(t){return new(t||e)(P.Lb(a.g),P.Lb(f.a),P.Lb(a.a),P.Lb(p.a),P.Lb(m.a),P.Lb(x.a),P.Lb(y.a))},e.\u0275cmp=P.Fb({type:e,selectors:[["page-exchange-confirm"]],decls:53,vars:47,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],[1,"ion-padding-end"],[1,"ion-padding-start","ion-padding-bottom",3,"innerHTML"],[3,"address","title","hasSymbol","symbol"],[1,"ion-align-items-center","ion-padding-vertical"],["size","3",1,"ion-no-padding"],[1,"ion-justify-content-center"],[1,"line--first"],["size","9",1,"ion-padding-bottom"],["position","stacked",1,"ion-text-uppercase"],["item-content","",1,"typography--mono"],[1,"typography--mono"],[1,"line--second"],["class","ion-padding ion-margin-vertical",3,"click",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","primary","shape","round",3,"click"],[1,"ion-padding","ion-margin-vertical",3,"click"],[3,"innerHTML"]],template:function(e,t){1&e&&(P.Qb(0,"ion-header",0),P.Qb(1,"ion-grid",1),P.Qb(2,"ion-toolbar"),P.Qb(3,"ion-buttons",2),P.Mb(4,"ion-back-button",3),P.Pb(),P.Qb(5,"ion-title"),P.wc(6),P.bc(7,"translate"),P.Pb(),P.Pb(),P.Pb(),P.Pb(),P.Qb(8,"ion-content",4),P.Qb(9,"ion-grid",1),P.Mb(10,"h3",5),P.bc(11,"translate"),P.Mb(12,"airgap-titled-address",6),P.Qb(13,"ion-row",7),P.Qb(14,"ion-col",8),P.Qb(15,"ion-row",9),P.Mb(16,"div",10),P.Pb(),P.Pb(),P.Qb(17,"ion-col",11),P.Qb(18,"ion-label",12),P.wc(19),P.bc(20,"translate"),P.Pb(),P.Qb(21,"div",13),P.Qb(22,"span",14),P.wc(23),P.bc(24,"number"),P.Pb(),P.Pb(),P.Ob(25),P.Qb(26,"ion-label",12),P.wc(27),P.bc(28,"translate"),P.Pb(),P.Qb(29,"div",13),P.Qb(30,"span",14),P.wc(31),P.bc(32,"number"),P.Pb(),P.Pb(),P.Nb(),P.Pb(),P.Pb(),P.Mb(33,"airgap-titled-address",6),P.Qb(34,"ion-row",7),P.Qb(35,"ion-col",8),P.Qb(36,"ion-row",9),P.Mb(37,"div",15),P.Pb(),P.Pb(),P.Qb(38,"ion-col",11),P.Qb(39,"ion-label",12),P.wc(40),P.bc(41,"translate"),P.Pb(),P.Qb(42,"div",13),P.Qb(43,"span",14),P.wc(44),P.bc(45,"number"),P.Pb(),P.Pb(),P.Pb(),P.Pb(),P.Mb(46,"airgap-titled-address",6),P.uc(47,v,3,3,"ion-row",16),P.uc(48,w,3,3,"ion-row",16),P.Pb(),P.Qb(49,"ion-fab",17),P.Qb(50,"ion-button",18),P.Yb("click",function(){return t.prepareTransaction()}),P.wc(51),P.bc(52,"translate"),P.Pb(),P.Pb(),P.Pb()),2&e&&(P.Ab(6),P.xc(P.cc(7,26,"exchange-confirm.title")),P.Ab(4),P.gc("innerHTML",P.cc(11,28,"exchange-confirm.heading"),P.pc),P.Ab(2),P.gc("address",t.fromWallet.receivingPublicAddress)("title","exchange-confirm.sell_label")("hasSymbol",!0)("symbol",t.fromCurrency),P.Ab(7),P.xc(P.cc(20,30,"exchange-confirm.sell-amount_label")),P.Ab(4),P.zc("",t.amountExpectedFrom," (~$",P.dc(24,32,t.fromFiatAmount,"1.2-2"),")"),P.Ab(4),P.xc(P.cc(28,35,"exchange-confirm.fee_label")),P.Ab(4),P.zc("",t.fee," (~$",P.dc(32,37,t.feeFiatAmount,"1.2-2"),")"),P.Ab(2),P.gc("address",t.exchangeResult.payinAddress)("title","exchange-confirm.exchange-address_label")("hasSymbol",!0)("symbol",t.fromCurrency),P.Ab(7),P.xc(P.cc(41,40,"exchange-confirm.buy-amount_label")),P.Ab(4),P.zc("",t.amountExpectedTo," (~$",P.dc(45,42,t.toFiatAmount,"1.2-2"),")"),P.Ab(2),P.gc("address",t.toWallet.receivingPublicAddress)("title","exchange-confirm.receiving-to_label")("hasSymbol",!0)("symbol",t.toCurrency),P.Ab(1),P.gc("ngIf","Changelly"===t.activeExchange),P.Ab(1),P.gc("ngIf","ChangeNow"===t.activeExchange),P.Ab(3),P.yc(" ",P.cc(52,45,"exchange-confirm.confirm-exchange_label")," "))},directives:[r.v,r.u,r.hb,r.j,r.f,r.g,r.fb,r.q,i.F,r.R,r.p,r.E,o.n,r.r,r.i],pipes:[s.c,o.f],styles:[".line--first[_ngcontent-%COMP%]{height:96px}.line--second[_ngcontent-%COMP%]{height:48px}.line--first[_ngcontent-%COMP%], .line--second[_ngcontent-%COMP%]{border-left:1px solid var(--ion-color-dark)}"]}),e}(),Q=function(){function e(){}return e.\u0275mod=P.Jb({type:e}),e.\u0275inj=P.Ib({factory:function(t){return new(t||e)},imports:[[r.ib,o.c,c.e,b.a,s.b,a.j.forChild([{path:"",component:A}]),i.e]]}),e}()}}]);