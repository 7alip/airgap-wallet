(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"bh/N":function(t,i,e){"use strict";e.r(i),e.d(i,"InteractionSelectionPageModule",function(){return k});var n=e("ofXK"),o=e("3Pt+"),a=e("tyNb"),c=e("TEn/"),r=e("sYmb"),s=e("j1ZV"),b=e("mrSG"),l=e("z26V"),p=e("nxqh"),d=e("1y+R"),u=e("hPkG"),g=e("fXoL"),f=e("138U");function h(t,i){1&t&&(g.Ob(0,"ion-title"),g.vc(1),g.Zb(2,"translate"),g.Nb()),2&t&&(g.yb(1),g.xc(" ",g.ac(2,1,"interaction-selection.title")," "))}function v(t,i){1&t&&(g.Ob(0,"ion-title"),g.vc(1),g.Zb(2,"translate"),g.Nb()),2&t&&(g.yb(1),g.xc(" ",g.ac(2,1,"interaction-selection-desktop.title")," "))}function O(t,i){if(1&t){var e=g.Pb();g.Ob(0,"ion-content",6),g.Ob(1,"ion-grid",1),g.Kb(2,"h3",7),g.Zb(3,"translate"),g.Ob(4,"ion-row",8),g.Ob(5,"ion-col",9),g.Ob(6,"ion-row",10),g.Kb(7,"img",11),g.Nb(),g.Ob(8,"ion-row"),g.Ob(9,"ion-col",12),g.Ob(10,"ion-button",13),g.Wb("click",function(){return g.mc(e),g.Yb().sameDeviceSign()}),g.vc(11),g.Zb(12,"translate"),g.Nb(),g.Ob(13,"p"),g.vc(14),g.Zb(15,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Ob(16,"ion-row",14),g.Kb(17,"img",15),g.Nb(),g.Ob(18,"ion-row"),g.Ob(19,"ion-col",12),g.Ob(20,"ion-button",16),g.Wb("click",function(){return g.mc(e),g.Yb().offlineDeviceSign()}),g.vc(21),g.Zb(22,"translate"),g.Nb(),g.Ob(23,"p"),g.vc(24),g.Zb(25,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Nb()}2&t&&(g.yb(2),g.ec("innerHTML",g.ac(3,5,"interaction-selection.heading"),g.nc),g.yb(9),g.xc(" ",g.ac(12,7,"interaction-selection.same-device_label")," "),g.yb(3),g.wc(g.ac(15,9,"interaction-selection.same-device_info")),g.yb(7),g.xc(" ",g.ac(22,11,"interaction-selection.offline-device_label")," "),g.yb(3),g.wc(g.ac(25,13,"interaction-selection.offline-device_info")))}function N(t,i){1&t&&g.Kb(0,"img",15)}function y(t,i){1&t&&g.Kb(0,"img",21)}function m(t,i){if(1&t){var e=g.Pb();g.Ob(0,"ion-content",6),g.Ob(1,"ion-grid",1),g.Kb(2,"h3",7),g.Zb(3,"translate"),g.Ob(4,"ion-row",8),g.Ob(5,"ion-col",9),g.Ob(6,"ion-row",14),g.tc(7,N,1,0,"img",17),g.tc(8,y,1,0,"img",18),g.Nb(),g.Ob(9,"ion-row"),g.Ob(10,"ion-col",12),g.Ob(11,"ion-button",16),g.Wb("click",function(){return g.mc(e),g.Yb().offlineDeviceSign()}),g.vc(12),g.Zb(13,"translate"),g.Nb(),g.Ob(14,"p"),g.vc(15),g.Zb(16,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Ob(17,"ion-row",10),g.Kb(18,"img",19),g.Nb(),g.Ob(19,"ion-row"),g.Ob(20,"ion-col",12),g.Ob(21,"ion-button",20),g.Wb("click",function(){return g.mc(e),g.Yb().ledgerSign()}),g.vc(22),g.Zb(23,"translate"),g.Nb(),g.Ob(24,"p"),g.vc(25),g.Zb(26,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Nb()}if(2&t){var n=g.Yb();g.yb(2),g.ec("innerHTML",g.ac(3,8,"interaction-selection-desktop.heading"),g.nc),g.yb(5),g.ec("ngIf",!n.isDesktop),g.yb(1),g.ec("ngIf",n.isDesktop),g.yb(4),g.xc(" ",g.ac(13,10,"interaction-selection-desktop.vault_label")," "),g.yb(3),g.wc(g.ac(16,12,"interaction-selection-desktop.vault_info")),g.yb(6),g.ec("disabled",!n.isLedgerSupported),g.yb(1),g.xc(" ",g.ac(23,14,"interaction-selection-desktop.ledger_label")," "),g.yb(3),g.wc(g.ac(26,16,"interaction-selection-desktop.ledger_info"))}}var w=function(){function t(t,i,e,n,o,a,c){if(this.platform=t,this.router=i,this.route=e,this.deeplinkService=n,this.dataService=o,this.operations=a,this.ledgerService=c,this.isDesktop=!1,this.isLedgerSupported=!1,this.isDesktop=this.platform.is("desktop"),this.route.snapshot.data.special){var r=this.route.snapshot.data.special;this.wallet=r.wallet,this.airGapTxs=r.airGapTxs,this.interactionData=r.data,this.type=r.type,this.generatedId=r.generatedId,this.isLedgerSupported=this.isDesktop&&this.ledgerService.isProtocolSupported(this.wallet.protocol)}}return t.prototype.offlineDeviceSign=function(){return Object(b.b)(this,void 0,void 0,function(){var t;return Object(b.e)(this,function(i){switch(i.label){case 0:return[4,this.prepareQRData()];case 1:return t=i.sent(),this.dataService.setData(d.b.TRANSACTION,{wallet:this.wallet,airGapTxs:this.airGapTxs,data:t,interactionData:this.interactionData}),this.router.navigateByUrl("/transaction-qr/"+d.b.TRANSACTION).catch(function(t){return console.error(t)}),[2]}})})},t.prototype.sameDeviceSign=function(){return Object(b.b)(this,void 0,void 0,function(){var t,i=this;return Object(b.e)(this,function(e){switch(e.label){case 0:return[4,this.prepareQRData()];case 1:return t=e.sent(),this.deeplinkService.sameDeviceDeeplink(Array.isArray(t)?t.join(","):t).then(function(){i.router.navigateByUrl("/tabs/portfolio").catch(Object(u.b)(u.a.NAVIGATION))}).catch(Object(u.b)(u.a.DEEPLINK_PROVIDER)),[2]}})})},t.prototype.ledgerSign=function(){this.dataService.setData(d.b.TRANSACTION,{wallet:this.wallet,airGapTxs:this.airGapTxs,data:this.interactionData}),this.router.navigateByUrl("/ledger-sign/"+d.b.TRANSACTION).catch(Object(u.b)(u.a.NAVIGATION))},t.prototype.prepareQRData=function(){return Object(b.b)(this,void 0,void 0,function(){var t=this;return Object(b.e)(this,function(i){return"string"==typeof this.interactionData&&this.interactionData.includes("://")?[2,this.interactionData]:[2,this.operations.serializeSignRequest(this.wallet,this.interactionData,this.type,this.generatedId).catch(function(i){return console.warn("Could not serialize transaction: "+i),t.interactionData})]})})},t.\u0275fac=function(i){return new(i||t)(g.Jb(c.pb),g.Jb(a.g),g.Jb(a.a),g.Jb(f.l),g.Jb(d.a),g.Jb(p.a),g.Jb(l.a))},t.\u0275cmp=g.Db({type:t,selectors:[["page-interaction-selection"]],decls:9,vars:4,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],[4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[1,"ion-padding-bottom","ion-no-margin",3,"innerHTML"],[1,"ion-no-padding"],["size","12","size-md","6"],[1,"ion-justify-content-center"],["src","./assets/img/sign-one-device.svg"],["size","12"],["id","online","expand","block","color","primary","shape","round",3,"click"],[1,"ion-justify-content-center","ion-padding-top"],["src","./assets/img/sign-two-device.svg"],["id","offline","expand","block","size","default","color","primary","shape","round",3,"click"],["src","./assets/img/sign-two-device.svg",4,"ngIf"],["src","./assets/img/signer-vault-desktop.svg",4,"ngIf"],["src","./assets/img/signer-ledger.svg"],["id","online","expand","block","color","primary","shape","round",3,"disabled","click"],["src","./assets/img/signer-vault-desktop.svg"]],template:function(t,i){1&t&&(g.Ob(0,"ion-header",0),g.Ob(1,"ion-grid",1),g.Ob(2,"ion-toolbar"),g.Ob(3,"ion-buttons",2),g.Kb(4,"ion-back-button",3),g.Nb(),g.tc(5,h,3,3,"ion-title",4),g.tc(6,v,3,3,"ion-title",4),g.Nb(),g.Nb(),g.Nb(),g.tc(7,O,26,15,"ion-content",5),g.tc(8,m,27,18,"ion-content",5)),2&t&&(g.yb(5),g.ec("ngIf",!i.isDesktop),g.yb(1),g.ec("ngIf",i.isDesktop),g.yb(1),g.ec("ngIf",!i.isDesktop),g.yb(1),g.ec("ngIf",i.isDesktop))},directives:[c.v,c.u,c.hb,c.j,c.f,c.g,n.n,c.fb,c.q,c.R,c.p,c.i],pipes:[r.c],styles:["ion-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20vh}"]}),t}(),k=function(){function t(){}return t.\u0275mod=g.Hb({type:t}),t.\u0275inj=g.Gb({factory:function(i){return new(i||t)},imports:[[c.ib,n.c,o.e,s.a,r.b,a.j.forChild([{path:"",component:w}])]]}),t}()}}]);