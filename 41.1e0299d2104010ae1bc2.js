(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{Ldsa:function(t,n,a){"use strict";a.r(n),a.d(n,"TransactionQrPageModule",function(){return q});var i=a("138U"),o=a("ofXK"),e=a("3Pt+"),r=a("tyNb"),c=a("TEn/"),b=a("sYmb"),s=a("j1ZV"),l=a("iTUp"),p=a("kB5k"),d=a.n(p),f=a("hPkG"),g=a("fXoL"),u=a("l5qu");function h(t,n){if(1&t&&g.Kb(0,"airgap-qr",12),2&t){var a=g.Yb();g.ec("qrdata",a.preparedDataQR)("size",320)}}function y(t,n){1&t&&(g.Ob(0,"h1"),g.vc(1),g.Zb(2,"translate"),g.Nb()),2&t&&(g.yb(1),g.xc(" ",g.ac(2,1,"transaction-qr.qr-data-too-big_warning")," "))}var O=function(t){return{protocol:t}};function N(t,n){if(1&t&&(g.Mb(0),g.Ob(1,"ion-row",13),g.Ob(2,"ion-col",14),g.Ob(3,"h5"),g.vc(4),g.Zb(5,"async"),g.Zb(6,"amountConverter"),g.Nb(),g.Nb(),g.Ob(7,"ion-col",14),g.Ob(8,"h5"),g.vc(9),g.Nb(),g.Nb(),g.Ob(10,"ion-col",14),g.Ob(11,"h5"),g.vc(12),g.Zb(13,"async"),g.Zb(14,"feeConverter"),g.Nb(),g.Nb(),g.Ob(15,"ion-col",15),g.Ob(16,"small"),g.vc(17,"Amount"),g.Nb(),g.Nb(),g.Ob(18,"ion-col",15),g.Ob(19,"small"),g.vc(20,"Operations"),g.Nb(),g.Nb(),g.Ob(21,"ion-col",15),g.Ob(22,"small"),g.vc(23,"Fee"),g.Nb(),g.Nb(),g.Nb(),g.Lb()),2&t){var a=g.Yb();g.yb(4),g.xc(" ",g.ac(5,3,g.bc(6,5,a.aggregatedInfo.totalAmount.toFixed(),g.ic(13,O,a.airGapTxs[0].protocolIdentifier)))," "),g.yb(5),g.wc(a.aggregatedInfo.numberOfTxs),g.yb(3),g.xc(" ",g.ac(13,8,g.bc(14,10,a.aggregatedInfo.totalFees.toFixed(),g.ic(15,O,a.airGapTxs[0].protocolIdentifier)))," ")}}function m(t,n){1&t&&g.Kb(0,"airgap-from-to",17),2&t&&g.ec("transaction",n.$implicit)}function v(t,n){if(1&t&&(g.Mb(0),g.tc(1,m,1,1,"airgap-from-to",16),g.Lb()),2&t){var a=g.Yb();g.yb(1),g.ec("ngForOf",a.airGapTxs)}}function w(t,n){if(1&t&&(g.Ob(0,"pre",23),g.vc(1),g.Zb(2,"json"),g.Nb()),2&t){var a=g.Yb(2);g.yb(1),g.wc(g.ac(2,1,a.interactionData))}}function x(t,n){if(1&t){var a=g.Pb();g.Mb(0),g.Ob(1,"ion-row",18),g.Ob(2,"ion-col",19),g.Ob(3,"ion-item",20),g.Ob(4,"ion-label"),g.vc(5),g.Zb(6,"translate"),g.Nb(),g.Ob(7,"ion-toggle",21),g.Wb("ionChange",function(){return g.mc(a),g.Yb().toggleDisplayRawData()}),g.Nb(),g.Nb(),g.tc(8,w,3,3,"pre",22),g.Nb(),g.Nb(),g.Lb()}if(2&t){var i=g.Yb();g.yb(5),g.wc(g.ac(6,3,"transaction-qr.details")),g.yb(2),g.ec("checked",i.displayRawData),g.yb(1),g.ec("ngIf",i.displayRawData)}}function T(t,n){if(1&t&&g.Kb(0,"signed-transaction",24),2&t){var a=g.Yb();g.ec("syncProtocolString",a.preparedDataQR)}}var D=function(t){return{title:t}},I=function(){function t(t,n,a,i){var o=this;if(this.router=t,this.route=n,this.platform=a,this.deeplinkService=i,this.preparedDataQR="",this.wallet=null,this.airGapTxs=null,this.isBrowser=!1,this.qrDataTooBig=!1,this.displayRawData=!1,this.route.snapshot.data.special){var e=this.route.snapshot.data.special;this.wallet=e.wallet,this.airGapTxs=e.airGapTxs,this.interactionData=e.interactionData,this.preparedDataQR=e.data,this.qrDataTooBig=this.preparedDataQR.length>2800,this.airGapTxs&&this.airGapTxs.length>1&&this.airGapTxs.every(function(t){return t.protocolIdentifier===o.airGapTxs[0].protocolIdentifier})&&(this.aggregatedInfo={numberOfTxs:this.airGapTxs.length,totalAmount:this.airGapTxs.map(function(t){return new d.a(t.amount)}).filter(function(t){return!t.isNaN()}).reduce(function(t,n){return t.plus(n)},new d.a(0)),totalFees:this.airGapTxs.reduce(function(t,n){return t.plus(n.fee)},new d.a(0))})}this.isBrowser=!this.platform.is("hybrid")}return t.prototype.done=function(){this.router.navigateByUrl("/tabs/portfolio").catch(Object(f.b)(f.a.NAVIGATION))},t.prototype.sameDeviceSign=function(){this.deeplinkService.sameDeviceDeeplink(this.preparedDataQR)},t.prototype.toggleDisplayRawData=function(){this.displayRawData=!this.displayRawData},t.\u0275fac=function(n){return new(n||t)(g.Jb(r.g),g.Jb(r.a),g.Jb(c.pb),g.Jb(i.l))},t.\u0275cmp=g.Db({type:t,selectors:[["page-transaction-qr"]],decls:25,vars:18,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],[1,"ion-padding","ion-margin-bottom"],[3,"innerHTML"],[1,"ion-justify-content-center","ion-padding-vertical"],["id","qr",3,"qrdata","size",4,"ngIf"],[4,"ngIf"],[3,"syncProtocolString",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["id","done","size","default","color","primary","shape","round",3,"click"],["id","qr",3,"qrdata","size"],[1,"ion-padding-bottom","ion-text-center"],["size","4",1,"content--align__center-center"],["size","4"],["class","ion-padding-horizontal",3,"transaction",4,"ngFor","ngForOf"],[1,"ion-padding-horizontal",3,"transaction"],[1,"rawdata--container"],[1,"ion-no-padding"],["lines","none",1,"ion-no-padding"],["slot","end",3,"checked","ionChange"],["class","ion-no-margin",4,"ngIf"],[1,"ion-no-margin"],[3,"syncProtocolString"]],template:function(t,n){1&t&&(g.Ob(0,"ion-header",0),g.Ob(1,"ion-grid",1),g.Ob(2,"ion-toolbar"),g.Ob(3,"ion-buttons",2),g.Kb(4,"ion-back-button",3),g.Nb(),g.Ob(5,"ion-title"),g.vc(6),g.Zb(7,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Ob(8,"ion-content",4),g.Ob(9,"ion-grid",1),g.Ob(10,"ion-row"),g.Kb(11,"h5",5),g.Zb(12,"translate"),g.Nb(),g.Ob(13,"ion-row",6),g.tc(14,h,1,2,"airgap-qr",7),g.Ob(15,"ion-text"),g.tc(16,y,3,3,"h1",8),g.Nb(),g.Nb(),g.tc(17,N,24,17,"ng-container",8),g.tc(18,v,2,1,"ng-container",8),g.tc(19,x,9,5,"ng-container",8),g.tc(20,T,1,1,"signed-transaction",9),g.Nb(),g.Ob(21,"ion-fab",10),g.Ob(22,"ion-button",11),g.Wb("click",function(){return n.done()}),g.vc(23),g.Zb(24,"translate"),g.Nb(),g.Nb(),g.Nb()),2&t&&(g.yb(6),g.xc(" ",g.bc(7,9,"transaction-qr.title",g.ic(16,D,n.wallet.protocol.symbol))," "),g.yb(5),g.ec("innerHTML",g.ac(12,12,"transaction-qr.text"),g.nc),g.yb(3),g.ec("ngIf",!n.qrDataTooBig),g.yb(2),g.ec("ngIf",n.qrDataTooBig),g.yb(1),g.ec("ngIf",n.airGapTxs&&n.airGapTxs.length>1),g.yb(1),g.ec("ngIf",n.airGapTxs),g.yb(1),g.ec("ngIf",n.interactionData),g.yb(1),g.ec("ngIf",!n.airGapTxs),g.yb(3),g.xc(" ",g.ac(24,14,"transaction-qr.done_label")," "))},directives:[c.v,c.u,c.hb,c.j,c.f,c.g,c.fb,c.q,c.R,o.n,c.db,c.r,c.i,i.y,c.p,o.m,i.n,c.A,c.E,c.gb,c.b,u.a],pipes:[b.c,o.b,i.f,i.m,o.h],encapsulation:2}),t}(),q=function(){function t(){}return t.\u0275mod=g.Hb({type:t}),t.\u0275inj=g.Gb({factory:function(n){return new(n||t)},imports:[[i.d,c.ib,o.c,e.e,e.k,b.b,s.a,l.a,r.j.forChild([{path:"",component:I}])]]}),t}()}}]);