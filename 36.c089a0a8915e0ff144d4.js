(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{Q4oi:function(t,o,e){"use strict";e.r(o),e.d(o,"SubAccountImportPageModule",function(){return v});var n=e("ofXK"),i=e("3Pt+"),r=e("tyNb"),c=e("TEn/"),a=e("sYmb"),u=e("j1ZV"),b=e("mrSG"),s=e("138U"),l=e("RKiA"),p=e("lJxs"),d=e("1y+R"),m=e("QMTT"),f=e("57MG"),g=e("hPkG"),_=e("fXoL"),P=e("F07p"),h=e("1Mpf");function SubAccountImportPage_ion_grid_9_ion_list_3_Template(t,o){if(1&t){var e=_.Pb();_.Ob(0,"ion-list",11),_.Ob(1,"portfolio-item",12),_.Wb("click",function SubAccountImportPage_ion_grid_9_ion_list_3_Template_portfolio_item_click_1_listener(){_.mc(e);var t=o.$implicit;return _.Yb(2).importWallet(t)}),_.Nb(),_.Nb()}if(2&t){var n=o.$implicit;_.yb(1),_.ec("wallet",n)}}var _c0=function(t){return{tokenName:t}};function SubAccountImportPage_ion_grid_9_empty_state_4_Template(t,o){if(1&t&&(_.Kb(0,"empty-state",13),_.Zb(1,"translate")),2&t){var e=_.Yb(2);_.ec("text",_.bc(1,2,"sub-account-import.empty_text",_.ic(5,_c0,e.subProtocol.name)))("imageName","no-imports.svg")}}var _c1=function(t){return{subProtocolName:t}},_c2=function(t){return{typeLabel:t}};function SubAccountImportPage_ion_grid_9_Template(t,o){if(1&t){var e=_.Pb();_.Ob(0,"ion-grid",1),_.Kb(1,"p",5),_.Zb(2,"translate"),_.tc(3,SubAccountImportPage_ion_grid_9_ion_list_3_Template,2,1,"ion-list",6),_.tc(4,SubAccountImportPage_ion_grid_9_empty_state_4_Template,2,7,"empty-state",7),_.Ob(5,"ion-fab",8),_.Ob(6,"ion-button",9),_.Wb("click",function SubAccountImportPage_ion_grid_9_Template_ion_button_click_6_listener(){return _.mc(e),_.Yb().importWallets()}),_.Kb(7,"ion-icon",10),_.vc(8),_.Zb(9,"translate"),_.Zb(10,"translate"),_.Nb(),_.Nb(),_.Nb()}if(2&t){var n=_.Yb();_.yb(1),_.ec("innerHTML",_.bc(2,5,"sub-account-import.text",_.ic(13,_c1,n.subProtocol.name)),_.nc),_.yb(2),_.ec("ngForOf",n.subWallets),_.yb(1),_.ec("ngIf",0===n.subWallets.length),_.yb(2),_.ec("disabled",0===n.subWallets.length),_.yb(2),_.xc(" ",_.bc(9,8,"sub-account-import.import-all_label",_.ic(15,_c2,_.ac(10,11,n.typeLabel)))," ")}}var I=function(){function SubAccountImportPage(t,o,e,n,i,r){var c,a=this;this.router=t,this.route=o,this.accountProvider=e,this.priceService=n,this.protocolService=i,this.typeLabel="",this.subWallets=[],void 0!==(c=r.getData(d.b.PROTOCOL))?(this.subProtocolIdentifier=c.subProtocolIdentifier,this.networkIdentifier=c.networkIdentifier,this.protocolService.getProtocol(this.subProtocolIdentifier,this.networkIdentifier).then(function(t){a.subProtocol=t})):(this.subProtocolIdentifier=this.route.snapshot.params.protocolID,this.networkIdentifier=this.route.snapshot.params.networkID,this.protocolService.getProtocol(this.subProtocolIdentifier,this.networkIdentifier).then(function(t){a.subProtocol=t})),this.accountProvider.wallets.pipe(Object(p.a)(function(t){return t.filter(function(t){return t.protocol.identifier===Object(s.H)(a.subProtocolIdentifier)&&t.protocol.options.network.type===l.NetworkType.MAINNET})})).subscribe(function(t){var o=t.map(function(t){return Object(b.b)(a,void 0,void 0,function(){var o,e;return Object(b.e)(this,function(n){switch(n.label){case 0:return this.accountProvider.walletByPublicKeyAndProtocolAndAddressIndex(t.publicKey,this.subProtocolIdentifier)?[3,2]:[4,this.protocolService.getProtocol(this.subProtocolIdentifier)];case 1:return o=n.sent(),(e=new l.AirGapMarketWallet(o,t.publicKey,t.isExtendedPublicKey,t.derivationPath,this.priceService)).addresses=t.addresses,this.subWallets.push(e),[2,e.synchronize()];case 2:return[2]}})})});Promise.all(o).then(function(){return a.accountProvider.triggerWalletChanged()}).catch(Object(g.b)(g.a.COINLIB))})}return SubAccountImportPage.prototype.importWallets=function(){var t=this;this.subWallets.forEach(function(o){t.accountProvider.addWallet(o).catch(Object(g.b)(g.a.WALLET_PROVIDER))}),this.popToRoot()},SubAccountImportPage.prototype.importWallet=function(t){this.accountProvider.addWallet(t).catch(Object(g.b)(g.a.WALLET_PROVIDER)),this.popToRoot()},SubAccountImportPage.prototype.popToRoot=function(){this.router.navigateByUrl("/tabs/portfolio").catch(Object(g.b)(g.a.NAVIGATION))},SubAccountImportPage.\u0275fac=function SubAccountImportPage_Factory(t){return new(t||SubAccountImportPage)(_.Jb(r.g),_.Jb(r.a),_.Jb(f.a),_.Jb(m.a),_.Jb(s.x),_.Jb(d.a))},SubAccountImportPage.\u0275cmp=_.Db({type:SubAccountImportPage,selectors:[["page-sub-account-import"]],decls:10,vars:4,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],["fixed","true","class","ion-no-padding",4,"ngIf"],[1,"ion-padding-horizontal",3,"innerHTML"],["lines","none","class","ion-margin-top",4,"ngFor","ngForOf"],[3,"text","imageName",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["shape","round","color","secondary",3,"disabled","click"],["slot","start","name","add"],["lines","none",1,"ion-margin-top"],["tappable","",3,"wallet","click"],[3,"text","imageName"]],template:function SubAccountImportPage_Template(t,o){1&t&&(_.Ob(0,"ion-header",0),_.Ob(1,"ion-grid",1),_.Ob(2,"ion-toolbar"),_.Ob(3,"ion-buttons",2),_.Kb(4,"ion-back-button",3),_.Nb(),_.Ob(5,"ion-title"),_.vc(6),_.Zb(7,"translate"),_.Nb(),_.Nb(),_.Nb(),_.Nb(),_.Ob(8,"ion-content"),_.tc(9,SubAccountImportPage_ion_grid_9_Template,11,17,"ion-grid",4),_.Nb()),2&t&&(_.yb(6),_.wc(_.ac(7,2,"sub-account-import.title")),_.yb(3),_.ec("ngIf",o.subProtocol))},directives:[c.v,c.u,c.hb,c.j,c.f,c.g,c.fb,c.q,n.n,n.m,c.r,c.i,c.w,c.F,P.a,h.a],pipes:[a.c],encapsulation:2}),SubAccountImportPage}(),v=function(){function SubAccountImportPageModule(){}return SubAccountImportPageModule.\u0275mod=_.Hb({type:SubAccountImportPageModule}),SubAccountImportPageModule.\u0275inj=_.Gb({factory:function SubAccountImportPageModule_Factory(t){return new(t||SubAccountImportPageModule)},imports:[[c.ib,n.c,i.e,u.a,a.b,r.j.forChild([{path:"",component:I}])]]}),SubAccountImportPageModule}()}}]);