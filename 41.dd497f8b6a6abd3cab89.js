(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{Ldsa:function(t,n,a){"use strict";a.r(n),a.d(n,"TransactionQrPageModule",function(){return I});var i=a("138U"),o=a("ofXK"),r=a("3Pt+"),e=a("tyNb"),c=a("TEn/"),b=a("sYmb"),s=a("j1ZV"),l=a("iTUp"),p=a("kB5k"),g=a.n(p),d=a("hPkG"),u=a("fXoL"),f=a("l5qu");function h(t,n){if(1&t&&u.Mb(0,"airgap-qr",12),2&t){var a=u.ac();u.gc("qrdata",a.preparedDataQR)("size",320)}}function w(t,n){1&t&&(u.Qb(0,"h1"),u.wc(1),u.bc(2,"translate"),u.Pb()),2&t&&(u.Ab(1),u.yc(" ",u.cc(2,1,"transaction-qr.qr-data-too-big_warning")," "))}var Q=function(t){return{protocol:t}};function P(t,n){if(1&t&&(u.Ob(0),u.Qb(1,"ion-row",13),u.Qb(2,"ion-col",14),u.Qb(3,"h5"),u.wc(4),u.bc(5,"async"),u.bc(6,"amountConverter"),u.Pb(),u.Pb(),u.Qb(7,"ion-col",14),u.Qb(8,"h5"),u.wc(9),u.Pb(),u.Pb(),u.Qb(10,"ion-col",14),u.Qb(11,"h5"),u.wc(12),u.bc(13,"async"),u.bc(14,"feeConverter"),u.Pb(),u.Pb(),u.Qb(15,"ion-col",15),u.Qb(16,"small"),u.wc(17,"Amount"),u.Pb(),u.Pb(),u.Qb(18,"ion-col",15),u.Qb(19,"small"),u.wc(20,"Operations"),u.Pb(),u.Pb(),u.Qb(21,"ion-col",15),u.Qb(22,"small"),u.wc(23,"Fee"),u.Pb(),u.Pb(),u.Pb(),u.Nb()),2&t){var a=u.ac();u.Ab(4),u.yc(" ",u.cc(5,3,u.dc(6,5,a.aggregatedInfo.totalAmount.toFixed(),u.kc(13,Q,a.airGapTxs[0].protocolIdentifier)))," "),u.Ab(5),u.xc(a.aggregatedInfo.numberOfTxs),u.Ab(3),u.yc(" ",u.cc(13,8,u.dc(14,10,a.aggregatedInfo.totalFees.toFixed(),u.kc(15,Q,a.airGapTxs[0].protocolIdentifier)))," ")}}function m(t,n){1&t&&u.Mb(0,"airgap-from-to",17),2&t&&u.gc("transaction",n.$implicit)}function y(t,n){if(1&t&&(u.Ob(0),u.uc(1,m,1,1,"airgap-from-to",16),u.Nb()),2&t){var a=u.ac();u.Ab(1),u.gc("ngForOf",a.airGapTxs)}}function x(t,n){if(1&t&&(u.Qb(0,"pre",23),u.wc(1),u.bc(2,"json"),u.Pb()),2&t){var a=u.ac(2);u.Ab(1),u.xc(u.cc(2,1,a.interactionData))}}function T(t,n){if(1&t){var a=u.Rb();u.Ob(0),u.Qb(1,"ion-row",18),u.Qb(2,"ion-col",19),u.Qb(3,"ion-item",20),u.Qb(4,"ion-label"),u.wc(5),u.bc(6,"translate"),u.Pb(),u.Qb(7,"ion-toggle",21),u.Yb("ionChange",function(){return u.oc(a),u.ac().toggleDisplayRawData()}),u.Pb(),u.Pb(),u.uc(8,x,3,3,"pre",22),u.Pb(),u.Pb(),u.Nb()}if(2&t){var i=u.ac();u.Ab(5),u.xc(u.cc(6,3,"transaction-qr.details")),u.Ab(2),u.gc("checked",i.displayRawData),u.Ab(1),u.gc("ngIf",i.displayRawData)}}function D(t,n){if(1&t&&u.Mb(0,"signed-transaction",24),2&t){var a=u.ac();u.gc("syncProtocolString",a.preparedDataQR)}}var v=function(t){return{title:t}},A=function(){function t(t,n,a,i){var o=this;if(this.router=t,this.route=n,this.platform=a,this.deeplinkService=i,this.preparedDataQR="",this.wallet=null,this.airGapTxs=null,this.isBrowser=!1,this.qrDataTooBig=!1,this.displayRawData=!1,this.route.snapshot.data.special){var r=this.route.snapshot.data.special;this.wallet=r.wallet,this.airGapTxs=r.airGapTxs,this.interactionData=r.interactionData,this.preparedDataQR=r.data,this.qrDataTooBig=this.preparedDataQR.length>2800,this.airGapTxs&&this.airGapTxs.length>1&&this.airGapTxs.every(function(t){return t.protocolIdentifier===o.airGapTxs[0].protocolIdentifier})&&(this.aggregatedInfo={numberOfTxs:this.airGapTxs.length,totalAmount:this.airGapTxs.map(function(t){return new g.a(t.amount)}).filter(function(t){return!t.isNaN()}).reduce(function(t,n){return t.plus(n)},new g.a(0)),totalFees:this.airGapTxs.reduce(function(t,n){return t.plus(n.fee)},new g.a(0))})}this.isBrowser=!this.platform.is("hybrid")}return t.prototype.done=function(){this.router.navigateByUrl("/tabs/portfolio").catch(Object(d.b)(d.a.NAVIGATION))},t.prototype.sameDeviceSign=function(){this.deeplinkService.sameDeviceDeeplink(this.preparedDataQR)},t.prototype.toggleDisplayRawData=function(){this.displayRawData=!this.displayRawData},t.\u0275fac=function(n){return new(n||t)(u.Lb(e.g),u.Lb(e.a),u.Lb(c.pb),u.Lb(i.m))},t.\u0275cmp=u.Fb({type:t,selectors:[["page-transaction-qr"]],decls:25,vars:18,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],[1,"ion-padding","ion-margin-bottom"],[3,"innerHTML"],[1,"ion-justify-content-center","ion-padding-vertical"],["id","qr",3,"qrdata","size",4,"ngIf"],[4,"ngIf"],[3,"syncProtocolString",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["id","done","size","default","color","primary","shape","round",3,"click"],["id","qr",3,"qrdata","size"],[1,"ion-padding-bottom","ion-text-center"],["size","4",1,"content--align__center-center"],["size","4"],["class","ion-padding-horizontal",3,"transaction",4,"ngFor","ngForOf"],[1,"ion-padding-horizontal",3,"transaction"],[1,"rawdata--container"],[1,"ion-no-padding"],["lines","none",1,"ion-no-padding"],["slot","end",3,"checked","ionChange"],["class","ion-no-margin",4,"ngIf"],[1,"ion-no-margin"],[3,"syncProtocolString"]],template:function(t,n){1&t&&(u.Qb(0,"ion-header",0),u.Qb(1,"ion-grid",1),u.Qb(2,"ion-toolbar"),u.Qb(3,"ion-buttons",2),u.Mb(4,"ion-back-button",3),u.Pb(),u.Qb(5,"ion-title"),u.wc(6),u.bc(7,"translate"),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(8,"ion-content",4),u.Qb(9,"ion-grid",1),u.Qb(10,"ion-row"),u.Mb(11,"h5",5),u.bc(12,"translate"),u.Pb(),u.Qb(13,"ion-row",6),u.uc(14,h,1,2,"airgap-qr",7),u.Qb(15,"ion-text"),u.uc(16,w,3,3,"h1",8),u.Pb(),u.Pb(),u.uc(17,P,24,17,"ng-container",8),u.uc(18,y,2,1,"ng-container",8),u.uc(19,T,9,5,"ng-container",8),u.uc(20,D,1,1,"signed-transaction",9),u.Pb(),u.Qb(21,"ion-fab",10),u.Qb(22,"ion-button",11),u.Yb("click",function(){return n.done()}),u.wc(23),u.bc(24,"translate"),u.Pb(),u.Pb(),u.Pb()),2&t&&(u.Ab(6),u.yc(" ",u.dc(7,9,"transaction-qr.title",u.kc(16,v,n.wallet.protocol.symbol))," "),u.Ab(5),u.gc("innerHTML",u.cc(12,12,"transaction-qr.text"),u.pc),u.Ab(3),u.gc("ngIf",!n.qrDataTooBig),u.Ab(2),u.gc("ngIf",n.qrDataTooBig),u.Ab(1),u.gc("ngIf",n.airGapTxs&&n.airGapTxs.length>1),u.Ab(1),u.gc("ngIf",n.airGapTxs),u.Ab(1),u.gc("ngIf",n.interactionData),u.Ab(1),u.gc("ngIf",!n.airGapTxs),u.Ab(3),u.yc(" ",u.cc(24,14,"transaction-qr.done_label")," "))},directives:[c.v,c.u,c.hb,c.j,c.f,c.g,c.fb,c.q,c.R,o.n,c.db,c.r,c.i,i.z,c.p,o.m,i.o,c.A,c.E,c.gb,c.b,f.a],pipes:[b.c,o.b,i.g,i.n,o.h],encapsulation:2}),t}(),I=function(){function t(){}return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(n){return new(n||t)},imports:[[i.e,c.ib,o.c,r.e,r.k,b.b,s.a,l.a,e.j.forChild([{path:"",component:A}])]]}),t}()}}]);