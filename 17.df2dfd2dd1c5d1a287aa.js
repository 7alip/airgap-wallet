(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{MsxR:function(t,i,e){"use strict";e.r(i),e.d(i,"AccountImportPageModule",function(){return m});var n=e("ofXK"),o=e("3Pt+"),r=e("tyNb"),a=e("TEn/"),s=e("sYmb"),c=e("j1ZV"),l=e("mrSG"),b=e("1y+R"),d=e("57MG"),u=e("hPkG"),h=e("fXoL"),p=e("F07p");function f(t,i){1&t&&(h.Ob(0,"ion-row"),h.Ob(1,"p"),h.vc(2),h.Zb(3,"translate"),h.Nb(),h.Nb()),2&t&&(h.yb(2),h.wc(h.ac(3,1,"account-import.text")))}function w(t,i){1&t&&(h.Ob(0,"ion-item",11),h.vc(1),h.Zb(2,"translate"),h.Nb()),2&t&&(h.yb(1),h.xc(" ",h.ac(2,1,"account-import.warning")," "))}function y(t,i){if(1&t){var e=h.Pb();h.Ob(0,"ion-button",12),h.Wb("click",function(){return h.mc(e),h.Yb().import()}),h.vc(1),h.Zb(2,"translate"),h.Nb()}2&t&&(h.yb(1),h.xc(" ",h.ac(2,1,"account-import.import_label")," "))}var g=function(){function t(t,i,e,n,o,r,a,s){if(this.platform=t,this.loadingCtrl=i,this.navController=e,this.route=n,this.router=o,this.wallets=r,this.dataService=a,this.ngZone=s,this.walletAlreadyExists=!1,!this.route.snapshot.data.special)throw this.router.navigateByUrl("/"),window.alert("The address you're trying to access is invalid."),new Error}return t.prototype.ionViewWillEnter=function(){return Object(l.b)(this,void 0,void 0,function(){var t,i=this;return Object(l.e)(this,function(e){switch(e.label){case 0:return this.route.snapshot.data.special&&this.dataService.getImportWallet().subscribe(function(t){i.wallet=t,i.ionViewDidEnter()}),[4,this.platform.ready()];case 1:return e.sent(),t=this,[4,this.loadingCtrl.create({message:"Syncing..."})];case 2:return t.loading=e.sent(),this.loading.present().catch(Object(u.b)(u.a.NAVIGATION)),this.walletAlreadyExists=!1,[2]}})})},t.prototype.ionViewDidEnter=function(){return Object(l.b)(this,void 0,void 0,function(){var t,i=this;return Object(l.e)(this,function(e){return this.wallets.walletExists(this.wallet)?(this.wallet=this.wallets.walletByPublicKeyAndProtocolAndAddressIndex(this.wallet.publicKey,this.wallet.protocol.identifier,this.wallet.addressIndex),this.walletAlreadyExists=!0,this.loading.dismiss().catch(Object(u.b)(u.a.NAVIGATION)),[2]):((t=new Worker("./assets/workers/airgap-coin-lib.js")).onmessage=function(t){i.wallet.addresses=t.data.addresses,i.wallet.synchronize().then(function(){i.ngZone.run(function(){i.wallets.triggerWalletChanged()})}).catch(Object(u.b)(u.a.WALLET_PROVIDER)),i.loading.dismiss().catch(Object(u.b)(u.a.NAVIGATION))},t.postMessage({protocolIdentifier:this.wallet.protocol.identifier,publicKey:this.wallet.publicKey,isExtendedPublicKey:this.wallet.isExtendedPublicKey,derivationPath:this.wallet.derivationPath}),[2])})})},t.prototype.dismiss=function(){return Object(l.b)(this,void 0,void 0,function(){return Object(l.e)(this,function(t){return this.navController.back(),[2]})})},t.prototype.import=function(){return Object(l.b)(this,void 0,void 0,function(){return Object(l.e)(this,function(t){switch(t.label){case 0:return[4,this.wallets.addWallet(this.wallet)];case 1:return t.sent(),[4,this.router.navigateByUrl("/tabs/portfolio",{skipLocationChange:!0})];case 2:return t.sent(),[2]}})})},t.\u0275fac=function(i){return new(i||t)(h.Jb(a.pb),h.Jb(a.kb),h.Jb(a.mb),h.Jb(r.a),h.Jb(r.g),h.Jb(d.a),h.Jb(b.a),h.Jb(h.A))},t.\u0275cmp=h.Db({type:t,selectors:[["page-account-import"]],decls:18,vars:10,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],[1,"ion-padding"],[4,"ngIf"],[3,"wallet"],["color","danger","class","ion-margin-top ion-text-wrap",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["id","dismiss","shape","round","color","secondary",3,"click"],["id","import","shape","round","color","primary",3,"click",4,"ngIf"],["color","danger",1,"ion-margin-top","ion-text-wrap"],["id","import","shape","round","color","primary",3,"click"]],template:function(t,i){1&t&&(h.Ob(0,"ion-header",0),h.Ob(1,"ion-grid",1),h.Ob(2,"ion-toolbar"),h.Ob(3,"ion-buttons",2),h.Kb(4,"ion-back-button",3),h.Nb(),h.Ob(5,"ion-title"),h.vc(6),h.Zb(7,"translate"),h.Nb(),h.Nb(),h.Nb(),h.Nb(),h.Ob(8,"ion-content",4),h.Ob(9,"ion-grid",1),h.tc(10,f,4,3,"ion-row",5),h.Kb(11,"portfolio-item",6),h.tc(12,w,3,3,"ion-item",7),h.Nb(),h.Ob(13,"ion-fab",8),h.Ob(14,"ion-button",9),h.Wb("click",function(){return i.dismiss()}),h.vc(15),h.Zb(16,"translate"),h.Nb(),h.tc(17,y,3,3,"ion-button",10),h.Nb(),h.Nb()),2&t&&(h.yb(6),h.wc(h.ac(7,6,"account-import.title")),h.yb(4),h.ec("ngIf",!i.walletAlreadyExists),h.yb(1),h.ec("wallet",i.wallet),h.yb(1),h.ec("ngIf",i.walletAlreadyExists),h.yb(3),h.xc(" ",h.ac(16,8,"account-import.cancel_label")," "),h.yb(2),h.ec("ngIf",!i.walletAlreadyExists))},directives:[a.v,a.u,a.hb,a.j,a.f,a.g,a.fb,a.q,n.n,p.a,a.r,a.i,a.R,a.A],pipes:[s.c],encapsulation:2}),t}(),m=function(){function t(){}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(i){return new(i||t)},imports:[[a.ib,n.c,o.e,c.a,s.b,r.j.forChild([{path:"",component:g}])]]}),t}()}}]);