(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"bh/N":function(t,i,e){"use strict";e.r(i),e.d(i,"InteractionSelectionPageModule",function(){return A});var n=e("ofXK"),o=e("3Pt+"),c=e("tyNb"),a=e("TEn/"),r=e("sYmb"),s=e("j1ZV"),b=e("mrSG"),l=e("z26V"),p=e("nxqh"),d=e("1y+R"),u=e("hPkG"),g=e("fXoL"),f=e("138U");function h(t,i){1&t&&(g.Qb(0,"ion-title"),g.wc(1),g.bc(2,"translate"),g.Pb()),2&t&&(g.Ab(1),g.yc(" ",g.cc(2,1,"interaction-selection.title")," "))}function v(t,i){1&t&&(g.Qb(0,"ion-title"),g.wc(1),g.bc(2,"translate"),g.Pb()),2&t&&(g.Ab(1),g.yc(" ",g.cc(2,1,"interaction-selection-desktop.title")," "))}function w(t,i){if(1&t){var e=g.Rb();g.Qb(0,"ion-content",6),g.Qb(1,"ion-grid",1),g.Mb(2,"h3",7),g.bc(3,"translate"),g.Qb(4,"ion-row",8),g.Qb(5,"ion-col",9),g.Qb(6,"ion-row",10),g.Mb(7,"img",11),g.Pb(),g.Qb(8,"ion-row"),g.Qb(9,"ion-col",12),g.Qb(10,"ion-button",13),g.Yb("click",function(){return g.oc(e),g.ac().sameDeviceSign()}),g.wc(11),g.bc(12,"translate"),g.Pb(),g.Qb(13,"p"),g.wc(14),g.bc(15,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Qb(16,"ion-row",14),g.Mb(17,"img",15),g.Pb(),g.Qb(18,"ion-row"),g.Qb(19,"ion-col",12),g.Qb(20,"ion-button",16),g.Yb("click",function(){return g.oc(e),g.ac().offlineDeviceSign()}),g.wc(21),g.bc(22,"translate"),g.Pb(),g.Qb(23,"p"),g.wc(24),g.bc(25,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb()}2&t&&(g.Ab(2),g.gc("innerHTML",g.cc(3,5,"interaction-selection.heading"),g.pc),g.Ab(9),g.yc(" ",g.cc(12,7,"interaction-selection.same-device_label")," "),g.Ab(3),g.xc(g.cc(15,9,"interaction-selection.same-device_info")),g.Ab(7),g.yc(" ",g.cc(22,11,"interaction-selection.offline-device_label")," "),g.Ab(3),g.xc(g.cc(25,13,"interaction-selection.offline-device_info")))}function P(t,i){1&t&&g.Mb(0,"img",15)}function Q(t,i){1&t&&g.Mb(0,"img",21)}function k(t,i){if(1&t){var e=g.Rb();g.Qb(0,"ion-content",6),g.Qb(1,"ion-grid",1),g.Mb(2,"h3",7),g.bc(3,"translate"),g.Qb(4,"ion-row",8),g.Qb(5,"ion-col",9),g.Qb(6,"ion-row",14),g.uc(7,P,1,0,"img",17),g.uc(8,Q,1,0,"img",18),g.Pb(),g.Qb(9,"ion-row"),g.Qb(10,"ion-col",12),g.Qb(11,"ion-button",16),g.Yb("click",function(){return g.oc(e),g.ac().offlineDeviceSign()}),g.wc(12),g.bc(13,"translate"),g.Pb(),g.Qb(14,"p"),g.wc(15),g.bc(16,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Qb(17,"ion-row",10),g.Mb(18,"img",19),g.Pb(),g.Qb(19,"ion-row"),g.Qb(20,"ion-col",12),g.Qb(21,"ion-button",20),g.Yb("click",function(){return g.oc(e),g.ac().ledgerSign()}),g.wc(22),g.bc(23,"translate"),g.Pb(),g.Qb(24,"p"),g.wc(25),g.bc(26,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb()}if(2&t){var n=g.ac();g.Ab(2),g.gc("innerHTML",g.cc(3,8,"interaction-selection-desktop.heading"),g.pc),g.Ab(5),g.gc("ngIf",!n.isDesktop),g.Ab(1),g.gc("ngIf",n.isDesktop),g.Ab(4),g.yc(" ",g.cc(13,10,"interaction-selection-desktop.vault_label")," "),g.Ab(3),g.xc(g.cc(16,12,"interaction-selection-desktop.vault_info")),g.Ab(6),g.gc("disabled",!n.isLedgerSupported),g.Ab(1),g.yc(" ",g.cc(23,14,"interaction-selection-desktop.ledger_label")," "),g.Ab(3),g.xc(g.cc(26,16,"interaction-selection-desktop.ledger_info"))}}var m=function(){function t(t,i,e,n,o,c,a){if(this.platform=t,this.router=i,this.route=e,this.deeplinkService=n,this.dataService=o,this.operations=c,this.ledgerService=a,this.isDesktop=!1,this.isLedgerSupported=!1,this.isDesktop=this.platform.is("desktop"),this.route.snapshot.data.special){var r=this.route.snapshot.data.special;this.wallet=r.wallet,this.airGapTxs=r.airGapTxs,this.interactionData=r.data,this.type=r.type,this.generatedId=r.generatedId,this.isLedgerSupported=this.isDesktop&&this.ledgerService.isProtocolSupported(this.wallet.protocol)}}return t.prototype.offlineDeviceSign=function(){return Object(b.b)(this,void 0,void 0,function(){var t;return Object(b.e)(this,function(i){switch(i.label){case 0:return[4,this.prepareQRData()];case 1:return t=i.sent(),this.dataService.setData(d.b.TRANSACTION,{wallet:this.wallet,airGapTxs:this.airGapTxs,data:t,interactionData:this.interactionData}),this.router.navigateByUrl("/transaction-qr/"+d.b.TRANSACTION).catch(function(t){return console.error(t)}),[2]}})})},t.prototype.sameDeviceSign=function(){return Object(b.b)(this,void 0,void 0,function(){var t,i=this;return Object(b.e)(this,function(e){switch(e.label){case 0:return[4,this.prepareQRData()];case 1:return t=e.sent(),this.deeplinkService.sameDeviceDeeplink(Array.isArray(t)?t.join(","):t).then(function(){i.router.navigateByUrl("/tabs/portfolio").catch(Object(u.b)(u.a.NAVIGATION))}).catch(Object(u.b)(u.a.DEEPLINK_PROVIDER)),[2]}})})},t.prototype.ledgerSign=function(){this.dataService.setData(d.b.TRANSACTION,{wallet:this.wallet,airGapTxs:this.airGapTxs,data:this.interactionData}),this.router.navigateByUrl("/ledger-sign/"+d.b.TRANSACTION).catch(Object(u.b)(u.a.NAVIGATION))},t.prototype.prepareQRData=function(){return Object(b.b)(this,void 0,void 0,function(){var t=this;return Object(b.e)(this,function(i){return"string"==typeof this.interactionData&&this.interactionData.includes("://")?[2,this.interactionData]:[2,this.operations.serializeSignRequest(this.wallet,this.interactionData,this.type,this.generatedId).catch(function(i){return console.warn("Could not serialize transaction: "+i),t.interactionData})]})})},t.\u0275fac=function(i){return new(i||t)(g.Lb(a.pb),g.Lb(c.g),g.Lb(c.a),g.Lb(f.m),g.Lb(d.a),g.Lb(p.a),g.Lb(l.a))},t.\u0275cmp=g.Fb({type:t,selectors:[["page-interaction-selection"]],decls:9,vars:4,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],[4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[1,"ion-padding-bottom","ion-no-margin",3,"innerHTML"],[1,"ion-no-padding"],["size","12","size-md","6"],[1,"ion-justify-content-center"],["src","./assets/img/sign-one-device.svg"],["size","12"],["id","online","expand","block","color","primary","shape","round",3,"click"],[1,"ion-justify-content-center","ion-padding-top"],["src","./assets/img/sign-two-device.svg"],["id","offline","expand","block","size","default","color","primary","shape","round",3,"click"],["src","./assets/img/sign-two-device.svg",4,"ngIf"],["src","./assets/img/signer-vault-desktop.svg",4,"ngIf"],["src","./assets/img/signer-ledger.svg"],["id","online","expand","block","color","primary","shape","round",3,"disabled","click"],["src","./assets/img/signer-vault-desktop.svg"]],template:function(t,i){1&t&&(g.Qb(0,"ion-header",0),g.Qb(1,"ion-grid",1),g.Qb(2,"ion-toolbar"),g.Qb(3,"ion-buttons",2),g.Mb(4,"ion-back-button",3),g.Pb(),g.uc(5,h,3,3,"ion-title",4),g.uc(6,v,3,3,"ion-title",4),g.Pb(),g.Pb(),g.Pb(),g.uc(7,w,26,15,"ion-content",5),g.uc(8,k,27,18,"ion-content",5)),2&t&&(g.Ab(5),g.gc("ngIf",!i.isDesktop),g.Ab(1),g.gc("ngIf",i.isDesktop),g.Ab(1),g.gc("ngIf",!i.isDesktop),g.Ab(1),g.gc("ngIf",i.isDesktop))},directives:[a.v,a.u,a.hb,a.j,a.f,a.g,n.n,a.fb,a.q,a.R,a.p,a.i],pipes:[r.c],styles:["ion-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20vh}"]}),t}(),A=function(){function t(){}return t.\u0275mod=g.Jb({type:t}),t.\u0275inj=g.Ib({factory:function(i){return new(i||t)},imports:[[a.ib,n.c,o.e,s.a,r.b,c.j.forChild([{path:"",component:m}])]]}),t}()}}]);