(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{RpAR:function(e,t,n){"use strict";n.r(t),n.d(t,"TransactionPreparePageModule",function(){return z});var i=n("138U"),a=n("ofXK"),o=n("3Pt+"),r=n("tyNb"),s=n("TEn/"),c=n("sYmb"),l=n("j1ZV"),d=n("iTUp"),u=n("mrSG"),b=n("RKiA"),p=n("14cC"),m=n("kB5k"),v=n("2Vo4"),h=n("Kj3r"),f=n("57MG"),g=n("QMTT"),P=n("1y+R"),M=n("nxqh"),A=n("hPkG"),w=function(){function e(){}return e.validate=function(e,t){var n=this;return function(i){return Object(u.b)(n,void 0,void 0,function(){return Object(u.e)(this,function(n){switch(n.label){case 0:return[4,t.validate(String(i.value),e)];case 1:return n.sent()?[2,null]:[2,{addressFormat:"Address format is unknown."}]}})})}},e}(),_=n("fUHw"),y=n("fXoL"),x=n("pNtj"),O=n("iLEx");function S(e,t){if(1&e&&(y.Qb(0,"ion-badge"),y.wc(1),y.Pb()),2&e){var n=y.ac(2);y.Ab(1),y.yc(" ",n.wallet.protocol.options.network.rpcUrl," ")}}function F(e,t){if(1&e&&(y.Ob(0,46),y.Qb(1,"ion-badge",47),y.wc(2),y.Pb(),y.uc(3,S,2,1,"ion-badge",13),y.Nb()),2&e){var n=y.ac();y.Ab(2),y.xc(n.wallet.protocol.options.network.name),y.Ab(1),y.gc("ngIf",n.wallet.protocol.options.network.type===n.networkType.CUSTOM)}}var C=function(e,t){return{protocol:e,maxDigits:t}};function B(e,t){if(1&e&&(y.Ob(0),y.wc(1),y.bc(2,"async"),y.bc(3,"amountConverter"),y.Nb()),2&e){var n=y.ac();y.Ab(1),y.yc(" ",y.cc(2,1,y.dc(3,3,n.state.availableBalance,y.lc(6,C,n.wallet.protocol.identifier,n.wallet.protocol.decimals+1)))," ")}}function Q(e,t){1&e&&y.Mb(0,"ion-spinner",48)}function k(e,t){1&e&&(y.Qb(0,"span"),y.wc(1),y.bc(2,"translate"),y.Pb()),2&e&&(y.Ab(1),y.xc(y.cc(2,1,"transaction-prepare.fee.max_label")))}function N(e,t){1&e&&(y.Qb(0,"ion-col",49),y.Qb(1,"ion-text",50),y.Qb(2,"p",27),y.wc(3),y.bc(4,"translate"),y.Pb(),y.Pb(),y.Pb()),2&e&&(y.Ab(3),y.yc(" ",y.cc(4,1,"transaction-prepare.error.amount_label")," "))}function j(e,t){if(1&e&&(y.Qb(0,"ion-label",11),y.wc(1),y.bc(2,"shortenString"),y.Pb()),2&e){var n=y.ac();y.Ab(1),y.yc(" ",y.cc(2,1,n.state.receiverAddress)," ")}}var L=function(e){return{addressPlaceholder:e}};function T(e,t){if(1&e&&(y.Qb(0,"ion-col",51),y.Qb(1,"ion-text",50),y.Mb(2,"p",52),y.bc(3,"translate"),y.Pb(),y.Pb()),2&e){var n=y.ac();y.Ab(2),y.gc("innerHTML",y.dc(3,1,"transaction-prepare.error.address_label",y.kc(4,L,n.wallet.protocol.addressPlaceholder)),y.pc)}}var I=function(e){return{title:e}},D=function(){function e(e,t,n,i,a,r,s,c,l,d,m,h){var f=this;this.loadingCtrl=e,this.formBuilder=t,this.router=n,this.route=i,this._ngZone=a,this.clipboardProvider=r,this.operationsProvider=s,this.dataService=c,this.amountConverterPipe=l,this.priceService=d,this.addressService=m,this.accountProvider=h,this.networkType=p.NetworkType,this.publicKey=this.route.snapshot.params.publicKey,this.protocolID=this.route.snapshot.params.protocolID;var g=this.route.snapshot.params.addressIndex;this.addressIndex="undefined"===g?void 0:Number(g),this.state$=new v.a(this._state);var P="false"===this.route.snapshot.params.address?"":this.route.snapshot.params.address||"",M=Number(this.route.snapshot.params.amount)||0,y=this.accountProvider.walletByPublicKeyAndProtocolAndAddressIndex(this.publicKey,this.protocolID,this.addressIndex),x="forced"===this.route.snapshot.params.forceMigration||!1;this.transactionForm=this.formBuilder.group({receiver:[P,o.m.required,w.validate(y.protocol,this.addressService)],amount:[M,o.m.compose([o.m.required,_.a.validate(y.protocol.decimals)])],feeLevel:[0,[o.m.required]],fee:[0,o.m.compose([o.m.required,_.a.validate(y.protocol.feeDecimals)])],memo:[void 0],isAdvancedMode:[!1,[]]}),this.wallet=y,this.isSubstrate=y.protocol.identifier===b.MainProtocolSymbols.KUSAMA||y.protocol.identifier===b.MainProtocolSymbols.POLKADOT,this.isSapling=y.protocol.identifier===b.MainProtocolSymbols.XTZ_SHIELDED,this.initState().then(function(){return Object(u.b)(f,void 0,void 0,function(){return Object(u.e)(this,function(e){switch(e.label){case 0:return x?[4,this.forceMigration()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.onChanges(),this.updateFeeEstimate(),[2]}})})}).catch(Object(A.b)(A.a.OTHER))}return e.prototype.onChanges=function(){var e=this;this.state$.pipe(Object(h.a)(200)).subscribe(function(t){e.onStateUpdated(t)}),this.transactionForm.get("receiver").valueChanges.pipe(Object(h.a)(500)).subscribe(function(t){return Object(u.b)(e,void 0,void 0,function(){var e;return Object(u.e)(this,function(n){switch(n.label){case 0:return[4,this.addressService.getAddress(t,this.wallet.protocol)];case 1:return e=n.sent(),this.updateState({receiver:{value:t,dirty:!0},receiverAddress:void 0!==e?e:"",disableSendMaxAmount:!1,disablePrepareButton:this.transactionForm.invalid||void 0===e||new m.BigNumber(this._state.amount.value).lte(0)}),this.updateFeeEstimate(),[2]}})})}),this.transactionForm.get("amount").valueChanges.pipe(Object(h.a)(500)).subscribe(function(t){var n=new m.BigNumber(t);e.updateState({sendMaxAmount:!1,amount:{value:n.isNaN()?"":n.toFixed(),dirty:!0},disablePrepareButton:e.transactionForm.invalid||n.isNaN()||n.lte(0)}),e.updateFeeEstimate()}),this.transactionForm.get("fee").valueChanges.pipe(Object(h.a)(500)).subscribe(function(t){var n=new m.BigNumber(t);e.updateState({fee:{value:n.isNaN()?"":n.toFixed(),dirty:!0},disablePrepareButton:e.transactionForm.invalid||new m.BigNumber(e._state.amount.value).lte(0)}),e._state.sendMaxAmount&&e.updateWithMaxAmount(n.toString(10))}),this.transactionForm.get("feeLevel").valueChanges.subscribe(function(t){var n=new m.BigNumber(e.getFeeFromLevel(t));e.updateState({fee:{value:n.toFixed(),dirty:!1},feeLevel:{value:t,dirty:!0},disablePrepareButton:e.transactionForm.invalid||new m.BigNumber(e._state.amount.value).lte(0)},!1),e._state.sendMaxAmount&&e.updateWithMaxAmount(n.toString(10))}),this.transactionForm.get("isAdvancedMode").valueChanges.subscribe(function(t){e.updateState({isAdvancedMode:{value:t,dirty:!0},disablePrepareButton:e.transactionForm.invalid||new m.BigNumber(e._state.amount.value).lte(0)},!1)}),this.transactionForm.get("memo").valueChanges.subscribe(function(t){e.updateState({memo:{value:t,dirty:!0},disablePrepareButton:e.transactionForm.invalid||new m.BigNumber(e._state.amount.value).lte(0)},!1)})},e.prototype.initState=function(){return Object(u.b)(this,void 0,void 0,function(){var e;return Object(u.e)(this,function(t){switch(t.label){case 0:return this._state={availableBalance:null,forceMigration:!1,feeDefaults:this.wallet.protocol.feeDefaults,feeCurrentMarketPrice:null,sendMaxAmount:!1,disableSendMaxAmount:!0,disableAdvancedMode:this.isSubstrate||this.isSapling,disableFeeSlider:!0,disablePrepareButton:!0,estimatingMaxAmount:!1,estimatingFeeDefaults:!1,receiver:{value:this.transactionForm.controls.receiver.value,dirty:!1},receiverAddress:this.transactionForm.controls.receiver.value,amount:{value:this.transactionForm.controls.amount.value,dirty:!1},feeLevel:{value:this.transactionForm.controls.feeLevel.value,dirty:!1},fee:{value:this.transactionForm.controls.fee.value,dirty:!1},isAdvancedMode:{value:this.transactionForm.controls.isAdvancedMode.value,dirty:!1},memo:{value:this.transactionForm.controls.memo.value,dirty:!1}},this.state=this._state,[4,Promise.all([this.calculateFeeCurrentMarketPrice(this.wallet),this.getAvailableBalance(this.wallet)])];case 1:return e=u.i.apply(void 0,[t.sent(),2]),this.updateState({availableBalance:e[1],feeCurrentMarketPrice:e[0]}),[2]}})})},e.prototype.updateState=function(e,t){void 0===t&&(t=!0),this._state=this.reduceState(this._state,e),t?this.state$.next(this._state):this.onStateUpdated(this._state)},e.prototype.reduceState=function(e,t){return{availableBalance:void 0!==t.availableBalance?t.availableBalance:e.availableBalance,forceMigration:void 0!==t.forceMigration?t.forceMigration:e.forceMigration,feeDefaults:t.feeDefaults||e.feeDefaults,feeCurrentMarketPrice:void 0!==t.feeCurrentMarketPrice?t.feeCurrentMarketPrice:e.feeCurrentMarketPrice,sendMaxAmount:void 0!==t.sendMaxAmount?t.sendMaxAmount:e.sendMaxAmount,disableSendMaxAmount:void 0!==t.disableSendMaxAmount?t.disableSendMaxAmount:e.disableSendMaxAmount,disableAdvancedMode:this.isSubstrate||(void 0!==t.disableAdvancedMode?t.disableAdvancedMode:e.disableAdvancedMode),disableFeeSlider:this.isSubstrate||(void 0!==t.disableFeeSlider?t.disableFeeSlider:e.disableFeeSlider),disablePrepareButton:void 0!==t.disablePrepareButton?t.disablePrepareButton:e.disablePrepareButton,estimatingMaxAmount:void 0!==t.estimatingMaxAmount?t.estimatingMaxAmount:e.estimatingMaxAmount,estimatingFeeDefaults:void 0!==t.estimatingFeeDefaults?t.estimatingFeeDefaults:e.estimatingFeeDefaults,receiver:t.receiver||e.receiver,receiverAddress:void 0!==t.receiverAddress?t.receiverAddress:e.receiverAddress,amount:t.amount||e.amount,feeLevel:t.feeLevel||e.feeLevel,fee:t.fee||e.fee,isAdvancedMode:t.isAdvancedMode||e.isAdvancedMode,memo:t.memo||e.memo}},e.prototype.onStateUpdated=function(e){this.state=e,this.updateTransactionForm({receiver:this.state.receiver,amount:this.state.amount,fee:this.state.fee,feeLevel:this.state.feeLevel,isAdvancedMode:this.state.isAdvancedMode})},e.prototype.updateTransactionForm=function(e){var t=this,n=this.transactionForm.value,i={};Object.keys(n).forEach(function(t){t in e&&!e[t].dirty&&e[t].value!==n[t]&&(i[t]=e[t].value)}),this._ngZone.run(function(){t.transactionForm.patchValue(i,{emitEvent:!1}),Object.keys(i).forEach(function(e){t.transactionForm.controls[e].markAsDirty()})})},e.prototype.calculateFeeCurrentMarketPrice=function(e){return Object(u.b)(this,void 0,void 0,function(){return Object(u.e)(this,function(t){return e.protocol.identifier===b.SubProtocolSymbols.XTZ_BTC?[2,this.priceService.getCurrentMarketPrice(new b.TezosProtocol,"USD").then(function(e){return e.toNumber()})]:e.protocol.identifier.startsWith(b.SubProtocolSymbols.ETH_ERC20)?[2,this.priceService.getCurrentMarketPrice(new b.EthereumProtocol,"USD").then(function(e){return e.toNumber()})]:[2,e.currentMarketPrice.toNumber()]})})},e.prototype.getAvailableBalance=function(e){return Object(u.b)(this,void 0,void 0,function(){var t;return Object(u.e)(this,function(n){switch(n.label){case 0:return e.protocol.identifier!==b.MainProtocolSymbols.COSMOS&&e.protocol.identifier!==b.MainProtocolSymbols.KUSAMA&&e.protocol.identifier!==b.MainProtocolSymbols.POLKADOT?[3,2]:(t=m.BigNumber.bind,[4,e.protocol.getAvailableBalanceOfAddresses([e.addresses[0]])]);case 1:return[2,new(t.apply(m.BigNumber,[void 0,n.sent()]))];case 2:return[2,e.currentBalance]}})})},e.prototype.updateFeeEstimate=function(){return Object(u.b)(this,void 0,void 0,function(){var e,t;return Object(u.e)(this,function(n){switch(n.label){case 0:return this._state.isAdvancedMode.value?[3,2]:(this.updateState({estimatingFeeDefaults:!0,disableFeeSlider:!0,disablePrepareButton:!0}),[4,this.estimateFees().catch(function(){})]);case 1:e=n.sent(),this.updateState({estimatingFeeDefaults:!1,feeDefaults:e,fee:{value:new m.BigNumber(this.getFeeFromLevel(t=e&&!this.isSubstrate?1:this._state.feeLevel.value,e)).toFixed(),dirty:!1},feeLevel:{value:t,dirty:!1},disableFeeSlider:!e,disablePrepareButton:!e||this.transactionForm.invalid||new m.BigNumber(this._state.amount.value).lte(0)}),n.label=2;case 2:return[2]}})})},e.prototype.estimateFees=function(){return Object(u.b)(this,void 0,void 0,function(){var e,t,n;return Object(u.e)(this,function(i){return e=new m.BigNumber(this._state.amount.value).shiftedBy(this.wallet.protocol.decimals),t=this.transactionForm.controls.receiver.valid,n=this.transactionForm.controls.amount.valid&&!e.isNaN()&&e.gt(0),[2,t&&n&&this._state.receiverAddress?this.operationsProvider.estimateFees(this.wallet,this._state.receiverAddress,e):void 0]})})},e.prototype.getFeeFromLevel=function(e,t){var n=t||this._state.feeDefaults;switch(e){case 0:return n.low;case 1:return n.medium;case 2:return n.high;default:return n.medium}},e.prototype.prepareTransaction=function(){return Object(u.b)(this,void 0,void 0,function(){var e,t,n,i;return Object(u.e)(this,function(a){switch(a.label){case 0:e=new m.BigNumber(this._state.amount.value).shiftedBy(this.wallet.protocol.decimals),t=new m.BigNumber(this._state.fee.value).shiftedBy(this.wallet.protocol.feeDecimals),n=this._state.memo.value,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.operationsProvider.prepareTransaction(this.wallet,this._state.receiverAddress,e,t,this.accountProvider.getWalletList(),n)];case 2:return i=a.sent(),this.dataService.setData(P.b.INTERACTION,{wallet:this.wallet,airGapTxs:i.airGapTxs,data:i.unsignedTx,type:b.IACMessageType.TransactionSignRequest}),this.router.navigateByUrl("/interaction-selection/"+P.b.INTERACTION).catch(Object(A.b)(A.a.NAVIGATION)),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}})})},e.prototype.openScanner=function(){var e=this;this.dataService.setData(P.b.SCAN,{callback:function(t){return Object(u.b)(e,void 0,void 0,function(){var e;return Object(u.e)(this,function(n){switch(n.label){case 0:return[4,this.addressService.getAddress(t,this.wallet.protocol)];case 1:return e=n.sent(),this.updateState({receiver:{value:t,dirty:!1},receiverAddress:void 0!==e?e:""}),[2]}})})}}),this.router.navigateByUrl("/scan-address/"+P.b.SCAN).catch(Object(A.b)(A.a.NAVIGATION))},e.prototype.toggleMaxAmount=function(){return Object(u.b)(this,void 0,void 0,function(){return Object(u.e)(this,function(e){switch(e.label){case 0:return this.updateState({sendMaxAmount:!this._state.sendMaxAmount},!1),this._state.sendMaxAmount?[4,this.updateWithMaxAmount()]:[3,2];case 1:e.sent(),this.updateFeeEstimate(),e.label=2;case 2:return[2]}})})},e.prototype.forceMigration=function(){return Object(u.b)(this,void 0,void 0,function(){return Object(u.e)(this,function(e){switch(e.label){case 0:return this.updateState({forceMigration:!0,sendMaxAmount:!0,disablePrepareButton:!1},!1),[4,this.updateWithMaxAmount()];case 1:return e.sent(),[2]}})})},e.prototype.updateWithMaxAmount=function(e){return Object(u.b)(this,void 0,void 0,function(){var t,n,i;return Object(u.e)(this,function(a){switch(a.label){case 0:return this.updateState({estimatingMaxAmount:!0}),t=e?new m.BigNumber(e).shiftedBy(this.wallet.protocol.feeDecimals):void 0,[4,this.operationsProvider.estimateMaxTransferAmount(this.wallet,this._state.receiver.value,t)];case 1:return n=a.sent(),i=this.amountConverterPipe.transformValueOnly(n,this.wallet.protocol,this.wallet.protocol.decimals+1),n.isNaN()||this.updateState({estimatingMaxAmount:!1,amount:{value:i,dirty:!1},disablePrepareButton:this.transactionForm.invalid||n.isNaN()||n.lte(0)}),[2]}})})},e.prototype.pasteClipboard=function(){var e=this;this.clipboardProvider.paste().then(function(t){return Object(u.b)(e,void 0,void 0,function(){var e;return Object(u.e)(this,function(n){switch(n.label){case 0:return[4,this.addressService.getAddress(t,this.wallet.protocol)];case 1:return e=n.sent(),this.updateState({receiver:{value:t,dirty:!1},receiverAddress:void 0!==e?e:"",disableSendMaxAmount:!1,disablePrepareButton:this.transactionForm.invalid||void 0===e||new m.BigNumber(this._state.amount.value).lte(0)}),this.updateFeeEstimate(),[2]}})})},function(e){console.error("Error: "+e)})},e.\u0275fac=function(t){return new(t||e)(y.Lb(s.kb),y.Lb(o.b),y.Lb(r.g),y.Lb(r.a),y.Lb(y.B),y.Lb(i.k),y.Lb(M.a),y.Lb(P.a),y.Lb(i.g),y.Lb(g.a),y.Lb(i.d),y.Lb(f.a))},e.\u0275cmp=y.Fb({type:e,selectors:[["page-transaction-prepare"]],decls:80,vars:49,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/tabs/portfolio"],[1,"ion-no-padding"],["fixed","true"],[1,"ion-padding-horizontal"],["class","ion-no-padding","lines","none","slot","start",4,"ngIf"],[1,"ion-padding-bottom",3,"formGroup"],[1,"ion-justify-content-between"],["size","3"],["color","blackLight","position","stacked",1,"ion-no-margin"],["size","9",1,"ion-text-end"],[4,"ngIf"],[1,"amount__container"],["size","2",1,"d-flex","ion-align-items-center"],[3,"address"],["size","7",1,"ion-no-padding","amount--container__input"],["lines","none",1,"ion-no-padding"],["formControlName","amount","type","number","id","amount-input","placeholder","0.0"],["size","3",1,"ion-no-padding","d-flex","ion-align-items-center"],["slot","end"],["shape","round","size","small","color","secondary",3,"fill","click"],["name","lines-small","color","primary",4,"ngIf"],["size","10","offset","2","class","ion-no-padding error--container",4,"ngIf"],["offset","2",1,"ion-no-padding"],["color","blackLight",1,"ion-no-margin"],[1,"ion-no-margin"],[1,"ion-text-center","ion-no-padding","divider--container"],["name","arrow-down-outline","color","medium"],["color","blackLight","position","stacked"],["color","blackLight","class","ion-no-margin","position","stacked",4,"ngIf"],[1,"to__container"],["size","2"],[1,"d-flex","ion-align-items-center"],["size","10",1,"ion-no-padding"],[1,"content--align-vert__center","to-address__item","ion-no-padding"],["formControlName","receiver","id","receiver-input",3,"placeholder"],["size","10","offset","2","class","ion-no-padding error--address",4,"ngIf"],["size","10","offset","2",1,"address-to__buttons"],["fill","outline","size","small","color","secondary","shape","round",3,"click"],["slot","start","name","barcode-outline"],[3,"wallet","state","form"],["vertical","bottom","horizontal","end","slot","fixed"],["id","prepare","size","default","color","primary","shape","round",3,"disabled","click"],["slot","start","name","open"],["lines","none","slot","start",1,"ion-no-padding"],["color","danger"],["name","lines-small","color","primary"],["size","10","offset","2",1,"ion-no-padding","error--container"],["color","danger",1,"ion-no-margin"],["size","10","offset","2",1,"ion-no-padding","error--address"],[1,"ion-no-margin",3,"innerHTML"]],template:function(e,t){1&e&&(y.Qb(0,"ion-header",0),y.Qb(1,"ion-grid",1),y.Qb(2,"ion-toolbar"),y.Qb(3,"ion-buttons",2),y.Mb(4,"ion-back-button",3),y.Pb(),y.Qb(5,"ion-title"),y.wc(6),y.bc(7,"translate"),y.Pb(),y.Pb(),y.Pb(),y.Pb(),y.Qb(8,"ion-content",4),y.Qb(9,"ion-grid",5),y.Qb(10,"ion-row",6),y.Qb(11,"ion-col",4),y.Qb(12,"ion-row"),y.uc(13,F,4,2,"ng-container",7),y.Pb(),y.Pb(),y.Pb(),y.Qb(14,"form",8),y.Qb(15,"ion-card"),y.Qb(16,"ion-row",9),y.Qb(17,"ion-col",10),y.Qb(18,"ion-label",11),y.wc(19),y.bc(20,"translate"),y.Pb(),y.Pb(),y.Qb(21,"ion-col",12),y.Qb(22,"ion-label",11),y.wc(23),y.bc(24,"translate"),y.uc(25,B,4,9,"ng-container",13),y.Pb(),y.Pb(),y.Pb(),y.Qb(26,"ion-row",14),y.Qb(27,"ion-col",15),y.Qb(28,"ion-avatar"),y.Mb(29,"airgap-identicon",16),y.Pb(),y.Pb(),y.Qb(30,"ion-col",17),y.Qb(31,"ion-item",18),y.Mb(32,"ion-input",19),y.Pb(),y.Pb(),y.Qb(33,"ion-col",20),y.Qb(34,"ion-toolbar"),y.Qb(35,"ion-buttons",21),y.Qb(36,"ion-button",22),y.Yb("click",function(){return t.toggleMaxAmount()}),y.uc(37,Q,1,0,"ion-spinner",23),y.uc(38,k,3,3,"span",13),y.Pb(),y.Pb(),y.Pb(),y.Pb(),y.Pb(),y.Qb(39,"ion-row"),y.uc(40,N,5,3,"ion-col",24),y.Pb(),y.Qb(41,"ion-row"),y.Qb(42,"ion-col",25),y.Qb(43,"ion-text",26),y.Qb(44,"p",27),y.wc(45),y.bc(46,"number"),y.Pb(),y.Pb(),y.Pb(),y.Pb(),y.Pb(),y.Qb(47,"ion-row"),y.Qb(48,"ion-col",28),y.Mb(49,"ion-icon",29),y.Pb(),y.Pb(),y.Qb(50,"ion-card"),y.Qb(51,"ion-row"),y.Qb(52,"ion-col",10),y.Qb(53,"ion-label",30),y.wc(54),y.bc(55,"translate"),y.Pb(),y.Pb(),y.Qb(56,"ion-col",12),y.uc(57,j,3,3,"ion-label",31),y.Pb(),y.Pb(),y.Qb(58,"ion-row",32),y.Qb(59,"ion-col",33),y.Qb(60,"ion-avatar",34),y.Mb(61,"airgap-identicon",16),y.Pb(),y.Pb(),y.Qb(62,"ion-col",35),y.Qb(63,"ion-item",36),y.Mb(64,"ion-textarea",37),y.Pb(),y.Pb(),y.uc(65,T,4,6,"ion-col",38),y.Qb(66,"ion-col",39),y.Qb(67,"ion-button",40),y.Yb("click",function(){return t.pasteClipboard()}),y.wc(68),y.bc(69,"translate"),y.Pb(),y.Qb(70,"ion-button",40),y.Yb("click",function(){return t.openScanner()}),y.Mb(71,"ion-icon",41),y.wc(72),y.bc(73,"translate"),y.Pb(),y.Pb(),y.Pb(),y.Pb(),y.Mb(74,"fee",42),y.Pb(),y.Pb(),y.Qb(75,"ion-fab",43),y.Qb(76,"ion-button",44),y.Yb("click",function(){return t.prepareTransaction()}),y.Mb(77,"ion-icon",45),y.wc(78),y.bc(79,"translate"),y.Pb(),y.Pb(),y.Pb()),2&e&&(y.Ab(6),y.yc(" ",y.dc(7,29,"transaction-prepare.title",y.kc(47,I,t.wallet.protocol.symbol))," "),y.Ab(7),y.gc("ngIf",t.wallet.protocol.options.network&&t.wallet.protocol.options.network.type!==t.networkType.MAINNET),y.Ab(1),y.gc("formGroup",t.transactionForm),y.Ab(5),y.yc(" ",y.cc(20,32,"transaction-prepare.amount_label")," "),y.Ab(4),y.yc(" ",y.cc(24,34,"transaction-prepare.balance_label")," "),y.Ab(2),y.gc("ngIf",null!==t.state.availableBalance),y.Ab(4),y.gc("address",t.wallet.receivingPublicAddress),y.Ab(3),y.Bb("disabled",t.state.forceMigration),y.Ab(4),y.gc("fill",t.state.sendMaxAmount?"solid":"outline"),y.Bb("disabled",t.state.disableSendMaxAmount),y.Ab(1),y.gc("ngIf",t.state.estimatingMaxAmount),y.Ab(1),y.gc("ngIf",!t.state.estimatingMaxAmount),y.Ab(2),y.gc("ngIf",!t.transactionForm.controls.amount.valid),y.Ab(5),y.yc(" $",y.dc(46,36,t.wallet.currentMarketPrice.times(t.state.amount.value).toNumber(),"1.2-2")," "),y.Ab(9),y.xc(y.cc(55,39,"transaction-prepare.to-address_label")),y.Ab(3),y.gc("ngIf",t.state.receiverAddress.length>0&&t.state.receiverAddress!==t.state.receiver.value),y.Ab(4),y.gc("address",t.state.receiverAddress),y.Ab(3),y.gc("placeholder",t.wallet.protocol.addressPlaceholder),y.Bb("disabled",t.state.forceMigration),y.Ab(1),y.gc("ngIf",t.transactionForm.controls.receiver.dirty&&t.transactionForm.controls.receiver.invalid),y.Ab(2),y.Bb("disabled",t.state.forceMigration),y.Ab(1),y.yc(" ",y.cc(69,41,"transaction-prepare.paste_label")," "),y.Ab(2),y.Bb("disabled",t.state.forceMigration),y.Ab(2),y.yc(" ",y.cc(73,43,"transaction-prepare.to-address-scan_label")," "),y.Ab(2),y.gc("wallet",t.wallet)("state",t.state)("form",t.transactionForm),y.Ab(2),y.gc("disabled",t.state.disablePrepareButton),y.Ab(2),y.yc(" ",y.cc(79,45,"transaction-prepare.create-transaction")," "))},directives:[s.v,s.u,s.hb,s.j,s.f,s.g,s.fb,s.q,s.R,s.p,a.n,o.n,o.i,o.d,s.k,s.E,s.e,i.s,s.A,s.z,s.ob,o.h,o.c,s.i,s.db,s.w,s.eb,s.ub,x.a,s.r,s.h,s.Y],pipes:[c.c,a.f,a.b,i.g,O.a],styles:[".item-ios.item-toggle[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .item-md.item-toggle[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .label-stacked[_ngcontent-%COMP%]{font-size:14px}.font--size__large[_ngcontent-%COMP%]{font-size:large}.to-address__item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{font-size:12px}.address-to__buttons[_ngcontent-%COMP%]{padding:4px 0 0}.amount__container[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom-color:transparent!important;box-shadow:none!important}.amount__container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin:0;--padding-top:12px}.amount__container[_ngcontent-%COMP%]   .md[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-bottom:0}.amount__container[_ngcontent-%COMP%]   .amount--container__input[_ngcontent-%COMP%], .amount__container[_ngcontent-%COMP%]   .amount--container__input[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{padding-right:0}.amount__container[_ngcontent-%COMP%], .to__container[_ngcontent-%COMP%]{padding-top:8px}.error--container[_ngcontent-%COMP%]{padding-bottom:8px}ion-avatar[_ngcontent-%COMP%]{height:40px;min-height:40px;width:40px;min-width:40px}.range-slider[_ngcontent-%COMP%]{--bar-background:rgba(var(--ion-color-secondary-rgb),0.12);--bar-background-active:var(--ion-color-primary)}.advanced-item[_ngcontent-%COMP%]{--border-color:var(--ion-color-primary)}ion-card[_ngcontent-%COMP%]{padding:12px}.divider--container[_ngcontent-%COMP%]{padding-top:8px}.native-textarea.sc-ion-textarea-md[_ngcontent-%COMP%]{padding-top:0}ion-textarea[_ngcontent-%COMP%]{--padding-top:0}ion-content[_ngcontent-%COMP%]{--padding-bottom:108px}"]}),e}(),z=function(){function e(){}return e.\u0275mod=y.Jb({type:e}),e.\u0275inj=y.Ib({factory:function(t){return new(t||e)},imports:[[s.ib,a.c,o.e,o.k,c.b,l.a,d.a,r.j.forChild([{path:"",component:D}]),i.e]]}),e}()}}]);