{"version":3,"sources":["./src/app/models/widgets/display/UIAccountSummary.ts","./src/app/pages/dapp-confirm/dapp-confirm.page.ts","./src/app/pages/dapp-confirm/dapp-confirm.page.html","./src/app/components/widget-account/widget-account.ts","./src/app/components/widget-account/widget-account.html","./src/app/components/chart/chart.component.ts","./src/app/components/chart/chart.component.html","webpack:///util (ignored)?210d","./src/app/components/empty-state/empty-state.ts","./src/app/components/empty-state/empty-state.html","./src/app/pipes/group-label/group-label.pipe.ts","./src/app/services/data/data.service.ts","webpack:///util (ignored)?8e37","./src/app/components/widget-account-summary/widget-account-summary.ts","./src/app/components/widget-account-summary/widget-account-summary.html","util (ignored)","webpack:///util (ignored)?87b8","./src/app/extensions/delegation/MoonbeamDelegationExtensions.ts","webpack:///buffer (ignored)?4542","./src/app/services/account/account.provider.ts","./src/app/ledger/ReturnCode.ts","./src/app/components/card-actionable/card-actionable.html","./src/app/components/card-actionable/card-actionable.ts","crypto (ignored)","./src/app/components/interaction-selection/interaction-selection.component.ts","./src/app/components/interaction-selection/interaction-selection.component.html","./src/app/ledger/app/LedgerApp.ts","./src/app/extensions/delegation/TezosDelegationExtensions.ts","buffer (ignored)","./src/app/models/widgets/display/UIRewardList.ts","fs (ignored)","./src/app/components/tezos-fa-form/tezos-fa-form.facade.ts","./src/app/services/walletconnect/walletconnect.service.ts","webpack:///buffer (ignored)?ae23","./src/app/services/caching/caching.service.ts","./src/app/models/ElectronProcess.ts","./src/app/services/storage/storage.ts","./src/environments/environment.ts","./src/app/capacitor-plugins/injection-tokens.ts","./src/app/components/currency-item/currency-item.html","./src/app/components/currency-item/currency-item.ts","./src/app/models/widgets/display/UIAlert.ts","./src/app/pages/beacon-request/beacon-request.module.ts","./src/app/services/market-data/market-data.service.ts","./src/app/components/widget-input-text/widget-input-text.ts","./src/app/components/widget-input-text/widget-input-text.html","./src/app/services/sapling-native/sapling-native.service.ts","./src/app/components/tezos-fa-form/tezos-fa-form.store.ts","./src/app/components/portfolio-item/portfolio-item.ts","./src/app/components/portfolio-item/portfolio-item.html","./src/app/components/walletconnect-from-to/walletconnect-from-to.component.ts","./src/app/components/walletconnect-from-to/walletconnect-from-to.component.html","./src/app/services/exchange/exchange.quipuswap.ts","./src/app/services/sapling/sapling.service.ts","./src/app/services/walletconnect/helpers.ts","./src/app/models/widgets/UIInputWidget.ts","./src/app/services/push-backend/push-backend.ts","./src/app/components/delegate-action-popover/delegate-action-popover.component.ts","./src/app/components/delegate-action-popover/delegate-action-popover.component.html","./src/app/pages/exchange-select/exchange-select.module.ts","./src/app/services/push/push.ts","./src/app/models/widgets/UIWidget.ts","./src/app/components/account-edit-popover/account-edit-popover.component.ts","./src/app/components/account-edit-popover/account-edit-popover.component.html","./src/app/components/tezos-delegation-card/tezos-delegation-card.ts","./src/app/components/tezos-delegation-card/tezos-delegation-card.html","./src/app/services/price/price.service.ts","./src/app/extensions/delegation/CosmosDelegationExtensions.ts","./node_modules/moment/locale sync ^\\.\\/.*$","./src/app/ledger/connection/bridge/LedgerElectronBridge.ts","./src/app/components/permission-request/permission-request.component.ts","./src/app/components/permission-request/permission-request.component.html","./src/app/ledger/app/substrate/KusamaLedgerApp.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/services/guard/transactionHash.guard.ts","./src/app/config/app-config.ts","./src/app/pages/exchange-select/exchange-select.page.ts","./src/app/pages/exchange-select/exchange-select.page.html","./src/app/components/tezos-fa-form/tezos-fa-form.types.ts","./src/app/helpers/delegation.ts","./src/app/services/exchange/exchange.changelly.ts","./src/app/extensions/delegation/ProtocolDelegationExtensions.ts","./src/app/services/extensions/extensions.service.ts","./src/app/services/ledger/ledger-connection-provider.ts","./src/app/app.module.ts","./src/app/components/transaction-list/transaction-list.component.ts","./src/app/components/transaction-list/transaction-list.component.html","./src/app/models/widgets/display/UIAccount.ts","./src/app/pages/beacon-request/beacon-request-routing.module.ts","./src/app/models/actions/TipUsAction.ts","./src/app/pipes/percentage/percentage.pipe.ts","./src/app/services/resolver/data-resolver.service.ts","./src/app/components/widget-selector/widget-selector.ts","./src/app/components/widget-selector/widget-selector.html","./src/app/services/exchange/exchange.ts","./src/app/pages/protocol-select/protocol-select.module.ts","./src/app/components/widget-option-button-group/widget-option-button-group.ts","./src/app/components/widget-option-button-group/widget-option-button-group.html","./src/app/pages/introduction-push/introduction-push.ts","./src/app/pages/introduction-push/introduction-push.html","./src/app/models/widgets/input/UIOptionButtonGroup.ts","./src/app/capacitor-plugins/definitions.ts","./src/app/ledger/app/substrate/PolkadotLedgerApp.ts","./src/app/components/tezos-fa-form/tezos-fa-form.component.ts","./src/app/components/tezos-fa-form/tezos-fa-form.component.html","./src/app/validators/DecimalValidator.ts","./src/app/services/sentry-error-handler/sentry-error-handler.ts","./src/app/services/iac/custom-handlers/address-handler.ts","./src/app/pipes/shorten-string/shorten-string.pipe.ts","./src/app/pipes/pipes.module.ts","./src/app/models/actions/DelegateAlertAction.ts","./src/app/components/components.module.ts","./src/app/services/exchange/exchange.changenow.ts","./src/app/services/browser/browser.service.ts","./src/app/services/coinlib/coinlib.service.ts","./src/app/extensions/delegation/SubstrateDelegationExtensions.ts","./node_modules/@ionic/core/dist/esm lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","./src/app/services/iac/custom-handlers/beacon-handler.ts","./src/app/models/widgets/display/UIAccountExtendedDetails.ts","./src/app/components/signed-transaction/signed-transaction.ts","./src/app/components/signed-transaction/signed-transaction.html","./src/app/components/delegate-edit-popover/delegate-edit-popover.component.ts","./src/app/components/delegate-edit-popover/delegate-edit-popover.component.html","./src/app/types/GenericProtocolSymbols.ts","./src/app/services/operations/operations.ts","./src/app/pages/introduction-push/introduction-push.module.ts","./src/app/components/transaction-item/transaction-item.component.ts","./src/app/components/transaction-item/transaction-item.component.html","./src/app/utils/utils.ts","./src/app/models/widgets/input/UIInputText.ts","./src/app/pipes/crypto-to-fiat/crypto-to-fiat.pipe.ts","./src/app/services/guard/protocol.guard.ts","./src/app/components/fee/fee.component.ts","./src/app/components/fee/fee.component.html","./src/app/services/iac/custom-handlers/walletconnect-handler.ts","./src/app/services/beacon/beacon.service.ts","./src/app/ledger/app/tezos/TezosLedgerApp.ts","./src/app/ledger/app/substrate/SubstrateLedgerApp.ts","./src/app/components/current-wallet-group/current-wallet-group.component.ts","./src/app/components/current-wallet-group/current-wallet-group.component.html","./src/app/services/interaction/interaction.service.ts","./src/app/models/actions/DelegatorAction.ts","./src/app/models/Deferred.ts","./src/app/components/tezos-fa-form/tezos-fa-form.utils.ts","./src/app/components/widget-icon-text/widget-icon-text.ts","./src/app/components/widget-icon-text/widget-icon-text.html","./src/app/services/guard/serviceKey.guard.ts","./src/app/models/widgets/display/UIIconText.ts","./src/app/pages/walletconnect/walletconnect.page.ts","./src/app/pages/walletconnect/walletconnect.page.html","./src/app/components/amount/amount.component.ts","./src/app/components/amount/amount.component.html","./src/app/components/widget-account-extended-details/widget-account-extended-details.ts","./src/app/components/widget-account-extended-details/widget-account-extended-details.html","./src/app/app-routing.module.ts","./src/app/pages/beacon-request/beacon-request.page.ts","./src/app/pages/beacon-request/beacon-request.page.html","./src/app/components/widget-alert/widget-alert.ts","./src/app/components/widget-alert/widget-alert.html","./src/app/components/swap/swap.ts","./src/app/components/swap/swap.html","./src/app/services/iac/iac.service.ts","./src/app/components/widget-reward-list/widget-reward-list.ts","./src/app/components/widget-reward-list/widget-reward-list.html","./src/app/services/draw-chart/draw-chart.service.ts","./src/app/pages/error/error.page.ts","./src/app/pages/error/error.page.html","./src/app/ledger/connection/LedgerConnectionElectron.ts","./src/app/app.reducers.ts","./src/app/components/dapp-peer/dapp-peer.component.ts","./src/app/components/dapp-peer/dapp-peer.component.html","./src/app/pages/protocol-select/protocol-select.ts","./src/app/pages/protocol-select/protocol-select.html","./src/app/services/ledger/ledger-service.ts","./src/app/models/AirGapMarketWalletGroup.ts","./src/app/ledger/connection/LedgerConnection.ts","./src/app/ledger/connection/LedgerConnectionBrowser.ts","./src/main.ts","./src/app/components/from-to/from-to.component.ts","./src/app/components/from-to/from-to.component.html","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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AC,eAAe,EAAE;wBAC9D,QAAQ;qBACT,CAAC;oBACF,WAAW,EAAE,0CAA0C;iBACxD,CAAC,CACH;aACF;YAED,IAAI,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;gBACjB,OAAO,CAAC,IAAI,CACV,IAAI,oFAAU,CAAC;oBACb,QAAQ,EAAE,UAAU;oBACpB,IAAI,EAAE,MAAM,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,OAAO,EAAE;wBACtD,QAAQ;qBACT,CAAC;oBACF,WAAW,EAAE,kDAAkD;iBAChE,CAAC,CACH;aACF;YAED,OAAO,OAAO;QAChB,CAAC;KAAA;IAEa,kBAAkB;;YAC9B,IAAI,IAAI,CAAC,eAAe,KAAK,SAAS,EAAE;gBACtC,IAAI,CAAC,eAAe,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,wBAAwB,EAAE;aAC5E;YAED,OAAO,IAAI,CAAC,eAAe;QAC7B,CAAC;KAAA;CACF;;;;;;;;;;;;AC7gBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;;;;;;;;;;;;AClSgE;AAEhE,IAAY,wBAoBX;AApBD,WAAY,wBAAwB;IAClC,uDAA2B;IAC3B,mEAAuC;IAEvC,yCAAa;IACb,qDAAyB;IAEzB,yCAAa;IACb,qDAAyB;IAEzB,iDAAqB;IACrB,6DAAiC;IAEjC,yEAA6C;IAE7C,2CAAe;IACf,uDAA2B;IAE3B,yDAA6B;IAC7B,iEAAqC;AACvC,CAAC,EApBW,wBAAwB,KAAxB,wBAAwB,QAoBnC;AAmGD,MAAM,mBAAmB,GAAG,QAAQ;AAE7B,MAAM,oBAAoB;IAa/B,YAA4B,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;QAF3C,oBAAe,GAA8B,IAAI,GAAG,EAAE;IAER,CAAC;IAVzD,M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BAC9D,MAAK;YACP,KAAK,oBAAoB;gBACvB,YAAY,GAAG,kDAAkD;gBACjE,MAAK;YACP,KAAK,qBAAqB;gBACxB,YAAY,GAAG,4CAA4C;gBAC3D,MAAK;YACP;gBACE,YAAY,GAAG,SAAS;SAC3B;QAED,IAAI,YAAY,EAAE;YAChB,OAAO,CAAC,IAAI,CACV,IAAI,qFAAU,CAAC;gBACb,QAAQ,EAAE,cAAc;gBACxB,IAAI,EAAE,GAAG,mCAAM,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE,KAAK,mCAAM,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG;gBAC/E,WAAW,EAAE,YAAY;aAC1B,CAAC,CACH;SACF;QAED,OAAO,OAAO;IAChB,CAAC;CACF;;;;;;;;;;;;AC50BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;;;;;;;ACnO2D;AACO;AAIlE,MAAM,eAAe,GAA+C,CAAC,GAAY,EAA4B,EAAE;IAC7G,OAAO,CACL,OAAQ,GAAyB,CAAC,IAAI,KAAK,QAAQ;QACnD,OAAQ,GAAyB,CAAC,SAAS,KAAK,QAAQ;QACxD,OAAQ,GAAyB,CAAC,WAAW,KAAK,QAAQ;IAC1D,6CAA6C;KAC9C;AACH,CAAC;AAED,MAAM,UAAU,GAAsC,CAAO,GAAW,EAAoB,EAAE,CAAC;IAC7F,IAAI;QACF,iDAAiD;QACjD,IAAI,GAAG,CAAC,GAAG,CAAC;KACb;IAAC,WAAM;QACN,OAAO,KAAK;KACb;IAED,OAAO,IAAI;AACb,CAAC;AAEM,MAAM,aAAc,SAAQ,yEAAuC;IAGxE,YAA6B,aAA4B;QACvD,KAAK,EAAE;QADoB,kBAAa,GAAb,aAAa,CAAe;QAFzC,SAAI,GAAW,eAAe;IAI9C,CAAC;IAEY,cAAc;;YACzB,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,WAAW;YAC3C,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;YAE9C,OAAO,IAAI,CAAC,OAAO;QACrB,CAAC;KAAA;IAEY,WAAW,CAAC,IAAY;;YACnC,IAAI,OAAO,GAAG,IAAI;YAElB,IAAI,MAAM,UAAU,CAAC,IAAI,CAAC,EAAE;gBAC1B,MAAM,MAAM,GAAoB,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,YAAY;gBAC1D,IAAI,MAAM,IAAI,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,QAAQ,EAAE;oBAC7C,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC;iBAC7B;aACF;YAED,IAAI;gBACF,MAAM,IAAI,GAA4B,CAAC,MAAM,IAAI,6DAAU,EAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAQ;gBAE1F,IAAI,eAAe,CAAC,IAAI,CAAC,EAAE;oBACzB,OAAO,IAAI;iBACZ;aACF;YAAC,WAAM,GAAE;YAEV,IAAI;gBACF,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBAC7B,IAAI,eAAe,CAAC,IAAI,CAAC,EAAE;oBACzB,OAAO,IAAI;iBACZ;aACF;YAAC,WAAM,GAAE;YAEV,OAAO,SAAS;QAClB,CAAC;KAAA;CACF;;;;;;;;;;;;;AClED;AAAA;AAAA;AAAoE;AAW7D,MAAM,wBAAyB,SAAQ,kDAAQ;IAKpD,YAAY,MAAsC;QAChD,KAAK,CAAC,MAAM,CAAC;QALR,SAAI,GAAG,sDAAY,CAAC,wBAAwB;QAMjD,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK;IAC3B,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBwE;AAU5C;AACO;AAEuE;AAChC;;;;;;;;;;ICbzE,wEAAwD;IACtD,6EAAoD;IAClD,6EAAwD;IACtD,qEAAI;IACF,uDAEF;;;IAAA,4DAAK;IACP,4DAAU;IACV,6EAAwD;IACtD,qEAAI;IAAA,uDAAgC;IAAA,4DAAK;IAC3C,4DAAU;IACV,8EAAwD;IACtD,sEAAI;IAAA,wDAA8G;;;IAAA,4DAAK;IACzH,4DAAU;IACV,8EAAkB;IAChB,yEAAO;IAAA,kEAAM;IAAA,4DAAQ;IACvB,4DAAU;IACV,8EAAkB;IAChB,yEAAO;IAAA,sEAAU;IAAA,4DAAQ;IAC3B,4DAAU;IACV,8EAAkB;IAChB,yEAAO;IAAA,+DAAG;IAAA,4DAAQ;IACpB,4DAAU;IACZ,4DAAU;IACZ,qEAAe;;;IApBP,0DAEF;IAFE,yWAEF;IAGI,0DAAgC;IAAhC,kGAAgC;IAGhC,0DAA8G;IAA9G,+VAA8G;;;IActH,+EAA6F;;;IAA1C,oFAAwB;;;IAD7E,wEAAgC;IAC9B,2JAA6F;IAC/F,qEAAe;;;IADwB,0DAAY;IAAZ,qFAAY;;;IAEnD,uEAAgC;IAC9B,0EAAS;IACP,6EAAyC;IACvC,yEAAsE;IACxE,4DAAU;IACV,0EAAS;IACP,uDACF;;IAAA,4DAAU;IACZ,4DAAU;IACV,uEAAyE;IACvE,uDACF;IAAA,4DAAI;IACN,4DAAO;;;IAND,0DACF;IADE,wLACF;IAGA,0DACF;IADE,wGACF;;ADnBG,MAAM,0BAA0B;IAuBrC,YACmB,iBAAoC,EACpC,eAAgC,EAChC,eAAgC;QAFhC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,oBAAe,GAAf,eAAe,CAAiB;QAChC,oBAAe,GAAf,eAAe,CAAiB;QAf5C,sBAAiB,GAAY,KAAK;QAiBvC,EAAE;IACJ,CAAC;IAEY,WAAW;;YACtB,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBAC3B,IAAI;oBACF,IAAI,CAAC,SAAS,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;iBACtF;gBAAC,OAAO,CAAC,EAAE;oBACV,IAAI,CAAC,iBAAiB,GAAG,IAAI;oBAC7B,6GAAiB,CAAC,iGAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;iBAC5C;aACF;YAED,iCAAiC;YACjC,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClB,IAAI,QAAQ,GACV,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;gBAE9H,IAAI;oBACF,IAAI,CAAC,SAAS,GAAG,CACf,MAAM,OAAO,CAAC,GAAG,CACf,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAO,QAAoC,EAAE,EAAE,CAAC;wBACjE,MAAM,OAAO,GAAsB,QAAQ,CAAC,OAA4B;wBACxE,IAAI,MAAM,IAAI,CAAC,yBAAyB,CAAC,OAAO,EAAE,QAAQ,CAAC,QAAQ,CAAC,EAAE;4BACpE,MAAM,eAAe,GAAyB,MAAM,IAAI,CAAC,kBAAkB,EAAE;4BAC7E,OAAO,eAAe,CAAC,+BAA+B,CAAC,OAAO,EAAE;gCAC9D,gBAAgB,EAAE,IAAI,CAAC,eAAe,CAAC,mBAAmB,EAAE;6BAC7D,CAAC;yBACH;6BAAM;4BACL,OAAO,QAAQ,CAAC,+BAA+B,CAAC,OAAO,CAAC;yBACzD;oBACH,CAAC,EAAC,CACH,CACF,CAAC,MAAM,CAAC,CAAC,OAA6B,EAAE,SAA+B,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;oBAE3G,IACE,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC;wBACzB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAsB,EAAE,EAAE,CAAC,EAAE,CAAC,kBAAkB,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,EAChH;wBACA,IAAI,CAAC,cAAc,GAAG;4BACpB,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM;4BAClC,WAAW,EAAE,IAAI,CAAC,SAAS;iCACxB,GAAG,CAAC,CAAC,EAAsB,EAAE,EAAE,CAAC,IAAI,mDAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;iCACzD,MAAM,CAAC,CAAC,MAAiB,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;iCAC9C,MAAM,CAAC,CAAC,EAAa,EAAE,EAAa,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,IAAI,mDAAS,CAAC,CAAC,CAAC,CAAC;4BAC1E,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAAa,EAAE,EAAsB,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,IAAI,mDAAS,CAAC,CAAC,CAAC,CAAC;yBAC/G;qBACF;oBACD,IAAI,CAAC,iBAAiB,GAAG,KAAK;iBAC/B;gBAAC,OAAO,CAAC,EAAE;oBACV,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;oBAChB,IAAI,CAAC,iBAAiB,GAAG,IAAI;oBAC7B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAA4B;oBAC/D,6GAAiB,CAAC,iGAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;iBAC5C;aACF;QACH,CAAC;KAAA;IAEa,yBAAyB,CAAC,WAA8B,EAAE,kBAAmC;;YACzG,IAAI,kBAAkB,KAAK,wEAAmB,CAAC,GAAG,EAAE;gBAClD,MAAM,aAAa,GAAkB,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,kBAAkB,CAAC;gBAC/F,MAAM,eAAe,GAAyB,MAAM,IAAI,CAAC,kBAAkB,EAAE;gBAE7E,MAAM,SAAS,GAAyB,MAAM,aAAa,CAAC,+BAA+B,CAAC,WAAW,CAAC;gBACxG,MAAM,UAAU,GAAa,SAAS;qBACnC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC;qBAC5B,MAAM,CAAC,CAAC,OAAiB,EAAE,IAAc,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;gBAE1E,OAAO,UAAU,CAAC,QAAQ,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC;aAC3E;YAED,OAAO,kBAAkB,KAAK,wEAAmB,CAAC,YAAY;QAChE,CAAC;KAAA;IAEa,kBAAkB;;YAC9B,OAAO,CAAC,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,wEAAmB,CAAC,YAAY,CAAC,CAAyB;QAC3G,CAAC;KAAA;;oGAxGU,0BAA0B;0GAA1B,0BAA0B;QCrBvC,uEAAM;QACJ,0IAwBe;QACf,wIAEe;QACf,wHAYO;QACT,4DAAO;;QAzCU,0DAAuC;QAAvC,2GAAuC;QAyBvC,0DAAe;QAAf,+EAAe;QAGvB,0DAAuB;QAAvB,uFAAuB;;;;;;;;;;;;;;;;;;;;;;;AC7BqB;AAGyB;AAExB;;;;;;;;ICClD,uEAA6B;IAC3B,uDACF;;;IAAA,4DAAO;;;IADL,0DACF;IADE,0VACF;;ADIG,MAAM,4BAA4B;IAOvC,YACmB,eAAgC,EAChC,iBAAoC,EACpC,SAAoB,EACpB,gBAAkC,EAClC,cAA8B;QAJ9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,cAAS,GAAT,SAAS,CAAW;QACpB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,mBAAc,GAAd,cAAc,CAAgB;QAE/C,MAAM,cAAc,GAAuB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC;QAC/E,MAAM,oBAAoB,GAAuB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC;QAE3F,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC;QAClE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;QAEtD,IAAI,CAAC,cAAc,GAAG,cAAc,KAAK,SAAS,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,2CAA2C;QACjH,IAAI,CAAC,oBAAoB;YACvB,oBAAoB,KAAK,SAAS,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,kDAAkD;IAClH,CAAC;IAEY,eAAe;;YAC1B,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,kBAAkB,EAAE;YACpD,MAAM,KAAK,GAAwB,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC;YAElF,MAAM,KAAK,CAAC,OAAO,EAAE;QACvB,CAAC;KAAA;IAEa,kBAAkB;;YAC9B,OAAO;gBACL,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,iDAAiD,CAAC;gBACxF,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,yCAAyC,EAAE;oBAChF,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC;iBACnE,CAAC;gBACF,MAAM,EAAE;oBACN;wBACE,IAAI,EAAE,WAAW;wBACjB,EAAE,EAAE,WAAW;wBACf,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,qDAAqD,EAAE;4BAChG,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC;yBACnE,CAAC;qBACH;iBACF;gBACD,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,iDAAiD,CAAC;wBACtF,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,WAAW;wBACrB,OAAO,EAAE,GAAS,EAAE;4BAClB,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE;wBAClC,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,wDAAwD,EAAE;4BAC5F,cAAc,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC;yBACnE,CAAC;wBACF,OAAO,EAAE,CAAO,EAAE,SAAS,EAAyB,EAAoB,EAAE,CAAC;4BACzE,MAAM,gBAAgB,GAAuB,MAAM,IAAI,CAAC,cAAc,CAAC,UAAU,CAC/E,SAAS,EACT,IAAI,CAAC,kBAAkB,EACvB,IAAI,CAAC,iBAAiB,CACvB;4BAED,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAE,gBAAgB,EAAE,gBAAgB,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;4BAE9F,OAAO,IAAI;wBACb,CAAC;qBACF;iBACF;aACF;QACH,CAAC;KAAA;;wGA1EU,4BAA4B;4GAA5B,4BAA4B;QCZzC,8EAAsE;QACpE,kFAAiB;QACf,4EAAW;QAAA,uDAAmE;;QAAA,4DAAY;QAC5F,4DAAkB;QAClB,8EAA4D;QAA5B,sJAAS,qBAAiB,IAAC;QACzD,yEAAmE;QACnE,0HAEO;QACT,4DAAW;QACb,4DAAW;;QARI,0DAAmE;QAAnE,mLAAmE;QAIvE,0DAAoB;QAApB,oFAAoB;;;;;;;;;;;;;;ACJ/B;AAAA;AAAA;AAAA,IAAY,wBAEX;AAFD,WAAY,wBAAwB;IAClC,6CAAiB;AACnB,CAAC,EAFW,wBAAwB,KAAxB,wBAAwB,QAEnC;AAIM,SAAS,gBAAgB,CAAC,gBAA6B,EAAE,eAAwB,EAAE,UAAkB,CAAC;IAC3G,IAAI,UAAU,GAAG,GAAG,wBAAwB,CAAC,MAAM,GAAG,gBAAgB,EAAE;IACxE,IAAI,eAAe,EAAE;QACnB,UAAU,IAAI,IAAI,eAAe,IAAI,OAAO,EAAE;KAC/C;IAED,OAAO,UAA6B;AACtC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfqD;AAezB;AAGyE;AAU1D;AACuB;AAC/B;AACE;AACF;AAEmD;AAOS;AAChB;AAEZ;AACT;AACoC;;;;;;AAaxF,MAAM,kBAAkB;IAG7B,YACmB,iBAAoC,EACpC,eAAgC,EAChC,WAAwB,EACxB,eAAgC,EAChC,cAA8B;QAJ9B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,oBAAe,GAAf,eAAe,CAAiB;QAChC,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAgB;QAPhC,uBAAkB,GAA0C,IAAI,oDAAe,CAAC,IAAI,GAAG,EAAE,CAAC;IAQxG,CAAC;IAES,oBAAoB,CAAC,MAA0B,EAAE,UAAoB;;YAChF,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ;YAChC,IAAI,CAAC,8EAAkB,CAAC,QAAQ,CAAC,EAAE;gBACjC,OAAO,OAAO,CAAC,MAAM,CAAC,uCAAuC,CAAC;aAC/D;YAED,IAAI,oFAAwB,CAAC,QAAQ,CAAC,EAAE;gBACtC,OAAO,QAAQ,CAAC,uBAAuB,CAAC,UAAU,CAAC;aACpD;iBAAM;gBACL,MAAM,iBAAiB,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,QAAQ,CAAC,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC;gBACnH,OAAO,iBAAiB,CAAC,GAAG,CAC1B,CAAC,OAAO,EAAE,EAAE,CACV,IAAI,0FAAgB,CAAC;oBACnB,OAAO,EAAE,OAAO,CAAC,OAAO;oBACxB,MAAM,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;oBAC1B,WAAW,EAAE,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;iBACnC,CAAC,CACL;aACF;QACH,CAAC;KAAA;IAEY,yBAAyB,CAAC,MAA0B;;YAC/D,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ;YAChC,IAAI,CAAC,8EAAkB,CAAC,QAAQ,CAAC,EAAE;gBACjC,OAAO,OAAO,CAAC,MAAM,CAAC,uCAAuC,CAAC;aAC/D;YAED,IAAI,oFAAwB,CAAC,QAAQ,CAAC,EAAE;gBACtC,OAAO,QAAQ,CAAC,4BAA4B,CAAC,MAAM,CAAC,sBAAsB,CAAC;aAC5E;iBAAM;gBACL,OAAO,IAAI,0GAAwB,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;aACnD;QACH,CAAC;KAAA;IAEY,oBAAoB,CAAC,MAA0B;;YAC1D,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ;YAChC,IAAI,CAAC,8EAAkB,CAAC,QAAQ,CAAC,EAAE;gBACjC,OAAO,OAAO,CAAC,MAAM,CAAC,uCAAuC,CAAC;aAC/D;YAED,MAAM,OAAO,GAAG,MAAM,QAAQ,CAAC,8BAA8B,CAAC,MAAM,CAAC,sBAAsB,CAAC;YAC5F,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;gBACxB,IAAI,gBAAwB;gBAC5B,IAAI,oFAAwB,CAAC,QAAQ,CAAC,EAAE;oBACtC,gBAAgB,GAAG,QAAQ,CAAC,eAAe,EAAE;iBAC9C;gBAED,OAAO,CAAC,gBAAgB,IAAI,CAAC,MAAM,QAAQ,CAAC,mBAAmB,EAAE,CAAC,CAAC;aACpE;YACD,OAAO,OAAO;QAChB,CAAC;KAAA;IAEY,mBAAmB,CAAC,MAA0B;;YACzD,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ;YAChC,IAAI,CAAC,8EAAkB,CAAC,QAAQ,CAAC,EAAE;gBACjC,OAAO,OAAO,CAAC,MAAM,CAAC,uCAAuC,CAAC;aAC/D;YAED,OAAO,QAAQ,CAAC,8BAA8B,CAAC,MAAM,CAAC,sBAAsB,CAAC;QAC/E,CAAC;KAAA;IAEY,oBAAoB,CAAC,MAA0B,EAAE,UAAoB;;YAChF,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ;YAChC,IAAI,CAAC,8EAAkB,CAAC,QAAQ,CAAC,EAAE;gBACjC,OAAO,OAAO,CAAC,MAAM,CAAC,uCAAuC,CAAC;aAC/D;YAED,OAAO,oFAAwB,CAAC,QAAQ,CAAC;gBACvC,CAAC,CAAC,QAAQ,CAAC,oCAAoC,CAAC,MAAM,CAAC,sBAAsB,EAAE,UAAU,CAAC;gBAC1F,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,2BAA2B,CAAC,QAAQ,EAAE,MAAM,CAAC,sBAAsB,EAAE,UAAU,CAAC,CAAC;QACnG,CAAC;KAAA;IAEY,uBAAuB,CAAC,MAA0B,EAAE,UAAoB;;YACnF,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ;YAChC,IAAI,CAAC,8EAAkB,CAAC,QAAQ,CAAC,EAAE;gBACjC,OAAO,OAAO,CAAC,MAAM,CAAC,uCAAuC,CAAC;aAC/D;YAED,OAAO,oFAAwB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,uBAAuB,CAAC,MAAM,CAAC,sBAAsB,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS;QACrI,CAAC;KAAA;IAEa,2BAA2B,CACvC,QAA+B,EAC/B,SAAiB,EACjB,UAAoB;;YAEpB,MAAM,OAAO,GAAG,MAAM,QAAQ,CAAC,+BAA+B,CAAC,SAAS,EAAE,UAAU,CAAC;YAErF,MAAM,CAAC,gBAAgB,EAAE,iBAAiB,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;gBAC9D,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,SAAS,EAAE,UAAU,CAAC;gBAC9D,IAAI,CAAC,2BAA2B,CAAC,OAAO,CAAC,UAAU,CAAC;aACrD,CAAC;YAEF,OAAO;gBACL,SAAS,EAAE,gBAAgB;gBAC3B,UAAU,EAAE,iBAAiB;aAC9B;QACH,CAAC;KAAA;IAEa,2BAA2B,CAAC,iBAAqC;;YAC7E,OAAO,iBAAiB,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,iBACxC,IAAI,EAAE,EAAE,IACL,OAAO,EACV,CAAC;QACL,CAAC;KAAA;IAEa,0BAA0B,CAAC,gBAAkC,EAAE,UAAoB;;YAC/F,MAAM,iCAAiC,GAAG,CAAC,UAAU,CAAC;YACtD,MAAM,mCAAmC,GAAG,CAAC,YAAY,CAAC;YAE1D,MAAM,4BAA4B,GAAG,CAAC,UAAU,EAAE,WAAW,EAAE,OAAO,EAAE,WAAW,CAAC;YAEpF,uCACK,gBAAgB,KACnB,UAAU,EAAE,gBAAgB,CAAC,UAAU,EACvC,WAAW,EAAE,gBAAgB,CAAC,gBAAgB;oBAC5C,CAAC,CAAC,IAAI,CAAC,iCAAiC,CACpC,gBAAgB,CAAC,gBAAgB,EACjC,UAAU,EACV,iCAAiC,EACjC,mCAAmC,EACnC,4BAA4B,CAC7B;oBACH,CAAC,CAAC,EAAE,IACP;QACH,CAAC;KAAA;IAEO,iCAAiC,CACvC,gBAAmC,EACnC,UAAoB,EACpB,0BAAoC,EACpC,4BAAsC,EACtC,oBAA8B;QAE9B,OAAO;YACL,IAAI,CAAC,2BAA2B,CAC9B,gBAAgB,EAChB,UAAU,EACV,0BAA0B,EAC1B,oBAAoB,EACpB,kCAAkC,CACnC;YACD,IAAI,CAAC,2BAA2B,CAC9B,gBAAgB,EAChB,UAAU,EACV,4BAA4B,EAC5B,oBAAoB,EACpB,oCAAoC,CACrC;YACD,GAAG,IAAI,CAAC,yBAAyB,CAAC,gBAAgB,EAAE,CAAC,GAAG,0BAA0B,EAAE,GAAG,4BAA4B,CAAC,CAAC;SACtH,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;IAChC,CAAC;IAEO,2BAA2B,CACjC,gBAAmC,EACnC,UAAoB,EACpB,YAAmB,EACnB,eAAyB,EAAE,EAC3B,KAAa;QAEb,MAAM,MAAM,GAAG,gBAAgB,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACpF,IAAI,MAAM,EAAE;YACV,MAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;YACjG,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS;YAErF,MAAM,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS;YAExF,OAAO;gBACL,IAAI,EAAE,MAAM,CAAC,IAAI;gBACjB,KAAK;gBACL,IAAI,EAAE,IAAI;gBACV,IAAI,EAAE,IAAI;oBACR,CAAC,CAAC,IAAI,CAAC,GAAG,CACN,CAAC,GAAG,EAAE,EAAE,CACN,IAAI,8EAAW,CAAC;wBACd,EAAE,EAAE,GAAG;wBACP,KAAK,EAAE,GAAG;qBACX,CAAC,CACL;oBACH,CAAC,CAAC,SAAS;aACd;SACF;QAED,OAAO,IAAI;IACb,CAAC;IAEO,yBAAyB,CAAC,gBAAmC,EAAE,kBAA4B;QACjG,MAAM,YAAY,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,kBAAkB,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAEnG,OAAO,YAAY,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YACnC,IAAI,EAAE,MAAM,CAAC,IAAI;YACjB,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE;YAC7B,YAAY,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE;YACpC,IAAI,EAAE,MAAM,CAAC,IAAI;gBACf,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CACb,CAAC,GAAG,EAAE,EAAE,CACN,IAAI,8EAAW,CAAC;oBACd,EAAE,EAAE,GAAG;oBACP,KAAK,EAAE,GAAG;iBACX,CAAC,CACL;gBACH,CAAC,CAAC,SAAS;SACd,CAAC,CAAC;IACL,CAAC;IAEY,sBAAsB,CACjC,MAA0B,EAC1B,IAAS,EACT,IAAU;;YAEV,IAAI,8EAAkB,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;gBACvC,MAAM,UAAU,GAAG,CAAC,MAAM,MAAM,CAAC,QAAQ,CAAC,mCAAmC,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE/G,MAAM,SAAS,GAAG,MAAM,MAAM,CAAC,QAAQ,CAAC,qBAAqB,CAAC;oBAC5D,SAAS,EAAE,MAAM,CAAC,SAAS;oBAC3B,WAAW,EAAE,UAAU;iBACxB,CAAC;gBAEF,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE;aACjC;iBAAM;gBACL,OAAO,OAAO,CAAC,MAAM,CAAC,uCAAuC,CAAC;aAC/D;QACH,CAAC;KAAA;IAEM,4BAA4B,CAAC,OAAe,EAAE,SAAkB;QACrE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;IAC1F,CAAC;IAEY,4BAA4B,CAAC,QAA+B,EAAE,OAAe,EAAE,UAAmB,KAAK;;YAClH,MAAM,gBAAgB,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC;YACxE,IAAI,OAAO,IAAI,gBAAgB,KAAK,SAAS,EAAE;gBAC7C,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,OAAO,CAAC;gBAChE,IAAI,CAAC,4BAA4B,CAAC,OAAO,EAAE,WAAW,CAAC;gBAEvD,OAAO,WAAW;aACnB;iBAAM;gBACL,OAAO,gBAAgB;aACxB;QACH,CAAC;KAAA;IAEY,sCAAsC,CAAC,QAA+B,EAAE,OAAe;;YAClG,MAAM,IAAI,CAAC,4BAA4B,CAAC,QAAQ,EAAE,OAAO,CAAC;YAE1D,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,0DAAG,CAAC,CAAC,kBAAkB,EAAE,EAAE,CAAC,kBAAkB,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;QACnG,CAAC;KAAA;IAEM,4BAA4B,CAAC,OAA6B;QAC/D,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YACzE,MAAM,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC;YACxB,MAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,sBAAsB,KAAK,OAAO,IAAI,8EAAkB,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACzH,IAAI,MAAM,EAAE;gBACV,IAAI,CAAC,4BAA4B,CAAC,MAAM,CAAC,QAAiC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,KAAK,CAC9F,qGAAiB,CAAC,yFAAa,CAAC,mBAAmB,CAAC,CACrD;aACF;QACH,CAAC,CAAC;IACJ,CAAC;IAEY,kBAAkB,CAC7B,MAA0B,EAC1B,gBAAqB,EACrB,IAAoB,EACpB,WAAmB;;YAEnB,QAAQ,IAAI,EAAE;gBACZ,KAAK,mEAAc,CAAC,kBAAkB;oBACpC,OAAO,IAAI,CAAC,yBAAyB,CAAC,MAAM,EAAE,gBAAgB,EAAE,IAAI,EAAE,WAAW,CAAC;gBACpF;oBACE,OAAO,IAAI,CAAC,6BAA6B,CAAC,MAAM,EAAE,gBAAgB,EAAE,IAAI,EAAE,WAAW,CAAC;aACzF;QACH,CAAC;KAAA;IAEY,6BAA6B,CACxC,MAA0B,EAC1B,WAA2B,EAC3B,IAAoB,EACpB,WAAmB;;YAEnB,MAAM,OAAO,GAAG;gBACd,SAAS,EAAE,MAAM,CAAC,SAAS;gBAC3B,WAAW,EAAE,WAAkB;gBAC/B,WAAW,EAAE,qBAAqB;aACnC;YACD,OAAO;gBACL;oBACE,EAAE,EAAE,WAAW;oBACf,QAAQ,EAAE,MAAM,CAAC,QAAQ,CAAC,UAAU;oBACpC,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,OAAO;iBACjB;aACF;QACH,CAAC;KAAA;IAEY,yBAAyB,CACpC,MAA0B,EAC1B,OAAiC,EACjC,IAAoB,EACpB,WAAmB;;YAEnB,MAAM,OAAO,GAAG;gBACd,SAAS,EAAE,MAAM,CAAC,SAAS;gBAC3B,OAAO,EAAE,OAAO,CAAC,OAAO;gBACxB,WAAW,EAAE,qBAAqB;aACnC;YACD,OAAO;gBACL;oBACE,EAAE,EAAE,WAAW;oBACf,QAAQ,EAAE,MAAM,CAAC,QAAQ,CAAC,UAAU;oBACpC,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,OAAO;iBACjB;aACF;QACH,CAAC;KAAA;IAEY,cAAc,CAAC,QAA+B,EAAE,OAAe;;YAC1E,OAAO,8EAAkB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK;QACrF,CAAC;KAAA;IAEY,kBAAkB,CAC7B,MAA0B,EAC1B,OAAe,EACf,MAAiB,EACjB,GAAc,EACd,YAAkC,EAClC,IAAU;;YAEV,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,gBAAgB,EAAE;YAE5C,IAAI;gBACF,IAAI,UAAU;gBACd,kEAAkE;gBAClE,IAAI,SAA+B;gBACnC,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK,uEAAkB,CAAC,MAAM,EAAE;oBAC5D,MAAM,eAAe,GAAG,IAAI,oEAAe,EAAE;oBAC7C,UAAU,GAAG,MAAM,eAAe,CAAC,iBAAiB,CAAC,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,sBAAsB,CAAC,EAAC,mBAAmB;oBACzH,SAAS,GAAG,MAAM,MAAM,CAAC,QAAQ,CAAC,qBAAqB,CAAC;wBACtD,SAAS,EAAE,MAAM,CAAC,SAAS;wBAC3B,WAAW,EAAE,UAAU;qBACxB,CAAC;iBACH;qBAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK,uEAAkB,CAAC,OAAO,EAAE;oBACpE,MAAM,QAAQ,GAAG,IAAI,6DAAQ,EAAE;oBAE/B,UAAU,GAAG,MAAM,QAAQ,CAAC,QAAQ,CAClC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,EACnB,OAAO,EACP,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,EACnB,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,yEAAyE;oBAC3F,MAAM,CAAC,SAAS,CACjB;oBAED,SAAS,GAAG,MAAM,MAAM,CAAC,QAAQ,CAAC,qBAAqB,CAAC;wBACtD,SAAS,EAAE,MAAM,CAAC,SAAS;wBAC3B,WAAW,EAAE,UAAU;qBACxB,CAAC;iBACH;qBAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK,wEAAmB,CAAC,GAAG,IAAI,oHAAmB,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE;oBAC9G,MAAM,SAAS,GAAoB,CAAC,MAAM,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CACpG,CAAC,QAAuB,EAAE,EAAE,CAAC,QAAQ,CAAC,UAAU,KAAK,wEAAmB,CAAC,GAAG,CAC7E;oBAED,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;wBACxB,MAAM,IAAI,KAAK,CAAC,2CAA2C,CAAC;qBAC7D;oBAED,MAAM,QAAQ,GAAkB,SAAS,CAAC,CAAC,CAAC;oBAE5C,IAAI,CAAC,CAAC,QAAQ,YAAY,yEAAoB,CAAC,EAAE;wBAC/C,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC;qBAC5C;oBAED,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;oBACvC,UAAU,GAAG,MAAM,QAAQ,CAAC,wBAAwB,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,EAAE,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;wBACrH,YAAY,EAAE,IAAI;qBACnB,CAAC;oBAEF,MAAM,gBAAgB,GAAa,YAAY;yBAC5C,MAAM,CAAC,CAAC,MAA0B,EAAE,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK,QAAQ,CAAC,UAAU,CAAC;yBAC1F,GAAG,CAAC,CAAC,MAA0B,EAAE,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC;oBAExD,SAAS,GAAG,MAAM,QAAQ,CAAC,qBAAqB,CAC9C;wBACE,SAAS,EAAE,MAAM,CAAC,SAAS;wBAC3B,WAAW,EAAE,UAAU;qBACxB,EACD,EAAE,gBAAgB,EAAE,CACrB;iBACF;qBAAM;oBACL,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK,wEAAmB,CAAC,YAAY,EAAE;wBACnE,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE;qBACxC;oBACD,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK,wEAAmB,CAAC,UAAU,EAAE;wBACjE,4CAA4C;wBAC5C,IAAI,CAAC,IAAI,EAAE;4BACT,IAAI,GAAG,EAAE;yBACV;wBACD,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC,iBAAiB;qBAClD;oBACD,UAAU,GAAG,MAAM,MAAM,CAAC,kBAAkB,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;oBACtG,SAAS,GAAG,MAAM,MAAM,CAAC,QAAQ,CAAC,qBAAqB,CAAC;wBACtD,SAAS,EAAE,MAAM,CAAC,SAAS;wBAC3B,WAAW,EAAE,UAAU;qBACxB,CAAC;iBACH;gBAED,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE;aACjC;YAAC,OAAO,KAAK,EAAE;gBACd,qGAAiB,CAAC,yFAAa,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC;gBAE/C,IAAI,CAAC,eAAe;qBACjB,MAAM,CAAC;oBACN,OAAO,EAAE,KAAK,CAAC,OAAO;oBACtB,QAAQ,EAAE,IAAI;oBACd,QAAQ,EAAE,QAAQ;iBACnB,CAAC;qBACD,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;oBACd,KAAK,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,qGAAiB,CAAC,yFAAa,CAAC,WAAW,CAAC,CAAC;gBACrE,CAAC,CAAC;gBACJ,MAAM,KAAK;aACZ;oBAAS;gBACR,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;aACxB;QACH,CAAC;KAAA;IAEY,yBAAyB,CACpC,MAA0B,EAC1B,WAAmB,EACnB,GAAe,EACf,yBAAmC;;YAEnC,MAAM,SAAS,GAAG,MAAM,MAAM,CAAC,mBAAmB,CAAC,CAAC,WAAW,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,SAAS,EAAE,yBAAyB,CAAC;YAC7H,OAAO,IAAI,mDAAS,CAAC,SAAS,CAAC;QACjC,CAAC;KAAA;IAEY,YAAY,CAAC,MAA0B,EAAE,OAAe,EAAE,MAAiB,EAAE,IAAU;;YAClG,IAAI;gBACF,OAAO,MAAM,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,EAAE,IAAI,CAAC;aACtE;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC;gBACpB,OAAO,MAAM,CAAC,QAAQ,CAAC,WAAW;aACnC;QACH,CAAC;KAAA;IAEa,gBAAgB;;YAC5B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBACjD,OAAO,EAAE,0BAA0B;aACpC,CAAC;YAEF,MAAM,MAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,qGAAiB,CAAC,yFAAa,CAAC,YAAY,CAAC,CAAC;YAE3E,OAAO,MAAM;QACf,CAAC;KAAA;IAEO,UAAU,CAAC,MAA6B;QAC9C,MAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,qGAAiB,CAAC,yFAAa,CAAC,YAAY,CAAC,CAAC;IACvE,CAAC;;oFAhdU,kBAAkB;sGAAlB,kBAAkB,WAAlB,kBAAkB,mBAFjB,MAAM;;;;;;;;;;;;;ACzDpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8C;AAEF;AACE;AACF;AACS;AAEgB;AAEX;;;AAanD,MAAM,0BAA0B;;oGAA1B,0BAA0B;yGAA1B,0BAA0B;6GAV5B;YACP,0DAAW;YACX,4DAAY;YACZ,0DAAW;YACX,8EAAgB;YAChB,mEAAe;YACf,4DAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,uEAAoB,EAAE,CAAC,CAAC;SACvE;mIAGU,0BAA0B,mBAFtB,uEAAoB,aAPjC,0DAAW;QACX,4DAAY;QACZ,0DAAW;QACX,8EAAgB;QAChB,mEAAe;;;;;;;;;;;;;;;;;;;;;;;ACjBmC;;;;;;;;ICElD,kFAAiF;;;IAA1C,sFAAsB;;;IAC7D,kFAAgF;;;IAAxC,oFAAoB;;;IAF9D,gFAA2E;IACzE,4JAAiF;IACjF,4JAAgF;IAClF,4DAAa;;;IAFQ,0DAAkB;IAAlB,qFAAkB;IAClB,0DAAmB;IAAnB,sFAAmB;;;IAItC,kFAA+E;;;IAAxC,qFAAoB;;;IAC3D,kFAAkF;;;IAA1C,uFAAsB;;;IAFhE,gFAA2E;IACzE,4JAA+E;IAC/E,4JAAkF;IACpF,4DAAa;;;IAFQ,0DAAkB;IAAlB,qFAAkB;IAClB,0DAAmB;IAAnB,sFAAmB;;;IAIpC,0EAA+F;;;IAC/F,0EAA4F;;;IAO5F,gFAAoG;IAClG,uDACF;IAAA,4DAAY;;;IADV,0DACF;IADE,4FACF;;;;IAGI,wEAAmC;IACjC,uDACF;;IAAA,qEAAe;;;IADb,0DACF;IADE,mTACF;;;IACA,wEAAoC;IAClC,uDACF;;IAAA,qEAAe;;;IADb,0DACF;IADE,iTACF;;;IANF,yEAA+E;IAC7E,2JAEe;IACf,2JAEe;IACjB,4DAAK;;;IANY,0DAAkB;IAAlB,sFAAkB;IAGlB,0DAAmB;IAAnB,uFAAmB;;;IAKlC,wEAAmC;IACjC,uDACF;;IAAA,qEAAe;;;IADb,0DACF;IADE,iTACF;;;IACA,wEAAoC;IAClC,uDACF;;IAAA,qEAAe;;;IADb,0DACF;IADE,mTACF;;;IANF,yEAA+E;IAC7E,2JAEe;IACf,2JAEe;IACjB,4DAAK;;;IANY,0DAAkB;IAAlB,sFAAkB;IAGlB,0DAAmB;IAAnB,uFAAmB;;;IAbtC,wEAA4D;IAC1D,mIAOK;IACL,mIAOK;IACP,qEAAe;;;IAhBiB,0DAA+C;IAA/C,kHAA+C;IAQ/C,0DAA+C;IAA/C,kHAA+C;;;IAWnF,wEAAgE;IAC9D,uDACF;IAAA,4DAAI;;;IADF,0DACF;IADE,2FACF;;;;IAKQ,wEAA8C;IAC5C,uDAKF;;;IAAA,4DAAI;;;IALF,0DAKF;IALE,ySAKF;;;;IAKA,wEAA8C;IAC5C,uDAKF;;;IAAA,4DAAI;;;IALF,0DAKF;IALE,ySAKF;;;IArBR,8EAAyF;IACvF,8EAAgC;IAC9B,8EAAyC;IACvC,+EAA6B;IAC3B,4HAMI;IACN,4DAAW;IACb,4DAAU;IACV,8EAAyC;IACvC,+EAA6B;IAC3B,4HAMI;IACN,4DAAW;IACb,4DAAU;IACZ,4DAAU;IACZ,4DAAU;;;IArBwB,0DAAkB;IAAlB,qFAAkB;IAWlB,0DAAkB;IAAlB,qFAAkB;;;ADpD/C,MAAM,wBAAwB;IASnC,YAA6B,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;IAAG,CAAC;IAEpD,QAAQ;;YACnB,IAAI;gBACF,IAAI,CAAC,QAAQ,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,kBAAkB,CAAC;aACnF;YAAC,WAAM,GAAE;QACZ,CAAC;KAAA;;gGAfU,wBAAwB;wGAAxB,wBAAwB;QCTrC,2EAAU;QACR,kIAGa;QAEb,kIAGa;QACb,4EAAW;QACT,qEAAI;QACF,8HAA+F;QAC/F,8HAA4F;QAC5F,0EAA+C;QAC7C,uDACF;;;QAAA,4DAAO;QACT,4DAAK;QAEL,+EAAuD;QACrD,kIAEY;QACZ,wIAiBe;QACjB,4DAAW;QACb,4DAAY;QACZ,kHAEI;QACJ,8HAyBU;QACZ,4DAAW;;QAvEiB,0DAA+C;QAA/C,+GAA+C;QAK/C,0DAA+C;QAA/C,+GAA+C;QAM1D,0DAAkB;QAAlB,kFAAkB;QAClB,0DAAmB;QAAnB,mFAAmB;QAE5B,0DACF;QADE,gUACF;QAIwC,0DAA0C;QAA1C,8GAA0C;QAGnE,0DAA2C;QAA3C,+GAA2C;QAoB/C,0DAA+C;QAA/C,+GAA+C;QAGpB,0DAA6C;QAA7C,6GAA6C;;;;;;;;;;;;;;AC9CzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAA8C;AACvC,SAAS,YAAY;IAC1B,iBAAiB;IACjB,IAAI,OAAO,MAAM,CAAC,MAAM,KAAK,WAAW,IAAI,OAAO,MAAM,CAAC,MAAM,CAAC,eAAe,KAAK,WAAW,EAAE;QAChG,uDAAuD;QACvD,6FAA6F;QAC7F,MAAM,GAAG,GAAG,IAAI,WAAW,CAAC,CAAC,CAAC;QAC9B,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,GAAG,CAAC;QAClC,MAAM,EAAE,GAAG,UAAU,GAAG;YACtB,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC;YAC1B,OAAO,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,GAAG,GAAG,GAAG,GAAG,GAAG;aAChB;YAED,OAAO,GAAG;QACZ,CAAC;QAED,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KACrI;SAAM;QACL,kCAAkC;QAClC,qGAAqG;QACrG,OAAO,sCAAsC,CAAC,OAAO,CAAC,OAAO,EAAE,UAAU,CAAC;YACxE,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC;YAClC,MAAM,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG;YAEzC,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC;QACvB,CAAC,CAAC;KACH;IACD,gBAAgB;AAClB,CAAC;AAEM,SAAS,EAAE,CAAe,OAAmB,EAAE,QAAiB;IACrE,OAAO,OAAO;SACX,IAAI,CAAY,CAAC,IAAO,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;SAC1C,KAAK,CAAiB,CAAC,GAAM,EAAE,EAAE;QAChC,IAAI,QAAQ,EAAE;YACZ,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,QAAQ,CAAC;SAC7B;QAED,OAAO,CAAC,GAAG,EAAE,SAAS,CAAC;IACzB,CAAC,CAAC;AACN,CAAC;AAEM,SAAS,SAAS,CAAI,KAAU,EAAE,OAAgC;IACvE,MAAM,IAAI,GAAQ,EAAE;IACpB,MAAM,IAAI,GAAQ,EAAE;IACpB,KAAK,CAAC,OAAO,CAAC,CAAC,OAAU,EAAE,EAAE;QAC3B,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;YACpB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;SACnB;aAAM;YACL,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;SACnB;IACH,CAAC,CAAC;IAEF,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC;AACrB,CAAC;AAED,SAAS,oBAAoB,CAAC,GAAW,EAAE,SAAiB;IAC1D,IAAI;QACF,MAAM,SAAS,GAAQ,IAAI,GAAG,CAAC,GAAG,CAAC;QAEnC,OAAO,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC;KAC7C;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,GAAG;KACX;AACH,CAAC;AAEM,SAAS,WAAW,CAAC,GAAsB,EAAE,SAAiB;IACnE,IAAI,MAA4B;IAChC,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;QACtB,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,KAAa,EAAE,EAAE,CAAC,oBAAoB,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;KAC5E;SAAM;QACL,IAAI;YACF,MAAM,GAAG,oBAAoB,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;SACzD;QAAC,OAAO,KAAK,EAAE;YACd,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC;SACxB;KACF;IAED,gFAAgF;IAChF,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,EAAY,EAAE,EAAU,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;IACnF,kEAAkE;IAElE,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,EAAU,EAAE,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC;AACjD,CAAC;AAEM,SAAS,yBAAyB,CAAC,IAAuB,EAAE,OAAe,iBAAiB,EAAE,YAAoB,GAAG;IAC1H,OAAO,GAAG,IAAI,IAAI,SAAS,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;AAC9E,CAAC;AAEM,SAAS,MAAM,CAAI,MAAe,EAAE,GAAG,MAAgB;IAC5D,OAAO,MAAM,YAAY,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,IAAI,MAAM,CAAC;AAC7E,CAAC;;;;;;;;;;;;;AC5FD;AAAA;AAAA;AAAA;AAA0C;AAE2B;AAuB9D,MAAM,WAAY,SAAQ,4DAAqB;IAiBpD,YAAY,MAAyB;QACnC,KAAK,CAAC,MAAM,CAAC;QAjBC,SAAI,GAAG,sDAAY,CAAC,UAAU;QAcvC,iBAAY,GAAY,KAAK;QAKlC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,IAAI,MAAM;QAC3C,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK;QACzB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,IAAI,EAAE;QAE3C,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,YAAY,IAAI,EAAE;QAEtC,IAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,KAAa,EAAE,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS;QAC5H,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,IAAI,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS;QAC5G,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU;QAEnC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU;QACnC,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS;QAC/F,IAAI,CAAC,sBAAsB,GAAG,MAAM,CAAC,sBAAsB;IAC7D,CAAC;IAEM,cAAc;QACnB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,KAAK,IAAI,CAAC,KAAK;QAElD,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC;SACpD;QAED,IAAI,IAAI,CAAC,sBAAsB,EAAE;YAC/B,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC;SAC9C;IACH,CAAC;IAEM,WAAW;QAChB,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY;QACtC,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,WAAW,EAAE;YACzC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;SACrE;IACH,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;AC9EqD;AAGd;;;AAMjC,MAAM,gBAAgB;IAC3B,YAA6B,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;IAAG,CAAC;IAEpD,SAAS,CAAC,KAAgB,EAAE,IAA4E;;YACnH,IACE,CAAC,IAAI;gBACL,CAAC,IAAI,CAAC,kBAAkB;gBACxB,CAAC,sDAAS,CAAC,WAAW,CAAC,IAAI,CAAC,kBAAkB,CAAC;gBAC/C,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,CAAC;gBACzC,CAAC,IAAI,CAAC,kBAAkB;gBACxB,CAAC,KAAK;gBACN,CAAC,sDAAS,CAAC,WAAW,CAAC,KAAK,CAAC;gBAC7B,KAAK,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,EACvB;gBACA;;;;;oBAKI;gBACJ,OAAO,EAAE;aACV;YAED,IAAI,QAAuB;YAE3B,IAAI;gBACF,QAAQ,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,kBAAkB,CAAC;aAC3E;YAAC,OAAO,CAAC,EAAE;gBACV,OAAO,EAAE;aACV;YAED,MAAM,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAE/F,OAAO,SAAS,CAAC,OAAO,EAAE;QAC5B,CAAC;KAAA;;gFAlCU,gBAAgB;kHAAhB,gBAAgB;;;;;;;;;;;;;;;;;;;;;;ACTyB;AAEuB;AAEuB;;;;AAG7F,MAAM,aAAa;IACxB,YAA4B,MAAc,EAAmB,eAAgC;QAAjE,WAAM,GAAN,MAAM,CAAQ;QAAmB,oBAAe,GAAf,eAAe,CAAiB;IAAG,CAAC;IAEpF,WAAW,CAAC,KAA6B;;YACpD,MAAM,UAAU,GAAW,KAAK,CAAC,MAAM,CAAC,UAAU;YAClD,IAAI,cAAsB;YAC1B,MAAM,oBAAoB,GAAa,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC;YAC5D,IAAI,oBAAoB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACnC,cAAc,GAAG,oBAAoB,CAAC,CAAC,CAAC;aACzC;YAED,MAAM,WAAW,GAAa,MAAM,CAAC,MAAM,CAAC,8FAAmB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAsB,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;YAC9G,IAAI,UAAU,GAAa,MAAM,CAAC,MAAM,CAAC,6FAAkB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAqB,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;YAEzG,IAAI,cAAc,KAAK,SAAS,EAAE;gBAChC,IAAI,cAAc,KAAK,8FAAmB,CAAC,GAAG,IAAI,cAAc,KAAK,8FAAmB,CAAC,IAAI,IAAI,cAAc,KAAK,8FAAmB,CAAC,GAAG,EAAE;oBAC3I,UAAU,GAAG,CAAC,MAAM,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,cAAc,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,QAAuB,EAAE,EAAE,CAC3G,QAAQ,CAAC,UAAU,CAAC,QAAQ,EAAE,CAC/B;iBACF;gBAED,OAAO,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC;aACvC;iBAAM;gBACL,OAAO,WAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,UAAU,CAAC,QAAQ,CAAC,UAAU,CAAC;aAC3E;QACH,CAAC;KAAA;;0EAzBU,aAAa;gGAAb,aAAa,WAAb,aAAa;;;;;;;;;;;;;ACN1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0C;AACoC;;;;;;;ICEtE,+EAAuE;IACrE,4EAAW;IAAA,uDAAgG;;;IAAA,4DAAY;IACzH,4DAAW;;;IADE,0DAAgG;IAAhG,qRAAgG;;;IAE7G,+EAAsE;IACpE,4EAAW;IACT,uDAEF;;;;IAAA,4DAAY;IACd,4DAAW;;;IAHP,0DAEF;IAFE,+XAEF;;;IAiCR,8EAAoF;IAClF,6EAA0C;IACxC,+EAAuD;IACrD,2EAA0C;IAC1C,2EAMa;IACb,2EAA4C;IAC1C,uDACF;;;IAAA,4DAAO;IACT,4DAAW;IACb,4DAAU;IACZ,4DAAU;;;IAXF,0DAAmE;IAAnE,sIAAmE;IAOnE,0DACF;IADE,uRACF;;;IAUM,4EAAmE;IACjE,uDACF;;IAAA,qEAAe;;IADb,0DACF;IADE,+KACF;;;IACA,4EAAiE;IAC/D,uDACF;;IAAA,qEAAe;;;IADb,0DACF;IADE,wNACF;;;IAEF,2EAA6C;IAC3C,uDACF;;;IAAA,4DAAO;;;IADL,0DACF;IADE,uRACF;;;IAXF,wEAA4D;IAC1D,2EAAsB;IACpB,2IAEe;IACf,2IAEe;IACjB,4DAAO;IACP,2HAEO;IACT,qEAAe;;;IAVI,0DAAkC;IAAlC,qGAAkC;IAGlC,0DAAgC;IAAhC,mGAAgC;IAIjB,0DAAW;IAAX,8EAAW;;;IAI7C,mFAAgH;;;IAMxH,8EAAkG;IAChG,6EAA0C;IACxC,+EAAuD;IACrD,2EAA0C;IAC1C,2EAOa;IACb,2EAA4C;IAC1C,uDACF;;IAAA,4DAAO;IACT,4DAAW;IACb,4DAAU;IACZ,4DAAU;;;IAZF,0DAAmE;IAAnE,sIAAmE;IAQnE,0DACF;IADE,uKACF;;ADzFD,MAAM,YAAY;IAgBvB;QAdO,eAAU,GAAY,KAAK;IAcnB,CAAC;IAZhB,IACI,MAAM,CAAC,KAAyB;QAClC,IAAI,CAAC,OAAO,GAAG,KAAK;QACpB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;IAC7B,CAAC;IAUO,eAAe,CAAC,MAA0B;QAChD,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK,wEAAmB,CAAC,MAAM;IAC7E,CAAC;;wEApBU,YAAY;4FAAZ,YAAY;QCTzB,0EAAyB;QACvB,6EAA2D;QACzD,6EAA0C;QACxC,8EAA8C;QAC5C,kHAEW;QACX,kHAKW;QACX,2EAAoI;QACtI,4DAAW;QACb,4DAAU;QACZ,4DAAU;QACV,6EAA+C;QAC7C,6EAA0C;QACxC,8EAA8C;QAC5C,gFASC;QACC,0EAAyE;QACzE,0EAAoE;QACtE,4DAAY;QACd,4DAAW;QACb,4DAAU;QACZ,4DAAU;QACV,+EAAwC;QACtC,+EAAyC;QACvC,yEAAO;QAAA,wDAAsD;;QAAA,4DAAQ;QACvE,4DAAU;QACV,+EAAwD;QACtD,yEAAO;QAAA,wDAAsD;;QAAA,4DAAQ;QACvE,4DAAU;QACZ,4DAAU;QACV,mHAgBU;QACV,+EAAyD;QACvD,8EAA0C;QACxC,gFAA6B;QAC3B,yEAAyB;QACvB,6HAYe;QACf,uIAAgH;QAClH,4DAAI;QACN,4DAAW;QACb,4DAAU;QACZ,4DAAU;QAEV,mHAiBU;QACZ,4DAAO;;QAtGD,+EAAkB;QAIoC,0DAAiB;QAAjB,iFAAiB;QAGjB,0DAAgB;QAAhB,gFAAgB;QAMF,0DAAoD;QAApD,iHAAoD;QAQpH,0DAAsF;QAAtF,uJAAsF;QAiBnF,0DAAsD;QAAtD,wKAAsD;QAGtD,0DAAsD;QAAtD,wKAAsD;QAGxB,0DAAyC;QAAzC,6GAAyC;QAqB3D,0DAA2C;QAA3C,+GAA2C;QAaV,0DAA0C;QAA1C,8GAA0C;QAMzD,0DAAuD;QAAvD,+HAAuD;;;;;;;;;;;;;;;;;;;ACpFvC;AAG3D;;GAEG;AACI,MAAM,oBAAqB,SAAQ,yEAA4B;IAGpE,YAA6B,oBAA0C;QACrE,KAAK,EAAE;QADoB,yBAAoB,GAApB,oBAAoB,CAAsB;QAFvD,SAAI,GAAW,sBAAsB;IAIrD,CAAC;IAEY,cAAc;;YACzB,MAAM,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;YAErD,OAAO,IAAI,CAAC,OAAO;QACrB,CAAC;KAAA;IAEY,WAAW,CAAC,IAAY;;YACnC,MAAM,OAAO,GAAW,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI;YAC5D,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;gBAC3D,OAAO,OAAO;aACf;iBAAM,IAAI,OAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,CAAC,UAAU,CAAC,yBAAyB,CAAC,EAAE;gBACvF,OAAO,OAAO,CAAC,OAAO,CAAC,yBAAyB,EAAE,EAAE,CAAC;aACtD;YAED,OAAO,SAAS;QAClB,CAAC;KAAA;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACf0B;AAGyD;AAEY;AAM9B;AACZ;AACkB;AACY;AAC1B;AAEiB;;;;;AAKpE,MAAM,aAAa;IAMxB,YACmB,eAAgC,EAChC,iBAAoC,EACpC,eAAgC,EAChC,OAA6B,EAC7B,eAAgC;QAJhC,oBAAe,GAAf,eAAe,CAAiB;QAChC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,oBAAe,GAAf,eAAe,CAAiB;QAChC,YAAO,GAAP,OAAO,CAAsB;QAC7B,oBAAe,GAAf,eAAe,CAAiB;QAEjD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE;QAC9B,IAAI,CAAC,IAAI,EAAE;IACb,CAAC;IAEY,KAAK;;YAChB,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YAC3B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE;YAC9B,IAAI,CAAC,IAAI,EAAE;QACb,CAAC;KAAA;IAEY,IAAI;;YACf,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE;YAExB,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAO,OAAO,EAAE,EAAE,CAAC;gBAC5C,IAAI,CAAC,SAAS,EAAE;gBAChB,IAAI,OAAO,CAAC,IAAI,KAAK,oEAAiB,CAAC,iBAAiB,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,EAAE;oBAC7G,OAAO,IAAI,CAAC,4BAA4B,CAAC,OAAO,CAAC;iBAClD;qBAAM;oBACL,MAAM,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;iBACjC;YACH,CAAC,EAAC;QACJ,CAAC;KAAA;IAEK,YAAY,CAAC,OAAmC;;YACpD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,kGAAiB;gBAC5B,cAAc,EAAE;oBACd,OAAO;oBACP,MAAM,EAAE,IAAI,CAAC,MAAM;oBACnB,aAAa,EAAE,IAAI;iBACpB;aACF,CAAC;YAEF,OAAO,KAAK,CAAC,OAAO,EAAE;QACxB,CAAC;KAAA;IAEY,eAAe,CAC1B,OAAyF,EACzF,QAAuB;;YAEvB,MAAM,OAAO,GAAI,OAA4B,CAAC,OAAO;YACrD,IAAI,OAAO,EAAE;gBACX,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC;gBACpI,IAAI,CAAC,mBAAmB,EAAE;oBACxB,MAAM,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,QAAQ,CAAC;iBACxD;aACF;YACD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,iEAAgB,CAAC,eAAe,EAAE,CAAC,OAAO,EAAE,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC9H,CAAC;KAAA;IAEY,eAAe;;YAC1B,IAAI,aAAa,GAA8D,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CACxG,iEAAgB,CAAC,eAAe,CACjC;YACD,MAAM,MAAM,GAAgD,CAAC,SAAS,EAAE,SAAS,CAAC;YAClF,IAAI,aAAa,EAAE;gBACjB,IAAI,aAAa,CAAC,CAAC,CAAC,EAAE;oBACpB,MAAM,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC,CAAC;iBAC7B;gBACD,IAAI,aAAa,CAAC,CAAC,CAAC,EAAE;oBACpB,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;oBAC3F,MAAM,CAAC,CAAC,CAAC,GAAG,QAAQ;iBACrB;aACF;YACD,OAAO,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;QAC7B,CAAC;KAAA;IAEY,OAAO,CAAC,QAAoC,EAAE,OAAmC;;YAC5F,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,iEAAgB,CAAC,eAAe,EAAE,EAAE,CAAC;YACjE,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACtE,MAAM,IAAI,CAAC,SAAS,CAAC,eAAe,EAAE,OAAO,CAAC,WAAW,CAAC;QAC5D,CAAC;KAAA;IAEY,UAAU;;YACrB,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,OAAM;aACP;YAED,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAChD,OAAO,EAAE,iCAAiC;gBAC1C,QAAQ,EAAE,KAAK;aAChB,CAAC;YACF,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;QAC7B,CAAC;KAAA;IAEY,UAAU;;YACrB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBAChB,OAAM;aACP;YACD,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YAC3B,IAAI,CAAC,MAAM,GAAG,SAAS;QACzB,CAAC;KAAA;IAEY,SAAS,CAAC,IAAmC,EAAE,WAAyB;;YACnF,IAAI,IAAI,CAAC,KAAK,EAAE;gBACd,OAAM;aACP;YAED,MAAM,QAAQ,GAAG,WAAW,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,UAAU;YAEhF,MAAM,OAAO,GACX,IAAI,KAAK,WAAW,CAAC,CAAC,CAAC,0DAA0D,QAAQ,KAAK,CAAC,CAAC,CAAC,oBAAoB,QAAQ,GAAG;YAElI,IAAI,CAAC,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC7C,OAAO;gBACP,QAAQ,EAAE,KAAK;gBACf,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,OAAO;wBACb,IAAI,EAAE,QAAQ;qBACf;iBACF;aACF,CAAC;YACF,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;QAC5B,CAAC;KAAA;IAEY,SAAS;;YACpB,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBACf,OAAM;aACP;YACD,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;YAC1B,IAAI,CAAC,KAAK,GAAG,SAAS;QACxB,CAAC;KAAA;IAEY,OAAO,CAAC,IAAuB;;YAC1C,MAAM,IAAI,CAAC,UAAU,EAAE;YACvB,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,MAAM,IAAI,CAAC,UAAU,EAAE;YACvB,MAAM,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;QACnC,CAAC;KAAA;IAEY,QAAQ;;YACnB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAS,EAAC,kBAAkB;QACzD,CAAC;KAAA;IAEY,UAAU,CAAC,IAAuB;;YAC7C,MAAM,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAW,EAAE,IAAI,CAAC,EAAC,kBAAkB;QACpE,CAAC;KAAA;IAEY,cAAc;;YACzB,MAAM,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC;QACxC,CAAC;KAAA;IAEY,gBAAgB,CAAC,KAAiC;;;YAC7D,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO;YAC3B,IAAI,OAAO,KAAK,gBAAgB,EAAE;gBAChC,OAAO,GAAG,2GAA2G;aACtH;YACD,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK;YAChD,oDAAoD;YACpD,oBAAoB;YACpB,wCAAwC;YACxC,gBAAgB;YAChB,MAAM;YACN,IAAI;YACJ,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,SAAS,EAAE,wEAAS;gBACpB,cAAc,EAAE;oBACd,KAAK,QAAE,KAAK,CAAC,IAAI,mCAAI,OAAO;oBAC5B,OAAO;oBACP,IAAI;iBACL;aACF,CAAC;YAEF,OAAO,KAAK,CAAC,OAAO,EAAE;;KACvB;IAEa,kBAAkB,CAAC,OAAiB;;YAChD,OAAO,CACL,OAAO;gBACP,OAAO,CAAC,IAAI;gBACZ,CAAC,OAAO,CAAC,IAAI,KAAK,8DAAiB,CAAC,OAAO;oBACzC,OAAO,CAAC,IAAI,KAAK,8DAAiB,CAAC,MAAM;oBACzC,OAAO,CAAC,IAAI,KAAK,8DAAiB,CAAC,WAAW;oBAC9C,OAAO,CAAC,IAAI,KAAK,8DAAiB,CAAC,MAAM,CAAC,CAC7C;QACH,CAAC;KAAA;IAEY,gBAAgB,CAAC,OAAmC;;YAC/D,MAAM,aAAa,GAAG;gBACpB,EAAE,EAAE,OAAO,CAAC,EAAE;gBACd,IAAI,EAAE,oEAAiB,CAAC,KAAK;gBAC7B,SAAS,EAAE,kEAAe,CAAC,aAAa;aAClC,EAAC,iBAAiB;YAE1B,MAAM,QAAQ,mBACZ,QAAQ,EAAE,MAAM,sEAAW,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EACvD,OAAO,EAAE,iEAAc,IACpB,aAAa,CACjB;YACD,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC;QACvC,CAAC;KAAA;IAEY,4BAA4B,CAAC,OAAmC;;YAC3E,MAAM,aAAa,GAAG;gBACpB,EAAE,EAAE,OAAO,CAAC,EAAE;gBACd,IAAI,EAAE,oEAAiB,CAAC,KAAK;gBAC7B,SAAS,EAAE,kEAAe,CAAC,qBAAqB;aAC1C,EAAC,iBAAiB;YAE1B,MAAM,QAAQ,mBACZ,QAAQ,EAAE,MAAM,sEAAW,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EACvD,OAAO,EAAE,iEAAc,IACpB,aAAa,CACjB;YACD,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC;YACrC,MAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;QAClE,CAAC;KAAA;IAEY,mBAAmB,CAAC,OAAmC;;YAClE,MAAM,aAAa,GAAG;gBACpB,EAAE,EAAE,OAAO,CAAC,EAAE;gBACd,IAAI,EAAE,oEAAiB,CAAC,KAAK;gBAC7B,SAAS,EAAE,kEAAe,CAAC,gBAAgB;aACrC,EAAC,iBAAiB;YAE1B,MAAM,QAAQ,mBACZ,QAAQ,EAAE,MAAM,sEAAW,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EACvD,OAAO,EAAE,iEAAc,IACpB,aAAa,CACjB;YACD,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC;YACrC,MAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,KAAK,CAAC,mBAAmB,CAAC,CAAC;QAC7D,CAAC;KAAA;IAEY,sBAAsB,CAAC,OAAmC,EAAE,KAAU,CAAC,mBAAmB;;YACrG,MAAM,aAAa,GAAG;gBACpB,EAAE,EAAE,OAAO,CAAC,EAAE;gBACd,IAAI,EAAE,oEAAiB,CAAC,KAAK;gBAC7B,SAAS,EAAE,kEAAe,CAAC,yBAAyB;gBACpD,SAAS,EAAE,KAAK,CAAC,IAAI;aACf,EAAC,iBAAiB;YAE1B,MAAM,QAAQ,mBACZ,QAAQ,EAAE,MAAM,sEAAW,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EACvD,OAAO,EAAE,iEAAc,IACpB,aAAa,CACjB;YAED,IAAI,YAAY,GAAG,EAAE;YACrB,IAAI;gBACF,YAAY;oBACV,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;wBACrC,CAAC,CAAC,8CAA8C,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE;wBAClH,CAAC,CAAC,KAAK,CAAC,OAAO;aACpB;YAAC,WAAM,GAAE;YAEV,OAAO,CAAC,KAAK,CAAC,eAAe,EAAE,YAAY,CAAC;YAE5C,MAAM,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC;YACrC,MAAM,IAAI,CAAC,gBAAgB,CAAC;gBAC1B,KAAK,EAAE,KAAK,CAAC,KAAK;gBAClB,OAAO,EAAE,YAAY;gBACrB,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK;aACrC,CAAC;QACX,CAAC;KAAA;IAEY,+BAA+B,CAAC,OAAgB;;YAC3D,MAAM,OAAO,GAET;gBACF,CAAC,8DAAiB,CAAC,OAAO,CAAC,EAAE;oBAC3B,UAAU,EAAE,SAAS;oBACrB,IAAI,EAAE,SAAS;oBACf,IAAI,EAAE,SAAS;oBACf,MAAM,EAAE,SAAS;oBACjB,aAAa,EAAE,SAAS;oBACxB,MAAM,EAAE;wBACN,OAAO,EAAE,SAAS;wBAClB,UAAU,EAAE,SAAS;wBACrB,cAAc,EAAE,SAAS;wBACzB,aAAa,EAAE,SAAS;qBACzB;iBACF;gBACD,CAAC,8DAAiB,CAAC,MAAM,CAAC,EAAE;oBAC1B,UAAU,EAAE,SAAS;oBACrB,IAAI,EAAE,OAAO,CAAC,IAAI,IAAI,QAAQ;oBAC9B,IAAI,EAAE,sFAAW,CAAC,OAAO;oBACzB,MAAM,EAAE,OAAO,CAAC,MAAM,IAAI,gDAAgD;oBAC1E,aAAa,EAAE,IAAI,+GAAqB,CAAC,4BAA4B,CAAC;oBACtE,MAAM,EAAE;wBACN,OAAO,EAAE,+FAAY,CAAC,MAAM;wBAC5B,UAAU,EAAE,mDAAmD;wBAC/D,cAAc,EAAE,+FAAY,CAAC,MAAM;wBACnC,aAAa,EAAE,aAAa;qBAC7B;iBACF;gBACD,CAAC,8DAAiB,CAAC,WAAW,CAAC,EAAE;oBAC/B,UAAU,EAAE,SAAS;oBACrB,IAAI,EAAE,OAAO,CAAC,IAAI,IAAI,aAAa;oBACnC,IAAI,EAAE,sFAAW,CAAC,OAAO;oBACzB,MAAM,EAAE,OAAO,CAAC,MAAM,IAAI,qDAAqD;oBAC/E,aAAa,EAAE,IAAI,+GAAqB,CAAC,iCAAiC,CAAC;oBAC3E,MAAM,EAAE;wBACN,OAAO,EAAE,+FAAY,CAAC,WAAW;wBACjC,UAAU,EAAE,wDAAwD;wBACpE,cAAc,EAAE,+FAAY,CAAC,WAAW;wBACxC,aAAa,EAAE,aAAa;qBAC7B;iBACF;gBACD,CAAC,8DAAiB,CAAC,UAAU,CAAC,EAAE;oBAC9B,UAAU,EAAE,SAAS;oBACrB,IAAI,EAAE,OAAO,CAAC,IAAI,IAAI,YAAY;oBAClC,IAAI,EAAE,sFAAW,CAAC,OAAO;oBACzB,MAAM,EAAE,OAAO,CAAC,MAAM,IAAI,oDAAoD;oBAC9E,aAAa,EAAE,IAAI,+GAAqB,CAAC,gCAAgC,CAAC;oBAC1E,MAAM,EAAE;wBACN,OAAO,EAAE,+FAAY,CAAC,WAAW;wBACjC,UAAU,EAAE,uDAAuD;wBACnE,cAAc,EAAE,+FAAY,CAAC,WAAW;wBACxC,aAAa,EAAE,aAAa;qBAC7B;iBACF;gBACD,CAAC,8DAAiB,CAAC,MAAM,CAAC,EAAE;oBAC1B,UAAU,EAAE,SAAS;oBACrB,IAAI,EAAE,OAAO,CAAC,IAAI,IAAI,gBAAgB;oBACtC,IAAI,EAAE,sFAAW,CAAC,MAAM;oBACxB,MAAM,EAAE,OAAO,CAAC,MAAM,IAAI,EAAE;oBAC5B,aAAa,EAAE,IAAI,+GAAqB,CAAC,EAAE,CAAC;oBAC5C,MAAM,EAAE;wBACN,OAAO,EAAE,+FAAY,CAAC,OAAO;wBAC7B,UAAU,EAAE,EAAE;wBACd,cAAc,EAAE,+FAAY,CAAC,OAAO;wBACpC,aAAa,EAAE,EAAE;qBAClB;iBACF;aACF;YAED,OAAO,IAAI,gGAAa,CACtB,IAAI,8GAAoB,CACtB,IAAI,8GAAoB,CACtB,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,EAC1B,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,EAC1B,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,EAC5B,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,aAAa,EACnC,IAAI,oHAA0B,CAC5B,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EACpC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,UAAU,EACvC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,cAAc,EAC3C,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,aAAa,CAC3C,CACF,CACF,CACF;QACH,CAAC;KAAA;IAEM,wBAAwB,CAAC,WAA8B;QAC5D,MAAM,GAAG,GAA8C,IAAI,GAAG,EAAE;QAChE,GAAG,CAAC,GAAG,CAAC,oEAAiB,CAAC,gBAAgB,EAAE,oEAAiB,CAAC,iBAAiB,CAAC;QAChF,GAAG,CAAC,GAAG,CAAC,oEAAiB,CAAC,gBAAgB,EAAE,oEAAiB,CAAC,iBAAiB,CAAC;QAChF,GAAG,CAAC,GAAG,CAAC,oEAAiB,CAAC,iBAAiB,EAAE,oEAAiB,CAAC,kBAAkB,CAAC;QAClF,GAAG,CAAC,GAAG,CAAC,oEAAiB,CAAC,kBAAkB,EAAE,oEAAiB,CAAC,mBAAmB,CAAC;QAEpF,OAAO,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC;IAC7B,CAAC;IAEY,kBAAkB;;YAC7B,OAAO,MAAY,IAAI,CAAC,MAAO,CAAC,OAAO,CAAC,GAAG,CAAC,6DAAU,CAAC,oBAAoB,CAAC;QAC9E,CAAC;KAAA;IAEO,SAAS;QACf,OAAO,IAAI,+DAAY,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC;IACpD,CAAC;;0EAxXU,aAAa;iGAAb,aAAa,WAAb,aAAa,mBAFZ,MAAM;;;;;;;;;;;;;;;;;;;;;;AClCuH;AAC5F;AAEP;AAEjC,MAAM,cAAe,SAAQ,oDAAS;IAA7C;;QACmB,aAAQ,GAAkB,IAAI,kEAAa,EAAE;QAC7C,mBAAc,GAAW,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;IA4B5G,CAAC;IA1Bc,YAAY,CAAC,YAAsC;;YAC9D,MAAM,GAAG,GAAG,IAAI,kEAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;YAChD,MAAM,MAAM,GAAgC,MAAM,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC;YAE3F,OAAO,IAAI,uEAAkB,CAC3B,IAAI,CAAC,QAAQ,EACb,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EACzB,KAAK,EACL,IAAI,CAAC,QAAQ,CAAC,sBAAsB,EACpC,EAAE,EACF,uEAAkB,CAAC,MAAM,EACzB,YAAY,CACb;QACH,CAAC;KAAA;IAEY,eAAe,CAAC,WAAgC;;YAC3D,MAAM,GAAG,GAAG,IAAI,kEAAK,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC;YAEhD,MAAM,SAAS,GAAW,IAAI;YAC9B,MAAM,MAAM,GAAgC,MAAM,GAAG,CAAC,aAAa,CACjE,IAAI,CAAC,cAAc,EACnB,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAC9D;YAED,OAAO,WAAW,CAAC,iBAAiB,GAAG,MAAM,CAAC,SAAS;QACzD,CAAC;KAAA;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCiH;AACU;AACA;AAI3C;AAKpC;AACL;AAEjC,MAAe,kBAAqD,SAAQ,oDAAS;IAK7E,YAAY,CAAC,YAAsC;;YAC9D,IAAI;gBACF,MAAM,cAAc,GAAa,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC;gBACjG,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,YAAY,CAAC,GAAa,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;gBAEzE,MAAM,GAAG,GAAiB,IAAI,CAAC,MAAM,EAAE;gBACvC,MAAM,QAAQ,GAAoB,MAAM,GAAG,CAAC,UAAU,CAAC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,CAAC;gBAE3F,OAAO,QAAQ,CAAC,WAAW,KAAK,sDAAU,CAAC,OAAO;oBAChD,CAAC,CAAC,IAAI,uEAAkB,CACpB,IAAI,CAAC,QAAQ,EACb,QAAQ,CAAC,MAAM,EACf,KAAK,EACL,IAAI,CAAC,QAAQ,CAAC,sBAAsB,EACpC,EAAE,EACF,uEAAkB,CAAC,MAAM,EACzB,YAAY,CACb;oBACH,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,yBAAyB,EAAE,QAAQ,CAAC;aAC9D;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,IAAI,CAAC,eAAe,CAAC,yBAAyB,EAAE,KAAK,CAAC;aAC9D;QACH,CAAC;KAAA;IAEY,eAAe,CAAC,WAAoC;;YAC/D,MAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,qBAAqB,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC;YAE1F,MAAM,SAAS,GAA6C,EAAE;YAC9D,KAAK,MAAM,EAAE,IAAI,GAAG,EAAE;gBACpB,SAAS,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,wBAAwB,CAAC,EAAE,CAAC,WAAW,EAAE,EAAE,CAAC,OAAO,CAAC,CAAC;aAChF;YAED,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE;gBACvC,OAAO,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC;aAClC;YAED,GAAG,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,WAAW,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YAE/D,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,qBAAqB,CAAC,aAAa,CAAC,GAAG,CAAC;QACvE,CAAC;KAAA;IAEa,wBAAwB,CACpC,WAA0C,EAC1C,OAAe;;YAEf,IAAI;gBACF,MAAM,cAAc,GAAa,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,sBAAsB,CAAC;gBACjG,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,YAAY,CAAC,GAAa,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;gBAEzE,MAAM,GAAG,GAAiB,IAAI,CAAC,MAAM,EAAE;gBACvC,MAAM,QAAQ,GAAiB,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;gBAEzG,IAAI,QAAQ,CAAC,WAAW,KAAK,sDAAU,CAAC,OAAO,EAAE;oBAC/C,MAAM,aAAa,GAA2B,0IAAsB,CAAC,0IAAsB,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC7H,MAAM,eAAe,GAAW,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;oBAE/D,MAAM,SAAS,GAA0C,0IAAyB,CAChF,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAC7C,CAAC,MAAM,CAAC,aAAa,EAAE,eAAe,CAAC;oBAExC,OAAO,0IAAoB,CAAC,eAAe,CAAC,WAAW,EAAE,EAAE,SAAS,EAAE,CAAC;iBACxE;qBAAM,IACL,QAAQ,CAAC,WAAW,KAAK,sDAAU,CAAC,mBAAmB;oBACvD,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,sDAAU,CAAC,mBAAmB,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,mEAAmE;kBAChJ;oBACA,4BAA4B;oBAC5B,OAAO,IAAI;iBACZ;qBAAM;oBACL,OAAO,IAAI,CAAC,eAAe,CAAC,4BAA4B,EAAE,QAAQ,CAAC;iBACpE;aACF;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,IAAI,CAAC,eAAe,CAAC,4BAA4B,EAAE,KAAK,CAAC;aACjE;QACH,CAAC;KAAA;IAEa,eAAe,CAAI,MAAc,EAAE,KAAoC;;YACnF,OAAO,OAAO,CAAC,MAAM,CACnB,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,YAAY,KAAK;gBACjD,CAAC,CAAC,GAAG,MAAM,KAAK,KAAK,EAAE;gBACvB,CAAC,CAAC,GAAG,MAAM,KAAK,KAAK,CAAC,aAAa,YAAY,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,iBAAiB,EAAE,GAAG,CACvG;QACH,CAAC;KAAA;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrG4E;AAGlC;AAGiD;;;;;;;;ICJ1F,uEAA0E;IACxE,uDACF;;;;IAAA,4DAAI;;;IADF,0DACF;IADE,mSACF;;;IAQE,uFAAyE;IACvE,2EAAU;IACR,uDACF;;;IAAA,4DAAW;IACb,4DAAoB;;;IAJqC,2EAAe;IAEpE,0DACF;IADE,sNACF;;;;IAVJ,gFAMC;IAFC,yWAA8B;;IAG9B,2KAIoB;;IACtB,4DAAa;;;IATX,wJAA+B;IAIM,0DAAkB;IAAlB,oJAAkB;;;IAZ3D,8EAA8G;IAC5G,8EAAsC;IAAA,uDAA8C;;IAAA,4DAAW;IAC/F,8HAEI;;;IACJ,gJAYa;;;IACf,4DAAW;;;IAjB6B,0DAA8C;IAA9C,8JAA8C;IACrE,0DAAyD;IAAzD,iPAAyD;IAIrE,0DAAuD;IAAvD,gPAAuD;;ADOrD,MAAM,2BAA2B;IAItC,YAA6B,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;QAC3D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,yBAAyB,EAAE,CAAC,IAAI,CAClE,0DAAG,CAAC,CAAC,MAAiC,EAAE,EAAE;YACxC,MAAM,YAAY,GAA8B,MAAM,CAAC,MAAM,CAC3D,CAAC,KAA8B,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM,KAAK,2FAAkB,CAAC,MAAM,CAC/E;YAED,OAAO,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,YAAY;QAC1E,CAAC,CAAC,CACH;QACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,8BAA8B,EAAE;IAC5E,CAAC;IAEY,QAAQ,CAAC,KAA6D;;YACjF,MAAM,YAAY,GAAsB,KAAK,CAAC,MAAM,CAAC,KAAK;YAC1D,MAAM,YAAY,GAAsB,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,4DAAK,EAAE,CAAC,CAAC,SAAS,EAAE;YAE1F,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,YAAY,EAAE,YAAY,CAAC,EAAE;gBACjE,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,YAAY,CAAC;aAClD;QACH,CAAC;KAAA;;sGAxBU,2BAA2B;2GAA3B,2BAA2B;QCbxC,mIAkBW;;;;QAlB0C,yOAAuD;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAtD;AACiF;AAE/F;AAC4D;AAClC;AACL;AACkC;;;;;;AAKxF,MAAM,kBAAkB;IAC7B,YACmB,WAAwB,EACxB,eAAgC,EAChC,kBAAsC,EACtC,MAAc;QAHd,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,WAAM,GAAN,MAAM,CAAQ;IAC7B,CAAC;IAEE,gBAAgB,CACrB,KAA8B,EAC9B,MAA0B,EAC1B,eAAwB,EACxB,IAAoB,EACpB,SAAgC,EAChC,UAAmB,KAAK,EACxB,WAAoB;QAEpB,MAAM,kBAAkB,GAAG,KAAK,CAAC,kBAAkB;QAEnD,QAAQ,kBAAkB,EAAE;YAC1B,KAAK,yFAAkB,CAAC,YAAY;gBAClC,IAAI,CAAC,4BAA4B,CAAC,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,eAAe,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,CAAC;gBACxG,MAAK;YACP,KAAK,yFAAkB,CAAC,UAAU;gBAChC,IAAI,CAAC,4BAA4B,CAAC,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,eAAe,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,CAAC;gBACxG,MAAK;YACP,KAAK,yFAAkB,CAAC,WAAW;gBACjC,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,eAAiD,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,CAAC;gBAC1G,MAAK;YACP,KAAK,yFAAkB,CAAC,cAAc;gBACpC,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,SAAS,EAAE,eAAiD,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,CAAC;gBACxH,MAAK;YACP,KAAK,yFAAkB,CAAC,MAAM;gBAC5B,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,SAAS,EAAE,eAAe,CAAC;gBACnD,MAAK;YACP,QAAQ;SACT;IACH,CAAC;IAEO,4BAA4B,CAClC,KAA8B,EAC9B,MAA0B,EAC1B,SAA+B,EAC/B,eAAwB,EACxB,IAAoB,EACpB,UAAmB,KAAK,EACxB,WAAoB;QAEpB,MAAM,IAAI,GAAG;YACX,KAAK;YACL,MAAM;YACN,SAAS;YACT,IAAI,EAAE,eAAe;YACrB,IAAI;YACJ,OAAO;YACP,WAAW;SACZ;QACD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iEAAc,CAAC,WAAW,EAAE,IAAI,CAAC;QAC1D,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,yBAAyB,GAAG,iEAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,oGAAiB,CAAC,wFAAa,CAAC,UAAU,CAAC,CAAC;IACtI,CAAC;IAEY,iBAAiB,CAC5B,MAA0B,EAC1B,SAA+B,EAC/B,eAA+C,EAC/C,IAAoB,EACpB,UAAmB,KAAK,EACxB,WAAoB;;YAEpB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,CAAC;YAC5F,MAAM,IAAI,GAAG;gBACX,MAAM;gBACN,SAAS;gBACT,IAAI,EAAE,MAAM;gBACZ,eAAe;aAChB;YACD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iEAAc,CAAC,WAAW,EAAE,IAAI,CAAC;YAC1D,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,kBAAkB,GAAG,iEAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC/G,CAAC;KAAA;IAEY,cAAc,CACzB,MAA0B,EAC1B,eAA+C,EAC/C,IAAoB,EACpB,UAAmB,KAAK,EACxB,WAAoB;;YAEpB,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,CAAC;YAC5F,IAAI,CAAC,eAAe;iBACjB,kBAAkB,CAAC,MAAM,CAAC;iBAC1B,IAAI,CAAC,GAAG,EAAE;gBACT,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,oGAAiB,CAAC,wFAAa,CAAC,UAAU,CAAC,CAAC;YACjG,CAAC,CAAC;iBACD,KAAK,CAAC,oGAAiB,CAAC,wFAAa,CAAC,iBAAiB,CAAC,CAAC;QAC9D,CAAC;KAAA;IAEM,UAAU,CAAC,MAA0B,EAAE,SAA+B,EAAE,IAAS;QACtF,MAAM,IAAI,GAAG;YACX,MAAM,EAAE,MAAM;YACd,SAAS,EAAE,SAAS;YACpB,IAAI;SACL;QACD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iEAAc,CAAC,WAAW,EAAE,IAAI,CAAC;QAC1D,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,eAAe,GAAG,iEAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,oGAAiB,CAAC,wFAAa,CAAC,UAAU,CAAC,CAAC;IAC5H,CAAC;IAEa,aAAa,CACzB,MAA0B,EAC1B,eAA+C,EAC/C,IAAoB,EACpB,UAAmB,KAAK,EACxB,WAAoB;;YAEpB,IAAI,OAAO,EAAE;gBACX,OAAO,eAAe;aACvB;YACD,WAAW,GAAG,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,uEAAU,CAAC,CAAC,CAAC;YACvD,OAAO,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;gBAC5G,OAAO,CAAC,IAAI,CAAC,oCAAoC,KAAK,EAAE,CAAC;gBACzD,2BAA2B;gBAE3B,OAAO,eAAe,EAAC,WAAW;YACpC,CAAC,CAAC;QACJ,CAAC;KAAA;;oFA3HU,kBAAkB;qGAAlB,kBAAkB,WAAlB,kBAAkB,mBAFjB,MAAM;;;;;;;;;;;;;;;;;;;;;;;ACT4D;AACP;AAEb;AACiD;AAetG,MAAM,qBAAsB,SAAQ,0EAA0C;IAGnF,YAA4B,OAAqC;QAC/D,KAAK,CAAC,OAAO,CAAC;QADY,YAAO,GAAP,OAAO,CAA8B;IAEjE,CAAC;IAEe,OAAO;;YACrB,IAAI,CAAC,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBACxD,OAAO,EAAE,0BAA0B;aACpC,CAAC;YAEF,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,oHAAiB,CAAC,wGAAa,CAAC,YAAY,CAAC,CAAC;YAEhF,IAAI;gBACF,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,sBAAsB,CAC5F,IAAI,CAAC,OAAO,CAAC,MAAM,EACnB,IAAI,CAAC,OAAO,CAAC,IAAI,EACjB,IAAI,CAAC,OAAO,CAAC,IAAI,CAClB;gBAED,MAAM,IAAI,GAAG;oBACX,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM;oBAC3B,SAAS;oBACT,IAAI,EAAE,UAAU;oBAChB,IAAI,EAAE,mEAAc,CAAC,sBAAsB;iBAC5C;gBAED,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,iFAAc,CAAC,WAAW,EAAE,IAAI,CAAC;gBAClE,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,UAAU,EAAE,mEAAc,CAAC,sBAAsB,EAAE,SAAS,CAAC;aAChI;YAAC,OAAO,KAAK,EAAE;gBACd,oHAAiB,CAAC,wGAAa,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,IAAI,KAAK,EAAE,CAAC;gBAErE,MAAM,KAAK,GAAwB,MAAM,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,MAAM,CAAC;oBAC3E,OAAO,EAAE,KAAK,CAAC,OAAO;oBACtB,QAAQ,EAAE,IAAI;oBACd,QAAQ,EAAE,QAAQ;iBACnB,CAAC;gBACF,KAAK,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,oHAAiB,CAAC,wGAAa,CAAC,WAAW,CAAC,CAAC;aACpE;oBAAS;gBACR,IAAI,CAAC,aAAa,EAAE;aACrB;QACH,CAAC;KAAA;IAEO,aAAa;QACnB,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,oHAAiB,CAAC,wGAAa,CAAC,YAAY,CAAC,CAAC;SAC3E;IACH,CAAC;CACF;;;;;;;;;;;;;ACrED;AAAA;AAAO,MAAM,QAAQ;IAQnB;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAI,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAChD,IAAI,CAAC,QAAQ,GAAG,OAAO;YACvB,IAAI,CAAC,OAAO,GAAG,MAAM;QACvB,CAAC,CAAC;QACF,IAAI,CAAC,KAAK,GAAG,SAAS;IACxB,CAAC;IAEM,OAAO,CAAC,KAAS;QACtB,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;YAC5B,IAAI,CAAC,KAAK,GAAG,UAAU;YACvB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;SACrB;IACH,CAAC;IAEM,MAAM,CAAC,MAAY;QACxB,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;YAC5B,IAAI,CAAC,KAAK,GAAG,UAAU;YACvB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;SACrB;IACH,CAAC;CACF;;;;;;;;;;;;;AC3BD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsM;AAE/L,SAAS,qBAAqB;IACnC,OAAO,EAAE,IAAI,EAAE,yEAAoB,CAAC,kBAAkB,EAAE;AAC1D,CAAC;AAEM,SAAS,qBAAqB,CAAC,kBAAoC,MAAM,CAAC,MAAM,CAAC,mEAAc,CAAC;IACrG,OAAO,EAAE,IAAI,EAAE,yEAAoB,CAAC,iBAAiB,EAAE,eAAe,EAAE;AAC1E,CAAC;AAEM,SAAS,yBAAyB;IACvC,OAAO,EAAE,IAAI,EAAE,yEAAoB,CAAC,sBAAsB,EAAE;AAC9D,CAAC;AAEM,SAAS,eAAe,CAAC,qBAA2D;IACzF,MAAM,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,EAAE,aAAa,CAAC,EAAE,EAAE,CAAC,CAAC;QACtF,EAAE,EAAE,QAAQ,CAAC,OAAO,CAAC;QACrB,IAAI,EAAE,aAAa,CAAC,IAAI;KACzB,CAAC,CAAC;IACH,OAAO,EAAE,IAAI,EAAE,yEAAoB,CAAC,WAAW,EAAE,MAAM,EAAE;AAC3D,CAAC;AAEM,SAAS,YAAY,CAAC,KAAW;IACtC,OAAO,EAAE,IAAI,EAAE,yEAAoB,CAAC,OAAO,EAAE,KAAK,EAAE;AACtD,CAAC;AAEM,SAAS,kBAAkB,CAAC,KAAc;IAC/C,OAAO,OAAO,KAAK,KAAK,QAAQ,IAAI,MAAM,CAAC,MAAM,CAAC,yEAAoB,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AACjG,CAAC;AAEM,SAAS,iBAAiB,CAAC,QAA+B,EAAE,cAA8B;;IAC/F,MAAM,UAAU,GAAG,eAAe,CAAC,cAAc,CAAC;IAClD,IAAI,UAAU,KAAK,SAAS,EAAE;QAC5B,OAAO,KAAK;KACb;IAED,mBAAO,QAAQ,CAAC,UAAU,0CAAE,IAAI,CAAC,CAAC,KAAa,EAAE,EAAE;QACjD,MAAM,IAAI,GAAG,eAAe,CAAC,KAAK,CAAC;QACnC,IAAI,IAAI,KAAK,SAAS,EAAE;YACtB,OAAO,KAAK;SACb;QAED,OAAO,IAAI,KAAK,UAAU;IAC5B,CAAC,oCAAK,KAAK;AACb,CAAC;AAEM,SAAS,eAAe,CAAC,KAAa;IAC3C,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;QAC5C,OAAO,SAAS;KACjB;IAED,MAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;IAC9C,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS;AACxC,CAAC;;;;;;;;;;;;;ACtDD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsE;;;;;;ICIlE,wEAA0E;IAAA,uDAA6B;;IAAA,4DAAK;;;IAAlC,0DAA6B;IAA7B,oJAA6B;;;IACvG,mEAA6H;;;;IAA/C,4NAAyC;;;IACvH,qEAA+B;IAAA,uDAAoC;;IAAA,4DAAK;;;IAAzC,0DAAoC;IAApC,2JAAoC;;;IACnE,oEAAyF;;;;IAAtD,mOAAgD;;ADAhF,MAAM,cAAc;;4EAAd,cAAc;8FAAd,cAAc;QCR3B,8EAA4D;QAC1D,gFAAiF;QAC/E,yEAA8C;QAChD,4DAAa;QACb,+EAAiC;QAC/B,wGAA4G;QAC5G,wGAA6H;QAC7H,wGAAwE;QACxE,wGAAyF;QAC3F,4DAAY;QACd,4DAAW;;QARG,0DAAwB;QAAxB,qFAAwB;QAGqB,0DAAiB;QAAjB,iFAAiB;QACjB,0DAAqB;QAArB,qFAAqB;QACvE,0DAAwB;QAAxB,wFAAwB;QACxB,0DAA4B;QAA5B,4FAA4B;;;;;;;;;;;;;;ACPrC;AAAA;AAAA;AAAA;AAAA;AAA6E;AACxB;;;AAG9C,MAAM,eAAe;IAC1B,YAA4B,MAAc;QAAd,WAAM,GAAN,MAAM,CAAQ;IAAG,CAAC;IACvC,WAAW,CAAC,KAA6B;QAC9C,MAAM,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,EAAE;QAEjC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,iEAAc,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;YACtD,MAAM,CAAC,KAAK,CAAC,gDAAgD,CAAC;YAC9D,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC;SAC/B;QACD,OAAO,MAAM,CAAC,MAAM,CAAC,iEAAc,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC;IAC1D,CAAC;;8EAVU,eAAe;kGAAf,eAAe,WAAf,eAAe;;;;;;;;;;;;;ACL5B;AAAA;AAAA;AAAoE;AAW7D,MAAM,UAAW,SAAQ,kDAAQ;IAUtC,YAAY,MAAwB;QAClC,KAAK,CAAC,MAAM,CAAC;QAVC,SAAI,GAAG,sDAAY,CAAC,SAAS;QAY3C,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ;QAE/B,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI;QACvB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ;QAE/B,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW;QACrC,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe;IAC/C,CAAC;IAES,cAAc;QACtB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;IACpB,CAAC;CACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpC8F;AAUlE;AAGqD;AAC5B;AAElB;AAEuC;AACL;AACuC;AAC5B;;;;;;;;;;;ICX7E,yEAAuE;IACrE,yFAMC;IADC,+WAAsC;IACvC,6DAAqB;IACxB,sEAAe;;;IANX,2DAAmB;IAAnB,oFAAmB;;;;IASrB,uEAA0D;IACxD,6FAIC;IADC,wYAAuD;IACxD,6DAAwB;IAC3B,6DAAM;;;;IAJF,2DAAiC;IAAjC,kGAAiC;;;IAHvC,0EAA+G;IAC7G,qHAMM;IACR,6DAAM;;;IAP+B,2DAAqB;IAArB,+FAAqB;;;IAS1D,uEAA4H;IAC1H,+EAAoC;IAClC,+EAAgC;IAC9B,2EAA2B;IAAA,wDAA0B;;IAAA,6DAAM;IAC7D,6DAAU;IACZ,6DAAU;IACZ,6DAAM;;;IAH2B,2DAA0B;IAA1B,wJAA0B;;;IAUzD,yEAAuE;IACrE,wDACF;;IAAA,sEAAe;;IADb,2DACF;IADE,8KACF;;;IACA,yEAAuE;IAAA,wDAAgD;;IAAA,sEAAe;;IAA/D,2DAAgD;IAAhD,kKAAgD;;ADvB7H,IAAK,OAKJ;AALD,WAAK,OAAO;IACV,8CAAmC;IACnC,sDAA2C;IAC3C,kDAAuC;IACvC,oDAAyC;AAC3C,CAAC,EALI,OAAO,KAAP,OAAO,QAKX;AAkCM,MAAM,iBAAiB;IAkB5B,YACmB,eAAgC,EAChC,cAA+B,EAC/B,SAA0B,EAC1B,aAA4B,EAC5B,gBAAkC,EAClC,eAAgC;QALhC,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAiB;QAC/B,cAAS,GAAT,SAAS,CAAiB;QAC1B,kBAAa,GAAb,aAAa,CAAe;QAC5B,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,oBAAe,GAAf,eAAe,CAAiB;QAvB5C,UAAK,GAAW,EAAE;QAClB,kBAAa,GAAW,EAAE;QAC1B,gBAAW,GAAW,EAAE;QACxB,QAAG,GAAW,EAAE;QAChB,SAAI,GAAW,EAAE;QAGjB,sBAAiB,GAAyB,EAAE;QAGnC,kBAAa,GAAmB,OAAO;IAcpD,CAAC;IAEJ,IAAW,OAAO;QAChB,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE;YACrC,OAAO,IAAI,CAAC,cAAc,CAAC,sBAAsB;SAClD;QACD,OAAO,EAAE;IACX,CAAC;IAEY,QAAQ;;YACnB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,CAAC,OAA6B,EAAE,EAAE;gBAC7G,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,MAAM,CACrC,CAAC,MAA0B,EAAE,EAAE,CAC7B,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK,wEAAmB,CAAC,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK,wEAAmB,CAAC,IAAI,CAAC;oBACnH,MAAM,CAAC,MAAM,KAAK,uEAAkB,CAAC,MAAM,CAC9C;gBACD,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;iBAChD;YACH,CAAC,CAAC;YACF,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,OAAO,CAAC,eAAe,EAAE;gBACnE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,kCAAkC,CAAC;gBAC9E,MAAM,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAkC,CAAC;aACtE;YAED,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,OAAO,CAAC,mBAAmB,EAAE;gBACvE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,+BAA+B,CAAC;gBAC3E,MAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAyB,CAAC;aAC5D;YAED,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,OAAO,CAAC,qBAAqB,EAAE;gBACzE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,4BAA4B,CAAC;gBACxE,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAA0B,CAAC;aACxD;YAED,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,OAAO,CAAC,mBAAmB,EAAE;gBACvE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,+BAA+B,CAAC;gBAC3E,MAAM,IAAI,CAAC,iBAAiB,EAAE;aAC/B;QACH,CAAC;KAAA;IAEY,oBAAoB,CAAC,cAAsC;;YACtE,IAAI,CAAC,cAAc,mCAAQ,IAAI,CAAC,cAAc,KAAE,QAAQ,EAAE,cAAc,CAAC,QAAQ,EAAE,QAAQ,EAAE,cAAc,CAAC,QAAQ,GAAE;YAEtH,MAAM,gBAAgB,GAAG,IAAI,qEAAgB,EAAE;YAC/C,IAAI,CAAC,kBAAkB,GAAG,MAAM,gBAAgB,CAAC,qBAAqB,CAAC;gBACrE,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,SAAS;gBACxC,WAAW,EAAE,IAAI,CAAC,cAAc;aACjC,CAAC;YAEF,IAAI,CAAC,eAAe,GAAG,GAAS,EAAE,CAAC;gBACjC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAClC,IAAI,CAAC,cAAc,EACnB,IAAI,CAAC,cAAc,EACnB,mEAAc,CAAC,sBAAsB,EACrC,IAAI,CAAC,kBAAkB,CACxB;YACH,CAAC;YACD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,OAAO,EAAE,6BAA6B;gBACtC,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,QAAQ;aACnB,CAAC;YAEF,KAAK,CAAC,OAAO,EAAE;QACjB,CAAC;KAAA;IAEY,IAAI;;YACf,IAAI,IAAI,CAAC,eAAe,EAAE;gBACxB,MAAM,IAAI,CAAC,eAAe,EAAE;aAC7B;YACD,MAAM,IAAI,CAAC,YAAY,EAAE;QAC3B,CAAC;KAAA;IAEa,WAAW,CAAC,OAAwB;;YAChD,MAAM,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;YACjC,MAAM,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;YAEjC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;gBACxB,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC;aACpC;YACD,MAAM,SAAS,GAAG,IAAI,mDAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,QAAQ,EAAE;YACtD,MAAM,WAAW,GAAG,uEAAU,CAAC,CAAC,CAAC;YACjC,MAAM,QAAQ,GAAG,IAAI,qEAAgB,EAAE;YAEvC,IAAI,CAAC,aAAa,GAAG;gBACnB,IAAI,EAAE,oEAAiB,CAAC,kBAAkB;gBAC1C,WAAW,EAAE,KAAoB;gBACjC,OAAO,EAAE,OAAO;gBAChB,aAAa,EAAE,OAAO;gBACtB,EAAE,EAAE,SAAS;gBACb,QAAQ,EAAE,EAAE;gBACZ,WAAW,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE;gBACvC,OAAO,EAAE,GAAG;aACiB;YAE/B,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC;YAChE,IAAI,CAAC,eAAe,GAAG,GAAS,EAAE,CAAC;gBACjC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAClC,IAAI,CAAC,cAAc,EACnB,IAAI,CAAC,aAAa,EAClB,mEAAc,CAAC,kBAAkB,EACjC,SAAS,EACT,KAAK,EACL,WAAW,CACZ;YACH,CAAC;QACH,CAAC;KAAA;IAEa,iBAAiB,CAAC,OAAgC;;YAC9D,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;YACvG,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;YAC/E,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACvF,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;YAE3F,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;gBACxB,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC;aACpC;YAED,IAAI,CAAC,eAAe,GAAG,GAAwB,EAAE,CAAC;gBAChD,kBAAkB;gBAClB,MAAM,WAAW,GAAG;oBAClB,OAAO,EAAE,CAAC;oBACV,QAAQ,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC;iBACzB;gBACD,IAAI,IAAI,CAAC,SAAS,EAAE;oBAClB,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,WAAW,CAAC;oBAC1C,uGAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;iBACxE;YACH,CAAC;QACH,CAAC;KAAA;IAEa,gBAAgB,CAAC,OAAuB;;YACpD,MAAM,gBAAgB,GAAqB,IAAI,qEAAgB,EAAE;YAEjE,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;gBACxB,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC;aACpC;YAED,MAAM,OAAO,GAA4B,IAAI,4EAAuB,EAAE;YACtE,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,UAAU,CAAC,WAAW,EAAE;YACvD,MAAM,OAAO,GAAG,MAAM,OAAO,CAAC,UAAU,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,sBAAsB,CAAC;YAC1G,MAAM,QAAQ,GAAG,IAAI,qEAAgB,EAAE;YACvC,MAAM,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;YAE7B,IAAI,CAAC,cAAc,GAAG;gBACpB,KAAK,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,mDAAS,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;gBACzE,QAAQ,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,IAAI,mDAAS,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;gBACnF,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;gBACtC,EAAE,EAAE,GAAG,CAAC,EAAE;gBACV,KAAK,EAAE,GAAG,CAAC,KAAK;gBAChB,OAAO,EAAE,CAAC;gBACV,IAAI,EAAE,GAAG,CAAC,IAAI;aACf;YAED,MAAM,oBAAoB,GAAG;gBAC3B,WAAW,EAAE,IAAI,CAAC,cAAc;gBAChC,EAAE,EAAE,OAAO,CAAC,EAAE;aACf;YAED,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,oBAAoB,EAAE,QAAQ,CAAC;YAElE,IAAI,CAAC,kBAAkB,GAAG,MAAM,gBAAgB,CAAC,qBAAqB,CAAC;gBACrE,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,SAAS;gBACxC,WAAW,EAAE,IAAI,CAAC,cAAc;aACjC,CAAC;YAEF,IAAI,CAAC,eAAe,GAAG,GAAS,EAAE,CAAC;gBACjC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAClC,IAAI,CAAC,cAAc,EACnB,IAAI,CAAC,cAAc,EACnB,mEAAc,CAAC,sBAAsB,EACrC,IAAI,CAAC,kBAAkB,CACxB;YACH,CAAC;QACH,CAAC;KAAA;IAEY,YAAY;;YACvB,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,oHAAiB,CAAC,wGAAa,CAAC,UAAU,CAAC,CAAC;QACnF,CAAC;KAAA;IAEY,OAAO;;YAClB,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;QACrC,CAAC;KAAA;IAEY,aAAa,CAAC,EAAU;;YACnC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC;gBAC3B,EAAE,EAAE,EAAE;gBACN,KAAK,EAAE;oBACL,OAAO,EAAE,gBAAgB,CAAC,WAAW;iBACtC;aACF,CAAC;QACJ,CAAC;KAAA;IAEa,iBAAiB;;YAC7B,MAAM,KAAK,GAAwB,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAC7D,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,2BAA2B,CAAC;gBAClE,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,6BAA6B,CAAC;gBACrE,eAAe,EAAE,KAAK;gBACtB,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,IAAI;wBACV,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE,GAAG,EAAE;4BACZ,IAAI,CAAC,OAAO,EAAE;wBAChB,CAAC;qBACF;iBACF;aACF,CAAC;YACF,KAAK,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,oHAAiB,CAAC,wGAAa,CAAC,WAAW,CAAC,CAAC;QACrE,CAAC;KAAA;IAEK,SAAS,CAAC,MAA0B;;YACxC,IAAI,CAAC,cAAc,GAAG,MAAM;QAC9B,CAAC;KAAA;IAEM,WAAW;QAChB,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;IACjC,CAAC;;kFApPU,iBAAiB;kGAAjB,iBAAiB;QC9D9B,iFAAkC;QAChC,+EAA8C;QAC5C,+EAAa;QACX,6EAAW;QAAA,wDAAW;QAAA,6DAAY;QACpC,6DAAc;QAChB,6DAAW;QACb,6DAAa;QAEb,kFAAiC;QAC/B,+EAA8C;QAC5C,gIAQe;QAEf,8GAQM;QAEN,8GAMM;QACR,6DAAW;QAEX,+EAAyD;QACvD,kFAAgE;QAApB,+IAAS,aAAS,IAAC;QAAC,yDAA+C;;QAAA,6DAAa;QAE5H,kFAA2D;QAAjB,+IAAS,UAAM,IAAC;QACxD,kIAEe;QACf,kIAAsI;QACxI,6DAAa;QACf,6DAAU;QACZ,6DAAc;;QA9CG,2DAAW;QAAX,2EAAW;QAOT,2DAAsD;QAAtD,2HAAsD;QAU/D,2DAA0D;QAA1D,+HAA0D;QAU1D,2DAAoH;QAApH,iMAAoH;QAU1D,2DAA+C;QAA/C,kKAA+C;QAG9F,2DAAsD;QAAtD,2HAAsD;QAGtD,2DAAsD;QAAtD,2HAAsD;;;;;;;;;;;;;;AC9C3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsE;AACH;AACV;AACjB;AAE4B;;;;;;;ICwBhE,8EAAoE;IAClE,+EAA+C;IAC7C,uEAAyB;IACvB,uDACF;;IAAA,4DAAI;IACN,4DAAW;IACb,4DAAU;;IAHJ,0DACF;IADE,qLACF;;;;IAjCR,0EAA6E;IAC3E,6EAA6F;IAC3F,6EAAkE;IAChE,8EAAoE;IAClE,+EAAuE;IAAA,iEAAM;IAAA,4DAAY;IACzF,0EAAkG;IACpG,4DAAW;IACX,8EAAmD;IACjD,uEAAyB;IAAA,uDAAkG;;IAAA,4DAAI;IACjI,4DAAW;IACb,4DAAU;IACV,8EAAyC;IACvC,+EAAa;IACX,mFAAwB;IACtB,kFAOC;IAFC,+TAA2B;IAG3B,wDACF;;IAAA,4DAAa;IACf,4DAAc;IAChB,4DAAc;IAChB,4DAAU;IACZ,4DAAU;IACV,+EAA2D;IACzD,6HAMU;IACZ,4DAAU;IACZ,4DAAO;;;IArCc,4FAA4B;IAGG,0DAAqB;IAArB,qFAAqB;IAKxC,0DAAkG;IAAlG,6OAAkG;IAQvH,0DAA4C;IAA5C,4GAA4C;IAM5C,0DACF;IADE,kLACF;IAMc,0DAA8C;IAA9C,iHAA8C;;ADjB/D,MAAM,eAAe;IAiB1B,YAAmB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAfpC,WAAM,GAAW,CAAC;QAClB,kBAAa,GAAY,KAAK;QAS9B,aAAQ,GAAY,KAAK;QAGhB,kBAAa,GAA4B,IAAI,0DAAY,EAAa;QAGpF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC3C,MAAM,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;SACjE,CAAC;QACF,IAAI,CAAC,SAAS,EAAE;IAClB,CAAC;IAEM,eAAe;QACpB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC3C,MAAM,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,EAAE,6EAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SAC3H,CAAC;IACJ,CAAC;IACM,eAAe;QACpB,IAAI,CAAC,aAAa,GAAG,CAAC,IAAI,CAAC,aAAa;QACxC,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,YAAY,EAAE;SACpB;IACH,CAAC;IAEM,SAAS;QACd,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,GAAQ,EAAE,EAAE;YACtD,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,EAAE;gBACrB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,sDAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;aAC5F;QACH,CAAC,CAAC;IACJ,CAAC;IAEO,YAAY;QAClB,IAAI,MAAM;QACV,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE;SACpF;aAAM;YACL,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE;SAC7F;QACD,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;YACnD,SAAS,EAAE,IAAI;SAChB,CAAC;IACJ,CAAC;;8EAtDU,eAAe;+FAAf,eAAe;QCZ5B,+GAqCO;;QArCA,4EAAY;;;;;;;;;;;;;;ACCnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkG;;;;;;ICDlG,wEAAgD;IAC9C,6EAAwD;IACtD,0EAAS;IACP,8EAA6B;IAC3B,wEAA2C;IACzC,uDACF;;IAAA,4DAAK;IACP,4DAAW;IACb,4DAAU;IACV,0EAAS;IACP,uEAAsC;IACpC,yEAAQ;IACN,wDACF;IAAA,4DAAS;IACX,4DAAI;IACN,4DAAU;IACZ,4DAAU;IACZ,qEAAe;;;IAZL,0DACF;IADE,0JACF;IAME,0DACF;IADE,wFACF;;ADLD,MAAM,4BAA4B;;wGAA5B,4BAA4B;4GAA5B,4BAA4B;QCRzC,2IAiBe;;QAjBgB,qFAAe;;;;;;;;;;;;;;ACC9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyE;AAEV;AACI;AACU;AACE;;;AAE/E,MAAM,MAAM,GAAW;IACrB,EAAE,IAAI,EAAE,EAAE,EAAE,YAAY,EAAE,GAAG,EAAE,CAAC,oNAAkC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC,EAAE;IAClG,EAAE,IAAI,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,EAAE,CAAC,2KAAoC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE;IAC1G;QACE,IAAI,EAAE,aAAa;QACnB,YAAY,EAAE,GAAG,EAAE,CAAC,8PAAgD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,oBAAoB,CAAC;KACzG;IACD;QACE,IAAI,EAAE,0CAA0C;QAChD,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,gFAAe,CAAC;QAC9B,YAAY,EAAE,GAAG,EAAE,CACjB,oZAAkG,CAAC,IAAI,CACrG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,2CAA2C,CACrD;KACJ;IACD;QACE,IAAI,EAAE,2CAA2C;QACjD,WAAW,EAAE,CAAC,gFAAe,CAAC;QAC9B,YAAY,EAAE,GAAG,EAAE,CACjB,mSAA4E,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,iCAAiC,CAAC;KAChI;IACD;QACE,IAAI,EAAE,kDAAkD;QACxD,WAAW,EAAE,CAAC,4EAAa,EAAE,gFAAe,CAAC;QAE7C,YAAY,EAAE,GAAG,EAAE,CACjB,4XAA0F,CAAC,IAAI,CAC7F,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,uCAAuC,CACjD;KACJ;IACD;QACE,IAAI,EAAE,mBAAmB;QACzB,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,gFAAe,CAAC;QAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,2NAAoD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,sBAAsB,CAAC;KAC/G;IACD;QACE,IAAI,EAAE,oBAAoB;QAC1B,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,gFAAe,CAAC;QAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,iOAAsD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,uBAAuB,CAAC;KAClH;IACD;QACE,IAAI,EAAE,mEAAmE;QACzE,WAAW,EAAE,CAAC,4EAAa,EAAE,gFAAe,CAAC;QAE7C,YAAY,EAAE,GAAG,EAAE,CACjB,4UAA0E,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,gCAAgC,CAAC;KAC7H;IACD;QACE,IAAI,EAAE,8BAA8B;QACpC,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,gFAAe,EAAE,0FAAoB,CAAC;QACpD,YAAY,EAAE,GAAG,EAAE,CAAC,yPAA8D,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,2BAA2B,CAAC;KAC9H;IACD;QACE,IAAI,EAAE,2EAA2E;QACjF,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,4EAAa,EAAE,gFAAe,CAAC;QAE7C,YAAY,EAAE,GAAG,EAAE,CAAC,uOAAwD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,uBAAuB,CAAC;KACpH;IACD;QACE,IAAI,EAAE,4EAA4E;QAClF,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,4EAAa,EAAE,gFAAe,CAAC;QAC7C,YAAY,EAAE,GAAG,EAAE,CAAC,uRAAwE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,8BAA8B,CAAC;KAC3I;IACD;QACE,IAAI,EAAE,wBAAwB;QAC9B,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,gFAAe,CAAC;QAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,yPAA8D,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,0BAA0B,CAAC;KAC7H;IACD;QACE,IAAI,EAAE,+CAA+C;QACrD,WAAW,EAAE,CAAC,4EAAa,EAAE,gFAAe,CAAC;QAE7C,YAAY,EAAE,GAAG,EAAE,CAAC,yPAA8D,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,0BAA0B,CAAC;KAC7H;IACD;QACE,IAAI,EAAE,0DAA0D;QAChE,WAAW,EAAE,CAAC,4EAAa,EAAE,gFAAe,CAAC;QAE7C,YAAY,EAAE,GAAG,EAAE,CAAC,uOAAwD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,wBAAwB,CAAC;KACrH;IACD;QACE,IAAI,EAAE,+FAA+F;QACrG,WAAW,EAAE,CAAC,4EAAa,EAAE,gFAAe,CAAC;QAE7C,YAAY,EAAE,GAAG,EAAE,CAAC,+PAAgE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,4BAA4B,CAAC;KACjI;IACD;QACE,IAAI,EAAE,2BAA2B;QACjC,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,gFAAe,CAAC;QAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,2QAAoE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,8BAA8B,CAAC;KACvI;IACD;QACE,IAAI,EAAE,oBAAoB;QAC1B,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,gFAAe,CAAC;QAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,iOAAsD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,uBAAuB,CAAC;KAClH;IACD;QACE,IAAI,EAAE,kBAAkB;QACxB,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,gFAAe,CAAC;QAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,oQAAkD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,qBAAqB,CAAC;KAC5G;IACD;QACE,IAAI,EAAE,sBAAsB;QAC5B,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,gFAAe,CAAC;QAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,6OAA0D,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,yBAAyB,CAAC;KACxH;IACD;QACE,IAAI,EAAE,yBAAyB;QAC/B,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,gFAAe,CAAC;QAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,+PAAgE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,4BAA4B,CAAC;KACjI;IACD;QACE,IAAI,EAAE,4DAA4D;QAClE,WAAW,EAAE,CAAC,4EAAa,EAAE,gFAAe,CAAC;QAE7C,YAAY,EAAE,GAAG,EAAE,CAAC,mPAA4D,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,0BAA0B,CAAC;KAC3H;IACD;QACE,IAAI,EAAE,eAAe;QACrB,YAAY,EAAE,GAAG,EAAE,CAAC,2NAAoD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,wBAAwB,CAAC;KACjH;IACD;QACE,IAAI,EAAE,qBAAqB;QAC3B,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,gFAAe,CAAC;QAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,uOAAwD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,wBAAwB,CAAC;KACrH;IACD;QACE,IAAI,EAAE,iBAAiB;QACvB,YAAY,EAAE,GAAG,EAAE,CAAC,mIAAwD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,wBAAwB,CAAC;KACrH;IACD;QACE,IAAI,EAAE,iBAAiB;QACvB,YAAY,EAAE,GAAG,EAAE,CAAC,uOAAwD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,wBAAwB,CAAC;KACrH;IACD;QACE,IAAI,EAAE,iBAAiB;QACvB,OAAO,EAAE;YACP,OAAO,EAAE,4FAAmB;SAC7B;QACD,WAAW,EAAE,CAAC,gFAAe,CAAC;QAC9B,YAAY,EAAE,GAAG,EAAE,CAAC,+MAAgD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,oBAAoB,CAAC;KACzG;IACD;QACE,IAAI,EAAE,sBAAsB;QAC5B,YAAY,EAAE,GAAG,EAAE,CAAC,qQAAkE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,4BAA4B,CAAC;KACnI;IACD;QACE,IAAI,EAAE,OAAO;QACb,YAAY,EAAE,GAAG,EAAE,CAAC,2KAAoC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC;KACxF;IACD;QACE,IAAI,EAAE,eAAe;QACrB,YAAY,EAAE,GAAG,EAAE,CAAC,2NAAoD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,uBAAuB,CAAC;KAChH;IACD;QACE,IAAI,EAAE,aAAa;QACnB,YAAY,EAAE,GAAG,EAAE,CAAC,+MAAgD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,oBAAoB,CAAC;KACzG;IACD;QACE,IAAI,EAAE,cAAc;QACpB,YAAY,EAAE,GAAG,EAAE,CAAC,qNAAkD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,qBAAqB,CAAC;KAC5G;IACD;QACE,IAAI,EAAE,kCAAkC;QACxC,YAAY,EAAE,GAAG,EAAE,CAAC,6OAA0D,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,yBAAyB,CAAC;KACxH;IACD;QACE,IAAI,EAAE,cAAc;QACpB,YAAY,EAAE,GAAG,EAAE,CAAC,qNAAkD,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,qBAAqB,CAAC;KAC5G;IAED;QACE,IAAI,EAAE,gCAAgC;QACtC,YAAY,EAAE,GAAG,EAAE,CACjB,iUAAsF,CAAC,IAAI,CACzF,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,sCAAsC,CAChD;KACJ;CACF;AAKM,MAAM,gBAAgB;;gFAAhB,gBAAgB;+FAAhB,gBAAgB;mGAHlB,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,kBAAkB,EAAE,iEAAiB,EAAE,sBAAsB,EAAE,WAAW,EAAE,CAAC,CAAC,EAC7G,4DAAY;mIAEX,gBAAgB,uFAFjB,4DAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1NG;AAEa;AAC0C;AAUrD;AAC6B;AAGiB;AAEK;AAC6B;AACzB;AAC9B;AAEL;AAEb;;;;;;;;;;;;;ICtB9B,yEAA2D;IACzD,gFAAoC;IAClC,gFAAuB;IACrB,iFAAyB;IACvB,mFAA+D;IACjE,6DAAa;IACb,iFAAoC;IAClC,qEAAG;IAAA,wDAAwD;;IAAA,6DAAI;IAC/D,sEAAI;IAAA,yDAAiB;IAAA,6DAAK;IAC5B,6DAAY;IACZ,uEAA0E;IAC5E,6DAAW;IACb,6DAAW;IACb,sEAAe;;;IATW,2DAAyB;IAAzB,0FAAyB;IAGxC,2DAAwD;IAAxD,0KAAwD;IACvD,2DAAiB;IAAjB,sFAAiB;;;;IAO7B,yEAA4D;IAC1D,0FAOC;IADC,gYAAsC;IACvC,6DAAqB;IACxB,sEAAe;;;IAPX,2DAAmB;IAAnB,oFAAmB;;;IAUrB,yEAAuD;IACrD,iFAA6D;IAC/D,sEAAe;;;IADG,2DAA2B;IAA3B,yFAA2B;;;IAF/C,2EAAsD;IACpD,2JAEe;IACjB,6DAAU;;;IAH8B,2DAAe;IAAf,yFAAe;;;IAMrD,+EAA0F;IACxF,+EAAgC;IAC9B,qEAAG;IAAA,wDAAkD;;IAAA,6DAAI;IACzD,2EAA2B;IAAA,wDAA4B;;IAAA,6DAAM;IAC/D,6DAAU;IACZ,6DAAU;;;IAHH,2DAAkD;IAAlD,oKAAkD;IAC1B,2DAA4B;IAA5B,2JAA4B;;;IAG3D,+EAAwD;IACtD,+EAAgC;IAC9B,qEAAG;IAAA,wDAA+C;;IAAA,6DAAI;IACtD,2EAA2B;IAAA,wDAAiB;IAAA,6DAAM;IACpD,6DAAU;IACZ,6DAAU;;;IAHH,2DAA+C;IAA/C,iKAA+C;IACvB,2DAAiB;IAAjB,qFAAiB;;;IAVlD,2EAA6E;IAC3E,6IAKU;IACV,6IAKU;IACZ,6DAAM;;;IAZoD,2DAAgC;IAAhC,2GAAgC;IAMnD,2DAAiB;IAAjB,qFAAiB;;;IAetD,yEAAmF;IACjF,+EAAwC;IACtC,qEAAG;IAAA,kFAAsB;IAAA,6DAAI;IAC7B,mFAAsE;IACxE,6DAAU;IACZ,sEAAe;;;;IAZjB,2EAA0E;IACxE,sFAIC;IADC,mZAA2D;IAC5D,6DAAiB;IAElB,sJAKe;IACjB,6DAAM;;;IAXF,2DAA6B;IAA7B,8FAA6B;IAKhB,2DAAkE;IAAlE,kJAAkE;;;IAvDrF,yEAA8B;IAC5B,iJAae;IAEf,gJASe;IAEf,sIAIU;IAEV,8HAaM;IAEN,8HAaM;IACR,sEAAe;;;IA7DE,2DAA0C;IAA1C,8GAA0C;IAe1C,2DAA2C;IAA3C,+GAA2C;IAWhD,2DAA0C;IAA1C,8GAA0C;IAM9C,2DAA6C;IAA7C,iHAA6C;IAe7C,2DAA0C;IAA1C,8GAA0C;;;IAqBhD,yEAA4D;IAAA,wDAAiD;;IAAA,sEAAe;;IAAhE,2DAAiD;IAAjD,mKAAiD;;;IAC7G,yEAA4D;IAAA,wDAAgD;;IAAA,sEAAe;;IAA/D,2DAAgD;IAAhD,kKAAgD;;AD7C3G,SAAS,eAAe,CAAC,CAAU;IACxC,OAAO,CAAC,KAAK,IAAI,IAAI,OAAO,CAAC,KAAK,QAAQ;AAC5C,CAAC;AAOM,MAAM,iBAAiB;IAmB5B,YACmB,eAAgC,EAChC,cAA+B,EAC/B,WAAwB,EACxB,MAAc,EACd,eAAgC,EAChC,iBAAoC,EACpC,gBAAkC,EAClC,eAAgC;QAPhC,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAiB;QAC/B,gBAAW,GAAX,WAAW,CAAa;QACxB,WAAM,GAAN,MAAM,CAAQ;QACd,oBAAe,GAAf,eAAe,CAAiB;QAChC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,oBAAe,GAAf,eAAe,CAAiB;QA1B5C,UAAK,GAAW,EAAE;QAGlB,kBAAa,GAAW,EAAE;QAC1B,WAAM,GAAoB,EAAE;QAG5B,sBAAiB,GAAyB,EAAE;QAqBjD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,CAAC,OAA6B,EAAE,EAAE;YAC7G,IAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,MAAM,CACrC,CAAC,MAA0B,EAAE,EAAE,CAC7B,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK,wEAAmB,CAAC,GAAG,IAAI,MAAM,CAAC,MAAM,KAAK,uEAAkB,CAAC,MAAM,CACxG;QACH,CAAC,CAAC;IACJ,CAAC;IAED,IAAW,OAAO;QAChB,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE;YACrC,OAAO,IAAI,CAAC,cAAc,CAAC,sBAAsB;SAClD;QACD,OAAO,EAAE;IACX,CAAC;IAEY,QAAQ;;YACnB,IAAI,CAAC,QAAQ,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE;YAEnD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI;YAClD,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,OAAO,CAAC;YAC7D,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,oEAAiB,CAAC,iBAAiB,EAAE;gBAC7E,IAAI,CAAC,KAAK,GAAG,yCAAyC;gBACtD,MAAM,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC;aAC3C;YAED,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,oEAAiB,CAAC,kBAAkB,EAAE;gBAC9E,IAAI,CAAC,KAAK,GAAG,2CAA2C;gBACxD,MAAM,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC;aACrC;YAED,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,oEAAiB,CAAC,gBAAgB,EAAE;gBAC5E,IAAI,CAAC,KAAK,GAAG,wCAAwC;gBACrD,MAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC;aAC1C;YAED,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,oEAAiB,CAAC,gBAAgB,EAAE;gBAC5E,IAAI,CAAC,KAAK,GAAG,wCAAwC;gBACrD,MAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC;aAC1C;QACH,CAAC;KAAA;IAEY,qBAAqB,CAChC,OAAyH;;YAEzH,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,IAAI,KAAK,oEAAiB,CAAC,kBAAkB,EAAE;gBACrE,OAAO,SAAS;aACjB;YACD,MAAM,QAAQ,GAAkB,MAAM,IAAI,CAAC,aAAa,CAAC,+BAA+B,CAAC,OAAO,CAAC,OAAO,CAAC;YAEzG,OAAO,QAAQ,CAAC,OAAO,CAAC,OAAO;QACjC,CAAC;KAAA;IAEY,MAAM;;YACjB,MAAM,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC;YACvD,MAAM,IAAI,CAAC,OAAO,EAAE;QACtB,CAAC;KAAA;IAEY,OAAO;;YAClB,OAAO,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,oHAAiB,CAAC,wGAAa,CAAC,UAAU,CAAC,CAAC;QACnF,CAAC;KAAA;IAEY,IAAI;;YACf,IAAI,IAAI,CAAC,eAAe,EAAE;gBACxB,MAAM,IAAI,CAAC,eAAe,EAAE;aAC7B;YACD,MAAM,IAAI,CAAC,OAAO,EAAE;QACtB,CAAC;KAAA;IAEa,gBAAgB,CAAC,KAAiC;;YAC9D,MAAM,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,KAAK,CAAC;YAEhD,UAAU,CAAC,GAAS,EAAE,CAAC;gBACrB,MAAM,IAAI,CAAC,OAAO,EAAE,EAAC,sEAAsE;YAC7F,CAAC,GAAE,GAAG,CAAC;QACT,CAAC;KAAA;IAEa,iBAAiB,CAAC,OAAgC;;YAC9D,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;aAChD;YACD,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;gBACxB,MAAM,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBACrD,OAAM;aACP;YAED,IAAI,CAAC,MAAM,GAAG;gBACZ;oBACE,IAAI,EAAE,MAAM;oBACZ,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,6CAA6C;oBACpD,KAAK,EAAE,kEAAe,CAAC,IAAI;oBAC3B,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,kEAAe,CAAC,IAAI,CAAC,IAAI,CAAC;iBAC3D;gBAED;oBACE,IAAI,EAAE,mBAAmB;oBACzB,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,6CAA6C;oBACpD,KAAK,EAAE,kEAAe,CAAC,iBAAiB;oBACxC,IAAI,EAAE,YAAY;oBAClB,OAAO,EAAE,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,kEAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC;iBACxE;gBAED;oBACE,IAAI,EAAE,WAAW;oBACjB,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,qCAAqC;oBAC5C,KAAK,EAAE,kEAAe,CAAC,SAAS;oBAChC,IAAI,EAAE,cAAc;oBACpB,OAAO,EAAE,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,kEAAe,CAAC,SAAS,CAAC,IAAI,CAAC;iBAChE;aACF;YAED,IAAI,CAAC,eAAe,GAAG,GAAwB,EAAE,CAAC;gBAChD,MAAM,MAAM,GAAsB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;gBAE1G,MAAM,QAAQ,GAA4B;oBACxC,EAAE,EAAE,OAAO,CAAC,EAAE;oBACd,IAAI,EAAE,oEAAiB,CAAC,kBAAkB;oBAC1C,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,SAAS;oBACxC,OAAO,EAAE,OAAO,CAAC,OAAO;oBACxB,MAAM;iBACP;gBAED,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC;YACrD,CAAC;QACH,CAAC;KAAA;IAEY,aAAa;;YACxB,OAAO,IAAI,OAAO,CAAC,GAAS,EAAE,CAAC;gBAC7B,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,KAAK,CAAC,EAAE;oBACvC,OAAM;iBACP;gBACD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;oBAC9C,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,qCAAqC,CAAC;oBAC5E,MAAM,EAAE,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;wBAC9C,KAAK,EAAE,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,sBAAsB,CAAC;wBACtE,IAAI,EAAE,OAAO;wBACb,KAAK,EAAE,MAAM;wBACb,OAAO,EAAE,MAAM,CAAC,sBAAsB,KAAK,IAAI,CAAC,OAAO;qBACxD,CAAC,CAAC;oBACH,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,QAAQ;4BACd,IAAI,EAAE,QAAQ;4BACd,QAAQ,EAAE,WAAW;4BACrB,OAAO,EAAE,GAAG,EAAE;gCACZ,IAAI,CAAC,OAAO,EAAE;4BAChB,CAAC;yBACF;wBACD;4BACE,IAAI,EAAE,IAAI;4BACV,OAAO,EAAE,CAAC,MAAM,EAAE,EAAE;gCAClB,IAAI,CAAC,cAAc,GAAG,MAAM;4BAC9B,CAAC;yBACF;qBACF;iBACF,CAAC;gBAEF,MAAM,KAAK,CAAC,OAAO,EAAE;YACvB,CAAC,EAAC;QACJ,CAAC;KAAA;IAEa,WAAW,CAAC,OAAiC;;YACzD,MAAM,aAAa,GAAkB,IAAI,kEAAa,EAAE;YACxD,MAAM,cAAc,GAAuB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CACpE,CAAC,MAA0B,EAAE,EAAE,CAC7B,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK,wEAAmB,CAAC,GAAG,IAAI,MAAM,CAAC,sBAAsB,KAAK,OAAO,CAAC,aAAa,CACpH;YAED,IAAI,CAAC,cAAc,EAAE;gBACnB,MAAM,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBACrD,OAAM;aACP;YAED,8BAA8B;YAC9B,IAAI,OAAO,CAAC,WAAW,KAAK,8DAAW,CAAC,SAAS,EAAE;gBACjD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;oBACrC,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,8EAA8E,CAAC;oBACvG,KAAK,CAAC,KAAK,GAAG,SAAS;oBACvB,OAAO,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;iBACpC;aACF;iBAAM,IAAI,OAAO,CAAC,WAAW,KAAK,8DAAW,CAAC,SAAS,EAAE;gBACxD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;oBACrC,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,8EAA8E,CAAC;oBACvG,KAAK,CAAC,KAAK,GAAG,SAAS;oBACvB,OAAO,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;iBACpC;aACF;YAED,IAAI;gBACF,MAAM,YAAY,GAAG,IAAI,sEAAiB,EAAE;gBAC5C,IAAI,CAAC,WAAW,GAAG,MAAM,YAAY,CAAC,iBAAiB,CAAC,OAAO,CAAC,OAAO,CAAC;aACzE;YAAC,WAAM,GAAE;YAEV,MAAM,WAAW,GAAG,uEAAU,CAAC,CAAC,CAAC;YACjC,MAAM,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,EAAE,aAAa,CAAC;YAEhE,MAAM,aAAa,qBAAQ,OAAO,CAAE;YACpC,aAAa,CAAC,EAAE,GAAG,IAAI,oDAAS,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,EAAC,gBAAgB;YAEzE,IAAI,CAAC,eAAe,GAAG,GAAS,EAAE,CAAC;gBACjC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAClC,cAAc,EACd,aAAa,EACb,mEAAc,CAAC,kBAAkB,EACjC,SAAS,EACT,KAAK,EACL,WAAW,CACZ;YACH,CAAC;QACH,CAAC;KAAA;IAEa,gBAAgB,CAAC,OAA+B;;YAC5D,IAAI,aAAa,GAAkB,IAAI,kEAAa,EAAE;YAEtD,MAAM,cAAc,GAAuB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CACpE,CAAC,MAA0B,EAAE,EAAE,CAC7B,MAAM,CAAC,QAAQ,CAAC,UAAU,KAAK,wEAAmB,CAAC,GAAG,IAAI,MAAM,CAAC,sBAAsB,KAAK,OAAO,CAAC,aAAa,CACpH;YAED,IAAI,CAAC,cAAc,EAAE;gBACnB,MAAM,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,OAAO,CAAC;gBACrD,OAAM;aACP;YAED,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,KAAK,8DAAiB,CAAC,OAAO,EAAE;gBACtD,aAAa,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,+BAA+B,CAAC,OAAO,CAAC,OAAO,CAAC;aAC1F;YAED,IAAI;gBACF,IAAI,CAAC,gBAAgB,GAAG,MAAM,aAAa,CAAC,iBAAiB,CAAC,cAAc,CAAC,SAAS,EAAE,OAAO,CAAC,gBAAuB,EAAE,KAAK,CAAC,EAAC,4BAA4B;aAC7J;YAAC,OAAO,KAAK,EAAE;gBACd,MAAM,IAAI,CAAC,OAAO,EAAE;gBACpB,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,OAAO,EAAE,KAAK,CAAC;gBACzD,OAAM;aACP;YACD,MAAM,iBAAiB,GAAG,MAAM,aAAa,CAAC,sBAAsB,CAAC,IAAI,CAAC,gBAAgB,CAAC;YAE3F,MAAM,WAAW,GAAG,uEAAU,CAAC,CAAC,CAAC;YACjC,MAAM,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,EAAE,aAAa,CAAC;YAEhE,IAAI,CAAC,YAAY,GAAG,MAAM,aAAa,CAAC,gCAAgC,CAAC;gBACvE,MAAM,EAAE,EAAE;gBACV,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,QAAQ;aACzC,CAAC;YAEF,IAAI,CAAC,eAAe,GAAG,GAAS,EAAE,CAAC;gBACjC,MAAM,SAAS,GAAG,MAAM,aAAa,CAAC,qBAAqB,CAAC,EAAE,SAAS,EAAE,cAAc,CAAC,SAAS,EAAE,WAAW,EAAE,iBAAiB,EAAE,CAAC;gBAEpI,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAClC,cAAc,EACd,iBAAiB,EACjB,mEAAc,CAAC,sBAAsB,EACrC,SAAS,EACT,KAAK,EACL,WAAW,CACZ;YACH,CAAC;QACH,CAAC;KAAA;IACY,sBAAsB,CAAC,gBAAuC;;YACzE,IAAI,CAAC,OAAO,GAAG,gCAAK,IAAI,CAAC,OAAO,KAAE,gBAAgB,EAAE,gBAAgB,CAAC,QAAQ,GAA4B;YACzG,MAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC;YACzC,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,OAAO,EAAE,2BAA2B;gBACpC,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,QAAQ;aACnB,CAAC;YACF,KAAK,CAAC,OAAO,EAAE;QACjB,CAAC;KAAA;IAEa,gBAAgB,CAAC,OAA+B;;YAC5D,IAAI,aAAa,GAAkB,IAAI,kEAAa,EAAE;YACtD,MAAM,QAAQ,GAAW,OAAO,CAAC,iBAAiB;YAElD,IAAI,OAAO,CAAC,OAAO,CAAC,IAAI,KAAK,8DAAiB,CAAC,OAAO,EAAE;gBACtD,aAAa,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,+BAA+B,CAAC,OAAO,CAAC,OAAO,CAAC;aAC1F;YAED,MAAM,WAAW,GAAG,uEAAU,CAAC,CAAC,CAAC;YACjC,MAAM,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,EAAE,aAAa,CAAC;YAEhE,IAAI,CAAC,YAAY,GAAG,MAAM,aAAa,CAAC,+BAA+B,CAAC;gBACtE,iBAAiB,EAAE,EAAE;gBACrB,WAAW,EAAE,QAAQ;aACtB,CAAC;YAEF,MAAM,uBAAuB,GAAiC;gBAC5D,EAAE,EAAE,WAAW;gBACf,IAAI,EAAE,mEAAc,CAAC,mBAAmB;gBACxC,QAAQ,EAAE,wEAAmB,CAAC,GAAG;gBACjC,OAAO,EAAE;oBACP,iBAAiB,EAAE,EAAE;oBACrB,WAAW,EAAE,QAAQ,CAAC,sCAAsC;iBAC7D;aACF;YAED,IAAI,CAAC,eAAe,GAAG,GAAS,EAAE,CAAC;gBACjC,MAAM,IAAI,GAAG;oBACX,wBAAwB,EAAE,CAAC,uBAAuB,CAAC;iBACpD;gBAED,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iFAAc,CAAC,WAAW,EAAE,IAAI,CAAC;gBAC1D,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,wBAAwB,iFAAc,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,CAAC,oHAAiB,CAAC,wGAAa,CAAC,UAAU,CAAC,CAAC;YACpI,CAAC;QACH,CAAC;KAAA;IAEK,SAAS,CAAC,MAA0B;;YACxC,IAAI,CAAC,cAAc,GAAG,MAAM;QAC9B,CAAC;KAAA;IAEM,WAAW;QAChB,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;IACjC,CAAC;;kFAvVU,iBAAiB;kGAAjB,iBAAiB;QC/C9B,iFAAkC;QAChC,+EAA8C;QAC5C,+EAAa;QACX,kFAA0B;QACxB,iFAAmD;QACrD,6DAAc;QACd,6EAAW;QAAA,wDAAuB;;QAAA,6DAAY;QAChD,6DAAc;QAChB,6DAAW;QACb,6DAAa;QAEb,kFAA+D;QAC7D,+EAA8C;QAC5C,kIA8De;QACjB,6DAAW;QAEX,+EAAyD;QACvD,kFAA+D;QAAnB,+IAAS,YAAQ,IAAC;QAAC,yDAA+C;;QAAA,6DAAa;QAE3H,kFAA2D;QAAjB,+IAAS,UAAM,IAAC;QACxD,kIAA4H;QAC5H,kIAA2H;QAC7H,6DAAa;QACf,6DAAU;QACZ,6DAAc;;QAhFG,2DAAuB;QAAvB,6IAAuB;QAOrB,2DAAa;QAAb,8EAAa;QAkEmC,2DAA+C;QAA/C,kKAA+C;QAG7F,2DAA2C;QAA3C,4GAA2C;QAC3C,2DAA2C;QAA3C,4GAA2C;;;;;;;;;;;;;;AClFhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgE;;;;;;ICW1D,gFAA0F;IAA1B,2LAAS,kBAAe,IAAC;IACvF,uDACF;;IAAA,4DAAa;;;IADX,0DACF;IADE,2JACF;;;IAHF,sEAA4B;IAC1B,2HAEa;IACf,4DAAM;;;IAHyC,0DAAiB;IAAjB,0FAAiB;;ADJ7D,MAAM,WAAW;;sEAAX,WAAW;2FAAX,WAAW;QCRxB,8EAMC;QADC,0JAA0B,oBAAgB,GAAG,SAAS,IAAC;QAEvD,yEAAoE;QACpE,+EAA8C;QAC5C,qEAAI;QAAA,yEAAQ;QAAA,uDAA8B;;QAAA,4DAAS;QAAA,4DAAK;QACxD,kEAAoD;;QACpD,uGAIM;QACR,4DAAY;QACd,4DAAW;;QAfT,qFAAwB;QAKd,0DAAoB;QAApB,iFAAoB;QAEhB,0DAA8B;QAA9B,kJAA8B;QACvC,0DAA4C;QAA5C,4NAA4C;QACzC,0DAAoB;QAApB,oFAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXwB;AACmB;AACH;AACL;AACO;AAEhC;AAEwC;AAC2B;;;;;;;;;;ICJnG,sEAGQ;;;;IADN,yUAAsG;;;;IAG1G,gFAOC;IAHC,mVAAwC;IAGzC,4DAAY;;;IADX,kGAAkC;;;;IAEpC,gFAOC;IAFC,6VAA4B;IAE7B,4DAAY;;;IALX,0EAAiB;;;IAYrB,8EAAgI;IAC9H,+EAAmC;IACjC,mEAIK;;IACP,4DAAW;IACb,4DAAU;;;IAHJ,0DAA4G;IAA5G,+UAA4G;;;IAKlH,8EAA+D;IAC7D,+EAAmC;IACjC,wEAAwC;IACtC,uDACF;;IAAA,4DAAI;IACN,4DAAW;IACb,4DAAU;;IAHJ,0DACF;IADE,2KACF;;;;IAIJ,8EAGC;IACC,+EAAyB;IACvB,mEAMK;;IACP,4DAAW;IACb,4DAAU;;;IANJ,0DAGC;IAHD,wZAGC;;;;IA4BH,qFAOC;IALC,6cAA2B;IAK5B,4DAAiB;;;IAJhB,8EAAiB;;;IAJrB,wEAAsD;IACpD,+JAOkB;IACpB,qEAAe;;;;IAPV,0DAA+B;IAA/B,uGAA+B;;;IAJxC,wEAA4C;IAC1C,+EAA2D;IACzD,4IASe;IACjB,4DAAW;IACb,qEAAe;;;IAZqB,0DAAwB;IAAxB,6FAAwB;IACvB,0DAAmB;IAAnB,4FAAmB;;AD3DnD,MAAM,aAAa;IAsCxB,YACS,SAA0B,EAC1B,eAAgC,EACtB,eAAgC;QAF1C,cAAS,GAAT,SAAS,CAAiB;QAC1B,oBAAe,GAAf,eAAe,CAAiB;QACtB,oBAAe,GAAf,eAAe,CAAiB;QAxC5C,0BAAqB,GAAY,KAAK;QAG7B,0BAAqB,GAAY,KAAK;QAGtC,aAAQ,GAAY,IAAI;QAYxB,uBAAkB,GAAsB,EAAE;QAWzC,uBAAkB,GAAgC,IAAI,0DAAY,EAAE;QAGpE,qBAAgB,GAAqC,IAAI,0DAAY,EAAE;QAGvE,qBAAgB,GAAyB,IAAI,0DAAY,EAAE;IAMzE,CAAC;IAEG,SAAS,CAAC,MAAc;QAC7B,IAAI,CAAC,OAAO,GAAG,MAAM;QACrB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC;IACpC,CAAC;IAEM,SAAS,CAAC,MAA0B;QACzC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC;QAClC,IAAI,CAAC,qBAAqB,GAAG,KAAK;IACpC,CAAC;IAEY,OAAO;;YAClB,MAAM,SAAS,GAAoB,CACjC,MAAM,OAAO,CAAC,GAAG,CACf,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAO,iBAAkC,EAAE,EAAE,8FACvE,WAAI,CAAC,eAAe,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,KAC3E,CACF,CACF,CAAC,MAAM,CAAC,CAAC,QAAmC,EAAE,EAAE,CAAC,QAAQ,KAAK,SAAS,CAAC;YAEzE,MAAM,KAAK,GAAwB,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBACnE,SAAS,EAAE,yFAAkB;gBAC7B,cAAc,EAAE;oBACd,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,CAAC,UAAU;oBAClD,SAAS;iBACV;aACF,CAAC;YAEF,KAAK;iBACF,YAAY,EAAE;iBACd,IAAI,CAAC,CAAO,kBAAuB,EAAE,EAAE,CAAC;gBACvC,IAAI,kBAAkB,IAAI,kBAAkB,CAAC,IAAI,EAAE;oBACjD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;iBAC9F;YACH,CAAC,EAAC;iBACD,KAAK,CAAC,6GAAiB,CAAC,iGAAa,CAAC,WAAW,CAAC,CAAC;YAEtD,KAAK,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,6GAAiB,CAAC,iGAAa,CAAC,WAAW,CAAC,CAAC;QACrE,CAAC;KAAA;;0EAjFU,aAAa;6FAAb,aAAa;QC5B1B,6EAA4F;QAC1F,6EAAsC;QACpC,8EAA8C;QAC5C,+EAAuE;QACrE,uDACA;;QAAA,2GAGQ;QACV,4DAAY;QACZ,qHAOa;QACb,qHAOa;QACf,4DAAW;QACX,8EAA6B;QAC3B,wEAAyB;QACvB,wDACF;;QAAA,4DAAI;QACN,4DAAW;QACX,mHAQU;QAEV,mHAMU;QAEV,mHAaU;QACZ,4DAAU;QACV,+EAA0E;QAAjE,uIAAS,aAAS,IAAC;QAC1B,2EAAS;QAAA,sEAAsF;QAAA,4DAAU;QACzG,2EAAS;QACP,sEAAI;QACF,wDACA;QAAA,2EAAiD;QACnD,4DAAK;QACP,4DAAU;QACZ,4DAAU;QACZ,4DAAU;QACV,gFAA8E;QAC5E,sFAQC;QAFC,oNAAoC,CAAC,kEAAyD;QAE/F,4DAAiB;QAClB,8HAae;QACjB,4DAAW;;;QA/FH,0DACA;QADA,iMACA;QACG,0DAAuB;QAAvB,uFAAuB;QAKzB,0DAAc;QAAd,8EAAc;QAQd,0DAAe;QAAf,+EAAe;QAUhB,0DACF;QADE,uVACF;QAEgC,0DAA4F;QAA5F,kPAA4F;QAU5F,0DAA2B;QAA3B,2FAA2B;QAU1D,0DAA+H;QAA/H,gPAA+H;QAcpH,0DAA8E;QAA9E,2RAA8E;QAGxF,0DACA;QADA,6IACA;QAK6C,0DAAwB;QAAxB,6FAAwB;QAEzE,0DAAyB;QAAzB,sFAAyB;QAQZ,0DAA2B;QAA3B,2FAA2B;k/GDtE9B;YACV,mEAAO,CAAC,uBAAuB,EAAE;gBAC/B,sEAAU,CAAC,QAAQ,EAAE;oBACnB,iEAAK,CAAC,EAAE,SAAS,EAAE,kBAAkB,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;oBACpD,mEAAO,CAAC,OAAO,EAAE,iEAAK,CAAC,EAAE,SAAS,EAAE,eAAe,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;iBACpE,CAAC;gBACF,sEAAU,CAAC,QAAQ,EAAE;oBACnB,iEAAK,CAAC,EAAE,SAAS,EAAE,eAAe,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;oBACjD,mEAAO,CAAC,OAAO,EAAE,iEAAK,CAAC,EAAE,SAAS,EAAE,kBAAkB,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;iBACvE,CAAC;aACH,CAAC;SACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEhB0B;AACgE;AAWhE;AACW;AAGqB;AACL;AACU;AACb;AAC0C;AACpB;AACE;AAEX;AACF;AACc;AACQ;;;;;;;;;;AAK/E,MAAM,UAAW,SAAQ,mEAAc;IAC5C,YACE,sBAA8C,EACvC,aAA4B,EACnB,eAAgC,EAChD,eAAgC,EACzB,oBAA0C,EAChC,WAAwB,EACtB,SAA2B,EAC7B,eAAgC,EAChC,cAAoC,EACpC,YAA0B,EAC1B,MAAc,EACX,SAAoB;QAExC,KAAK,CACH,sBAAsB,EACtB,SAAS,EACT,OAAO,CAAC,OAAO,EAAE,EACjB;YACE,IAAI,8EAAa,CAAC,aAAa,CAAC;YAChC,IAAI,4FAAoB,CAAC,oBAAoB,CAAC;YAC9C,IAAI,gFAAc,CAAC,eAAe,EAAE,WAAW,EAAE,MAAM,CAAC,CAAC,sEAAsE;SAChI,EACD,eAAe,EACf,SAAS,CACV;QAvBM,kBAAa,GAAb,aAAa,CAAe;QACnB,oBAAe,GAAf,eAAe,CAAiB;QAEzC,yBAAoB,GAApB,oBAAoB,CAAsB;QAChC,gBAAW,GAAX,WAAW,CAAa;QACtB,cAAS,GAAT,SAAS,CAAkB;QAC7B,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAsB;QACpC,iBAAY,GAAZ,YAAY,CAAc;QAC1B,WAAM,GAAN,MAAM,CAAQ;QAgB/B,IAAI,CAAC,yBAAyB,CAAC,mEAAc,CAAC,oBAA2B,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC;QAC7G,IAAI,CAAC,yBAAyB,CAAC,mEAAc,CAAC,uBAA8B,CAAC,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC;QACvH,IAAI,CAAC,yBAAyB,CAAC,mEAAc,CAAC,mBAA0B,CAAC,GAAG,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC;IACvH,CAAC;IAEY,KAAK,CAAC,IAAkB;;YACnC,MAAM,IAAI,GAAG;gBACX,IAAI,EAAG,IAAY,CAAC,QAAQ;gBAC5B,OAAO,EAAE,IAAI;aACd;YACD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iEAAc,CAAC,WAAW,EAAE,IAAI,CAAC;YAC1D,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,yBAAyB,GAAG,iEAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,oGAAiB,CAAC,wFAAa,CAAC,UAAU,CAAC,CAAC;QACtI,CAAC;KAAA;IAEY,gBAAgB,CAAC,iBAA+C,EAAE,SAA8B;;YAC3G,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,kEAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,KAAK,CAAC,oGAAiB,CAAC,wFAAa,CAAC,OAAO,CAAC,CAAC;YAEzG,MAAM,YAAY,GAAkB,MAAM,OAAO,CAAC,GAAG,CACnD,iBAAiB,CAAC,GAAG,CAAC,CAAO,gBAA4C,EAAE,EAAE,CAAC;gBAC5E,MAAM,YAAY,GAAyB,gBAAgB,CAAC,OAA+B;gBAC3F,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,gBAAgB,CAAC,QAAQ,CAAC;gBAClF,MAAM,MAAM,GAAuB,IAAI,uEAAkB,CACvD,QAAQ,EACR,YAAY,CAAC,SAAS,EACtB,YAAY,CAAC,mBAAmB,EAChC,YAAY,CAAC,cAAc,EAC3B,YAAY,CAAC,iBAAiB,IAAI,6BAA6B,CAAC,EAAE,EAClE,YAAY,CAAC,QAAQ,KAAK,SAAS;oBACjC,CAAC,CAAC,6BAA6B,CAAC,uEAAkB,CAAC,MAAM;oBACzD,CAAC,CAAC,YAAY,CAAC,QAAQ;wBACvB,CAAC,CAAC,uEAAkB,CAAC,MAAM;wBAC3B,CAAC,CAAC,uEAAkB,CAAC,MAAM,EAC7B,IAAI,CAAC,YAAY,CAClB;gBAED,OAAO;oBACL,MAAM;oBACN,OAAO,EAAE,YAAY,CAAC,OAAO;oBAC7B,UAAU,EAAE,YAAY,CAAC,UAAU;oBACnC,kBAAkB,EAAE,6GAA6B,CAAC,SAAS,CAAC;iBAC7D;YACH,CAAC,EAAC,CACH;YAED,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iEAAc,CAAC,aAAa,EAAE,YAAY,CAAC;gBACpE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,mBAAmB,iEAAc,CAAC,aAAa,EAAE,CAAC,CAAC,KAAK,CAAC,oGAAiB,CAAC,wFAAa,CAAC,UAAU,CAAC,CAAC;gBAE/H,OAAO,IAAI;aACZ;YAED,OAAO,KAAK;QACd,CAAC;KAAA;IAEY,uBAAuB,CAAC,wBAAsD;;YACzF,IAAI,IAAI,CAAC,MAAM,EAAE;gBACf,MAAM,IAAI,GAAG;oBACX,wBAAwB,EAAE,wBAAwB;iBACnD;gBACD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,iEAAc,CAAC,WAAW,EAAE,IAAI,CAAC;gBAC1D,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,wBAAwB,iEAAc,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,CAAC,oGAAiB,CAAC,wFAAa,CAAC,UAAU,CAAC,CAAC;gBAElI,OAAO,IAAI;aACZ;YAED,OAAO,KAAK;QACd,CAAC;KAAA;IAEa,yBAAyB,CAAC,oBAAkD;;;YACxF,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE;YAEhE,MAAM,mBAAmB,GAAG,oBAAoB,CAAC,CAAC,CAAC,CAAC,OAA8B;YAClF,MAAM,QAAQ,GAAoB,oBAAoB,CAAC,CAAC,CAAC,CAAC,QAAQ;YAClE,MAAM,QAAQ,GAA6B;gBACzC,IAAI,EAAE,oEAAiB,CAAC,mBAAmB;gBAC3C,EAAE,QAAE,aAAa,CAAC,CAAC,CAAC,0CAAE,EAAE;gBACxB,SAAS,EAAE,mBAAmB,CAAC,SAAS;gBACxC,WAAW,EAAE,8DAAW,CAAC,GAAG;aAC7B;YACD,IAAI,QAAQ,KAAK,wEAAmB,CAAC,GAAG,EAAE;gBACxC,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;aAC7D;iBAAM,IAAI,QAAQ,KAAK,wEAAmB,CAAC,GAAG,IAAI,QAAQ,KAAK,wEAAmB,CAAC,IAAI,EAAE;gBACxF,MAAM,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,EAAE,QAAQ,CAAC,SAAS,CAAC;aAChF;YACD,OAAO,KAAK;;KACb;;oEAjHU,UAAU,67CAaX,+DAAU;8FAbT,UAAU,WAAV,UAAU,mBAFT,MAAM;;;;;;;;;;;;;ACvCpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0E;;;;;;ICWxE,6EAAqG;IACnG,6EAAkB;IAAA,uDAAkB;IAAA,4DAAU;IAC9C,0EAAS;IAAA,uDAAmB;IAAA,4DAAU;IACtC,0EAAS;IAAA,uDAAyC;;IAAA,4DAAU;IAC9D,4DAAU;;;IAHU,0DAAkB;IAAlB,gFAAkB;IAC3B,0DAAmB;IAAnB,iFAAmB;IACnB,0DAAyC;IAAzC,iKAAyC;;ADP/C,MAAM,gBAAgB;;gFAAhB,gBAAgB;gGAAhB,gBAAgB;QCR7B,8EAA8B;QAC5B,6EAA+D;QAC7D,6EAAkB;QAChB,yEAAQ;QAAA,uDAAsC;;QAAA,4DAAS;QACzD,4DAAU;QACV,0EAAS;QACP,yEAAQ;QAAA,uDAAuC;;QAAA,4DAAS;QAC1D,4DAAU;QACV,2EAAS;QACP,0EAAQ;QAAA,wDAAuC;;QAAA,4DAAS;QAC1D,4DAAU;QACZ,4DAAU;QACV,sHAIU;QACZ,4DAAW;;QAdG,0DAAsC;QAAtC,0JAAsC;QAGtC,0DAAuC;QAAvC,2JAAuC;QAGvC,0DAAuC;QAAvC,4JAAuC;QAG+B,0DAAiB;QAAjB,uFAAiB;;;;;;;;;;;;;;ACZrG;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6E;AAE3B;;AAG3C,MAAM,gBAAgB;IAD7B;QAES,iBAAY,GAAkC,IAAI,oDAAe,CAAe,2FAAY,CAAC,KAAK,CAAC;KAS3G;IAPQ,kBAAkB;QACvB,OAAO,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE;IACzC,CAAC;IAEM,SAAS,CAAC,QAAuB;QACtC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,IAAI,2FAAY,CAAC,KAAK,CAAC;IACxD,CAAC;;gFATU,gBAAgB;mGAAhB,gBAAgB,WAAhB,gBAAgB;;;;;;;;;;;;;;;;;;;;;ACL0B;AAEP;;;;;;ICS9C,sEAAkB;IAAA,uDAAgB;IAAA,4DAAM;;;IAAtB,0DAAgB;IAAhB,kFAAgB;;ADF7B,MAAM,SAAS;IAMpB,YAA6B,gBAAkC,EAAmB,eAAgC;QAArF,qBAAgB,GAAhB,gBAAgB,CAAkB;QAAmB,oBAAe,GAAf,eAAe,CAAiB;IAAG,CAAC;IAEtH,eAAe;QACb,IAAI,CAAC,UAAU,GAAG,OAAO,IAAI,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE;IACvG,CAAC;IAEY,OAAO;;YAClB,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC;QAC1C,CAAC;KAAA;IAEY,eAAe;;YAC1B,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC;QACzD,CAAC;KAAA;;kEAlBU,SAAS;yFAAT,SAAS;QCTtB,gFAAkC;QAChC,8EAAa;QACX,4EAAW;QAAA,uDAAW;QAAA,4DAAY;QACpC,4DAAc;QAChB,4DAAa;QAEb,iFAAiC;QAC/B,uEAA6B;QAAA,uDAAa;QAAA,4DAAI;QAE9C,gFAAwC;QAA5B,qIAAS,qBAAiB,IAAC;QAAC,kFAAuB;QAAA,4DAAa;QAE5E,qGAAwC;QAExC,8EAAyD;QACvD,iFAA8D;QAApB,sIAAS,aAAS,IAAC;QAAC,iEAAK;QAAA,4DAAa;QAClF,4DAAU;QACZ,4DAAc;;QAdC,0DAAW;QAAX,0EAAW;QAKK,0DAAa;QAAb,4EAAa;QAIpC,0DAAU;QAAV,0EAAU;;;;;;;;;;;;;;;;;;;;;ACRmB;AASC;AAGtC,MAAM,iBAAiB;IAOrB,YAA6B,EAAU,EAAmB,MAA4B;QAAzD,OAAE,GAAF,EAAE,CAAQ;QAAmB,WAAM,GAAN,MAAM,CAAsB;QANtF,oBAAe,GAAG,KAAK;QACvB,wBAAmB,GAAG,KAAK;QAC3B,gBAAW,GAAmC,IAAI;QAClD,YAAO,GAAG,IAAI,mDAAY,EAAE;QAC5B,gBAAW,GAAkB,IAAI;QAsG1B,uBAAkB,GAAG,CAAO,EAAgC,EAA0B,EAAE,CAAC;YAC9F,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;QAC5C,CAAC;IAtGwF,CAAC;IAE7E,IAAI,CAAC,GAAW,EAAE,GAAW,EAAE,EAAU,EAAE,EAAU,EAAE,IAAa,EAAE,WAA+B;;YAChH,MAAM,EAAE,QAAQ,EAAE,GAAqB,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY,CACnE,qFAAwB,CAAC,IAAI,EAC7B;gBACE,WAAW,EAAE,IAAI,CAAC,EAAE;gBACpB,GAAG;gBACH,GAAG;gBACH,EAAE;gBACF,EAAE;gBACF,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS;aACjD,EACD,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,IAAI,GAAG,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,EAAE,CAC9D;YAED,OAAO,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC;QAC5E,CAAC;KAAA;IAEY,KAAK;;YAChB,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY,CAC5B,qFAAwB,CAAC,KAAK,EAC9B;gBACE,WAAW,EAAE,IAAI,CAAC,EAAE;aACrB,EACD,IAAI,CAAC,EAAE,CACR;QACH,CAAC;KAAA;IAEY,qBAAqB,CAAC,IAAS,EAAE,OAAiB,EAAE,WAAmB;;YAClF,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY,CAC7B,qFAAwB,CAAC,YAAY,EACrC;gBACE,WAAW,EAAE,IAAI,CAAC,EAAE;gBACpB,IAAI;gBACJ,OAAO;gBACP,WAAW;aACZ,EACD,GAAG,IAAI,CAAC,EAAE,0BAA0B,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,EAAE,CACtE;QACH,CAAC;KAAA;IAEY,cAAc,CAAC,GAAW;;YACrC,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY,CAC7B,qFAAwB,CAAC,gBAAgB,EACzC;gBACE,WAAW,EAAE,IAAI,CAAC,EAAE;gBACpB,GAAG;aACJ,EACD,GAAG,IAAI,CAAC,EAAE,mBAAmB,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,EAAE,CAC/D;QACH,CAAC;KAAA;IAEY,QAAQ,CAAC,IAAY;;YAChC,MAAM,EAAE,QAAQ,EAAE,GAAyB,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY,CACvE,qFAAwB,CAAC,QAAQ,EACjC;gBACE,WAAW,EAAE,IAAI,CAAC,EAAE;gBACpB,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;aAC3B,EACD,GAAG,IAAI,CAAC,EAAE,aAAa,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,EAAE,CACzD;YAED,OAAO,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC;QAC5E,CAAC;KAAA;IAEY,kBAAkB,CAAC,eAAuB;;YACrD,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY,CAC7B,qFAAwB,CAAC,oBAAoB,EAC7C;gBACE,WAAW,EAAE,IAAI,CAAC,EAAE;gBACpB,OAAO,EAAE,eAAe;aACzB,EACD,GAAG,IAAI,CAAC,EAAE,uBAAuB,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,EAAE,CACnE;QACH,CAAC;KAAA;IAEM,EAAE,CAAC,UAAkB,EAAE,GAAQ;QACpC,aAAa;QACb,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;IAC5C,CAAC;IAEM,GAAG,CAAC,UAAkB,EAAE,GAAQ;QACrC,aAAa;QACb,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;IAC5C,CAAC;IAEM,IAAI,CAAC,KAAa,EAAE,GAAG,IAAS;QACrC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC;IACnC,CAAC;IAEM,YAAY;QACjB,aAAa;QACb,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;IAC5C,CAAC;IACM,8BAA8B,CAAC,mBAA2B;QAC/D,IAAI,CAAC,mBAAmB,GAAG,mBAAmB;IAChD,CAAC;IAOM,oBAAoB,CACzB,WAAmB,EACnB,EAA8B,EAC9B,IAAS,EACT,YAAoB;QAEpB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;IAC5C,CAAC;CACF;AAEM,MAAM,wBAAwB;IAgCnC,YAA6B,IAA0B,EAAW,SAA4B;QAAjE,SAAI,GAAJ,IAAI,CAAsB;QAAW,cAAS,GAAT,SAAS,CAAmB;IAAG,CAAC;IA/B1F,MAAM,KAAK,MAAM;QACvB,OAAO,iFAAoB,CAAC,WAAW,EAAE;IAC3C,CAAC;IAEM,MAAM,CAAO,mBAAmB,CAAC,cAAoC;;YAC1E,MAAM,EAAE,OAAO,EAAE,GAA2B,MAAM,wBAAwB,CAAC,MAAM,CAAC,YAAY,CAC5F,qFAAwB,CAAC,WAAW,EACpC;gBACE,cAAc;aACf,EACD,cAAc,CACf;YAED,OAAO,OAAO;QAChB,CAAC;KAAA;IAEM,MAAM,CAAO,IAAI,CAAC,cAAqC,EAAE,UAAmB;;YACjF,MAAM,EAAE,WAAW,EAAE,GAAqB,MAAM,wBAAwB,CAAC,MAAM,CAAC,YAAY,CAC1F,qFAAwB,CAAC,IAAI,EAC7B;gBACE,cAAc;gBACd,UAAU;aACX,EACD,GAAG,cAAc,IAAI,UAAU,EAAE,CAClC;YAED,MAAM,SAAS,GAAG,IAAI,iBAAiB,CAAC,WAAW,EAAE,wBAAwB,CAAC,MAAM,CAAC;YAErF,OAAO,IAAI,wBAAwB,CAAC,cAAc,EAAE,SAAS,CAAC;QAChE,CAAC;KAAA;CAGF;;;;;;;;;;;;;;ACxKD;AAAA;AAAA;AAAA;AAA0D;AAInD,MAAM,QAAQ,GAAG,EAAE;AAE1B,SAAS,MAAM,CAAC,OAA6B;IAC3C,OAAO,CAAC,KAAK,EAAE,MAAM,EAAE,EAAE;QACvB,MAAM,QAAQ,GAAG,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC;QACvC,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,KAAK,CAAC;QACpC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC;QAC7B,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,QAAQ,CAAC;QACnC,OAAO,CAAC,QAAQ,EAAE;QAElB,OAAO,QAAQ;IACjB,CAAC;AACH,CAAC;AACM,MAAM,YAAY,GAAyB,CAAC,wEAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE;;;;;;;;;;;;;AClBzF;AAAA;AAAA;AAAA;AAAsE;;;AAO/D,MAAM,iBAAiB;IAL9B;QAOkB,sBAAiB,GAA8B,IAAI,0DAAY,EAAe;KAQ/F;IAHQ,MAAM;QACX,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;IACxC,CAAC;;kFATU,iBAAiB;iGAAjB,iBAAiB;QCR9B,2EAAU;QACR,wEAAc;QACZ,8EAA8C;QAC5C,4EAAW;QACT,qEAAI;QACF,0EAAgC;QAAA,uDAAe;QAAA,4DAAO;QACxD,4DAAK;QAEL,uEAA4B;QAAA,uDAA4B;QAAA,4DAAI;QAC9D,4DAAY;QACd,4DAAW;QACX,qFAA8D;QAAnB,kJAAS,YAAQ,IAAC;QAAC,kEAAM;QAAA,4DAAkB;QACxF,qEAAe;QACjB,4DAAW;;QAR+B,0DAAe;QAAf,8EAAe;QAGrB,0DAA4B;QAA5B,oGAA4B;;;;;;;;;;;;;;;;;;;;;;;;ACPL;;;;;;;;ICsBnD,+EAAmH;;;IAAzD,iFAAqB;;ADfhF,MAAM,kBAAkB;IAO7B,YAAmB,SAAoB,EAAS,QAAyB;QAAtD,cAAS,GAAT,SAAS,CAAW;QAAS,aAAQ,GAAR,QAAQ,CAAiB;QANlE,eAAU,GAAW,EAAE;QAO5B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC;QAC9D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC;QAChD,IAAI,CAAC,iBAAiB,EAAE;IAC1B,CAAC;IAEY,OAAO;;YAClB,MAAM,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;QAC/B,CAAC;KAAA;IAEY,aAAa;;YACxB,MAAM,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC;QACpD,CAAC;KAAA;IAEM,iBAAiB;QACtB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,eAAe,EAAE;IACjD,CAAC;IAEO,eAAe;QACrB,MAAM,mBAAmB,GAAW,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE;QAEjE,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,CAC1B,CAAC,QAAuB,EAAE,EAAE,CAC1B,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,mBAAmB,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAC3H;IACH,CAAC;;oFAhCU,kBAAkB;kGAAlB,kBAAkB;QCR/B,gFAAkC;QAChC,8EAA8C;QAC5C,8EAAa;QACX,iFAA0B;QACxB,gFAAmD;QACrD,4DAAc;QACd,4EAAW;QAAA,uDAAyC;;QAAA,4DAAY;QAChE,iFAAwB;QACtB,gFAA+D;QAAnD,8IAAS,aAAS,IAAC;QAC7B,0EAAmD;QACrD,4DAAa;QACf,4DAAc;QAChB,4DAAc;QACd,+EAAa;QACX,oFAAoF;QAA3D,mMAAwB,kGAAc,uBAAmB,IAAjC;QAAmC,4DAAgB;QACtG,4DAAc;QAChB,4DAAW;QACb,4DAAa;QAEb,kFAAiC;QAC/B,+EAA8C;QAC5C,+EAAuB;QACrB,uFAAgH;QAA9E,2MAA8B,4GAAkB,mBAAe,IAAjC;QAC9D,qIAAmH;QACrH,4DAAkB;QACpB,4DAAW;QACb,4DAAW;QACb,4DAAc;;QArBG,0DAAyC;QAAzC,yJAAyC;QAQ3B,0DAAwB;QAAxB,mFAAwB;QAQf,0DAA8B;QAA9B,yFAA8B;QAC1B,0DAAoB;QAApB,0FAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBvB;AACqE;AAGlC;AACI;AAC0C;AACtE;AACV;AACW;AACkB;AACC;;;;;AAExE,MAAM,WAAW,GAAG,CAAC;AAKd,MAAM,aAAa;IAUxB,YACmB,QAAkB,EAClB,kBAA4C,EAC5C,YAA0B;QAF1B,aAAQ,GAAR,QAAQ,CAAU;QAClB,uBAAkB,GAAlB,kBAAkB,CAA0B;QAC5C,iBAAY,GAAZ,YAAY,CAAc;QAZ5B,kBAAa,GAA6D,IAAI,GAAG,CAAC;YACjG,CAAC,wEAAmB,CAAC,MAAM,EAAE,CAAC,UAA4B,EAAa,EAAE,CAAC,IAAI,qFAAe,CAAC,UAAU,CAAC,CAAC;YAC1G,CAAC,wEAAmB,CAAC,QAAQ,EAAE,CAAC,UAA4B,EAAa,EAAE,CAAC,IAAI,yFAAiB,CAAC,UAAU,CAAC,CAAC;YAC9G,CAAC,wEAAmB,CAAC,GAAG,EAAE,CAAC,UAA4B,EAAa,EAAE,CAAC,IAAI,uFAAc,CAAC,UAAU,CAAC,CAAC;SAC5C,CAAC;QAE5C,oBAAe,GAAkC,IAAI,GAAG,EAAE;QAC1D,gBAAW,GAA2B,IAAI,GAAG,EAAE;IAM7D,CAAC;IAEG,qBAAqB;QAC1B,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;IAC9C,CAAC;IAEM,mBAAmB,CAAC,QAAyC;QAClE,MAAM,UAAU,GAAoB,OAAO,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU;QAEjG,OAAO,IAAI,CAAC,qBAAqB,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC;IAC1D,CAAC;IAEY,mBAAmB,CAAC,kBAA0B;;YACzD,MAAM,OAAO,GAA2D,MAAM,OAAO,CAAC,GAAG,CAAC;gBACxF,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,kBAAkB,EAAE,wFAAoB,CAAC,GAAG,CAAC;gBACzF,IAAI,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,kBAAkB,EAAE,wFAAoB,CAAC,GAAG,CAAC;aAC1F,CAAC;YAEF,OAAO,OAAO,CAAC,MAAM,CAAC,CAAC,OAAkC,EAAE,SAAoC,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;QACpI,CAAC;KAAA;IAEY,cAAc,CAAC,kBAA0B,EAAE,gBAA0C;;YAChG,MAAM,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,EAAE,gBAAgB,CAAC;QACvE,CAAC;KAAA;IAEY,eAAe,CAAC,gBAA0C;;YACrE,IAAI,CAAC,gBAAgB,EAAE;gBACrB,OAAO,IAAI,CAAC,yBAAyB,EAAE;aACxC;iBAAM;gBACL,OAAO,IAAI,CAAC,qBAAqB,CAAC,gBAAgB,CAAC;aACpD;QACH,CAAC;KAAA;IAEY,YAAY,CAAC,kBAA0B,EAAE,gBAA0C;;YAC9F,OAAO,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC,GAAc,EAAE,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,gBAAgB,CAAC;QACpH,CAAC;KAAA;IAEY,eAAe,CAAC,kBAA0B,EAAE,WAAgB,EAAE,gBAA0C;;YACnH,OAAO,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC,GAAc,EAAE,EAAE,CAAC,GAAG,CAAC,eAAe,CAAC,WAAW,CAAC,EAAE,gBAAgB,CAAC;QACjH,CAAC;KAAA;IAEa,OAAO,CACnB,UAAkB,EAClB,MAAsC,EACtC,gBAA0C,EAC1C,YAAoB,CAAC;;YAErB,MAAM,MAAM,GAAW,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,gBAAgB,CAAC;YAEnE,IAAI,GAAG,GAA0B,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC;YAC7D,IAAI,CAAC,GAAG,EAAE;gBACR,GAAG,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,gBAAgB,CAAC;gBAC5D,GAAG,CAAC,IAAI,EAAE;gBAEV,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC;aAClC;YAED,OAAO,MAAM,CAAC,GAAG,CAAC;iBACf,KAAK,CAAC,CAAO,KAAc,EAAE,EAAE,CAAC;gBAC/B,IAAI,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,IAAI,SAAS,GAAG,WAAW,EAAE;oBACpE,MAAM,IAAI,CAAC,qBAAqB,CAAC,gBAAgB,CAAC;oBAElD,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,MAAM,EAAE,gBAAgB,EAAE,SAAS,GAAG,CAAC,CAAC;iBACzE;qBAAM;oBACL,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;iBAC5C;YACH,CAAC,EAAC;iBACD,OAAO,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,CAAC;QAChE,CAAC;KAAA;IAEa,oBAAoB,CAAC,kBAA0B,EAAE,gBAA0C;;YACvG,MAAM,aAAa,GAAW,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC;YAErE,IAAI,UAAmC;YACvC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE;gBAC5C,UAAU,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,kBAAkB,EAAE,gBAAgB,CAAC;gBAErF,IAAI,UAAU,KAAK,IAAI,EAAE;oBACvB,OAAO,OAAO,CAAC,MAAM,CAAC,aAAa,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;iBAC1F;gBAED,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,aAAa,EAAE,UAAU,CAAC;aACpD;iBAAM;gBACL,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,aAAa,CAAC;aACrD;YAED,OAAO,UAAU;QACnB,CAAC;KAAA;IAEa,yBAAyB;;YACrC,MAAM,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,UAA4B,EAAE,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,CAAC;YAChI,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE;YAC5B,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE;QAC1B,CAAC;KAAA;IAEa,qBAAqB,CAAC,gBAA0C;;YAC5E,MAAM,aAAa,GAAW,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC;YACrE,MAAM,UAAU,GAAiC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,aAAa,CAAC;YACxF,IAAI,UAAU,EAAE;gBACd,IAAI;oBACF,MAAM,UAAU,CAAC,SAAS,CAAC,KAAK,EAAE;iBACnC;gBAAC,OAAO,KAAK,EAAE;oBACd,OAAO,CAAC,IAAI,CAAC,sCAAsC,KAAK,EAAE,CAAC;iBAC5D;wBAAS;oBACR,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,aAAa,CAAC;oBAC1C,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;yBAChC,MAAM,CAAC,CAAC,GAAW,EAAE,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;yBACpD,OAAO,CAAC,CAAC,GAAW,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;iBAC1D;aACF;QACH,CAAC;KAAA;IAEa,aAAa,CAAC,UAAkB,EAAE,gBAA0C;;YACxF,MAAM,UAAU,GAAgD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAU,CAAC;YAElG,IAAI,CAAC,UAAU,EAAE;gBACf,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,UAAU,8BAA8B,CAAC;aACnE;YAED,MAAM,aAAa,GAAW,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC;YACrE,IAAI,UAAU,GAAiC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,aAAa,CAAC;YACtF,IAAI,CAAC,UAAU,EAAE;gBACf,UAAU,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,EAAE,gBAAgB,CAAC;aAC3E;YAED,OAAO,UAAU,CAAC,UAAU,CAAC;QAC/B,CAAC;KAAA;IAEO,gBAAgB,CAAC,gBAA0C;QACjE,OAAO,gBAAgB,CAAC,CAAC,CAAC,GAAG,gBAAgB,CAAC,IAAI,IAAI,gBAAgB,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,mBAAmB;IAC3G,CAAC;IAEO,SAAS,CAAC,UAAkB,EAAE,gBAA0C;QAC9E,OAAO,GAAG,UAAU,IAAI,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,EAAE;IACnE,CAAC;IAEO,yBAAyB,CAAC,KAAc;QAC9C,OAAO,CACL,2DAAM,CAAmB,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,oBAAoB,IAAI,KAAK,CAAC,IAAI,KAAK,mCAAmC,CAAC,CACvI;IACH,CAAC;IAEO,QAAQ,CAAC,KAAc;QAC7B,SAAS,sBAAsB,CAAC,UAAkB;YAChD,QAAQ,UAAU,EAAE;gBAClB,KAAK,6DAAU,CAAC,iBAAiB;oBAC/B,OAAO,gDAAgD;gBACzD;oBACE,OAAO,IAAI;aACd;QACH,CAAC;QAED,IAAI,2DAAM,CAAyB,KAAK,EAAE,YAAY,CAAC,EAAE;YACvD,MAAM,YAAY,GAAkB,sBAAsB,CAAC,KAAK,CAAC,UAAU,CAAC;YAC5E,IAAI,YAAY,EAAE;gBAChB,OAAO,YAAY;aACpB;SACF;QAED,IAAI,2DAAM,CAAsB,KAAK,EAAE,SAAS,CAAC,EAAE;YACjD,OAAO,KAAK,CAAC,OAAO;SACrB;QAED,OAAO,KAAK;IACd,CAAC;;0EAlLU,aAAa;iGAAb,aAAa,WAAb,aAAa,mBAFZ,MAAM;;;;;;;;;;;;;ACjBpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AAEmB;AAU7E,IAAY,kBAMX;AAND,WAAY,kBAAkB;IAC5B,mDAA6B;IAC7B,2CAAqB;IACrB,iDAA2B;IAC3B,uDAAiC;IACjC,uCAAiB;AACnB,CAAC,EANW,kBAAkB,KAAlB,kBAAkB,QAM7B;AAEM,MAAM,6BAA6B,GAAG,CAAC,SAA8B,EAAsB,EAAE;IAClG,QAAQ,SAAS,EAAE;QACjB,KAAK,wEAAmB,CAAC,QAAQ;YAC/B,OAAO,kBAAkB,CAAC,WAAW;QACvC,KAAK,wEAAmB,CAAC,UAAU;YACjC,OAAO,kBAAkB,CAAC,cAAc;QAC1C,KAAK,wEAAmB,CAAC,KAAK;YAC5B,OAAO,kBAAkB,CAAC,YAAY;KACzC;AACH,CAAC;AAEM,MAAM,uBAAuB;IAqBlC,YACkB,EAAsB,EACtC,KAAyB,EACzB,kBAAkD,EAClC,OAA6B,EAC7B,YAAqB,KAAK;QAJ1B,OAAE,GAAF,EAAE,CAAoB;QAGtB,YAAO,GAAP,OAAO,CAAsB;QAC7B,cAAS,GAAT,SAAS,CAAiB;QAE1C,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;QACvB,IAAI,CAAC,wBAAwB,CAAC,kBAAkB,CAAC;QACjD,IAAI,CAAC,YAAY,EAAE;IACrB,CAAC;IA7BD,IAAW,KAAK;QACd,OAAO,IAAI,CAAC,MAAM;IACpB,CAAC;IAID,IAAW,kBAAkB;QAC3B,OAAO,IAAI,CAAC,mBAAmB;IACjC,CAAC;IAED,IAAW,kBAAkB,CAAC,OAA2B;QACvD,IAAI,CAAC,mBAAmB,GAAG,OAAO;IACpC,CAAC;IAGD,IAAW,MAAM;QACf,OAAO,IAAI,CAAC,OAAO;IACrB,CAAC;IAcM,WAAW,CAAC,KAAa;QAC9B,IAAI,CAAC,MAAM,GAAG,KAAK;IACrB,CAAC;IAEM,YAAY;QACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE;IACrC,CAAC;IAEM,wBAAwB,CAAC,kBAAsC;QACpE,IAAI,CAAC,mBAAmB,GAAG,kBAAkB,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,kBAAkB,CAAC,YAAY;IACtG,CAAC;IAEO,aAAa;QACnB,MAAM,MAAM,GAAuC;YACjD,MAAM,EAAE,CAAC;YACT,MAAM,EAAE,CAAC;YACT,OAAO,EAAE,CAAC;SACX;QAED,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE;YACjC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE;SACxB;QAED,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YACrB,OAAO,2FAAkB,CAAC,MAAM;SACjC;aAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5B,OAAO,2FAAkB,CAAC,MAAM;SACjC;aAAM;YACL,OAAO,2FAAkB,CAAC,OAAO;SAClC;IACH,CAAC;IAEM,MAAM;QACX,OAAO;YACL,EAAE,EAAE,IAAI,CAAC,EAAE;YACX,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,kBAAkB,EAAE,IAAI,CAAC,kBAAkB;YAC3C,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,MAA0B,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;SAC1G;IACH,CAAC;IAEM,cAAc,CAAC,MAA0B;QAC9C,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC;IACtC,CAAC;CACF;;;;;;;;;;;;;AC3GD;AAAA;AAAA,IAAY,oBAGX;AAHD,WAAY,oBAAoB;IAC9B,mCAAW;IACX,mCAAW;AACb,CAAC,EAHW,oBAAoB,KAApB,oBAAoB,QAG/B;;;;;;;;;;;;;;;;;;;;;;;ACLyD;AAEL;AACM;AACA;AAEyC;AAIpG,SAAS,+BAA+B,CAAC,kBAA0B;IACjE,QAAQ,kBAAkB,EAAE;QAC1B,KAAK,wEAAmB,CAAC,GAAG;YAC1B,OAAO,CAAC,qEAAe,EAAE,qEAAe,CAAC;QAC3C;YACE,OAAO,CAAC,qEAAe,EAAE,kEAAY,CAAC;KACzC;AACH,CAAC;AAED,SAAS,+BAA+B,CAAC,mBAA2B;IAClE,OAAO,CAAC,kEAAY,CAAC;AACvB,CAAC;AAED,SAAS,4BAA4B,CAAC,kBAA0B,EAAE,cAAoC;IACpG,QAAQ,cAAc,EAAE;QACtB,KAAK,sEAAoB,CAAC,GAAG;YAC3B,OAAO,+BAA+B,CAAC,kBAAkB,CAAC;QAC5D,KAAK,sEAAoB,CAAC,GAAG;YAC3B,OAAO,+BAA+B,CAAC,kBAAkB,CAAC;QAC5D;YACE,OAAO,EAAE;KACZ;AACH,CAAC;AAED,SAAe,yBAAyB,CAAC,kBAA0B,EAAE,cAAoC;;QACvG,MAAM,cAAc,GAAoB,4BAA4B,CAAC,kBAAkB,EAAE,cAAc,CAAC;QACxG,MAAM,YAAY,GAAc,MAAM,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,SAAwB,EAAE,EAAE,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,CAAC;QAC5H,MAAM,mBAAmB,GAAW,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC;QAE9D,OAAO,mBAAmB,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,IAAI;IAC9E,CAAC;CAAA;AAEM,MAAM,uBAAuB;IAmClC,YAA6B,IAA0B,EAAW,SAAoB;QAAzD,SAAI,GAAJ,IAAI,CAAsB;QAAW,cAAS,GAAT,SAAS,CAAW;IAAG,CAAC;IAlCnF,MAAM,CAAO,mBAAmB,CACrC,kBAA0B,EAC1B,cAAoC;;YAEpC,MAAM,sBAAsB,GAAkB,MAAM,yBAAyB,CAAC,kBAAkB,EAAE,cAAc,CAAC;YAEjH,OAAO,sBAAsB;gBAC3B,CAAC,CAAE,sBAAsB,CAAC,IAAI,EAAiC;qBAC1D,IAAI,CAAC,CAAC,WAA8B,EAAE,EAAE;oBACvC,OAAO,WAAW,CAAC,GAAG,CAAC,CAAC,UAAkB,EAAE,EAAE,CAAC,CAAC;wBAC9C,UAAU;wBACV,IAAI,EAAE,cAAc;qBACrB,CAAC,CAAC;gBACL,CAAC,CAAC;qBACD,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC;gBACpB,CAAC,CAAC,EAAE;QACR,CAAC;KAAA;IAEM,MAAM,CAAO,IAAI,CACtB,kBAA0B,EAC1B,iBAAuC,sEAAoB,CAAC,GAAG,EAC/D,UAAmB;;YAEnB,MAAM,sBAAsB,GAAkB,MAAM,yBAAyB,CAAC,kBAAkB,EAAE,cAAc,CAAC;YAEjH,IAAI,sBAAsB,EAAE;gBAC1B,MAAM,SAAS,GAAc,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,sBAAsB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,sBAAsB,CAAC,MAAM,EAAE,CAAC;gBAE3H,OAAO,IAAI,uBAAuB,CAAC,cAAc,EAAE,SAAS,CAAC;aAC9D;iBAAM;gBACL,OAAO,OAAO,CAAC,MAAM,CAAC,mBAAmB,cAAc,mBAAmB,CAAC;aAC5E;QACH,CAAC;KAAA;CAGF;;;;;;;;;;;;;;;;;;;;AC9EyB;AAEoB;AAGF;AACY;AAExD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE;CACjB;AAED,2EAAwB;KACrB,eAAe,CAAC,yDAAS,CAAC;KAC1B,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACdmC;AAC+B;AACvB;AACN;;;;;;;ICHxE,wEAAuD;IACrD,+EAA6D;IAC/D,qEAAe;;;IADG,0DAA2B;IAA3B,uFAA2B;;;IAanC,qEAA8D;IAC5D,2EAA2C;IAAA,uDAAsB;IAAA,4DAAO;IAC1E,4DAAK;;;IADwC,0DAAsB;IAAtB,6FAAsB;;;IAFrE,wEAAyF;IACvF,sJAEK;IACL,0EAAgE;IAC9D,6EAA6B;IAC3B,8EAAkB;IAChB,+EAAkC;IAChC,gFAAoD;IAAA,8DAAG;IAAA,4DAAY;IACnE,2EAAkE;IACpE,4DAAW;IACb,4DAAU;IACV,8EAAkB;IAChB,gFAAkC;IAChC,iFAAoD;IAAA,qEAAS;IAAA,4DAAY;IACzE,4EAAyF;IAC3F,4DAAW;IACb,4DAAU;IACV,+EAAkB;IAChB,gFAAkC;IAChC,iFAAoD;IAAA,yEAAa;IAAA,4DAAY;IAC7E,4EAAiG;IACnG,4DAAW;IACb,4DAAU;IACZ,4DAAU;IACZ,4DAAO;IACT,qEAAe;;;;IAzBR,0DAAuD;IAAvD,iIAAuD;IAGtD,0DAA8B;IAA9B,0FAA8B;;;;IALxC,wEAA6F;IAC3F,4JA0Be;IAEf,gFAA4F;IAAhE,4VAAgC;IAAgC,iEAAM;IAAA,4DAAa;IACjH,qEAAe;;;IA7B8B,0DAA+B;IAA/B,sGAA+B;IA4Bb,0DAA8B;IAA9B,8FAA8B;;;;IArCnG,wEAAqD;IACnD,6EAAyE;IACvE,6EAAgC;IAC9B,8EAA8C;IAC5C,4EAAW;IAAA,sEAAW;IAAA,4DAAY;IAClC,gFAA4E;IAAhE,+VAAsB;IAA0C,4DAAa;IAC3F,4DAAW;IAEX,4IA8Be;IACjB,4DAAU;IACZ,4DAAU;IACZ,qEAAe;;;IApCK,0DAAsB;IAAtB,oFAAsB;IAGrB,0DAA4E;IAA5E,6JAA4E;;ADF1F,MAAM,eAAe;IAY1B,YACmB,WAAwB,EACxB,eAAgC,EAChC,gBAAkC;QAFlC,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAChC,qBAAgB,GAAhB,gBAAgB,CAAkB;QALrC,6BAAwB,GAAwC,IAAI,0DAAY,EAAyB;QAQlH,aAAQ,GAAY,KAAK;IAF7B,CAAC;IAIJ,IAAW,iBAAiB;QAC1B,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE;YAChC,OAAO,SAAS;SACjB;QACD,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAuB;IACxD,CAAC;IAEY,SAAS;;YACpB,IAAI,IAAI,CAAC,gBAAgB,KAAK,SAAS,EAAE;gBACvC,OAAM;aACP;YAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,wEAAmB,CAAC,GAAG,CAAC;YAEhF,MAAM,UAAU,GAAG,MAAM,OAAO,CAAC,GAAG,CAClC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAO,SAAc,EAAE,EAAE,CAAC;gBAC3D,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;gBACrG,MAAM,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,EAAE;oBACpD,yDAAU,CAAC,QAAQ;oBACnB,yDAAU,CAAC,OAAO,CAAC,qBAAqB,QAAQ,CAAC,WAAW,MAAM,CAAC;iBACpE,CAAC;gBACF,MAAM,eAAe,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/G,MAAM,mBAAmB,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvH,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;oBAC5B,GAAG,EAAE,UAAU;oBACf,QAAQ,EAAE,eAAe;oBACzB,YAAY,EAAE,mBAAmB;iBAClC,CAAC;YACJ,CAAC,EAAC,CACH;YACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBACtC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC;aAC/C,CAAC;QACJ,CAAC;KAAA;IAEY,oBAAoB;;YAC/B,IAAI,IAAI,CAAC,gBAAgB,KAAK,SAAS,EAAE;gBACvC,OAAM;aACP;YACD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,wEAAmB,CAAC,GAAG,CAAC;YAEhF,IAAI,CAAC,gBAAgB,CAAC,QAAQ,GAAG,MAAM,OAAO,CAAC,GAAG,CAChD,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAO,SAAS,EAAE,KAAK,EAAE,EAAE,CAAC;gBAC7D,MAAM,KAAK,GAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAwB,CAAC,QAAQ,CAAC,KAAK,CAAc;gBAC5F,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,QAAQ,EAAE,UAAU,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;gBAE1H,uCACK,SAAS,KACZ,GAAG,EACH,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,EAChD,aAAa,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,CAAC,IACzD;YACH,CAAC,EAAC,CACH;YACD,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;YACzD,IAAI,CAAC,QAAQ,GAAG,KAAK;QACvB,CAAC;KAAA;;8EA5EU,eAAe;+FAAf,eAAe;QCV5B,6HAEe;QAEf,6HAyCe;;QA7CuB,qFAAe;QAItC,0DAAoC;QAApC,oGAAoC;;;;;;;;;;;;;ACJnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,qC","file":"main.js","sourcesContent":["import { UIWidget, UIWidgetType, UIWidgetConfig } from '../UIWidget'\nimport { SafeUrl } from '@angular/platform-browser'\n\nexport interface UIAccountSummaryConfig extends UIWidgetConfig {\n  address: string\n  logo?: string | SafeUrl\n  header: string | [string, string]\n  description: string | [string, string]\n}\n\nexport class UIAccountSummary extends UIWidget {\n  public readonly type = UIWidgetType.ACCOUNT_SUMMARY\n\n  public address: string\n  public logo?: string | SafeUrl\n  public header: [string, string]\n  public description: [string, string]\n\n  constructor(config: UIAccountSummaryConfig) {\n    super(config)\n\n    this.address = config.address\n    this.logo = config.logo\n    this.header = typeof config.header === 'string' ? [config.header, ''] : config.header\n    this.description = typeof config.description === 'string' ? [config.description, ''] : config.description\n  }\n\n  public onInvalidLogo(): void {\n    this.logo = undefined\n  }\n}\n","import { Component } from '@angular/core'\nimport { ModalController } from '@ionic/angular'\nimport WalletConnect from '@walletconnect/client'\nimport BigNumber from 'bignumber.js'\nimport { ErrorCategory, handleErrorSentry } from 'src/app/services/sentry-error-handler/sentry-error-handler'\n\n@Component({\n  selector: 'app-dapp-confirm',\n  templateUrl: './dapp-confirm.page.html',\n  styleUrls: ['./dapp-confirm.page.scss']\n})\nexport class DappConfirmPage {\n  private readonly connector: WalletConnect | undefined\n  public id: string | undefined\n  public result: string | undefined\n\n  constructor(private readonly modalController: ModalController) {}\n\n  public async approveRequest() {\n    this.connector.approveRequest({\n      id: new BigNumber(this.id).toNumber(),\n      result: this.result\n    })\n    this.dismissModal()\n  }\n\n  public async rejectRequest() {\n    this.connector.rejectRequest({\n      id: new BigNumber(this.id).toNumber(),\n      error: {\n        message: 'USER_REJECTION' // optional\n      }\n    })\n    this.dismissModal()\n  }\n\n  public async dismissModal(): Promise<void> {\n    this.modalController.dismiss().catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-title>{{'dapp-confirm.title' | translate}}</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-text class=\"font--weight__bold\" color=\"secondary\">\n    <p>{{ 'dapp-confirm.text' | translate }}</p>\n  </ion-text>\n  <ion-row class=\"rawdata--container\">\n    <ion-col class=\"ion-no-padding\">\n      <pre class=\"ion-no-margin\">\n  {{result | json}}\n      </pre>\n    </ion-col>\n  </ion-row>\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button shape=\"round\" color=\"secondary\" (click)=\"rejectRequest()\">Cancel</ion-button>\n    <ion-button shape=\"round\" color=\"primary\" (click)=\"approveRequest()\">Confirm</ion-button>\n  </ion-fab>\n</ion-content>\n","import { Component, Input } from '@angular/core'\nimport { UIAccount } from 'src/app/models/widgets/display/UIAccount'\n\n@Component({\n  selector: 'widget-account',\n  templateUrl: 'widget-account.html',\n  styleUrls: ['widget-account.scss']\n})\nexport class WidgetAccount {\n  @Input()\n  public readonly widget: UIAccount\n}\n","<ion-item lines=\"none\" class=\"ion-no-padding ion-no-margin\">\n  <ion-avatar slot=\"start\">\n    <img *ngIf=\"widget.logo\" [src]=\"widget.logo\" (error)=\"widget.onInvalidLogo()\" />\n    <airgap-identicon *ngIf=\"!widget.logo\" [address]=\"widget.address\"></airgap-identicon>\n  </ion-avatar>\n  <ion-label>\n    <h2 class=\"font--weight__bold\" ion-text color=\"black\" *ngIf=\"widget.hasName\">{{ widget.name }}</h2>\n    <h2 class=\"font--weight__bold\" ion-text color=\"black\" *ngIf=\"!widget.hasName\">{{ widget.address | shortenString }}</h2>\n\n    <ion-text color=\"blackLight\">\n      <p *ngIf=\"widget.hasName && !widget.shortenAddress\" class=\"typography--mono\">{{ widget.address }}</p>\n      <p *ngIf=\"widget.hasName && widget.shortenAddress\" class=\"typography--mono\">{{ widget.address | shortenString }}</p>\n    </ion-text>\n\n    <h3 *ngIf=\"widget.description\">{{ widget.description }}</h3>\n  </ion-label>\n</ion-item>\n","import { AfterViewInit, Component, Input, OnDestroy, ViewChild } from '@angular/core'\nimport * as moment from 'moment'\nimport { BaseChartDirective } from 'ng2-charts'\nimport { combineLatest, Subscription } from 'rxjs'\nimport { AirGapMarketWallet, TimeInterval } from '@airgap/coinlib-core/wallet/AirGapMarketWallet'\nimport { DrawChartService } from './../../services/draw-chart/draw-chart.service'\nimport { MarketDataService, ValueAtTimestamp } from './../../services/market-data/market-data.service'\nimport { AccountProvider } from 'src/app/services/account/account.provider'\nimport { AirGapWalletStatus, NetworkType, SubProtocolSymbols } from '@airgap/coinlib-core'\nimport { distinctUntilChanged } from 'rxjs/operators'\n\n@Component({\n  selector: 'chart',\n  templateUrl: 'chart.component.html'\n})\nexport class ChartComponent implements AfterViewInit, OnDestroy {\n  @Input()\n  public total: number\n\n  @ViewChild('baseChart', { static: true }) public chart?: BaseChartDirective\n\n  public readonly timeInterval: typeof TimeInterval = TimeInterval\n\n  public currentTimeInterval: TimeInterval | undefined = undefined\n  public chartType: string = 'line'\n  public chartLabels: string[] = []\n  public percentageChange: number\n  public chartOptions: any = {}\n  public chartColors: {}[] = []\n\n  public chartDatasets: { data: number[]; label: string }[] = [{ data: [], label: 'Price' }]\n\n  private subscription: Subscription\n  private activeWallets: AirGapMarketWallet[]\n\n  constructor(\n    private readonly drawChartProvider: DrawChartService,\n    private readonly marketDataProvider: MarketDataService,\n    private readonly accountProvider: AccountProvider\n  ) {}\n\n  public ngOnInit(): void {\n    this.chartOptions = {\n      layout: {\n        padding: {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }\n      },\n      animation: {\n        duration: 1250 // general animation time\n      },\n      hover: {\n        animationDuration: 250 // duration of animations when hovering an item\n      },\n      responsiveAnimationDuration: 0, // animation duration after a resize\n      legend: {\n        display: false\n      },\n      responsive: true,\n      scaleFontColor: 'white',\n      type: 'line',\n      scales: {\n        yAxes: [\n          {\n            display: false,\n            gridLines: {\n              display: false\n            }\n          }\n        ],\n        xAxes: [\n          {\n            display: false,\n            gridLines: {\n              display: false\n            }\n          }\n        ]\n      },\n      elements: {\n        point: {\n          radius: 1\n        },\n        line: {\n          tension: 0 // disables bezier curves\n        }\n      },\n      tooltips: {\n        mode: 'x-axis',\n        intersect: false,\n        displayColors: false, // removes color box and label\n\n        callbacks: {\n          title: function (data) {\n            return moment.unix(data[0].label).format('DD.MM.YYYY')\n          },\n          label: function (data): string {\n            if (Number(data.value) % 1 !== 0) {\n              let value = parseFloat(data.value).toFixed(2)\n              return `$${value}`\n            } else {\n              return data.value\n            }\n          }\n        }\n      },\n      annotation: {\n        annotations: [\n          {\n            type: 'line',\n            mode: 'vertical',\n            scaleID: 'x-axis-0',\n            borderColor: 'orange',\n            borderWidth: 2,\n            label: {\n              enabled: true,\n              fontColor: 'orange',\n              content: 'LineAnno'\n            }\n          }\n        ]\n      }\n    }\n    this.subscription = combineLatest([this.drawChartProvider.getChartObservable(), this.accountProvider.wallets$.asObservable()])\n      .pipe(distinctUntilChanged())\n      .subscribe(async ([data, wallets]) => {\n        this.activeWallets =\n          wallets.filter(\n            (wallet) =>\n              wallet.status === AirGapWalletStatus.ACTIVE &&\n              wallet.protocol.identifier !== SubProtocolSymbols.XTZ_USD &&\n              wallet.protocol.options.network.type === NetworkType.MAINNET\n          ) ?? []\n        this.drawChart(data)\n      })\n  }\n\n  public async drawChart(timeInterval: TimeInterval): Promise<void> {\n    this.chartLabels = []\n    this.chartDatasets = [{ data: [], label: '$' }]\n\n    this.currentTimeInterval = timeInterval\n\n    this.marketDataProvider.fetchAllValues(this.currentTimeInterval, this.activeWallets).then(async (rawData) => {\n      this.chartDatasets[0].data = rawData.map((obj: ValueAtTimestamp) => obj.usdValue)\n\n      for (const value of rawData) {\n        // x-axis labeling\n        this.chartLabels.push(value.timestamp.toString())\n      }\n\n      this.percentageChange = this.displayPercentageChange(rawData.map((obj: ValueAtTimestamp) => obj.usdValue))\n    })\n  }\n\n  public setLabel24h(): void {\n    this.currentTimeInterval = TimeInterval.HOURS\n  }\n\n  public displayPercentageChange(rawData: number[]): number {\n    const firstValue: number = rawData.find((value) => value > 0)\n    if (firstValue !== undefined) {\n      const lastValue: number = rawData.slice(-1)[0]\n      const percentageChange: number = ((lastValue - firstValue) / firstValue) * 100\n\n      return Number(parseFloat(String(Math.round(percentageChange * 100) / 100)).toFixed(2))\n    }\n\n    return 0\n  }\n\n  public ngAfterViewInit(): void {\n    this.chartDatasets = [{ data: [], label: '$' }]\n    this.chartLabels = []\n\n    if (this.chart) {\n      const ctx: CanvasRenderingContext2D = (this.chart.ctx as any) as CanvasRenderingContext2D\n\n      const color1: string = '26E8CD' // rgb(122, 141, 169)\n\n      const gradientStroke1: CanvasGradient = ctx.createLinearGradient(0, 10, 0, 0)\n      gradientStroke1.addColorStop(0, `#${color1}`)\n\n      const gradientFill1: CanvasGradient = ctx.createLinearGradient(0, 100, 0, 0)\n      gradientFill1.addColorStop(1, 'rgba(38,232,205,0.34)')\n      gradientFill1.addColorStop(0, 'rgba(38,232,205,0.04) ')\n\n      this.chartColors[0] = {\n        backgroundColor: gradientFill1,\n        borderColor: gradientStroke1,\n        pointBackgroundColor: gradientStroke1,\n        pointBorderColor: gradientStroke1,\n        pointHoverBackgroundColor: gradientStroke1,\n        pointHoverBorderColor: gradientStroke1\n      }\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe()\n  }\n}\n","<ion-row class=\"ion-padding-horizontal ion-align-items-end ion-justify-content-center\">\n  <h1 class=\"ion-no-margin\">${{ total | number: '1.2-2' }}</h1>\n</ion-row>\n<ion-row class=\"ion-padding-horizontal ion-align-items-end ion-justify-content-center\">\n  <ion-text [color]=\"percentageChange >= 0 ? 'primary' : 'danger'\">\n    <small>\n      <span *ngIf=\"percentageChange >= 0\">+</span>\n      <span>{{ percentageChange }}%</span>\n    </small>\n  </ion-text>\n</ion-row>\n<div>\n  <canvas\n    baseChart\n    #baseChart=\"base-chart\"\n    width=\"700\"\n    height=\"200px\"\n    [chartType]=\"chartType\"\n    [datasets]=\"chartDatasets\"\n    [labels]=\"chartLabels\"\n    [colors]=\"chartColors\"\n    [options]=\"chartOptions\"\n    [legend]=\"false\"\n  ></canvas>\n</div>\n<ion-row class=\"ion-padding-horizontal ion-padding-bottom ion-align-items-end ion-justify-content-center\">\n  <ion-button\n    [color]=\"currentTimeInterval !== timeInterval.HOURS && chartDatasets[0].data.length > 0 ? 'primary' : 'secondary'\"\n    size=\"small\"\n    fill=\"clear\"\n    (click)=\"drawChart(timeInterval.HOURS)\"\n  >\n    24h\n  </ion-button>\n\n  <ion-button\n    [color]=\"currentTimeInterval !== timeInterval.DAYS && chartDatasets[0].data.length > 0 ? 'primary' : 'secondary'\"\n    size=\"small\"\n    fill=\"clear\"\n    (click)=\"drawChart(timeInterval.DAYS)\"\n  >\n    7d\n  </ion-button>\n\n  <ion-button\n    [color]=\"currentTimeInterval !== timeInterval.MONTH && chartDatasets[0].data.length > 0 ? 'primary' : 'secondary'\"\n    size=\"small\"\n    fill=\"clear\"\n    (click)=\"drawChart(timeInterval.MONTH)\"\n  >\n    30d\n  </ion-button>\n</ion-row>\n","/* (ignored) */","import { Component, Input } from '@angular/core'\n\n@Component({\n  selector: 'empty-state',\n  templateUrl: 'empty-state.html',\n  styleUrls: ['./empty-state.scss']\n})\nexport class EmptyStateComponent {\n  @Input()\n  public imageName: string\n\n  @Input()\n  public text: string\n\n  @Input()\n  public fullHeight: boolean = true\n}\n","<ion-row\n  class=\"ion-padding-horizontal ion-align-items-end ion-justify-content-center\"\n  [ngClass]=\"fullHeight ? 'height__full' : 'height__content'\"\n>\n  <img src=\"./assets/img/{{ imageName }}\" />\n  <p class=\"ion-text-center\" [innerHTML]=\"text\"></p>\n</ion-row>\n","import { Pipe, PipeTransform } from '@angular/core'\n\nimport { ActiveWalletGroup } from '../../services/account/account.provider'\n\n@Pipe({\n  name: 'groupLabel'\n})\nexport class GroupLabelPipe implements PipeTransform {\n  public transform(group: ActiveWalletGroup): string {\n    if (group === 'all') {\n      return 'group-label.all'\n    }\n\n    if (group.label === undefined) {\n      return 'group-label.ungrouped'\n    }\n\n    return group.label\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { WalletStorageService } from '../storage/storage'\nimport { BehaviorSubject, Observable } from 'rxjs'\nimport { AccountSync } from 'src/app/types/AccountSync'\n\nexport enum DataServiceKey {\n  SYNC_ACCOUNTS = 'sync-accounts',\n  ACCOUNTS = 'accounts',\n  PROTOCOL = 'protocol',\n  DETAIL = 'detail',\n  INTERACTION = 'interaction',\n  EXCHANGE = 'exchange',\n  TRANSACTION = 'transaction',\n  SCAN = 'scan',\n  WALLET = 'wallet'\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n  private readonly data = []\n  private accountSyncs$: BehaviorSubject<AccountSync[] | null> = new BehaviorSubject(null)\n\n  constructor(private readonly storage: WalletStorageService) {}\n\n  public getAccountSyncs(): Observable<AccountSync[] | null> {\n    return this.accountSyncs$.asObservable()\n  }\n\n  public setData(id, data) {\n    if (id === DataServiceKey.SYNC_ACCOUNTS) {\n      this.accountSyncs$.next(data)\n    }\n    this.data[id] = data\n  }\n\n  public getData(id) {\n    return this.data[id]\n  }\n\n  public async get<K extends DataServiceKey>(key: K): Promise<any> {\n    return this.storage.getCache(key)\n  }\n\n  public async set<K extends DataServiceKey>(key: K, value: any): Promise<any> {\n    return this.storage.setCache(key, value)\n  }\n}\n","/* (ignored) */","import { Component, Input } from '@angular/core'\nimport { UIAccountSummary } from 'src/app/models/widgets/display/UIAccountSummary'\n\n@Component({\n  selector: 'widget-account-summary',\n  templateUrl: 'widget-account-summary.html',\n  styleUrls: ['widget-account-summary.scss']\n})\nexport class WidgetAccountSummary {\n  @Input()\n  public readonly widget: UIAccountSummary\n}\n","<ion-item lines=\"none\" class=\"ion-no-padding ion-no-margin\">\n  <ion-avatar slot=\"start\">\n    <img *ngIf=\"widget.logo\" [src]=\"widget.logo\" (error)=\"widget.onInvalidLogo()\" />\n    <airgap-identicon *ngIf=\"!widget.logo\" [address]=\"widget.address\"></airgap-identicon>\n  </ion-avatar>\n  <ion-label>\n    <ion-text color=\"black\">\n      <ion-row class=\"ion-no-padding\">\n        <ion-col size=\"9\" class=\"ion-no-padding\">\n          <h2 class=\"font--weight__bold\">\n            {{ widget.header[0] }}\n          </h2>\n        </ion-col>\n        <ion-col size=\"3\" class=\"ion-text-end ion-no-padding\">\n          <p class=\"ion-no-margin\">\n            {{ widget.header[1] }}\n          </p>\n        </ion-col>\n      </ion-row>\n    </ion-text>\n    <ion-row class=\"ion-no-padding\">\n      <ion-col size=\"4\" class=\"ion-no-padding\">\n        <ion-text color=\"blackLight\">\n          <p class=\"ion-no-margin typography--mono\">\n            {{ widget.description[0] }}\n          </p>\n        </ion-text>\n      </ion-col>\n      <ion-col size=\"8\" class=\"ion-text-end ion-no-padding\">\n        <ion-text color=\"blackLight\">\n          <p class=\"ion-no-margin\">\n            {{ widget.description[1] }}\n          </p>\n        </ion-text>\n      </ion-col>\n    </ion-row>\n  </ion-label>\n</ion-item>\n","/* (ignored) */","/* (ignored) */","import { AmountConverterPipe } from '@airgap/angular-core'\nimport { DelegateeDetails, DelegatorAction, DelegatorDetails, MoonbeamProtocol } from '@airgap/coinlib-core'\nimport { MoonbeamCollatorDetails } from '@airgap/coinlib-core/protocols/substrate/moonbeam/data/staking/MoonbeamCollatorDetails'\nimport { MoonbeamNominationDetails } from '@airgap/coinlib-core/protocols/substrate/moonbeam/data/staking/MoonbeamNominationDetails'\nimport { MoonbeamNominatorDetails } from '@airgap/coinlib-core/protocols/substrate/moonbeam/data/staking/MoonbeamNominatorDetails'\nimport { MoonbeamStakingActionType } from '@airgap/coinlib-core/protocols/substrate/moonbeam/data/staking/MoonbeamStakingActionType'\nimport { DecimalPipe } from '@angular/common'\nimport { FormBuilder, Validators } from '@angular/forms'\nimport { TranslateService } from '@ngx-translate/core'\nimport { BigNumber } from 'bignumber.js'\nimport { UIAlert } from 'src/app/models/widgets/display/UIAlert'\n\nimport {\n  AirGapDelegateeDetails,\n  AirGapDelegationDetails,\n  AirGapDelegatorAction,\n  AirGapDelegatorDetails\n} from '../../interfaces/IAirGapCoinDelegateProtocol'\nimport { UIIconText } from '../../models/widgets/display/UIIconText'\nimport { UIInputWidget } from '../../models/widgets/UIInputWidget'\nimport { UIWidget } from '../../models/widgets/UIWidget'\nimport { DecimalValidator } from '../../validators/DecimalValidator'\n\nimport { ProtocolDelegationExtensions } from './ProtocolDelegationExtensions'\n\nenum ArgumentName {\n  COLLATOR = 'collator',\n  AMOUNT = 'amount',\n  AMOUNT_CONTROL = 'amountControl',\n  CANDIDATE = 'candidate',\n  MORE = 'more',\n  MORE_CONTROL = 'moreControl',\n  LESS = 'less',\n  LESS_CONTROL = 'lessControl'\n}\n\nexport class MoonbeamDelegationExtensions extends ProtocolDelegationExtensions<MoonbeamProtocol> {\n  public static create(\n    formBuilder: FormBuilder,\n    decimalPipe: DecimalPipe,\n    amountConverterPipe: AmountConverterPipe,\n    translateService: TranslateService\n  ): MoonbeamDelegationExtensions {\n    return new MoonbeamDelegationExtensions(formBuilder, decimalPipe, amountConverterPipe, translateService)\n  }\n\n  private constructor(\n    private readonly formBuilder: FormBuilder,\n    private readonly decimalPipe: DecimalPipe,\n    private readonly amountConverterPipe: AmountConverterPipe,\n    private readonly translateService: TranslateService\n  ) {\n    super()\n  }\n\n  public delegateeLabel: string = 'delegation-detail-moonbeam.delegatee-label'\n  public delegateeLabelPlural: string = 'delegation-detail-moonbeam.delegatee-label-plural'\n  public supportsMultipleDelegations: boolean = true\n\n  public airGapDelegatee(_protocol: MoonbeamProtocol): string | undefined {\n    return undefined\n  }\n\n  public async getExtraDelegationDetailsFromAddress(\n    protocol: MoonbeamProtocol,\n    delegator: string,\n    delegatees: string[]\n  ): Promise<AirGapDelegationDetails[]> {\n    const delegationsDetails = await Promise.all(\n      delegatees.map((validator) => protocol.getDelegationDetailsFromAddress(delegator, [validator]))\n    )\n\n    return Promise.all(\n      delegationsDetails.map(async (details) => {\n        const [nominator, collator] = await Promise.all([\n          this.getExtraNominatorDetails(protocol, details.delegator, details.delegatees[0].address),\n          this.getExtraCollatorDetails(protocol, details.delegatees[0])\n        ])\n\n        return {\n          delegator: nominator,\n          delegatees: [collator],\n          alerts: nominator.alerts\n        }\n      })\n    )\n  }\n\n  private async getExtraNominatorDetails(\n    protocol: MoonbeamProtocol,\n    delegatorDetails: DelegatorDetails,\n    collator: string\n  ): Promise<AirGapDelegatorDetails & { alerts?: UIAlert[] }> {\n    const nominationDetails = await protocol.options.accountController.getNominationDetails(delegatorDetails.address, collator)\n\n    const results = await Promise.all([\n      this.createDelegateAction(protocol, nominationDetails, collator),\n      this.createUndelegateAction(protocol, nominationDetails, collator),\n      this.createDisplayDetails(protocol, nominationDetails),\n      this.createNominationAlerts(protocol, nominationDetails)\n    ])\n\n    const delegateAction = results[0]\n    const undelegateAction = results[1]\n    const displayDetails = results[2]\n    const alerts = results[3]\n\n    const undelegateAllAction = this.createUndelegateAllAction(nominationDetails.nominatorDetails)\n\n    return {\n      ...delegatorDetails,\n      mainActions: [delegateAction, undelegateAction].filter((action) => !!action),\n      secondaryActions: [undelegateAllAction].filter((action) => !!action),\n      displayDetails,\n      alerts\n    }\n  }\n\n  private async getExtraCollatorDetails(protocol: MoonbeamProtocol, delegateeDetails: DelegateeDetails): Promise<AirGapDelegateeDetails> {\n    const collatorDetails = await protocol.options.accountController.getCollatorDetails(delegateeDetails.address)\n\n    const ownBond = new BigNumber(collatorDetails.ownStakingBalance)\n    const totalBond = new BigNumber(collatorDetails.totalStakingBalance)\n\n    const displayDetails = await this.createCollatorDisplayDetails(protocol, collatorDetails)\n\n    return {\n      ...delegateeDetails,\n      usageDetails: {\n        usage: ownBond.div(totalBond),\n        current: ownBond,\n        total: totalBond\n      },\n      displayDetails,\n    }\n  }\n\n  private async createCollatorDisplayDetails(_protocol: MoonbeamProtocol, collatorDetails: MoonbeamCollatorDetails): Promise<UIWidget[]> {\n    const details: UIWidget[] = []\n\n    details.push(\n      new UIIconText({\n        iconName: 'logo-usd',\n        text: `${this.decimalPipe.transform(new BigNumber(collatorDetails.commission).times(100).toString())}%`,\n        description: 'delegation-detail-moonbeam.commission_label'\n      })\n    )\n\n    details.push(\n      new UIIconText({\n        iconName: 'people-outline',\n        text: `${collatorDetails.nominators}`,\n        description: 'delegation-detail-moonbeam.nominators_label'\n      })\n    )\n\n    return details\n  }\n\n  private async createDelegateAction(\n    protocol: MoonbeamProtocol,\n    nominationDetails: MoonbeamNominationDetails,\n    collator: string\n  ): Promise<AirGapDelegatorAction | null> {\n    const { nominatorDetails } = nominationDetails\n    const maxDelegationAmount = await protocol\n      .estimateMaxDelegationValueFromAddress(nominatorDetails.address)\n      .then((value) => new BigNumber(value))\n    const minDelegationAmount = new BigNumber(await protocol.getMinDelegationAmount(nominationDetails.nominatorDetails.address))\n    const delegatedAmount = new BigNumber(nominationDetails.bond)\n    const delegatedFormatted = await this.amountConverterPipe.transform(delegatedAmount, {\n      protocol,\n      maxDigits: protocol.decimals\n    })\n\n    const maxDelegationFormatted = await this.amountConverterPipe.transform(maxDelegationAmount, {\n      protocol,\n      maxDigits: protocol.decimals\n    })\n\n    const hasDelegated = delegatedAmount.gt(0)\n    const canDelegate = maxDelegationAmount.gt(minDelegationAmount)\n\n    const baseDescription = hasDelegated\n      ? this.translateService.instant('delegation-detail-moonbeam.delegate.has-delegated_text', { delegated: delegatedFormatted })\n      : this.translateService.instant('delegation-detail-moonbeam.delegate.not-delegated_text')\n    const extraDescription = canDelegate\n      ? ` ${this.translateService.instant(\n          hasDelegated\n            ? 'delegation-detail-moonbeam.delegate.can-delegate-has-delegated_text'\n            : 'delegation-detail-moonbeam.delegate.can-delegate-not-delegated_text',\n          { maxDelegation: maxDelegationFormatted }\n        )}`\n      : ''\n\n    return this.createMainDelegatorAction(\n      protocol,\n      nominatorDetails.availableActions,\n      collator,\n      [hasDelegated ? MoonbeamStakingActionType.BOND_MORE : MoonbeamStakingActionType.NOMINATE],\n      'delegation-detail-moonbeam.delegate.label',\n      maxDelegationAmount,\n      minDelegationAmount,\n      baseDescription + extraDescription\n    )\n  }\n\n  private async createUndelegateAction(\n    protocol: MoonbeamProtocol,\n    nominationDetails: MoonbeamNominationDetails,\n    collator: string\n  ): Promise<AirGapDelegatorAction | null> {\n    const { nominatorDetails } = nominationDetails\n    const delegatedAmount = new BigNumber(nominationDetails.bond)\n    const delegatedAmountFormatted = await this.amountConverterPipe.transform(delegatedAmount, {\n      protocol\n    })\n    const description = this.translateService.instant('delegation-detail-moonbeam.undelegate.text', { delegated: delegatedAmountFormatted })\n\n    return this.createMainDelegatorAction(\n      protocol,\n      nominatorDetails.availableActions,\n      collator,\n      [MoonbeamStakingActionType.BOND_LESS, MoonbeamStakingActionType.CANCEL_NOMINATION],\n      'delegation-detail-moonbeam.undelegate.label',\n      delegatedAmount,\n      new BigNumber(1),\n      description\n    )\n  }\n\n  private createUndelegateAllAction(nominatorDetails: MoonbeamNominatorDetails): AirGapDelegatorAction | null {\n    const isNominating = nominatorDetails.delegatees.length > 0\n\n    return isNominating\n      ? {\n          type: MoonbeamStakingActionType.CANCEL_ALL_NOMINATIONS,\n          label: 'delegation-detail-moonbeam.undelegate-all.label',\n          iconName: 'close-outline'\n        }\n      : null\n  }\n\n  private createMainDelegatorAction(\n    protocol: MoonbeamProtocol,\n    availableActions: DelegatorAction[],\n    collator: string,\n    types: MoonbeamStakingActionType[],\n    label: string,\n    maxAmount: BigNumber,\n    minAmount: BigNumber,\n    description: string\n  ): AirGapDelegatorAction | null {\n    const action = availableActions.find((action) => types.includes(action.type))\n\n    if (action && maxAmount.gte(minAmount)) {\n      const maxAmountFormatted = maxAmount.shiftedBy(-protocol.decimals).decimalPlaces(protocol.decimals).toFixed()\n\n      const minAmountFormatted = minAmount.shiftedBy(-protocol.decimals).decimalPlaces(protocol.decimals).toFixed()\n\n      const { address: collatorArgName, amount: amountArgName, amountControl: amountControlArgName } = this.resolveMainArgumentNames(\n        action.type\n      )\n\n      let controls = {\n        [collatorArgName]: collator\n      }\n      const inputWidgets: UIInputWidget<any>[] = []\n\n      if (amountArgName && amountControlArgName) {\n        controls = Object.assign(controls, {\n          [amountArgName]: maxAmount.toFixed(),\n          [amountControlArgName]: [\n            maxAmountFormatted,\n            Validators.compose([\n              Validators.required,\n              Validators.min(new BigNumber(minAmountFormatted).toNumber()),\n              Validators.max(new BigNumber(maxAmountFormatted).toNumber()),\n              DecimalValidator.validate(protocol.decimals)\n            ])\n          ]\n        })\n        inputWidgets.push(\n          this.createAmountWidget(amountControlArgName, maxAmountFormatted, minAmountFormatted, {\n            onValueChanged: (value: string) => {\n              form.patchValue({ [amountArgName]: new BigNumber(value).shiftedBy(protocol.decimals).toFixed() })\n            }\n          })\n        )\n      }\n\n      const form = this.formBuilder.group(controls)\n\n      return {\n        type: action.type,\n        form,\n        label,\n        description,\n        args: inputWidgets\n      }\n    }\n\n    return null\n  }\n\n  private resolveMainArgumentNames(mainAction: MoonbeamStakingActionType): { address: string; amount?: string; amountControl?: string } {\n    switch (mainAction) {\n      case MoonbeamStakingActionType.NOMINATE:\n        return {\n          address: ArgumentName.COLLATOR,\n          amount: ArgumentName.AMOUNT,\n          amountControl: ArgumentName.AMOUNT_CONTROL\n        }\n      case MoonbeamStakingActionType.BOND_MORE:\n        return {\n          address: ArgumentName.CANDIDATE,\n          amount: ArgumentName.MORE,\n          amountControl: ArgumentName.MORE_CONTROL\n        }\n      case MoonbeamStakingActionType.CANCEL_NOMINATION:\n        return {\n          address: ArgumentName.COLLATOR\n        }\n      case MoonbeamStakingActionType.BOND_LESS:\n        return {\n          address: ArgumentName.CANDIDATE,\n          amount: ArgumentName.LESS,\n          amountControl: ArgumentName.LESS_CONTROL\n        }\n      default:\n        return {\n          address: ArgumentName.COLLATOR,\n          amount: ArgumentName.AMOUNT,\n          amountControl: ArgumentName.AMOUNT_CONTROL\n        }\n    }\n  }\n\n  private async createDisplayDetails(protocol: MoonbeamProtocol, nominationDetails: MoonbeamNominationDetails): Promise<UIWidget[]> {\n    const details = []\n    const bond = new BigNumber(nominationDetails.bond)\n\n    const maxCollators = await protocol.options.nodeClient.getMaxCollatorsPerNominator()\n\n    if (nominationDetails.nominatorDetails.status) {\n      details.push(\n        new UIIconText({\n          iconName: 'information-outline',\n          text: this.getStatusDescription(nominationDetails.nominatorDetails),\n          description: 'delegation-detail-moonbeam.nominator-status.label'\n        })\n      )\n    }\n\n    if (bond.gt(0)) {\n      details.push(\n        new UIIconText({\n          iconName: 'logo-usd',\n          text: await this.amountConverterPipe.transform(bond, {\n            protocol\n          }),\n          description: 'delegation-detail-moonbeam.currently-delegated_label'\n        })\n      )\n    }\n\n    if (maxCollators) {\n      details.push(\n        new UIIconText({\n          iconName: 'people-outline',\n          text: `${nominationDetails.nominatorDetails.delegatees.length}/${maxCollators.toString()}`,\n          description: 'delegation-detail-moonbeam.collators_label'\n        })\n      )\n    }\n\n    return details\n  }\n\n  private async createNominationAlerts(protocol: MoonbeamProtocol, nominationDetails: MoonbeamNominationDetails): Promise<UIAlert[]> {\n    const alerts: UIAlert[] = []\n\n    const maxNominators = await protocol.options.nodeClient.getMaxNominatorsPerCollator()\n    if (maxNominators && maxNominators.lt(nominationDetails.collatorDetails.nominators) && new BigNumber(nominationDetails.bond).lte(nominationDetails.collatorDetails.minEligibleBalance)) {\n      alerts.push(\n        new UIAlert({\n          title: 'delegation-detail-moonbeam.alert.collator-oversubscribed.title',\n          description: this.translateService.instant('delegation-detail-moonbeam.alert.collator-oversubscribed.description', { \n            maxNominators: maxNominators.toString(), \n            minStakingAmount: await this.amountConverterPipe.transform(nominationDetails.collatorDetails.minEligibleBalance, {\n              protocol,\n              maxDigits: protocol.decimals\n            })\n          }),\n          icon: 'alert-circle-outline',\n          color: 'warning'\n        })\n      )\n    }\n\n    return alerts\n  }\n\n  private getStatusDescription(nominatorDetails: MoonbeamNominatorDetails): string {\n    switch (nominatorDetails.status) {\n      case 'Active':\n        return 'delegation-detail-moonbeam.nominator-status.active_label'\n      case 'Leaving':\n        return 'delegation-detail-moonbeam.nominator-status.leaving_label'\n      default:\n        return 'delegation-detail-moonbeam.nominator-status.unknown_label'\n    }\n  }\n}\n","/* (ignored) */","import { ProtocolService, UiEventService } from '@airgap/angular-core'\nimport {\n  AirGapMarketWallet,\n  IACMessageType,\n  IAirGapTransaction,\n  ICoinProtocol,\n  MainProtocolSymbols,\n  SerializedAirGapWallet,\n  TezosProtocol\n} from '@airgap/coinlib-core'\nimport { TezosProtocolNetwork, TezosProtocolOptions } from '@airgap/coinlib-core/protocols/tezos/TezosProtocolOptions'\nimport { AirGapWalletStatus } from '@airgap/coinlib-core/wallet/AirGapWallet'\nimport { Injectable } from '@angular/core'\nimport { Router } from '@angular/router'\nimport { PushNotificationSchema } from '@capacitor/push-notifications'\nimport { AlertController, LoadingController, PopoverController, ToastController } from '@ionic/angular'\nimport { Observable, ReplaySubject, Subject } from 'rxjs'\nimport { auditTime, map, take } from 'rxjs/operators'\nimport { DelegateAlertAction } from '../../models/actions/DelegateAlertAction'\nimport { AirGapTipUsAction } from '../../models/actions/TipUsAction'\nimport { AirGapMarketWalletGroup, InteractionSetting, SerializedAirGapMarketWalletGroup } from '../../models/AirGapMarketWalletGroup'\nimport { isType } from '../../utils/utils'\nimport { DataService } from '../data/data.service'\nimport { DrawChartService } from '../draw-chart/draw-chart.service'\nimport { InteractionService } from '../interaction/interaction.service'\nimport { OperationsProvider } from '../operations/operations'\nimport { PriceService } from '../price/price.service'\nimport { PushProvider } from '../push/push'\nimport { ErrorCategory, handleErrorSentry } from '../sentry-error-handler/sentry-error-handler'\nimport { WalletStorageKey, WalletStorageService } from '../storage/storage'\n\nenum NotificationKind {\n  CTA_Tip = 'cta_tip',\n  CTA_Delegate = 'cta_delegate'\n}\n\ninterface CTAInfo {\n  kind: NotificationKind\n  fromAddress: string\n  toAddress: string\n  amount: string\n  alertTitle: string\n  alertDescription: string\n}\n\nexport interface WalletAddInfo {\n  walletToAdd: AirGapMarketWallet\n  groupId?: string\n  groupLabel?: string\n  options?: { override?: boolean; updateState?: boolean }\n}\n\nexport type ImplicitWalletGroup = 'all'\nexport type ActiveWalletGroup = AirGapMarketWalletGroup | ImplicitWalletGroup\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AccountProvider {\n  private readonly activeGroup$: ReplaySubject<ActiveWalletGroup> = new ReplaySubject(1)\n  private readonly walletGroups: Map<string | undefined, AirGapMarketWalletGroup> = new Map()\n\n  public walletsHaveLoaded: ReplaySubject<boolean> = new ReplaySubject(1)\n\n  public refreshPageSubject: Subject<void> = new Subject()\n\n  public walletGroups$: ReplaySubject<AirGapMarketWalletGroup[]> = new ReplaySubject(1)\n  public wallets$: ReplaySubject<AirGapMarketWallet[]> = new ReplaySubject(1)\n  public allWallets$: ReplaySubject<AirGapMarketWallet[]> = new ReplaySubject(1)\n  public subWallets$: ReplaySubject<AirGapMarketWallet[]> = new ReplaySubject(1)\n  public usedProtocols$: ReplaySubject<ICoinProtocol[]> = new ReplaySubject(1)\n\n  private readonly walletChangedBehaviour: Subject<void> = new Subject()\n\n  get walletChangedObservable() {\n    return this.walletChangedBehaviour.asObservable().pipe(auditTime(50))\n  }\n\n  public get allWalletGroups(): AirGapMarketWalletGroup[] {\n    return Array.from(this.walletGroups.values())\n  }\n\n  private get allWallets(): AirGapMarketWallet[] {\n    return this.allWalletGroups.reduce((wallets: AirGapMarketWallet[], group: AirGapMarketWalletGroup) => wallets.concat(group.wallets), [])\n  }\n\n  constructor(\n    private readonly storageProvider: WalletStorageService,\n    private readonly pushProvider: PushProvider,\n    private readonly drawChartProvider: DrawChartService,\n    private readonly popoverController: PopoverController,\n    private readonly uiEventService: UiEventService,\n    private readonly alertController: AlertController,\n    private readonly toastController: ToastController,\n    private readonly loadingController: LoadingController,\n    private readonly opertaionsProvider: OperationsProvider,\n    private readonly dataService: DataService,\n    private readonly router: Router,\n    private readonly interactionService: InteractionService,\n    private readonly priceService: PriceService,\n    private readonly protocolService: ProtocolService\n  ) {\n    this.loadWalletsFromStorage()\n      .then(() => {\n        this.walletsHaveLoaded.next(true)\n      })\n      .catch(console.error)\n    this.wallets$.pipe(map((wallets) => wallets.filter((wallet) => 'subProtocolType' in wallet.protocol))).subscribe(this.subWallets$)\n    this.wallets$.pipe(map((wallets) => this.getProtocolsFromWallets(wallets))).subscribe(this.usedProtocols$)\n\n    this.pushProvider.notificationCallback = (notification: PushNotificationSchema): void => {\n      // We need a timeout because otherwise routing might fail\n\n      const env = {\n        popoverController: this.popoverController,\n        loadingController: this.loadingController,\n        uiEventService: this.uiEventService,\n        alertController: this.alertController,\n        toastController: this.toastController,\n        operationsProvider: this.opertaionsProvider,\n        dataService: this.dataService,\n        accountService: this,\n        router: this.router\n      }\n\n      if (notification && isType<CTAInfo>(notification.data)) {\n        const tippingInfo: CTAInfo = notification.data\n\n        if (tippingInfo.kind === NotificationKind.CTA_Tip) {\n          const originWallet: AirGapMarketWallet = this.getWalletList().find((wallet: AirGapMarketWallet) =>\n            wallet.addresses.some((address: string) => address === tippingInfo.fromAddress)\n          )\n          setTimeout(() => {\n            const tipAction: AirGapTipUsAction = new AirGapTipUsAction({\n              wallet: originWallet,\n              tipAddress: tippingInfo.toAddress,\n              amount: tippingInfo.amount,\n              alertTitle: tippingInfo.alertTitle,\n              alertDescription: tippingInfo.alertDescription,\n              ...env\n            })\n\n            tipAction.start()\n          }, 3500)\n        }\n\n        if (tippingInfo.kind === NotificationKind.CTA_Delegate) {\n          const originWallet: AirGapMarketWallet = this.getWalletList().find((wallet: AirGapMarketWallet) =>\n            wallet.addresses.some((address: string) => address === tippingInfo.fromAddress)\n          )\n          setTimeout(() => {\n            const delegateAlertAction: DelegateAlertAction = new DelegateAlertAction({\n              wallet: originWallet,\n              delegate: tippingInfo.toAddress,\n              alertTitle: tippingInfo.alertTitle,\n              alertDescription: tippingInfo.alertDescription,\n              ...env\n            })\n\n            delegateAlertAction.start()\n          }, 3500)\n        }\n      }\n    }\n  }\n\n  public startInteraction(\n    wallet: AirGapMarketWallet,\n    interactionData: unknown,\n    type: IACMessageType,\n    airGapTxs?: IAirGapTransaction[],\n    isRelay: boolean = false,\n    generatedId?: number\n  ) {\n    const group = this.walletGroupByWallet(wallet)\n    this.interactionService.startInteraction(group, wallet, interactionData, type, airGapTxs, isRelay, generatedId)\n  }\n\n  public getActiveWalletGroupObservable(): Observable<ActiveWalletGroup> {\n    return this.activeGroup$.asObservable()\n  }\n\n  public getWalletGroupsObservable(): Observable<AirGapMarketWalletGroup[]> {\n    return this.walletGroups$.asObservable().pipe(map((groups: AirGapMarketWalletGroup[]) => this.sortGroupsByLabel(groups)))\n  }\n\n  public triggerWalletChanged() {\n    this.walletChangedBehaviour.next()\n  }\n\n  private getProtocolsFromWallets(wallets: AirGapMarketWallet[]) {\n    const protocols: Map<string, ICoinProtocol> = new Map()\n    wallets.forEach((wallet) => {\n      if (!protocols.has(wallet.protocol.identifier)) {\n        protocols.set(wallet.protocol.identifier, wallet.protocol)\n      }\n    })\n\n    return Array.from(protocols.values())\n  }\n\n  public hasInactiveWallets(protocol: ICoinProtocol): boolean {\n    return this.allWallets.some(\n      (wallet: AirGapMarketWallet) => wallet.protocol.identifier === protocol.identifier && wallet.status !== AirGapWalletStatus.ACTIVE\n    )\n  }\n\n  private async loadWalletsFromStorage() {\n    const [rawGroups, rawWallets]: [\n      SerializedAirGapMarketWalletGroup[] | undefined,\n      SerializedAirGapWallet[] | undefined\n    ] = await Promise.all([this.storageProvider.get(WalletStorageKey.WALLET_GROUPS), this.storageProvider.get(WalletStorageKey.WALLET)])\n\n    const groups = rawGroups || []\n    let wallets = rawWallets || []\n\n    // migrating double-serialization\n    if (!(rawWallets instanceof Array)) {\n      try {\n        wallets = JSON.parse(rawWallets)\n      } catch (e) {\n        wallets = []\n      }\n    }\n\n    // \"wallets\" can be undefined here\n    if (!wallets) {\n      wallets = []\n    }\n\n    const walletMap: Record<string, SerializedAirGapWallet | undefined> = wallets.reduce(\n      (obj: Record<string, SerializedAirGapWallet>, next: SerializedAirGapWallet) =>\n        Object.assign(obj, { [this.createWalletIdentifier(next.protocolIdentifier, next.publicKey)]: next }),\n      {}\n    )\n\n    const walletInitPromises: Promise<void>[] = []\n\n    // read groups\n    await Promise.all(\n      groups.map(async (group: SerializedAirGapMarketWalletGroup) => {\n        const wallets: AirGapMarketWallet[] = (\n          await Promise.all(\n            group.wallets.map(async ([protocolIdentifier, publicKey]: [string, string]) => {\n              const walletIdentifier: string = this.createWalletIdentifier(protocolIdentifier, publicKey)\n              const serializedWallet: SerializedAirGapWallet | undefined = walletMap[walletIdentifier]\n              if (serializedWallet === undefined) {\n                return undefined\n              }\n              walletMap[walletIdentifier] = undefined\n\n              const airGapWallet: AirGapMarketWallet = await this.readSerializedWallet(serializedWallet)\n              walletInitPromises.push(this.initializeWallet(airGapWallet))\n\n              return airGapWallet\n            })\n          )\n        ).filter((wallet: AirGapMarketWallet | undefined) => wallet !== undefined)\n\n        const walletGroup: AirGapMarketWalletGroup = new AirGapMarketWalletGroup(group.id, group.label, group.interactionSetting, wallets)\n\n        this.walletGroups.set(walletGroup.id, walletGroup)\n      })\n    )\n\n    // read ungrouped wallets\n    const ungroupedWallets: AirGapMarketWallet[] = await Promise.all(\n      Object.values(walletMap)\n        .filter((serializedWallet: SerializedAirGapWallet | undefined) => serializedWallet !== undefined)\n        .map(async (serializedWallet: SerializedAirGapWallet) => {\n          const airGapWallet: AirGapMarketWallet = await this.readSerializedWallet(serializedWallet)\n          walletInitPromises.push(this.initializeWallet(airGapWallet))\n\n          return airGapWallet\n        })\n    )\n\n    if (ungroupedWallets.length > 0) {\n      const others: AirGapMarketWalletGroup = new AirGapMarketWalletGroup(undefined, undefined, undefined, ungroupedWallets, true)\n      this.walletGroups.set(others.id, others)\n    }\n\n    Promise.all(walletInitPromises).then(() => {\n      this.triggerWalletChanged()\n    })\n\n    /* Use for Testing of Skeleton\n    await new Promise(resolve => {\n      setTimeout(() => {\n        resolve()\n      }, 2000)\n    })\n    */\n\n    if (this.allWallets.length > 0) {\n      this.pushProvider.setupPush()\n    }\n\n    this.setActiveGroup(this.allWalletGroups.length > 1 ? 'all' : this.allWalletGroups[0])\n    this.walletGroups$.next(this.allWalletGroups)\n    this.pushProvider.registerWallets(this.allWallets)\n  }\n\n  private async readSerializedWallet(serializedWallet: SerializedAirGapWallet): Promise<AirGapMarketWallet> {\n    const protocol: ICoinProtocol = await this.protocolService.getProtocol(\n      serializedWallet.protocolIdentifier,\n      serializedWallet.networkIdentifier\n    )\n\n    const airGapWallet: AirGapMarketWallet = new AirGapMarketWallet(\n      protocol,\n      serializedWallet.publicKey,\n      serializedWallet.isExtendedPublicKey,\n      serializedWallet.derivationPath,\n      serializedWallet.masterFingerprint || '',\n      serializedWallet.status || AirGapWalletStatus.ACTIVE,\n      this.priceService,\n      serializedWallet.addressIndex\n    )\n    // add derived addresses\n    airGapWallet.addresses = serializedWallet.addresses\n\n    return airGapWallet\n  }\n\n  private async initializeWallet(airGapWallet: AirGapMarketWallet): Promise<void> {\n    return new Promise<void>((resolve) => {\n      // if we have no addresses, derive using webworker and sync, else just sync\n      if (airGapWallet.addresses.length === 0 || (airGapWallet.isExtendedPublicKey && airGapWallet.addresses.length < 20)) {\n        const airGapWorker = new Worker('./assets/workers/airgap-coin-lib.js')\n\n        airGapWorker.onmessage = (event) => {\n          airGapWallet.addresses = event.data.addresses\n          airGapWallet\n            .synchronize()\n            .then(() => {\n              resolve()\n            })\n            .catch((error) => {\n              console.error(error)\n              resolve()\n            })\n        }\n\n        airGapWorker.postMessage({\n          protocolIdentifier: airGapWallet.protocol.identifier,\n          publicKey: airGapWallet.publicKey,\n          isExtendedPublicKey: airGapWallet.isExtendedPublicKey,\n          derivationPath: airGapWallet.derivationPath,\n          addressIndex: airGapWallet.addressIndex\n        })\n      } else {\n        airGapWallet\n          .synchronize()\n          .then(() => {\n            resolve()\n          })\n          .catch((error) => {\n            console.error(error)\n            resolve()\n          })\n      }\n    })\n  }\n\n  public getWalletList(): AirGapMarketWallet[] {\n    return this.allWallets\n  }\n\n  public setActiveGroup(groupToSet: AirGapMarketWalletGroup | ImplicitWalletGroup | undefined): void {\n    if (groupToSet === 'all') {\n      this.activeGroup$.next(groupToSet)\n      this.wallets$.next(this.allWallets)\n    } else if (groupToSet !== undefined && this.walletGroups.has(groupToSet.id)) {\n      const group: AirGapMarketWalletGroup = this.walletGroups.get(groupToSet.id)\n      const wallets: AirGapMarketWallet[] = group.wallets\n\n      this.activeGroup$.next(group)\n      this.wallets$.next(wallets)\n    } else {\n      this.wallets$.next([])\n    }\n    this.allWallets$.next(this.allWallets)\n  }\n\n  public async addWallets(walletAddInfos: WalletAddInfo[]): Promise<void> {\n    let existingWallets = []\n    for (let walletAddInfo of walletAddInfos) {\n      const defaultOptions = {\n        override: false,\n        updateState: true\n      }\n\n      const resolvedOptions = {\n        ...defaultOptions,\n        ...(walletAddInfo.options ?? {})\n      }\n\n      const alreadyExists: boolean = this.walletExists(walletAddInfo.walletToAdd)\n      if (alreadyExists) {\n        existingWallets.push(walletAddInfo.walletToAdd)\n        if (!resolvedOptions.override) {\n          throw new Error('wallet already exists')\n        }\n      }\n      await this.addWallet(walletAddInfo, resolvedOptions)\n    }\n\n    const activeNewWallets = walletAddInfos\n      .filter(\n        (walletAddInfo) =>\n          walletAddInfo.walletToAdd.status === AirGapWalletStatus.ACTIVE &&\n          !existingWallets.some(\n            (wallet: AirGapMarketWallet) =>\n              this.isSameWallet(wallet, walletAddInfo.walletToAdd) && wallet.status === walletAddInfo.walletToAdd.status\n          )\n      )\n      .map((walletAddInfo) => walletAddInfo.walletToAdd)\n\n    await this.registerToPushBackend(activeNewWallets)\n    this.drawChartProvider.drawChart()\n  }\n\n  private async addWallet(\n    walletAddInfo: WalletAddInfo,\n    resolvedOptions: {\n      override: boolean\n      updateState: boolean\n    }\n  ): Promise<void> {\n    this.assertWalletGroupExists(walletAddInfo.groupId, walletAddInfo.groupLabel)\n    this.assertWalletGroupUpdated(walletAddInfo.groupId, walletAddInfo.groupLabel)\n\n    const walletGroup: AirGapMarketWalletGroup = this.walletGroups.get(walletAddInfo.groupId)\n    this.addToGroup(walletGroup, walletAddInfo.walletToAdd)\n\n    if (resolvedOptions.updateState) {\n      this.setActiveGroup(walletGroup)\n      this.walletGroups$.next(this.allWalletGroups)\n      return this.persist()\n    }\n  }\n\n  private assertWalletGroupExists(groupId: string | undefined, groupLabel: string | undefined): void {\n    if (!this.walletGroups.has(groupId)) {\n      this.walletGroups.set(groupId, new AirGapMarketWalletGroup(groupId, groupLabel, undefined, []))\n    }\n  }\n\n  private assertWalletGroupUpdated(groupId: string | undefined, groupLabel: string | undefined): void {\n    const walletGroup: AirGapMarketWalletGroup = this.walletGroups.get(groupId)\n    if (walletGroup.label !== undefined && walletGroup.label !== groupLabel && groupLabel !== undefined) {\n      walletGroup.updateLabel(groupLabel)\n    }\n  }\n\n  private addToGroup(group: AirGapMarketWalletGroup, wallet: AirGapMarketWallet): void {\n    const [oldGroupId, oldIndex]: [string | undefined, number] = this.findWalletGroupIdAndIndex(wallet)\n    if (oldGroupId !== group.id && oldIndex > -1) {\n      this.walletGroups.get(oldGroupId).wallets.splice(oldIndex, 1)\n    }\n\n    if (oldGroupId === group.id && oldIndex > -1) {\n      group.wallets[oldIndex] = wallet\n    } else {\n      group.wallets.push(wallet)\n    }\n\n    group.updateStatus()\n  }\n\n  public async activateWallet(\n    walletToActivate: AirGapMarketWallet,\n    groupId: string,\n    options: { updateState?: boolean } = {}\n  ): Promise<void> {\n    const defaultOptions = {\n      updateState: true\n    }\n\n    const resolvedOptions = {\n      ...defaultOptions,\n      ...options\n    }\n\n    const walletGroup: AirGapMarketWalletGroup = this.walletGroups.get(groupId)\n\n    const index: number = walletGroup.wallets.findIndex((wallet: AirGapMarketWallet) => this.isSameWallet(wallet, walletToActivate))\n    if (index === -1) {\n      return\n    }\n\n    walletGroup.wallets[index].status = AirGapWalletStatus.ACTIVE\n\n    walletGroup.updateStatus()\n\n    if (resolvedOptions.updateState) {\n      this.setActiveGroup(walletGroup)\n      this.walletGroups$.next(this.allWalletGroups)\n      this.drawChartProvider.drawChart()\n\n      return this.persist()\n    }\n  }\n\n  public async removeWallet(walletToRemove: AirGapMarketWallet, options: { updateState?: boolean } = {}): Promise<void> {\n    const defaultOptions = {\n      updateState: true\n    }\n\n    const resolvedOptions = {\n      ...defaultOptions,\n      ...options\n    }\n\n    let group: AirGapMarketWalletGroup | undefined\n    const [groupId, index]: [string | undefined, number] = this.findWalletGroupIdAndIndex(walletToRemove)\n    if (this.walletGroups.has(groupId) && index > -1) {\n      group = this.walletGroups.get(groupId)\n      group.wallets[index].status = AirGapWalletStatus.DELETED\n      group.updateStatus()\n    }\n\n    this.unregisterFromPushBackend(walletToRemove)\n\n    if (resolvedOptions.updateState) {\n      const activeGroup: ActiveWalletGroup =\n        group !== undefined && group.status === AirGapWalletStatus.ACTIVE\n          ? group\n          : this.allWalletGroups.length > 1\n          ? 'all'\n          : this.allWalletGroups[0]\n      this.setActiveGroup(activeGroup)\n      this.walletGroups$.next(this.allWalletGroups)\n\n      this.drawChartProvider.drawChart()\n\n      return this.persist()\n    }\n  }\n\n  private async registerToPushBackend(wallets: AirGapMarketWallet[]): Promise<void> {\n    await this.pushProvider.setupPush()\n    this.pushProvider.registerWallets(wallets).catch(handleErrorSentry(ErrorCategory.PUSH))\n  }\n\n  private unregisterFromPushBackend(wallet: AirGapMarketWallet): void {\n    this.pushProvider.unregisterWallets([wallet]).catch(handleErrorSentry(ErrorCategory.PUSH))\n  }\n\n  public async setWalletNetwork(wallet: AirGapMarketWallet, network: TezosProtocolNetwork): Promise<void> {\n    await wallet.setProtocol(new TezosProtocol(new TezosProtocolOptions(network)))\n\n    await this.persist()\n\n    this.triggerWalletChanged()\n  }\n\n  public async updateWalletGroup(walletGroup: AirGapMarketWalletGroup) {\n    this.walletGroups.set(walletGroup.id, walletGroup)\n    return this.persist()\n  }\n\n  public walletGroupByWallet(wallet: AirGapMarketWallet): AirGapMarketWalletGroup {\n    return this.allWalletGroups.find((group: AirGapMarketWalletGroup) => group.includesWallet(wallet))\n  }\n\n  public setInteractionSettingForWalletGroupByWallet(wallet: AirGapMarketWallet, interactionSetting: InteractionSetting): void {\n    const group = this.walletGroupByWallet(wallet)\n    group.interactionSetting = interactionSetting\n    this.updateWalletGroup(group)\n  }\n  private async persist(): Promise<void> {\n    await Promise.all([\n      this.storageProvider.set(\n        WalletStorageKey.WALLET_GROUPS,\n        this.allWalletGroups\n          .filter((group: AirGapMarketWalletGroup) => !group.transient)\n          .map((group: AirGapMarketWalletGroup) => group.toJSON())\n      ),\n      this.storageProvider.set(\n        WalletStorageKey.WALLET,\n        this.allWallets.map((wallet: AirGapMarketWallet) => wallet.toJSON())\n      )\n    ])\n  }\n\n  public getAccountIdentifier(wallet: AirGapMarketWallet): string {\n    return wallet.addressIndex\n      ? `${wallet.protocol.identifier}-${wallet.publicKey}-${wallet.protocol.options.network.identifier}-${wallet.addressIndex}`\n      : `${wallet.protocol.identifier}-${wallet.publicKey}-${wallet.protocol.options.network.identifier}`\n  }\n\n  public walletBySerializerAccountIdentifier(accountIdentifier: string, protocolIdentifier: string): AirGapMarketWallet {\n    return this.allWallets.find(\n      (wallet) => wallet.publicKey.endsWith(accountIdentifier) && wallet.protocol.identifier === protocolIdentifier\n    )\n  }\n\n  public walletByPublicKeyAndProtocolAndAddressIndex(\n    publicKey: string,\n    protocolIdentifier: string,\n    addressIndex?: number\n  ): AirGapMarketWallet {\n    return this.allWallets.find(\n      (wallet) =>\n        wallet.publicKey === publicKey && wallet.protocol.identifier === protocolIdentifier && wallet.addressIndex === addressIndex\n    )\n  }\n\n  public walletExists(testWallet: AirGapMarketWallet): boolean {\n    return this.allWallets.some(\n      (wallet: AirGapMarketWallet) => this.isSameWallet(wallet, testWallet) && wallet.status === testWallet.status\n    )\n  }\n\n  public isSameWallet(wallet1: AirGapMarketWallet, wallet2: AirGapMarketWallet) {\n    if (!(wallet1 instanceof AirGapMarketWallet) || !(wallet2 instanceof AirGapMarketWallet)) {\n      return false\n    }\n\n    return (\n      wallet1.publicKey === wallet2.publicKey &&\n      wallet1.protocol.identifier === wallet2.protocol.identifier &&\n      wallet1.addressIndex === wallet2.addressIndex\n    )\n  }\n\n  public isSameGroup(group: ActiveWalletGroup, other: ActiveWalletGroup): boolean {\n    if (typeof group === 'string' && typeof other === 'string') {\n      return group === other\n    } else if (typeof group === 'string') {\n      return false\n    } else if (typeof other === 'string') {\n      return false\n    } else {\n      return group.id === other.id\n    }\n  }\n\n  public findWalletGroup(testWallet: AirGapMarketWallet): AirGapMarketWalletGroup | undefined {\n    for (const group of this.walletGroups.values()) {\n      const index: number = group.wallets.findIndex((wallet: AirGapMarketWallet) => this.isSameWallet(wallet, testWallet))\n      if (index !== -1) {\n        return group\n      }\n    }\n\n    return undefined\n  }\n\n  public findWalletGroupIdAndIndex(testWallet: AirGapMarketWallet): [string | undefined, number] {\n    for (const group of this.walletGroups.values()) {\n      const index: number = group.wallets.findIndex((wallet: AirGapMarketWallet) => this.isSameWallet(wallet, testWallet))\n      if (index !== -1) {\n        return [group.id, index]\n      }\n    }\n\n    return [undefined, -1]\n  }\n\n  public getKnownViewingKeys(): string[] {\n    return this.allWallets\n      .filter((wallet: AirGapMarketWallet) => wallet.protocol.identifier === MainProtocolSymbols.XTZ_SHIELDED)\n      .map((wallet: AirGapMarketWallet) => wallet.publicKey)\n  }\n\n  public async getCompatibleAndIncompatibleWalletsForAddress(\n    address: string\n  ): Promise<{\n    compatibleWallets: AirGapMarketWallet[]\n    incompatibleWallets: AirGapMarketWallet[]\n  }> {\n    return this.usedProtocols$\n      .pipe(\n        take(1),\n        map((protocols) => {\n          const compatibleProtocols: Map<string, ICoinProtocol> = new Map()\n\n          protocols.forEach((protocol) => {\n            const match = address.match(protocol.addressValidationPattern)\n            if (match && match.length > 0) {\n              compatibleProtocols.set(protocol.identifier, protocol)\n            }\n          })\n\n          const compatibleWallets: AirGapMarketWallet[] = []\n          const incompatibleWallets: AirGapMarketWallet[] = []\n\n          this.allWallets.forEach((wallet) => {\n            if (compatibleProtocols.has(wallet.protocol.identifier)) {\n              compatibleWallets.push(wallet)\n            } else {\n              incompatibleWallets.push(wallet)\n            }\n          })\n\n          return {\n            compatibleWallets,\n            incompatibleWallets\n          }\n        })\n      )\n      .toPromise()\n  }\n\n  private sortGroupsByLabel(groups: AirGapMarketWalletGroup[]): AirGapMarketWalletGroup[] {\n    const othersIndex: number = groups.findIndex((group: AirGapMarketWalletGroup) => group.id === undefined)\n    const others: AirGapMarketWalletGroup | undefined = othersIndex > -1 ? groups[othersIndex] : undefined\n\n    const userDefinedGroups: AirGapMarketWalletGroup[] =\n      othersIndex > -1 ? groups.slice(0, othersIndex).concat(groups.slice(othersIndex + 1)) : groups\n\n    const sorted: AirGapMarketWalletGroup[] = userDefinedGroups.sort((a: AirGapMarketWalletGroup, b: AirGapMarketWalletGroup) =>\n      a.label.localeCompare(b.label)\n    )\n\n    return others !== undefined ? [...sorted, others] : sorted\n  }\n\n  private createWalletIdentifier(protocolIdentifier: string, publicKey: string): string {\n    return `${protocolIdentifier}_${publicKey}`\n  }\n}\n","export enum ReturnCode {\n  COMMAND_NOT_ALLOWED = 0x6986,\n  INS_NOT_SUPPORTED = 0x6d00,\n  CLA_NOT_SUPPORTED = 0x6e00,\n  UNKNOWN = 0x6f00,\n  SUCCESS = 0x9000\n}\n","<ion-card [ngClass]=\"imageLeft ? 'background--color__gradient--reverse' : 'background--color__gradient'\">\n  <ion-row class=\"ion-align-items-center ion-padding-horizontal\">\n    <ion-col size=\"4\" *ngIf=\"imageLeft\">\n      <img src=\"./assets/img/{{ imageName }}\" />\n    </ion-col>\n    <ion-col size=\"8\">\n      <ion-card-title ion-text color=\"white\" class=\"ion-no-padding\" [innerHTML]=\"heading\">\n        <ion-icon name=\"arrow-forward-outline\"></ion-icon>\n      </ion-card-title>\n      <ion-text color=\"white\">\n        <p [innerHTML]=\"text\" class=\"ion-padding-top\"></p>\n      </ion-text>\n    </ion-col>\n    <ion-col size=\"4\" *ngIf=\"!imageLeft\">\n      <img src=\"./assets/img/{{ imageName }}\" />\n    </ion-col>\n  </ion-row>\n</ion-card>\n","import { Component, Input } from '@angular/core'\n\n@Component({\n  selector: 'card-actionable',\n  templateUrl: 'card-actionable.html',\n  styleUrls: ['./card-actionable.scss']\n})\nexport class CardActionableComponent {\n  @Input()\n  public imageLeft: boolean = true\n\n  @Input()\n  public imageName: string\n\n  @Input()\n  public heading: string\n\n  @Input()\n  public text: string\n}\n","/* (ignored) */","import { Component, OnInit } from '@angular/core'\nimport { Router } from '@angular/router'\nimport { ModalController, Platform } from '@ionic/angular'\nimport { AirGapMarketWalletGroup, InteractionSetting } from 'src/app/models/AirGapMarketWalletGroup'\nimport { AccountProvider } from 'src/app/services/account/account.provider'\nimport { ErrorCategory, handleErrorSentry } from 'src/app/services/sentry-error-handler/sentry-error-handler'\n\n@Component({\n  selector: 'app-interaction-selection',\n  templateUrl: './interaction-selection.component.html',\n  styleUrls: ['./interaction-selection.component.scss']\n})\nexport class InteractionSelectionComponent implements OnInit {\n  public interactionSetting: typeof InteractionSetting = InteractionSetting\n  public selectedSetting: InteractionSetting | undefined\n  public walletGroup: AirGapMarketWalletGroup\n  public onlyOneGroupPresent: boolean = false\n  public dismissOnly: boolean = false\n  public isMobile: boolean = false\n\n  constructor(\n    private readonly modalController: ModalController,\n    private readonly accountService: AccountProvider,\n    private readonly platform: Platform,\n    private readonly router: Router\n  ) {}\n\n  ngOnInit() {\n    this.selectedSetting = this.selectedSetting\n      ? this.selectedSetting\n      : this.walletGroup.interactionSetting && this.walletGroup.interactionSetting !== InteractionSetting.UNDETERMINED\n      ? this.walletGroup.interactionSetting\n      : InteractionSetting.ALWAYS_ASK\n    this.onSelectedSettingChange(this.selectedSetting)\n    this.isMobile = this.platform.is('mobile')\n  }\n\n  onSelectedSettingChange(selectedSetting: InteractionSetting) {\n    this.walletGroup.interactionSetting = selectedSetting\n    this.accountService.updateWalletGroup(this.walletGroup)\n  }\n\n  public async dismiss(): Promise<void> {\n    if (this.onlyOneGroupPresent && !this.dismissOnly) {\n      this.router.navigateByUrl('/tabs/settings', { replaceUrl: true }).catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n    }\n    this.modalController.dismiss().catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-title>{{ 'interaction-selection-settings.title' | translate }}</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"dismiss()\" color=\"secondary\">\n        <ion-icon name=\"close-outline\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <h3\n    *ngIf=\"selectedSetting === interactionSetting.SAME_DEVICE\"\n    [innerHTML]=\"'interaction-selection-settings.same-device_heading' | translate\"\n  ></h3>\n  <h3\n    *ngIf=\"selectedSetting === interactionSetting.OFFLINE_DEVICE\"\n    [innerHTML]=\"'interaction-selection-settings.offline-device_heading' | translate\"\n  ></h3>\n\n  <p>{{ 'interaction-selection-settings.text' | translate }}</p>\n\n  <ion-list lines=\"none\" class=\"ion-padding-vertical\">\n    <ion-radio-group [ngModel]=\"selectedSetting\" (ngModelChange)=\"onSelectedSettingChange($event)\">\n      <ion-item>\n        <ion-label color=\"secondary\">{{ 'interaction-selection-settings.selector.always' | translate }}</ion-label>\n        <ion-radio class=\"ion-no-margin\" slot=\"end\" [value]=\"interactionSetting.ALWAYS_ASK\"></ion-radio>\n      </ion-item>\n      <ion-item *ngIf=\"isMobile\">\n        <ion-label color=\"secondary\">{{ 'interaction-selection-settings.selector.same-device' | translate }}</ion-label>\n        <ion-radio class=\"ion-no-margin\" slot=\"end\" [value]=\"interactionSetting.SAME_DEVICE\"></ion-radio>\n      </ion-item>\n      <ion-item>\n        <ion-label color=\"secondary\">{{ 'interaction-selection-settings.selector.offline-device' | translate }}</ion-label>\n        <ion-radio class=\"ion-no-margin\" slot=\"end\" [value]=\"interactionSetting.OFFLINE_DEVICE\"></ion-radio>\n      </ion-item>\n      <ion-item *ngIf=\"!isMobile\">\n        <ion-label color=\"secondary\">{{ 'interaction-selection-settings.selector.ledger' | translate }}</ion-label>\n        <ion-radio class=\"ion-no-margin\" slot=\"end\" [value]=\"interactionSetting.LEDGER\"></ion-radio>\n      </ion-item>\n    </ion-radio-group>\n  </ion-list>\n\n  <p>{{ 'interaction-selection-settings.description' | translate }}</p>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button color=\"primary\" shape=\"round\" (click)=\"dismiss()\">\n      {{ 'interaction-selection-settings.confirm_label' | translate }}\n    </ion-button>\n  </ion-fab>\n</ion-content>\n","import { AirGapMarketWallet } from '@airgap/coinlib-core'\nimport { IAirGapSignedTransaction } from '@airgap/coinlib-core/interfaces/IAirGapSignedTransaction'\nimport { AirGapWalletPriceService } from '@airgap/coinlib-core/wallet/AirGapMarketWallet'\n\nimport { LedgerConnection } from '../connection/LedgerConnection'\n\nconst BYTES_DERIVATION_JUNCTION: number = 4\n\nconst MASK_HARD_DERIVATION: number = 0x80000000\nconst MASK_SOFT_DERIVATION: number = 0x00000000\n\nexport abstract class LedgerApp {\n  public constructor(protected readonly connection: LedgerConnection) {}\n\n  public init(): void {\n    // by default do nothing\n  }\n\n  public abstract importWallet(priceService: AirGapWalletPriceService): Promise<AirGapMarketWallet>\n  public abstract signTransaction(transaction: any): Promise<IAirGapSignedTransaction>\n\n  protected derivationPathToArray(derivationPath: string): number[] {\n    if (!derivationPath.startsWith('m/')) {\n      throw new Error('Invalid derivation path: the path should start with `m/`')\n    }\n\n    return derivationPath\n      .split('/')\n      .slice(1) // ignore the `m` prefix\n      .map((junction: string) => {\n        const isHard: boolean = !!junction.match(/\\d+[\\'|h]/)\n\n        const indexRaw: string = isHard ? junction.slice(0, -1) : junction\n        const index: number = parseInt(indexRaw, 10)\n\n        if (isNaN(index)) {\n          throw new Error(`Invalid derivation path: index ${indexRaw} is not a number`)\n        } else {\n          const mask: number = isHard ? MASK_HARD_DERIVATION : MASK_SOFT_DERIVATION\n          const masked: string = (BigInt(mask) | BigInt(index)).toString()\n\n          return parseInt(masked, 10)\n        }\n      })\n  }\n\n  protected derivationPathToBuffer(derivationPath: string): Buffer {\n    const deriveJunctions: number[] = this.derivationPathToArray(derivationPath)\n\n    const buffer: Buffer = Buffer.alloc(deriveJunctions.length * BYTES_DERIVATION_JUNCTION)\n    deriveJunctions.forEach((junction: number, index: number) => {\n      buffer.writeUInt32LE(junction, index * BYTES_DERIVATION_JUNCTION)\n    })\n\n    return buffer\n  }\n}\n","import { AddressService, AmountConverterPipe } from '@airgap/angular-core'\nimport { DecimalPipe } from '@angular/common'\nimport { FormBuilder, FormGroup } from '@angular/forms'\nimport { TranslateService } from '@ngx-translate/core'\nimport { DelegationInfo, TezosDelegatorAction, TezosProtocol } from '@airgap/coinlib-core'\nimport { DelegateeDetails, DelegatorAction, DelegatorDetails } from '@airgap/coinlib-core/protocols/ICoinDelegateProtocol'\nimport { NetworkType } from '@airgap/coinlib-core/utils/ProtocolNetwork'\nimport BigNumber from 'bignumber.js'\nimport * as moment from 'moment'\nimport {\n  AirGapDelegateeDetails,\n  AirGapDelegationDetails,\n  AirGapDelegatorAction,\n  AirGapDelegatorDetails\n} from 'src/app/interfaces/IAirGapCoinDelegateProtocol'\nimport { UIAccountSummary } from 'src/app/models/widgets/display/UIAccountSummary'\nimport { UIIconText } from 'src/app/models/widgets/display/UIIconText'\nimport { UIRewardList } from 'src/app/models/widgets/display/UIRewardList'\nimport { UIWidget } from 'src/app/models/widgets/UIWidget'\nimport { ShortenStringPipe } from 'src/app/pipes/shorten-string/shorten-string.pipe'\nimport { CoinlibService, TezosBakerCollection, TezosBakerDetails } from 'src/app/services/coinlib/coinlib.service'\n\nimport { ProtocolDelegationExtensions } from './ProtocolDelegationExtensions'\n\nexport class TezosDelegationExtensions extends ProtocolDelegationExtensions<TezosProtocol> {\n  private static instance: TezosDelegationExtensions\n\n  public static async create(\n    coinlibService: CoinlibService,\n    decimalPipe: DecimalPipe,\n    amountConverter: AmountConverterPipe,\n    shortenStringPipe: ShortenStringPipe,\n    translateService: TranslateService,\n    addressService: AddressService,\n    formBuilder: FormBuilder\n  ): Promise<TezosDelegationExtensions> {\n    if (!TezosDelegationExtensions.instance) {\n      TezosDelegationExtensions.instance = new TezosDelegationExtensions(\n        coinlibService,\n        decimalPipe,\n        amountConverter,\n        shortenStringPipe,\n        translateService,\n        addressService,\n        formBuilder\n      )\n    }\n\n    return TezosDelegationExtensions.instance\n  }\n\n  public airGapDelegatee(protocol: TezosProtocol): string | undefined {\n    if (protocol.options.network.type !== NetworkType.MAINNET) {\n      return 'tz1aWXP237BLwNHJcCD4b3DutCevhqq2T1Z9'\n    }\n\n    return 'tz1MJx9vhaNRSimcuXPK2rW4fLccQnDAnVKJ'\n  }\n\n  public delegateeLabel: string = 'delegation-detail-tezos.delegatee-label'\n  public delegateeLabelPlural: string = 'delegation-detail-tezos.delegatee-label-plural'\n  public supportsMultipleDelegations: boolean = false\n\n  private knownBakers?: TezosBakerCollection\n\n  private constructor(\n    private readonly coinlibService: CoinlibService,\n    private readonly decimalPipe: DecimalPipe,\n    private readonly amountConverterPipe: AmountConverterPipe,\n    private readonly shortenStringPipe: ShortenStringPipe,\n    private readonly translateService: TranslateService,\n    private readonly addressService: AddressService,\n    private readonly formBuilder: FormBuilder\n  ) {\n    super()\n  }\n\n  public async getExtraDelegationDetailsFromAddress(\n    protocol: TezosProtocol,\n    delegator: string,\n    delegatees: string[]\n  ): Promise<AirGapDelegationDetails[]> {\n    const delegationDetails = await protocol.getDelegationDetailsFromAddress(delegator, delegatees)\n    const extraDetails = await this.getExtraDelegationDetails(protocol, delegationDetails.delegator, delegationDetails.delegatees[0])\n\n    return [extraDetails]\n  }\n\n  public async createDelegateesSummary(_protocol: TezosProtocol, delegatees: string[]): Promise<UIAccountSummary[]> {\n    const knownBakers: TezosBakerCollection = await this.getKnownBakers()\n\n    type BakerDetails = Partial<TezosBakerDetails> & Record<'address', string>\n\n    return [\n      ...Object.entries(knownBakers).map(([address, baker]: [string, TezosBakerDetails]) => ({ address, ...baker })),\n      ...delegatees.filter((baker: string) => !Object.keys(knownBakers).includes(baker)).map((baker: string) => ({ address: baker }))\n    ]\n      .sort((a: BakerDetails, b: BakerDetails) => {\n        const aAlias: string = a.alias || ''\n        const bAlias: string = b.alias || ''\n\n        return aAlias.localeCompare(bAlias)\n      })\n      .map(\n        (details: BakerDetails) =>\n          new UIAccountSummary({\n            address: details.address,\n            logo: details.logo ? details.logo : undefined,\n            header: [\n              details.alias || '',\n              details.fee ? `${this.decimalPipe.transform(new BigNumber(details.fee).times(100).toString())}%` : ''\n            ],\n            description: this.shortenStringPipe.transform(details.address)\n          })\n      )\n  }\n\n  private async getExtraDelegationDetails(\n    protocol: TezosProtocol,\n    delegatorDetails: DelegatorDetails,\n    delegateeDetails: DelegateeDetails\n  ): Promise<AirGapDelegationDetails> {\n    const [delegator, delegatee] = await Promise.all([\n      this.getExtraDelegatorDetails(delegatorDetails, delegateeDetails),\n      this.getExtraBakerDetails(protocol, delegateeDetails)\n    ])\n\n    return { delegator, delegatees: [delegatee] }\n  }\n\n  private async getExtraBakerDetails(protocol: TezosProtocol, bakerDetails: DelegateeDetails): Promise<AirGapDelegateeDetails> {\n    const [bakerInfo, delegateeDetails, knownBakers] = await Promise.all([\n      protocol.bakerInfo(bakerDetails.address),\n      protocol.getDelegateeDetails(bakerDetails.address),\n      this.getKnownBakers()\n    ])\n    const knownBaker = knownBakers[bakerDetails.address]\n    const name = knownBaker\n      ? knownBaker.alias\n      : (await this.addressService.getAlias(bakerDetails.address, protocol)) ||\n        this.translateService.instant('delegation-detail-tezos.unknown')\n\n    const bakerTotalUsage =\n      knownBaker && knownBaker.stakingCapacity\n        ? knownBaker.stakingCapacity.shiftedBy(protocol.decimals)\n        : new BigNumber(bakerInfo.bakerCapacity).multipliedBy(0.7)\n\n    const bakerCurrentUsage = BigNumber.minimum(new BigNumber(bakerInfo.stakingBalance), bakerTotalUsage)\n    const bakerUsage = bakerCurrentUsage.dividedBy(bakerTotalUsage)\n\n    let status: string\n    if (delegateeDetails.status && bakerUsage.lt(1)) {\n      status = 'delegation-detail-tezos.status.accepts-delegation'\n    } else if (delegateeDetails.status === 'Active') {\n      status = 'delegation-detail-tezos.status.reached-full-capacity'\n    } else {\n      status = 'delegation-detail-tezos.status.deactivated'\n    }\n\n    const displayDetails = this.createDelegateeDisplayDetails(protocol, knownBaker)\n\n    return {\n      name,\n      status,\n      address: bakerDetails.address,\n      logo: knownBaker ? knownBaker.logo : undefined,\n      usageDetails: {\n        usage: bakerUsage,\n        current: bakerCurrentUsage,\n        total: bakerTotalUsage\n      },\n      displayDetails\n    }\n  }\n\n  private async getExtraDelegatorDetails(\n    delegatorDetails: DelegatorDetails,\n    bakerDetails: DelegateeDetails\n  ): Promise<AirGapDelegatorDetails> {\n    const delegateAction = this.createDelegateAction(delegatorDetails.availableActions, bakerDetails.address)\n    const undelegateAction = this.createUndelegateAction(delegatorDetails.availableActions)\n\n    return {\n      ...delegatorDetails,\n      mainActions: delegateAction ? [delegateAction] : undefined,\n      secondaryActions: undelegateAction ? [undelegateAction] : undefined\n    }\n  }\n\n  public async getRewardDisplayDetails(protocol: TezosProtocol, delegator: string): Promise<UIRewardList | undefined> {\n    const delegatorExtraInfo = await protocol.getDelegationInfo(delegator)\n\n    return this.createDelegatorDisplayRewards(protocol, delegator, delegatorExtraInfo).catch(() => undefined)\n  }\n\n  private createDelegateeDisplayDetails(protocol: TezosProtocol, baker?: TezosBakerDetails): UIWidget[] {\n    return [\n      new UIIconText({\n        iconName: 'logo-usd',\n        text:\n          baker && baker.fee ? `${this.decimalPipe.transform(baker.fee.multipliedBy(100).toString())}%` : 'delegation-detail-tezos.unknown',\n        description: 'delegation-detail-tezos.fee_label'\n      }),\n      new UIIconText({\n        iconName: 'sync-outline',\n        textHTML:\n          baker !== undefined && baker.payoutPeriod !== undefined && baker.payoutDelay !== undefined\n            ? this.getDetailedPayoutScheduleText(protocol, baker)\n            : 'delegation-detail-tezos.unknown',\n        description: 'delegation-detail-tezos.payout-schedule_label'\n      })\n    ]\n  }\n\n  private createDelegateAction(availableActions: DelegatorAction[], bakerAddress: string): AirGapDelegatorAction | null {\n    return this.createDelegatorAction(\n      availableActions,\n      [TezosDelegatorAction.DELEGATE, TezosDelegatorAction.CHANGE_BAKER],\n      'delegation-detail-tezos.delegate_label',\n      this.formBuilder.group({ delegate: bakerAddress })\n    )\n  }\n\n  private createUndelegateAction(availableActions: DelegatorAction[]): AirGapDelegatorAction | null {\n    const action = this.createDelegatorAction(\n      availableActions,\n      [TezosDelegatorAction.UNDELEGATE],\n      'delegation-detail-tezos.undelegate_label'\n    )\n\n    if (action) {\n      action.iconName = 'close-outline'\n    }\n\n    return action\n  }\n\n  private createDelegatorAction(\n    availableActions: DelegatorAction[],\n    types: TezosDelegatorAction[],\n    label: string,\n    form?: FormGroup\n  ): AirGapDelegatorAction | null {\n    const action = availableActions.find((action) => types.includes(action.type))\n\n    return action\n      ? {\n          type: action.type,\n          label,\n          form: form\n        }\n      : null\n  }\n\n  private async createDelegatorDisplayRewards(\n    protocol: TezosProtocol,\n    address: string,\n    delegatorExtraInfo: DelegationInfo\n  ): Promise<UIRewardList | undefined> {\n    if (!delegatorExtraInfo.isDelegated || !delegatorExtraInfo.value) {\n      return undefined\n    }\n    const rewardInfo = await protocol.getDelegationRewards(delegatorExtraInfo.value, address)\n\n    return new UIRewardList({\n      rewards: await Promise.all(\n        rewardInfo.map(async (info) => {\n          return {\n            index: info.cycle,\n            amount: await this.amountConverterPipe.transform(new BigNumber(info.reward), {\n              protocol\n            }),\n            collected: info.payout < new Date(),\n            timestamp: info.payout.getTime()\n          }\n        })\n      ),\n      indexColLabel: 'delegation-detail-tezos.rewards.index-col_label',\n      amountColLabel: 'delegation-detail-tezos.rewards.amount-col_label',\n      payoutColLabel: 'delegation-detail-tezos.rewards.payout-col_label'\n    })\n  }\n\n  private async getKnownBakers(): Promise<TezosBakerCollection> {\n    if (this.knownBakers === undefined) {\n      this.knownBakers = await this.coinlibService.getKnownTezosBakers()\n    }\n\n    return this.knownBakers\n  }\n\n  private getDetailedPayoutScheduleText(protocol: TezosProtocol, baker: TezosBakerDetails): string {\n    if (baker.payoutDelay === 1 && baker.payoutPeriod === 1) {\n      return this.translateService.instant('delegation-detail-tezos.payout-schedule-every-cycle-last-rewards_text', {\n        payoutTime: this.getFormattedCycleDuration(protocol)\n      })\n    } else if (baker.payoutPeriod === 1) {\n      return this.translateService.instant('delegation-detail-tezos.payout-schedule-every-cycle-delayed-rewards_text', {\n        payoutTime: this.getFormattedCycleDuration(protocol),\n        payoutDelay: baker.payoutDelay\n      })\n    } else {\n      return this.translateService.instant('delegation-detail-tezos.payout-schedule-every-n-cycle_text', {\n        payoutTime: this.getFormattedCycleDuration(protocol, baker.payoutPeriod),\n        cycles: baker.payoutPeriod\n      })\n    }\n  }\n\n  private getFormattedCycleDuration(protocol: TezosProtocol, cycleNumber: number = 1): string {\n    const cycleDuration = moment.duration(cycleNumber * protocol.minCycleDuration)\n\n    return cycleDuration.locale(this.translateService.currentLang).humanize()\n  }\n}\n","/* (ignored) */","import { UIWidget, UIWidgetType, UIWidgetConfig } from '../UIWidget'\nimport { DelegatorReward } from '@airgap/coinlib-core/protocols/ICoinDelegateProtocol'\n\nexport interface UIRewardListConfig extends UIWidgetConfig {\n  rewards: DelegatorReward[]\n\n  indexColLabel: string\n  amountColLabel: string\n  payoutColLabel: string\n}\n\nexport class UIRewardList extends UIWidget {\n  public type: UIWidgetType = UIWidgetType.REWARD_LIST\n\n  public rewards: DelegatorReward[]\n\n  public indexColLabel: string\n  public amountColLabel: string\n  public payoutColLabel: string\n\n  public constructor(config: UIRewardListConfig) {\n    super(config)\n\n    this.rewards = config.rewards\n\n    this.indexColLabel = config.indexColLabel\n    this.amountColLabel = config.amountColLabel\n    this.payoutColLabel = config.payoutColLabel\n  }\n}\n","/* (ignored) */","import { ClipboardService, UIResource } from '@airgap/angular-core'\nimport { ICoinProtocol, ProtocolNetwork } from '@airgap/coinlib-core'\nimport { Injectable, InjectionToken } from '@angular/core'\nimport { Observable } from 'rxjs'\n\nimport { TezosFAFormStore } from './tezos-fa-form.store'\nimport { TezosFAFormState, TokenDetails, TokenDetailsInput, TokenInterface } from './tezos-fa-form.types'\n\nexport const TEZOS_FA_FORM_FACADE = new InjectionToken<TezosFAFormFacade>('TezosFAFormFacade')\nexport interface TezosFAFormFacade {\n  readonly tokenInterface$: Observable<UIResource<TokenInterface>>\n  readonly tokenID$: Observable<UIResource<number>>\n\n  readonly tokenInterfaces$: Observable<TokenInterface[]>\n  readonly tokens$: Observable<TokenDetails[]>\n  readonly networks$: Observable<ProtocolNetwork[]>\n\n  readonly protocol$: Observable<UIResource<ICoinProtocol>>\n\n  readonly errorDescription$: Observable<string>\n\n  onInit(): void\n  onTokenDetailsInput(details: TokenDetailsInput): void\n  getFromClipboard(): Promise<string>\n}\n\n@Injectable()\nexport class TezosFAFormNgRxFacade implements TezosFAFormFacade {\n  public readonly tokenInterface$: Observable<UIResource<TokenInterface>>\n  public readonly tokenID$: Observable<UIResource<number>>\n\n  public readonly tokenInterfaces$: Observable<TokenInterface[]>\n  public readonly tokens$: Observable<TokenDetails[]>\n  public readonly networks$: Observable<ProtocolNetwork[]>\n\n  public readonly protocol$: Observable<UIResource<ICoinProtocol>>\n\n  public readonly errorDescription$: Observable<string>\n\n  constructor(\n    private readonly store: TezosFAFormStore, \n    private readonly clipboardService: ClipboardService\n  ) {\n    this.tokenInterface$ = this.store.select((state: TezosFAFormState) => state.tokenInterface)\n    this.tokenID$ = this.store.select((state: TezosFAFormState) => state.tokenID)\n\n    this.tokenInterfaces$ = this.store.select((state: TezosFAFormState) => state.tokenInterfaces)\n    this.tokens$ = this.store.select((state: TezosFAFormState) => state.tokens)\n    this.networks$ = this.store.select((state: TezosFAFormState) => state.networks)\n\n    this.protocol$ = this.store.select((state: TezosFAFormState) => state.protocol)\n    this.errorDescription$ = this.store.select((state: TezosFAFormState) => state.errorDescription)\n  }\n\n  public onInit(): void {\n    this.store.onInit()\n  }\n\n  public onTokenDetailsInput(details: TokenDetailsInput): void {\n    this.store.onTokenDetailsInput(details)\n  }\n  \n\n  public async getFromClipboard(): Promise<string | undefined> {\n    try {\n      return this.clipboardService.paste()\n    } catch (error) {\n      console.error('Error: ' + error)\n      return undefined\n    }\n  }\n}","import { Injectable } from '@angular/core'\nimport { LoadingController, ModalController } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\nimport WalletConnect from '@walletconnect/client'\nimport { DappConfirmPage } from 'src/app/pages/dapp-confirm/dapp-confirm.page'\nimport { WalletconnectPage } from '../../pages/walletconnect/walletconnect.page'\nimport { getAllValidWalletConnectSessions, clientMeta } from './helpers'\nimport { mapValues, isEmpty } from 'lodash'\nimport { ErrorPage } from 'src/app/pages/error/error.page'\nimport { UiEventService } from '@airgap/angular-core'\n@Injectable({\n  providedIn: 'root'\n})\nexport class WalletconnectService {\n  private activeConnector: WalletConnect | undefined\n  private loading: HTMLIonLoadingElement\n\n  private timeout: NodeJS.Timeout | undefined\n\n  constructor(\n    private readonly modalController: ModalController,\n    private readonly loadingController: LoadingController,\n    private readonly translateService: TranslateService,\n    private readonly uiEventService: UiEventService\n  ) {}\n\n  public async initWalletConnect(): Promise<void> {\n    const allSessions = await getAllValidWalletConnectSessions()\n    if (isEmpty(allSessions)) {\n      return\n    }\n    mapValues(allSessions, (session) => {\n      const walletConnector = new WalletConnect({ clientMeta, session })\n      this.subscribeToEvents(walletConnector)\n    })\n  }\n\n  public async connect(uri: string): Promise<void> {\n    let connector = new WalletConnect({\n      uri,\n      clientMeta\n    })\n\n    if (!connector.connected) {\n      await connector.createSession()\n    }\n\n    this.subscribeToEvents(connector)\n\n    this.presentLoading()\n\n    this.timeout = setTimeout(() => {\n      this.showTimeoutAlert()\n    }, 1008)\n  }\n\n  async presentLoading() {\n    this.loading = await this.loadingController.create({\n      message: this.translateService.instant('walletconnect.wait'),\n      backdropDismiss: true\n    })\n    await this.loading.present()\n  }\n  public async subscribeToEvents(connector: WalletConnect): Promise<void> {\n    if (!connector) {\n      return\n    }\n\n    connector.on('session_request', async (error, payload) => {\n      clearTimeout(this.timeout)\n\n      this.loading.dismiss()\n\n      if (error) {\n        const modal = await this.modalController.create({\n          component: ErrorPage,\n          componentProps: {\n            title: error.message ?? 'Error',\n            message: this.translateService.instant('walletconnect.error'),\n            data: undefined\n          }\n        })\n        return modal.present()\n      }\n\n      this.presentModal(payload, connector)\n    })\n\n    connector.on('call_request', (error, payload) => {\n      if (error) {\n        throw error\n      }\n      this.activeConnector = connector\n      this.presentModal(payload, connector)\n    })\n  }\n\n  private async showTimeoutAlert() {\n    this.loading?.dismiss()\n\n    await this.uiEventService.showTranslatedAlert({\n      header: 'walletconnect.timeout.title',\n      message: 'walletconnect.timeout.message',\n      buttons: [\n        {\n          text: 'ok',\n          role: 'cancel',\n          cssClass: 'secondary'\n        }\n      ],\n      backdropDismiss: false\n    })\n  }\n\n  public async approveRequest(id: string, result: string) {\n    this.presentConfirmationModal(id, result)\n  }\n\n  async presentConfirmationModal(id: string, result: string) {\n    const modal = await this.modalController.create({\n      component: DappConfirmPage,\n      componentProps: {\n        connector: this.activeConnector,\n        id: id,\n        result: result\n      }\n    })\n\n    return modal.present()\n  }\n\n  async presentModal(request: any, connector: WalletConnect) {\n    const modal = await this.modalController.create({\n      component: WalletconnectPage,\n      componentProps: {\n        request,\n        connector: connector,\n        walletConnectService: this\n      }\n    })\n\n    return modal.present()\n  }\n}\n","/* (ignored) */","import { Injectable } from '@angular/core'\nimport { AirGapMarketWallet } from '@airgap/coinlib-core'\nimport { TimeInterval } from '@airgap/coinlib-core/wallet/AirGapMarketWallet'\nimport { WalletStorageService } from '../storage/storage'\n\nexport enum CachingServiceKey {\n  PRICEDATA = 'pricedata',\n  TRANSACTIONS = 'transactions',\n  VALIDATORS = 'validators',\n  DELEGATIONS = 'delegations',\n  BALANCE = 'balance'\n}\n\nexport interface TransactionIdentifier {\n  publicKey: string\n  key: CachingServiceKey\n}\n\nexport interface PriceSampleIdentifier {\n  timeUnit: string\n  protocolIdentifier: string\n  key: CachingServiceKey\n}\n\nexport interface StorageObject {\n  value: any\n  timestamp: number\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CachingService {\n  constructor(private readonly storage: WalletStorageService) {}\n\n  public async cachePriceData(marketSymbols: string[], value: any, timeInterval: TimeInterval): Promise<any> {\n    const uniqueId = `${marketSymbols.sort().join()}_${timeInterval}_${CachingServiceKey.PRICEDATA}`\n    return this.set(uniqueId, { value, timestamp: Date.now() })\n  }\n\n  public async getPriceData(marketSymbols: string[], timeInterval: TimeInterval): Promise<StorageObject> {\n    const uniqueId = `${marketSymbols.sort().join()}_${timeInterval}_${CachingServiceKey.PRICEDATA}`\n    return this.get(uniqueId)\n  }\n\n  public async cacheWalletData(\n    wallet: AirGapMarketWallet,\n    value: any,\n    key: CachingServiceKey.TRANSACTIONS | CachingServiceKey.BALANCE\n  ): Promise<any> {\n    const uniqueId = `${wallet.publicKey}_${wallet.protocol.identifier}_${key}`\n    return this.set(uniqueId, { value, timestamp: Date.now() })\n  }\n\n  public async getWalletData(\n    wallet: AirGapMarketWallet,\n    key: CachingServiceKey.TRANSACTIONS | CachingServiceKey.BALANCE\n  ): Promise<StorageObject> {\n    const uniqueId = `${wallet.publicKey}_${wallet.protocol.identifier}_${key}`\n    return this.get(uniqueId)\n  }\n\n  public async set(key: string, value: any): Promise<any> {\n    return this.storage.setCache(key, value)\n  }\n\n  public async get(key: string): Promise<any> {\n    return this.storage.getCache(key)\n  }\n}\n","import { Deferred } from './Deferred'\n\nlet ipcRenderer\n\nfunction initElectronDeps(electron) {\n  ipcRenderer = electron.ipcRenderer\n}\n\nenum ElectronProcessMessage {\n  SPAWN = 'spawn-process',\n  SPAWN_REPLY = 'spawn-process-reply',\n\n  SEND = 'send-to-child',\n  SEND_REPLY = 'send-to-child-reply'\n}\n\nexport class ElectronProcess {\n  private pid: number | null = null\n  private ipcDeferred: Map<string, Deferred<any>> = new Map()\n\n  constructor(private readonly name: string) {\n    if (window.require) {\n      const electron = window.require('electron')\n      initElectronDeps(electron)\n\n      this.initMessageListeners()\n    } else {\n      throw new Error('ElectronProcess can be used only within Electron.')\n    }\n  }\n\n  public async send<T>(requestId: string, messageType: string, data?: any): Promise<T> {\n    if (!this.pid) {\n      const spawnDeferred = this.getSpawnDeferred()\n\n      this.pid = await spawnDeferred.promise\n    }\n\n    const sendDeferredId = `${requestId}_${new Date().getTime().toString()}`\n    const sendDeferred = new Deferred<T>()\n    this.ipcDeferred.set(sendDeferredId, sendDeferred)\n\n    ipcRenderer.send(ElectronProcessMessage.SEND, sendDeferredId, this.name, messageType, data)\n\n    return sendDeferred.promise\n  }\n\n  private initMessageListeners() {\n    ipcRenderer.on(ElectronProcessMessage.SPAWN_REPLY, (_event, deferredId, pid) => {\n      this.pid = pid\n      this.resolveDeferred(deferredId, pid)\n    })\n    ipcRenderer.on(ElectronProcessMessage.SEND_REPLY, (_event, deferredId, data) => {\n      this.resolveDeferred(deferredId, data)\n    })\n  }\n\n  private getSpawnDeferred(): Deferred<number> {\n    const deferredId = `${ElectronProcessMessage.SPAWN}`\n\n    let deferred = this.ipcDeferred.get(deferredId)\n    if (!deferred) {\n      deferred = new Deferred()\n      this.ipcDeferred.set(deferredId, deferred)\n      ipcRenderer.send(ElectronProcessMessage.SPAWN, deferredId, this.name)\n    }\n    return deferred\n  }\n\n  private resolveDeferred(deferredId: string, result: any) {\n    const deferred = this.ipcDeferred.get(deferredId)\n    if (!deferred) {\n      return\n    }\n\n    if (result.error) {\n      const error = result.error.message ? new Error(result.error.message) : result.error\n      deferred.reject(error)\n    } else {\n      deferred.resolve(result)\n    }\n    this.ipcDeferred.delete(deferredId)\n  }\n}\n","import { BaseStorage } from '@airgap/angular-core'\nimport { Network } from '@airgap/beacon-sdk'\nimport { ICoinProtocol, SerializedAirGapWallet } from '@airgap/coinlib-core'\nimport { ProtocolOptions } from '@airgap/coinlib-core/utils/ProtocolOptions'\nimport { Injectable } from '@angular/core'\nimport { Storage } from '@ionic/storage'\n\nimport { SerializedAirGapMarketWalletGroup } from '../../models/AirGapMarketWalletGroup'\nimport { ExchangeTransactionDetails } from '../exchange/exchange'\n\nexport type BeaconRequest = [string, any, ICoinProtocol]\nexport interface SerializedBeaconRequest {\n  messageId: string\n  payload: any\n  protocolIdentifier: string\n  network: Network\n}\n\nexport enum WalletStorageKey {\n  INTRODUCTION = 'introduction',\n  WALLET_INTRODUCTION = 'walletIntroduction',\n  CAMERA_PERMISSION_ASKED = 'cameraPermissionAsked',\n  DEEP_LINK = 'deepLink',\n  PUSH_INTRODUCTION = 'pushIntroduction',\n  EXCHANGE_INTEGRATION = 'exchangeIntroduction',\n  WALLET = 'wallets',\n  WALLET_GROUPS = 'walletGroups',\n  LAST_TX_BROADCAST = 'lastTxBroadcast',\n  USER_ID = 'user_id',\n  PENDING_EXCHANGE_TRANSACTIONS = 'PENDING_EXCHANGE_TRANSACTIONS',\n  BEACON_REQUESTS = 'BEACON_REQUESTS',\n  PENDING_REQUEST = 'PENDING_REQUEST',\n  GENERIC_SUBPROTOCOLS = 'GENERIC_SUBPROTOCOLS'\n}\n\ninterface IBroadcastTransaction {\n  protocol: string\n  accountIdentifier: string\n  date: number\n}\n\ninterface WalletStorageKeyReturnType {\n  [WalletStorageKey.INTRODUCTION]: boolean\n  [WalletStorageKey.WALLET_INTRODUCTION]: boolean\n  [WalletStorageKey.CAMERA_PERMISSION_ASKED]: boolean\n  [WalletStorageKey.DEEP_LINK]: boolean\n  [WalletStorageKey.PUSH_INTRODUCTION]: boolean\n  [WalletStorageKey.EXCHANGE_INTEGRATION]: boolean\n  [WalletStorageKey.WALLET]: SerializedAirGapWallet[] | undefined\n  [WalletStorageKey.WALLET_GROUPS]: SerializedAirGapMarketWalletGroup[] | undefined\n  [WalletStorageKey.LAST_TX_BROADCAST]: IBroadcastTransaction | undefined\n  [WalletStorageKey.USER_ID]: string | undefined\n  [WalletStorageKey.PENDING_EXCHANGE_TRANSACTIONS]: ExchangeTransactionDetails[]\n  [WalletStorageKey.BEACON_REQUESTS]: SerializedBeaconRequest[]\n  [WalletStorageKey.PENDING_REQUEST]: SerializedBeaconRequest[]\n  [WalletStorageKey.GENERIC_SUBPROTOCOLS]: Record<string, ProtocolOptions>\n}\n\ntype WalletStorageKeyReturnDefaults = { [key in WalletStorageKey]: WalletStorageKeyReturnType[key] }\n\nconst defaultValues: WalletStorageKeyReturnDefaults = {\n  [WalletStorageKey.INTRODUCTION]: false,\n  [WalletStorageKey.WALLET_INTRODUCTION]: false,\n  [WalletStorageKey.CAMERA_PERMISSION_ASKED]: false,\n  [WalletStorageKey.DEEP_LINK]: false,\n  [WalletStorageKey.PUSH_INTRODUCTION]: false,\n  [WalletStorageKey.EXCHANGE_INTEGRATION]: false,\n  [WalletStorageKey.WALLET]: undefined,\n  [WalletStorageKey.WALLET_GROUPS]: undefined,\n  [WalletStorageKey.LAST_TX_BROADCAST]: undefined,\n  [WalletStorageKey.USER_ID]: undefined,\n  [WalletStorageKey.PENDING_EXCHANGE_TRANSACTIONS]: [],\n  [WalletStorageKey.BEACON_REQUESTS]: [],\n  [WalletStorageKey.PENDING_REQUEST]: [],\n  [WalletStorageKey.GENERIC_SUBPROTOCOLS]: {}\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WalletStorageService extends BaseStorage<WalletStorageKey, WalletStorageKeyReturnType> {\n  constructor(storage: Storage) {\n    super(storage, defaultValues)\n  }\n\n  public async getCache<T>(key: string): Promise<T> {\n    await this.storage.ready()\n\n    return this.storage.get(`cache-${key}`)\n  }\n\n  public async setCache<T>(key: string, value: T): Promise<T> {\n    await this.storage.ready()\n\n    return this.storage.set(`cache-${key}`, value)\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n}\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { InjectionToken } from '@angular/core'\nimport { BrowserPlugin } from '@capacitor/browser'\nimport { PushNotificationsPlugin } from '@capacitor/push-notifications'\nimport { SharePlugin } from '@capacitor/share'\nimport { SaplingNativePlugin } from './definitions'\n\nexport const BROWSER_PLUGIN = new InjectionToken<BrowserPlugin>('BrowserPlugin')\nexport const PUSH_NOTIFICATIONS_PLUGIN = new InjectionToken<PushNotificationsPlugin>('PushNotificationsPlugin')\nexport const SHARE_PLUGIN = new InjectionToken<SharePlugin>('SharePlugin')\n\nexport const SAPLING_PLUGIN = new InjectionToken<SaplingNativePlugin>('SaplingPlugin')\n","<ion-item *ngIf=\"protocol\" class=\"ion-no-padding\" lines=\"none\">\n  <airgap-currency-symbol class=\"item__image\" [symbol]=\"protocol.symbol\" slot=\"start\"></airgap-currency-symbol>\n  <ion-label>\n    <h2>\n      <strong>{{ protocol.name | translate }}</strong>\n      <span *ngIf=\"showSymbol\">{{ protocol.symbol }}</span>\n    </h2>\n  </ion-label>\n\n  <ion-radio *ngIf=\"radioList\" [value]=\"protocol.identifier\" slot=\"end\"></ion-radio>\n</ion-item>\n","import { ICoinProtocol } from '@airgap/coinlib-core'\nimport { Component, Input } from '@angular/core'\n\ninterface ProtocolInfo {\n  name: string\n  identifier: string\n  symbol: string\n}\n\n@Component({\n  selector: 'currency-item',\n  templateUrl: 'currency-item.html',\n  styleUrls: ['./currency-item.scss']\n})\nexport class CurrencyItemComponent {\n  @Input()\n  public protocol: ICoinProtocol | ProtocolInfo\n\n  @Input()\n  public radioList: boolean = false\n\n  @Input()\n  public showSymbol: boolean = true\n}\n","import { UIWidget, UIWidgetConfig, UIWidgetType } from '../UIWidget'\n\nexport type UIAlertColor = 'primary' | 'secondary' | 'tertiary' | 'success' | 'warning' | 'danger' | 'light' | 'medium' | 'dark'\n\nexport interface UIActionButton {\n  text: string\n  action(): Promise<void>\n}\n\nexport interface UIAlertConfig extends UIWidgetConfig {\n  title: string\n  description: string\n  icon: string\n  color: UIAlertColor\n  detail?: boolean\n  actions?: UIActionButton[]\n\n  onClick?: () => void\n}\n\nexport class UIAlert extends UIWidget {\n  public type: UIWidgetType = UIWidgetType.ALERT\n\n  public readonly title: string\n  public readonly description: string\n  public readonly icon: string\n  public readonly color: UIAlertColor\n  public readonly detail: boolean\n  public readonly actions: UIActionButton[]\n\n  public readonly onClick?: () => void\n\n  constructor(config: UIAlertConfig) {\n    super(config)\n\n    this.title = config.title\n    this.description = config.description\n    this.icon = config.icon\n    this.color = config.color\n    this.detail = config.detail !== undefined ? config.detail : false\n    this.actions = config.actions\n\n    this.onClick = config.onClick\n  }\n}\n","import { AirGapAngularCoreModule } from '@airgap/angular-core'\nimport { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { MomentModule } from 'ngx-moment'\nimport { ComponentsModule } from 'src/app/components/components.module'\nimport { PipesModule } from 'src/app/pipes/pipes.module'\n\nimport { BeaconRequestPageRoutingModule } from './beacon-request-routing.module'\nimport { BeaconRequestPage } from './beacon-request.page'\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ComponentsModule,\n    TranslateModule,\n    PipesModule,\n    MomentModule,\n    BeaconRequestPageRoutingModule,\n    AirGapAngularCoreModule\n  ],\n  declarations: [BeaconRequestPage]\n})\nexport class BeaconRequestPageModule {}\n","import { Injectable } from '@angular/core'\nimport { AirGapMarketWallet } from '@airgap/coinlib-core'\nimport BigNumber from 'bignumber.js'\nimport { TimeInterval } from '@airgap/coinlib-core/wallet/AirGapMarketWallet'\nimport { CryptoPrices, PriceService } from '../price/price.service'\n\nexport interface BalanceAtTimestamp {\n  timestamp: number\n  balance: number\n  marketSymbol: string\n}\nexport interface ValueAtTimestamp {\n  timestamp: number\n  usdValue: number\n}\n\n@Injectable()\nexport class MarketDataService {\n  constructor(private readonly priceService: PriceService) {}\n\n  public async fetchAllValues(interval: TimeInterval, wallets: AirGapMarketWallet[]): Promise<ValueAtTimestamp[]> {\n    return new Promise<ValueAtTimestamp[]>(async (resolve) => {\n      if (wallets.length === 0) {\n        return resolve([\n          {\n            timestamp: 0,\n            usdValue: 0\n          }\n        ])\n      }\n      const marketSymbols = Array.from(new Set(wallets.map((wallet) => wallet.protocol.marketSymbol)))\n\n      const cryptoPrices: CryptoPrices[] = await this.priceService.fetchPriceData(marketSymbols, interval)\n\n      const relevantTimestamps: number[] = Array.from(new Set(cryptoPrices.map((priceObject) => priceObject.time)))\n\n      const balanceByTimestampAllWallets: BalanceAtTimestamp[][] = await Promise.all(\n        wallets.map((wallet) => this.walletBalancesAtTimestamps(wallet, relevantTimestamps))\n      )\n\n      const valuesByTimestampAllWallets: ValueAtTimestamp[][] = balanceByTimestampAllWallets.map((balanceByTimestampSingleWallet) => {\n        return balanceByTimestampSingleWallet.map((balanceObject, index) => {\n          const cryptoPricesByProtocol = cryptoPrices.filter(\n            (price) => price.baseCurrencySymbol === balanceObject.marketSymbol.toUpperCase()\n          )\n          return {\n            usdValue: cryptoPricesByProtocol[index] ? balanceObject.balance * cryptoPricesByProtocol[index].price : 0,\n            timestamp: balanceObject.timestamp\n          }\n        })\n      })\n      const aggregatedValuesByTimestamp = valuesByTimestampAllWallets.reduce(\n        (valuesByTimestamp: ValueAtTimestamp[], next: ValueAtTimestamp[]) =>\n          next.map((valueAtTimestamp: ValueAtTimestamp, i) => {\n            return {\n              usdValue: new BigNumber(valuesByTimestamp[i].usdValue).plus(valueAtTimestamp.usdValue).toNumber(),\n              timestamp: valueAtTimestamp.timestamp\n            }\n          })\n      )\n      resolve(aggregatedValuesByTimestamp)\n    })\n  }\n\n  private async walletBalancesAtTimestamps(wallet: AirGapMarketWallet, timestamps: number[]): Promise<BalanceAtTimestamp[]> {\n    if (!timestamps.length) {\n      return []\n    }\n\n    let balance: BigNumber = await this.priceService.fetchBalance(wallet)\n\n    const transactionResult = await this.priceService.fetchTransactions(wallet).catch((error) => {\n      console.error(error)\n      return {\n        transactions: []\n      }\n    })\n    const relevantTransactions = transactionResult.transactions.filter(\n      (transaction) =>\n        transaction.timestamp && timestamps.length && transaction.timestamp > new BigNumber(timestamps[0]).div(1000).toNumber()\n    )\n\n    return timestamps\n      .reverse()\n      .map((timestamp, index, array) => {\n        // check if there was a tx in between consecutive timestamps\n        const newTransactions = relevantTransactions.filter((transaction) =>\n          transaction.timestamp && transaction.timestamp < new BigNumber(timestamp).div(1000).toNumber() && array[index + 1]\n            ? transaction.timestamp > new BigNumber(array[index + 1]).div(1000).toNumber()\n            : false\n        )\n\n        if (!newTransactions.length) {\n          return {\n            timestamp: new BigNumber(timestamp).dividedBy(1000).toNumber(),\n            marketSymbol: wallet.protocol.marketSymbol,\n            balance: balance.shiftedBy(wallet.protocol.decimals * -1).toNumber()\n          }\n        } else {\n          balance = balance.minus(\n            newTransactions\n              .map((transaction) => {\n                const selfTx = transaction.to[0] === transaction.from[0]\n                if (selfTx) {\n                  return new BigNumber(0)\n                } else if (transaction.isInbound) {\n                  return new BigNumber(transaction.amount)\n                } else {\n                  return new BigNumber(transaction.amount).plus(transaction.fee).times(-1)\n                }\n              })\n              .reduce((a, b) => a.plus(b))\n          )\n\n          return {\n            timestamp: new BigNumber(timestamp).dividedBy(1000).toNumber(),\n            marketSymbol: wallet.protocol.marketSymbol,\n            balance: balance.shiftedBy(wallet.protocol.decimals * -1).toNumber()\n          }\n        }\n      })\n      .sort((a, b) => (a.timestamp > b.timestamp ? 0 : b.timestamp > a.timestamp ? -1 : 1))\n  }\n}\n","import { Component, Input } from '@angular/core'\nimport { FormGroup } from '@angular/forms'\nimport { UIInputText } from 'src/app/models/widgets/input/UIInputText'\n\n@Component({\n  selector: 'widget-input-text',\n  templateUrl: 'widget-input-text.html',\n  styleUrls: ['widget-input-text.scss']\n})\nexport class WidgetInputText {\n  @Input()\n  public widget: UIInputText\n\n  @Input()\n  public widgetForm: FormGroup\n}\n","<form [formGroup]=\"widgetForm\">\n  <ion-row class=\"ion-padding-horizontal padding-top ion-align-items-center value__container\">\n    <ion-col size=\"9\" class=\"value--container__input ion-no-padding\">\n      <ion-item class=\"ion-no-padding\" lines=\"none\">\n        <ion-label color=\"blackLight\" class=\"ion-no-margin\" position=\"stacked\">{{ widget.label | translate }}</ion-label>\n        <ion-input [type]=\"widget.inputType\" [placeholder]=\"widget.placeholder\" [formControlName]=\"widget.id\"></ion-input>\n      </ion-item>\n      <ion-text class=\"ion-no-margin\" color=\"blackLight\" *ngIf=\"widget.extraLabel || widget.createExtraLabel\">\n        <p class=\"ion-no-margin\">{{ widget.extraLabel | translate }}</p>\n      </ion-text>\n    </ion-col>\n    <ion-col size=\"3\" class=\"ion-no-padding\" *ngIf=\"widget.fixedValue || widget.getFixedValue\">\n      <ion-toolbar>\n        <ion-buttons slot=\"end\">\n          <ion-button\n            shape=\"round\"\n            [fill]=\"widget.isValueFixed ? 'solid' : 'outline'\"\n            size=\"small\"\n            color=\"secondary\"\n            (click)=\"widget.toggleValue()\"\n          >\n            {{ widget.toggleFixedValueButton | translate }}\n          </ion-button>\n        </ion-buttons>\n      </ion-toolbar>\n    </ion-col>\n  </ion-row>\n  <ion-row class=\"ion-padding-horizontal ion-padding-bottom\" *ngIf=\"widget.formControl && widget.errorLabel\">\n    <ion-col size=\"12\" *ngIf=\"widget.formControl.invalid\">\n      <ion-text class=\"ion-no-margin\" color=\"danger\">\n        <p class=\"ion-no-margin\">{{ widget.errorLabel | translate }}</p>\n      </ion-text>\n    </ion-col>\n  </ion-row>\n</form>\n","import { TezosSaplingExternalMethodProvider, TezosSaplingTransaction } from '@airgap/coinlib-core'\nimport { SaplingPartialOutputDescription, SaplingUnsignedSpendDescription } from '@airgap/sapling-wasm'\nimport { Inject, Injectable } from '@angular/core'\nimport { Platform } from '@ionic/angular'\n\nimport { SaplingNativePlugin } from '../../capacitor-plugins/definitions'\nimport { SAPLING_PLUGIN } from '../../capacitor-plugins/injection-tokens'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SaplingNativeService {\n  constructor(@Inject(SAPLING_PLUGIN) private readonly sapling: SaplingNativePlugin, private readonly platform: Platform) {}\n\n  public async createExternalMethodProvider(): Promise<TezosSaplingExternalMethodProvider | undefined> {\n    const isSupported = this.platform.is('capacitor') && !this.platform.is('electron') && (await this.sapling.isSupported()).isSupported\n\n    return isSupported\n      ? {\n          initParameters: this.initParameters(this.sapling),\n          withProvingContext: this.withProvingContext(this.sapling),\n          prepareSpendDescription: this.prepareSpendDescription(this.sapling),\n          preparePartialOutputDescription: this.preparePartialOutputDescription(this.sapling),\n          createBindingSignature: this.createBindingSignature(this.sapling)\n        }\n      : undefined\n  }\n\n  private initParameters(saplingPlugin: SaplingNativePlugin): TezosSaplingExternalMethodProvider['initParameters'] {\n    return async (_spendParams: Buffer, _outputParams: Buffer): Promise<void> => {\n      return saplingPlugin.initParameters()\n    }\n  }\n\n  private withProvingContext(saplingPlugin: SaplingNativePlugin): TezosSaplingExternalMethodProvider['withProvingContext'] {\n    return async (action: (context: number) => Promise<TezosSaplingTransaction>): Promise<TezosSaplingTransaction> => {\n      const { context } = await saplingPlugin.initProvingContext()\n      const transaction = await action(parseInt(context))\n      await saplingPlugin.dropProvingContext({ context })\n\n      return transaction\n    }\n  }\n\n  private prepareSpendDescription(saplingPlugin: SaplingNativePlugin): TezosSaplingExternalMethodProvider['prepareSpendDescription'] {\n    return async (\n      context: number,\n      spendingKey: Buffer,\n      address: Buffer,\n      rcm: string,\n      ar: Buffer,\n      value: string,\n      root: string,\n      merklePath: string\n    ): Promise<SaplingUnsignedSpendDescription> => {\n      const { spendDescription: spendDescriptionHex } = await saplingPlugin.prepareSpendDescription({\n        context: context.toString(),\n        spendingKey: spendingKey.toString('hex'),\n        address: address.toString('hex'),\n        rcm,\n        ar: ar.toString('hex'),\n        value,\n        root,\n        merklePath\n      })\n\n      const spendDescription: Buffer = Buffer.from(spendDescriptionHex, 'hex')\n\n      return {\n        cv: spendDescription.slice(0, 32) /* 32 bytes */,\n        rt: spendDescription.slice(32, 64) /* 32 bytes */,\n        nf: spendDescription.slice(64, 96) /* 32 bytes */,\n        rk: spendDescription.slice(96, 128) /* 32 bytes */,\n        proof: spendDescription.slice(128, 320) /* 48 + 96 + 48 bytes */\n      }\n    }\n  }\n\n  private preparePartialOutputDescription(\n    saplingPlugin: SaplingNativePlugin\n  ): TezosSaplingExternalMethodProvider['preparePartialOutputDescription'] {\n    return async (context: number, address: Buffer, rcm: Buffer, esk: Buffer, value: string): Promise<SaplingPartialOutputDescription> => {\n      const { outputDescription: outputDescriptionHex } = await saplingPlugin.preparePartialOutputDescription({\n        context: context.toString(),\n        address: address.toString('hex'),\n        rcm: rcm.toString('hex'),\n        esk: esk.toString('hex'),\n        value\n      })\n\n      const outputDescription: Buffer = Buffer.from(outputDescriptionHex, 'hex')\n\n      return {\n        cv: outputDescription.slice(0, 32) /* 32 bytes */,\n        cm: outputDescription.slice(32, 64) /* 32 bytes */,\n        proof: outputDescription.slice(64, 256) /* 48 + 96 + 48 bytes */\n      }\n    }\n  }\n\n  private createBindingSignature(saplingPlugin: SaplingNativePlugin): TezosSaplingExternalMethodProvider['createBindingSignature'] {\n    return async (context: number, balance: string, sighash: Buffer): Promise<Buffer> => {\n      const { bindingSignature } = await saplingPlugin.createBindingSignature({\n        context: context.toString(),\n        balance,\n        sighash: sighash.toString('hex')\n      })\n\n      return Buffer.from(bindingSignature, 'hex')\n    }\n  }\n}\n","import { FilesystemService, ProtocolService, UIResourceStatus } from '@airgap/angular-core'\nimport {\n  ICoinProtocol,\n  MainProtocolSymbols,\n  ProtocolNetwork,\n  TezosFA1p2Protocol,\n  TezosFA2Protocol,\n  TezosFA2ProtocolConfig,\n  TezosFA2ProtocolOptions,\n  TezosFAProtocolConfig,\n  TezosFAProtocolOptions,\n  TezosProtocolOptions\n} from '@airgap/coinlib-core'\nimport { TezosContract } from '@airgap/coinlib-core/protocols/tezos/contract/TezosContract'\nimport {\n  indexerApi,\n  indexerApiKey,\n  indexerNetwork,\n  nodeUrl,\n  TezosProtocolNetwork,\n  tezosProtocolNetwork\n} from '@airgap/coinlib-core/protocols/tezos/TezosProtocolOptions'\nimport { TezosContractMetadata } from '@airgap/coinlib-core/protocols/tezos/types/contract/TezosContractMetadata'\nimport { TezosFATokenMetadata } from '@airgap/coinlib-core/protocols/tezos/types/fa/TezosFATokenMetadata'\nimport { Injectable } from '@angular/core'\nimport { ComponentStore, tapResponse } from '@ngrx/component-store'\nimport { from, Observable, Subscriber } from 'rxjs'\nimport { repeat, switchMap, withLatestFrom } from 'rxjs/operators'\nimport { faProtocolSymbol } from 'src/app/types/GenericProtocolSymbols'\nimport {\n  TezosFAFormErrorType,\n  TezosFAFormState,\n  TokenDetailsInput,\n  TokenInterface,\n} from './tezos-fa-form.types'\nimport {\n  contractNotFoundError,\n  hasTokenInterface,\n  interfaceUnknownError,\n  isTezosFAFormError,\n  tokenMetadataMissingError,\n  tokenVaugeError,\n  unknownError\n} from './tezos-fa-form.utils'\n\nconst initialState: TezosFAFormState = {\n  tokenInterface: { status: UIResourceStatus.IDLE, value: undefined },\n  tokenID: { status: UIResourceStatus.IDLE, value: undefined },\n\n  tokenInterfaces: [],\n  tokens: [],\n  networks: [],\n\n  protocol: { status: UIResourceStatus.IDLE, value: undefined },\n\n  errorDescription: undefined\n}\n\n@Injectable()\nexport class TezosFAFormStore extends ComponentStore<TezosFAFormState> {\n  private readonly contractMetadata: Record<string, TezosContractMetadata> = {}\n  private readonly tokenMetadata: Record<string, Record<number, TezosFATokenMetadata>> = {}\n\n  constructor(private readonly protocolService: ProtocolService, private readonly filesystemService: FilesystemService) {\n    super(initialState)\n  }\n\n  public readonly onInit = this.effect(() => {\n    return from(this.initAsync()).pipe(\n      tapResponse(\n        (partialState) => this.updateWithValue(partialState),\n        (error) => this.updateWithError(error)\n      )\n    )\n  })\n\n  public readonly onTokenDetailsInput = this.effect(\n    (details$: Observable<TokenDetailsInput>) => {\n      return details$.pipe(\n        withLatestFrom(this.state$),\n        switchMap(([details, state]) => {\n          return this.fetchTokenDetails(state, details).pipe(\n            tapResponse(\n              (partialState) => this.updateWithValue(partialState),\n              (error) => this.updateWithError(error)\n            )\n          )\n        }),\n        repeat()\n      )\n    }\n  )\n\n  public selectFromState<K extends keyof TezosFAFormState>(key: K): Observable<TezosFAFormState[K]> {\n    return this.select((state) => state[key])\n  }\n\n  private updateWithValue = this.updater((state: TezosFAFormState, partialState: Partial<TezosFAFormState>) => {\n    return {\n      ...state,\n      ...partialState,\n      errorDescription: undefined\n    }\n  })\n\n  private updateWithError = this.updater((state: TezosFAFormState, error: unknown) => {\n    const tezosFAFormError = isTezosFAFormError(error) ? error : unknownError(error)\n\n    if (tezosFAFormError.type === TezosFAFormErrorType.UNKNOWN && tezosFAFormError.error) {\n      console.error(error)\n    }\n\n    return {\n      ...state,\n      tokenInterface:\n        tezosFAFormError.type === TezosFAFormErrorType.INTERFACE_UNKNOWN\n          ? { status: UIResourceStatus.ERROR, value: undefined }\n          : tezosFAFormError.type === TezosFAFormErrorType.CONTRACT_NOT_FOUND\n          ? { status: UIResourceStatus.IDLE, value: undefined }\n          : state.tokenInterface,\n      tokenID:\n        tezosFAFormError.type === TezosFAFormErrorType.CONTRACT_NOT_FOUND\n          ? { status: UIResourceStatus.IDLE, value: undefined }\n          : state.tokenID,\n      tokenInterfaces:\n        tezosFAFormError.type === TezosFAFormErrorType.INTERFACE_UNKNOWN\n          ? tezosFAFormError.tokenInterfaces\n          : tezosFAFormError.type === TezosFAFormErrorType.CONTRACT_NOT_FOUND\n          ? []\n          : state.tokenInterfaces,\n      tokens:\n        tezosFAFormError.type === TezosFAFormErrorType.TOKEN_VAGUE\n          ? tezosFAFormError.tokens\n          : tezosFAFormError.type === TezosFAFormErrorType.CONTRACT_NOT_FOUND\n          ? []\n          : state.tokens,\n      protocol: { status: UIResourceStatus.ERROR, value: state.protocol.value },\n      errorDescription: `tezos-fa-form.error.${tezosFAFormError.type}`\n    }\n  })\n\n  private async initAsync(): Promise<Partial<TezosFAFormState>> {\n    const networks = await this.protocolService.getNetworksForProtocol(MainProtocolSymbols.XTZ)\n\n    return {\n      networks: networks\n    }\n  }\n\n  private fetchTokenDetails(state: TezosFAFormState, inputDetails: TokenDetailsInput): Observable<Partial<TezosFAFormState>> {\n    return new Observable((subscriber: Subscriber<Partial<TezosFAFormState>>) => {\n      new Promise<void>(async (resolve, reject) => {\n        try {\n          this.emitLoading(subscriber)\n\n          const alreadySupported = await this.alreadySupported(inputDetails.address, inputDetails.networkIdentifier, inputDetails.tokenID)\n          if (alreadySupported) {\n            const handledAlreadySupported = await this.handleAlreadySupported(alreadySupported, inputDetails.tokenID)\n            await this.tapProtocol(handledAlreadySupported)\n            this.emitProtocol(handledAlreadySupported, inputDetails.tokenInterface, inputDetails.tokenID, subscriber)\n            resolve()\n            return\n          }\n\n          const network = state.networks.find((network: ProtocolNetwork) => network.identifier === inputDetails.networkIdentifier)\n          let contract: TezosContract | undefined\n          if (network && network instanceof TezosProtocolNetwork) {\n            contract = await this.getContract(inputDetails.address, network)\n          }\n          this.emitContract(contract, subscriber)\n\n          const tokenInterface: TokenInterface | undefined = await this.getTokenInterface(contract, inputDetails.tokenInterface)\n          this.emitTokenInterface(tokenInterface, subscriber)\n\n          let protocol: ICoinProtocol\n          switch (tokenInterface) {\n            case TokenInterface.FA1p2:\n              protocol = await this.getFA1p2TokenDetails(contract)\n              break\n            case TokenInterface.FA2:\n              protocol = await this.getFA2TokenDetails(contract, inputDetails.tokenID)\n              break\n            default:\n              throw interfaceUnknownError()\n          }\n\n          this.emitProtocol(protocol, inputDetails.tokenInterface, inputDetails.tokenID, subscriber)\n        } catch (error) {\n          reject(error)\n        }\n      })\n        .catch((error) => {\n          subscriber.error(error)\n        })\n        .finally(() => {\n          subscriber.complete()\n        })\n    })\n  }\n\n  private async alreadySupported(address: string, networkIdentifier: string, tokenID?: number): Promise<ICoinProtocol | undefined> {\n    const subProtocols = await this.protocolService.getSubProtocols(MainProtocolSymbols.XTZ)\n    const alreadySupportedProtocols = subProtocols.filter((protocol) => {\n      return protocol.contractAddress === address && (protocol.options as TezosProtocolOptions).network.identifier === networkIdentifier\n    })\n\n    const alreadySupportedToken = alreadySupportedProtocols.find((protocol) => {\n      return protocol instanceof TezosFA2Protocol && protocol.defaultTokenID === tokenID\n    })\n\n    return alreadySupportedToken ?? alreadySupportedProtocols[0]\n  }\n\n  private async handleAlreadySupported(protocol: ICoinProtocol, tokenID?: number): Promise<ICoinProtocol> {\n    if (protocol instanceof TezosFA2Protocol) {\n      return this.handleFA2AlreadySupported(protocol, tokenID)\n    } else {\n      return protocol\n    }\n  }\n\n  private async handleFA2AlreadySupported(protocol: TezosFA2Protocol, customTokenID?: number): Promise<TezosFA2Protocol> {\n    if (customTokenID !== undefined && protocol.defaultTokenID === customTokenID) {\n      return protocol\n    }\n\n    try {\n      return this.createFA2Protocol(protocol, customTokenID)\n    } catch (error) {\n      if (isTezosFAFormError(error) && (error.type === TezosFAFormErrorType.TOKEN_METADATA_MISSING)) {\n        return protocol\n      } else {\n        throw error\n      }\n    }\n  }\n\n  private async getContract(address: string, network: TezosProtocolNetwork): Promise<TezosContract | undefined> {\n    const contract = new TezosContract(\n      address,\n      network.extras.network,\n      nodeUrl(network.extras.network),\n      indexerApi(network.extras.network),\n      indexerNetwork(network.extras.network),\n      indexerApiKey(network.extras.network)\n    )\n\n    try {\n      // get contract's balance to verify if the address and network are valid\n      await contract.balance()\n      return contract\n    } catch {\n      return undefined\n    }\n  }\n\n  private async getTokenInterface(contract: TezosContract, tokenInterface?: TokenInterface): Promise<TokenInterface | undefined> {\n    if (!tokenInterface) {\n      const metadata = await this.getContractMetadata(contract)\n      if (!metadata) {\n        return undefined\n      }\n\n      if (hasTokenInterface(metadata, TokenInterface.FA1p2)) {\n        return TokenInterface.FA1p2\n      } else if (hasTokenInterface(metadata, TokenInterface.FA2)) {\n        return TokenInterface.FA2\n      }\n    }\n\n    return tokenInterface\n  }\n\n  private async getFA1p2TokenDetails(contract: TezosContract): Promise<TezosFA1p2Protocol> {\n    const genericFA1p2Protocol = new TezosFA1p2Protocol(\n      new TezosFAProtocolOptions(\n        tezosProtocolNetwork(contract.network),\n        new TezosFAProtocolConfig(contract.address, faProtocolSymbol('1.2', contract.address))\n      )\n    )\n    const tokenMetadata = await this.getFA1p2TokenMetadata(genericFA1p2Protocol)\n    if (!tokenMetadata) {\n      throw tokenMetadataMissingError()\n    }\n\n    await this.tapTokenMetadata(tokenMetadata)\n\n    return new TezosFA1p2Protocol(\n      new TezosFAProtocolOptions(\n        genericFA1p2Protocol.options.network,\n        new TezosFAProtocolConfig(\n          genericFA1p2Protocol.options.config.contractAddress,\n          faProtocolSymbol('1.2', contract.address),\n          tokenMetadata.symbol,\n          tokenMetadata.name,\n          tokenMetadata.symbol,\n          genericFA1p2Protocol.options.config.feeDefaults,\n          tokenMetadata.decimals\n        )\n      )\n    )\n  }\n\n  private async getFA2TokenDetails(contract: TezosContract, customTokenID: number | undefined): Promise<TezosFA2Protocol> {\n    const genericFA2Protocol = new TezosFA2Protocol(\n      new TezosFA2ProtocolOptions(\n        tezosProtocolNetwork(contract.network),\n        new TezosFA2ProtocolConfig(\n          contract.address,\n          faProtocolSymbol('2', contract.address, customTokenID),\n          undefined,\n          undefined,\n          undefined,\n          undefined,\n          undefined,\n          customTokenID\n        )\n      )\n    )\n\n    return this.createFA2Protocol(genericFA2Protocol, customTokenID)\n  }\n\n  private async createFA2Protocol(baseProtocol: TezosFA2Protocol, customTokenID: number | undefined): Promise<TezosFA2Protocol> {\n    const tokenMetadataRegistry = await this.getFA2TokenMetadata(baseProtocol)\n    if (!tokenMetadataRegistry) {\n      throw tokenMetadataMissingError()\n    }\n\n    const tokenMetadataRegistryEntries = Object.entries(tokenMetadataRegistry)\n    const [tokenID, tokenMetadata] =\n      customTokenID !== undefined\n        ? [customTokenID, tokenMetadataRegistry[customTokenID]]\n        : tokenMetadataRegistryEntries.length === 1\n          ? [parseInt(tokenMetadataRegistryEntries[0][0]), tokenMetadataRegistryEntries[0][1]]\n          : [undefined, undefined]\n\n    if (tokenID === undefined) {\n      throw tokenVaugeError(tokenMetadataRegistry)\n    }\n    if (tokenMetadata === undefined) {\n      throw tokenMetadataMissingError()\n    }\n\n    await this.tapTokenMetadata(tokenMetadata)\n\n    return new TezosFA2Protocol(\n      new TezosFA2ProtocolOptions(\n        baseProtocol.options.network,\n        new TezosFA2ProtocolConfig(\n          baseProtocol.options.config.contractAddress,\n          faProtocolSymbol('2', baseProtocol.contractAddress, tokenID),\n          tokenMetadata.symbol,\n          tokenMetadata.name,\n          tokenMetadata.symbol,\n          baseProtocol.options.config.feeDefaults,\n          tokenMetadata.decimals,\n          tokenID\n        )\n      )\n    )\n  }\n\n  private emitLoading(subscriber: Subscriber<Partial<TezosFAFormState>>): void {\n    subscriber.next({\n      tokenID: { status: UIResourceStatus.LOADING, value: undefined },\n      tokenInterface: { status: UIResourceStatus.LOADING, value: undefined },\n      protocol: { status: UIResourceStatus.LOADING, value: undefined }\n    })\n  }\n\n  private emitProtocol(\n    protocol: ICoinProtocol,\n    tokenInterface: TokenInterface | undefined,\n    tokenID: number | undefined,\n    subscriber: Subscriber<Partial<TezosFAFormState>>\n  ): void {\n    subscriber.next({\n      tokenID:\n        tokenID !== undefined\n          ? { status: UIResourceStatus.SUCCESS, value: tokenID }\n          : protocol instanceof TezosFA2Protocol\n          ? { status: UIResourceStatus.SUCCESS, value: protocol.defaultTokenID }\n          : { status: UIResourceStatus.SUCCESS, value: 0 },\n      tokenInterface: {\n        status: UIResourceStatus.SUCCESS,\n        value:\n          protocol instanceof TezosFA1p2Protocol\n            ? TokenInterface.FA1p2\n            : protocol instanceof TezosFA2Protocol\n            ? TokenInterface.FA2\n            : undefined\n      },\n      protocol: { status: UIResourceStatus.SUCCESS, value: protocol },\n      ...(tokenInterface === undefined ? { tokenInterfaces: [] } : {}),\n      ...(tokenID === undefined ? { tokens: [] } : {})\n    })\n  }\n\n  private emitContract(contract: TezosContract | undefined, _subscriber: Subscriber<Partial<TezosFAFormState>>): void {\n    if (!contract) {\n      throw contractNotFoundError()\n    }\n  }\n\n  private emitTokenInterface(tokenInterface: TokenInterface | undefined, subscriber: Subscriber<Partial<TezosFAFormState>>): void {\n    if (!tokenInterface) {\n      throw interfaceUnknownError()\n    }\n\n    subscriber.next({\n      tokenInterface: { status: UIResourceStatus.SUCCESS, value: tokenInterface }\n    })\n  }\n\n  private async getContractMetadata(contract: TezosContract): Promise<TezosContractMetadata | undefined> {\n    if (!this.contractMetadata[contract.address]) {\n      this.contractMetadata[contract.address] = await contract.metadata()\n    }\n\n    return this.contractMetadata[contract.address]\n  }\n\n  private async getFA1p2TokenMetadata(protocol: TezosFA1p2Protocol): Promise<TezosFATokenMetadata | undefined> {\n    const tokenMetadata = await this.getFATokenMetadata(protocol)\n    return tokenMetadata[0]\n  }\n\n  private async getFA2TokenMetadata(protocol: TezosFA2Protocol): Promise<Record<number, TezosFATokenMetadata> | undefined> {\n    const allTokenMetadata = await protocol.getAllTokenMetadata()\n    if (!allTokenMetadata) {\n      return undefined\n    }\n\n    await Promise.all(\n      Object.entries(allTokenMetadata).map(async ([tokenID, tokenMetadata]) => {\n        this.tokenMetadata[protocol.contractAddress] = Object.assign(this.tokenMetadata[protocol.contractAddress] ?? {}, {\n          [tokenID]: tokenMetadata\n        })\n      })\n    )\n\n    return this.tokenMetadata[protocol.contractAddress]\n  }\n\n  private async getFATokenMetadata(\n    protocol: TezosFA1p2Protocol | TezosFA2Protocol,\n    tokenID?: number\n  ): Promise<Record<number, TezosFATokenMetadata> | undefined> {\n    tokenID = tokenID ?? ('defaultTokenID' in protocol ? protocol.defaultTokenID : 0)\n    if (!this.tokenMetadata[protocol.contractAddress] || !this.tokenMetadata[protocol.contractAddress][tokenID]) {\n      this.tokenMetadata[protocol.contractAddress] = Object.assign(this.tokenMetadata[protocol.contractAddress] ?? {}, {\n        [tokenID]: await protocol.getTokenMetadata()\n      })\n    }\n\n    return this.tokenMetadata[protocol.contractAddress]\n  }\n\n  private async tapProtocol(protocol: ICoinProtocol): Promise<void> {\n    let tokenMetadata: TezosFATokenMetadata\n    if (protocol instanceof TezosFA1p2Protocol) {\n      tokenMetadata = await protocol.getTokenMetadata()\n    } else if (protocol instanceof TezosFA2Protocol) {\n      tokenMetadata = await protocol.getTokenMetadata()\n    }\n\n    if (tokenMetadata) {\n      await this.tapTokenMetadata(tokenMetadata)\n    }\n  }\n\n  private async tapTokenMetadata(tokenMetadata: TezosFATokenMetadata): Promise<void> {\n    const symbol = tokenMetadata.symbol\n    const thumbnailUri = tokenMetadata.thumbnailUri\n    if (symbol && typeof thumbnailUri === 'string') {\n      await this.filesystemService.writeLazyImage(`/images/symbols/${symbol.toLowerCase()}`, thumbnailUri.trim())\n    }\n  }\n}\n","import { AmountConverterPipe, ProtocolService } from '@airgap/angular-core'\nimport { Component, Input } from '@angular/core'\nimport { AirGapMarketWallet, ICoinDelegateProtocol } from '@airgap/coinlib-core'\nimport { NetworkType } from '@airgap/coinlib-core/utils/ProtocolNetwork'\nimport BigNumber from 'bignumber.js'\nimport { Observable, Subscription } from 'rxjs'\n\nimport { supportsDelegation } from '../../helpers/delegation'\nimport { AccountProvider } from '../../services/account/account.provider'\nimport { OperationsProvider } from '../../services/operations/operations'\n\n@Component({\n  selector: 'portfolio-item',\n  templateUrl: 'portfolio-item.html',\n  styleUrls: ['./portfolio-item.scss']\n})\nexport class PortfolioItemComponent {\n  public readonly networkType: typeof NetworkType = NetworkType\n\n  public isActive: boolean = false\n\n  @Input()\n  public wallet: AirGapMarketWallet\n\n  @Input()\n  public showBalances: boolean = true\n\n  @Input()\n  public isExpendable: boolean = false\n\n  @Input()\n  public isExtended: boolean = false\n\n  @Input()\n  public hideFiatAmounts: boolean = false\n\n  @Input()\n  public hideDelegationBadge: boolean = false\n\n  @Input()\n  public isToken: boolean = false\n\n  @Input()\n  public isDelegated: Observable<boolean>\n\n  @Input()\n  public maxDigits: number\n\n  public balance: string\n  public numberOfDecimalsInBalance: number = 0\n  public readonly smallFontDecimalThreshold = 16\n  private readonly defaultMaxDigits = 15\n\n  private walletChanged: Subscription\n\n  constructor(\n    private readonly operationsProvider: OperationsProvider,\n    public accountProvider: AccountProvider,\n    private readonly protocolService: ProtocolService\n  ) {}\n\n  public ngOnInit(): void {\n    this.updateBalance()\n    this.updateDelegationStatus()\n    this.walletChanged = this.accountProvider.walletChangedObservable.subscribe(async () => {\n      this.updateBalance()\n      this.updateDelegationStatus()\n    })\n  }\n\n  private async updateDelegationStatus() {\n    if (this.wallet !== undefined && this.wallet.receivingPublicAddress !== undefined) {\n      if (!supportsDelegation(this.wallet.protocol)) {\n        this.isDelegated = null\n      } else {\n        this.isDelegated = await this.operationsProvider.getDelegationStatusObservableOfAddress(\n          this.wallet.protocol as ICoinDelegateProtocol,\n          this.wallet.receivingPublicAddress\n        )\n      }\n    }\n  }\n\n  private updateBalance() {\n    if (this.wallet !== undefined && this.wallet.currentBalance !== undefined) {\n      const converter = new AmountConverterPipe(this.protocolService)\n      const currentBalance: BigNumber = this.wallet.currentBalance\n      const balanceFormatted = converter.transformValueOnly(currentBalance, this.wallet.protocol, this.digits())\n      this.balance = `${balanceFormatted} ${this.wallet.protocol.symbol}`\n      const balanceSplit = balanceFormatted.split('.')\n      if (balanceSplit.length == 2) {\n        const decimals = balanceSplit.pop()\n        this.numberOfDecimalsInBalance = decimals.length\n      }\n    }\n  }\n\n  public digits(): number {\n    if (this.maxDigits === undefined) {\n      return Math.min(this.wallet.protocol.decimals + 1, this.defaultMaxDigits)\n    } else {\n      return this.maxDigits == 0 ? this.wallet.protocol.decimals + 1 : this.maxDigits\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.walletChanged.unsubscribe()\n  }\n}\n","<ion-item *ngIf=\"wallet; else skeletonWallet\" lines=\"none\">\n  <ion-avatar slot=\"start\">\n    <airgap-identicon *ngIf=\"!isToken\" [address]=\"wallet.receivingPublicAddress\"></airgap-identicon>\n    <airgap-currency-symbol [symbol]=\"wallet.protocol.symbol\" *ngIf=\"isToken\"></airgap-currency-symbol>\n    <airgap-currency-symbol [symbol]=\"wallet.protocol.symbol\" *ngIf=\"!isToken\" class=\"symbol--icon\"></airgap-currency-symbol>\n  </ion-avatar>\n  <ion-label>\n    <h2\n      class=\"font--weight__bold\"\n      [ngClass]=\"{ 'porfolio-item__margin': !isDelegated, 'font-size__regular': numberOfDecimalsInBalance > smallFontDecimalThreshold }\"\n      *ngIf=\"wallet.currentBalance && wallet.currentMarketPrice; else syncingHeading\"\n    >\n      {{ balance }}\n    </h2>\n    <ng-template #syncingHeading>\n      <h2>\n        <ion-skeleton-text animated style=\"width: 80%\"></ion-skeleton-text>\n      </h2>\n    </ng-template>\n    <ng-container *ngIf=\"!isToken\">\n      <ion-text color=\"blackLight\">\n        <h3 *ngIf=\"wallet.addresses.length > 0; else syncingHeadingLow\" class=\"typography--mono\">\n          <ion-badge slot=\"end\" color=\"primary\" *ngIf=\"isActive\">{{ 'portfolio-item.active' | translate }}</ion-badge>\n          {{ wallet.receivingPublicAddress | shortenString }}\n        </h3>\n      </ion-text>\n    </ng-container>\n\n    <ion-badge *ngIf=\"wallet.protocol.options.network.type !== networkType.MAINNET\" color=\"danger\" class=\"badge__margin\">\n      {{ wallet.protocol.options.network.name }}\n    </ion-badge>\n\n    <ion-badge *ngIf=\"(isDelegated | async) !== null && !hideDelegationBadge\" color=\"secondary\">\n      {{ (isDelegated | async) ? 'delegated' : 'undelegated' }}\n    </ion-badge>\n\n    <ng-template #syncingHeadingLow>\n      <div>\n        <h3>\n          <ion-skeleton-text animated style=\"width: 60%\"></ion-skeleton-text>\n        </h3>\n      </div>\n    </ng-template>\n  </ion-label>\n\n  <div slot=\"end\" *ngIf=\"!isExpendable && !hideFiatAmounts\">\n    <ng-container *ngIf=\"wallet.currentBalance && wallet.currentMarketPrice; else syncingBalance\">\n      <p class=\"ion-text-right font--weight__bold porfolio-item__margin\" *ngIf=\"wallet.currentMarketPrice.toNumber() > 0\">\n        ${{ wallet.currentBalance | cryptoToFiat: { protocolIdentifier: wallet.protocol.identifier, currentMarketPrice:\n        wallet.currentMarketPrice } | async | number: '1.2-2' }}\n      </p>\n    </ng-container>\n    <ng-template #syncingBalance>\n      <p>\n        <ion-skeleton-text animated style=\"width: 40px\"></ion-skeleton-text>\n      </p>\n    </ng-template>\n    <p *ngIf=\"wallet.currentBalance; else syncingPrice\">\n      <ion-text color=\"blackLight\">\n        <span *ngIf=\"wallet.currentBalance?.toNumber() > 0 && wallet.currentMarketPrice?.toNumber() > 0\">\n          ${{ wallet.currentMarketPrice?.toNumber() | number: '1.2-4' }}\n        </span>\n      </ion-text>\n    </p>\n    <ng-template #syncingPrice>\n      <p>\n        <ion-skeleton-text animated style=\"width: 40px\"></ion-skeleton-text>\n      </p>\n    </ng-template>\n  </div>\n  <ion-icon\n    slot=\"end\"\n    *ngIf=\"isExpendable\"\n    class=\"expendable__container\"\n    [ngClass]=\"{ 'icon--rotated': isExtended }\"\n    name=\"chevron-down-outline\"\n  ></ion-icon>\n</ion-item>\n\n<ng-template #skeletonWallet>\n  <ion-item lines=\"none\">\n    <ion-avatar slot=\"start\">\n      <ion-skeleton-text animated></ion-skeleton-text>\n      <div class=\"symbol--icon\">\n        <ion-skeleton-text animated></ion-skeleton-text>\n      </div>\n    </ion-avatar>\n    <ion-label>\n      <h2>\n        <ion-skeleton-text animated style=\"width: 80%\"></ion-skeleton-text>\n      </h2>\n      <h3 *ngIf=\"!isToken\">\n        <ion-skeleton-text animated style=\"width: 50%\"></ion-skeleton-text>\n      </h3>\n    </ion-label>\n    <div slot=\"end\">\n      <p>\n        <ion-skeleton-text animated style=\"width: 40px\"></ion-skeleton-text>\n      </p>\n      <p>\n        <ion-skeleton-text animated style=\"width: 40px\"></ion-skeleton-text>\n      </p>\n    </div>\n  </ion-item>\n</ng-template>\n","import { Component, Input, Output, EventEmitter } from '@angular/core'\nimport { IAirGapTransaction, RawEthereumTransaction } from '@airgap/coinlib-core'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\nimport BigNumber from 'bignumber.js'\n\n@Component({\n  selector: 'walletconnect-from-to',\n  templateUrl: './walletconnect-from-to.component.html',\n  styleUrls: ['./walletconnect-from-to.component.scss']\n})\nexport class WalletconnectFromToComponent {\n  public formGroup: FormGroup | undefined\n\n  @Input()\n  public airGapTransaction: IAirGapTransaction | undefined\n\n  @Input()\n  public rawTransaction: RawEthereumTransaction | undefined\n\n  @Output()\n  public readonly onRawTransactionUpdate: EventEmitter<RawEthereumTransaction> = new EventEmitter<RawEthereumTransaction>()\n\n  constructor(private readonly formBuilder: FormBuilder) {}\n\n  public advanced: boolean = false\n\n  public async initForms() {\n    const gasLimitValue = this.hexToDecimal(this.rawTransaction.gasLimit)\n    const gasPriceValue = new BigNumber(this.hexToDecimal(this.rawTransaction.gasPrice)).shiftedBy(-9).toNumber()\n\n    const gasPriceControl = this.formBuilder.control(gasPriceValue, [Validators.required, Validators.min(0)])\n    const gasLimitControl = this.formBuilder.control(gasLimitValue, [Validators.required, Validators.min(0)])\n\n    this.formGroup = this.formBuilder.group({\n      gasPrice: gasPriceControl,\n      gasLimit: gasLimitControl\n    })\n  }\n\n  private hexToDecimal(hex: string): number {\n    return parseInt(hex, 16)\n  }\n  private decimalToHex(decimal: number): string {\n    return `0x${decimal.toString(16)}`\n  }\n\n  public async updateRawTransaction() {\n    const gasPriceValue = this.decimalToHex(new BigNumber(this.formGroup.controls.gasPrice.value).shiftedBy(9).toNumber())\n\n    this.rawTransaction = {\n      ...this.rawTransaction,\n      gasPrice: gasPriceValue,\n      gasLimit: this.decimalToHex(this.formGroup.controls.gasLimit.value)\n    }\n    this.onRawTransactionUpdate.emit(this.rawTransaction)\n    this.advanced = false\n  }\n}\n","<ng-container>\n  <airgap-from-to [transaction]=\"airGapTransaction\"></airgap-from-to>\n</ng-container>\n<ng-container *ngIf=\"rawTransaction !== undefined\">\n  <ion-row class=\"rawdata--container ion-padding-bottom ion-margin-bottom\">\n    <ion-col class=\"ion-no-padding\">\n      <ion-item class=\"ion-no-padding\" lines=\"none\">\n        <ion-label>Change Fees</ion-label>\n        <ion-toggle [(ngModel)]=\"advanced\" slot=\"end\" (ngModelChange)=\"initForms()\"></ion-toggle>\n      </ion-item>\n\n      <ng-container *ngIf=\"advanced && formGroup !== undefined\">\n        <form [formGroup]=\"formGroup\" class=\"ion-padding-bottom\">\n          <ion-row class=\"padding-top\">\n            <ion-col size=\"6\">\n              <ion-item mode=\"md\" color=\"light\">\n                <ion-label class=\"ion-no-margin\" position=\"stacked\">Gas Price</ion-label>\n                <ion-input type=\"text\" formControlName=\"gasPrice\" id=\"gasPrice\"></ion-input>\n              </ion-item>\n            </ion-col>\n            <ion-col size=\"6\">\n              <ion-item mode=\"md\" color=\"light\">\n                <ion-label class=\"ion-no-margin\" position=\"stacked\">Gas Limit</ion-label>\n                <ion-input type=\"text\" formControlName=\"gasLimit\" id=\"gasLimit\"></ion-input>\n              </ion-item>\n            </ion-col>\n          </ion-row>\n        </form>\n\n        <ion-button color=\"primary\" (click)=\"updateRawTransaction()\" [disabled]=\"formGroup.invalid\">Update</ion-button>\n      </ng-container>\n    </ion-col>\n  </ion-row>\n</ng-container>\n","// tslint:disable: max-classes-per-file\nimport { ProtocolService } from '@airgap/angular-core'\nimport {\n  AirGapMarketWallet,\n  FeeDefaults,\n  ICoinProtocol,\n  isProtocolSymbol,\n  MainProtocolSymbols,\n  ProtocolSymbols,\n  RawTezosTransaction,\n  SubProtocolSymbols,\n  TezosAddress,\n  TezosProtocol,\n  TezosWrappedOperation\n} from '@airgap/coinlib-core'\nimport { AirGapTransactionStatus, IAirGapTransaction } from '@airgap/coinlib-core/interfaces/IAirGapTransaction'\nimport { TezosOperation } from '@airgap/coinlib-core/protocols/tezos/types/operations/TezosOperation'\nimport { TezosTransactionOperation, TezosTransactionParameters } from '@airgap/coinlib-core/protocols/tezos/types/operations/Transaction'\nimport { TezosOperationType } from '@airgap/coinlib-core/protocols/tezos/types/TezosOperationType'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\nimport { Schema } from '@taquito/michelson-encoder'\nimport { Contract, TezosToolkit, TransferParams } from '@taquito/taquito'\nimport BigNumber from 'bignumber.js'\n\nimport { UIOptionButtonGroup } from '../../models/widgets/input/UIOptionButtonGroup'\nimport { UIWidget } from '../../models/widgets/UIWidget'\n\nimport { Exchange, ExchangeIdentifier, ExchangeTransaction, ExchangeTransactionStatusResponse, ExchangeUI } from './exchange.interface'\n\ninterface DexStorage {\n  storage: {\n    tez_pool: number\n    token_pool: number\n\n    token_address: string\n    token_id: number\n  }\n}\n\ntype PartialTransactionOperation = TezosOperation & Partial<TezosTransactionOperation>\n\ninterface QuipuswapTransaction {\n  details: IAirGapTransaction[]\n  unsigned: RawTezosTransaction\n}\n\ninterface QuipuswapSlippageTolerance {\n  low: number\n  medium: number\n  high: number\n}\n\nclass QuipuswapTransactionStatusResponse implements ExchangeTransactionStatusResponse {\n  constructor(public readonly status: string) {}\n\n  public isPending(): boolean {\n    switch (this.status) {\n      case 'applied':\n      case 'failed':\n        return false\n      default:\n        return true\n    }\n  }\n}\n\nconst NODE_URL: string = 'https://tezos-node.prod.gke.papers.tech'\n\nconst XTZ_QUIPU_IDENTIFIER: string = 'tez'\n\nconst QUIPUSWAP_FEE: number = 0.003 // 0.3%\n\nenum ControlId {\n  SLIPPAGE_TOLERANCE = 'slippageTolerance',\n  SLIPPAGE_TOLERANCE_CONTROL = 'slippageToleranceControl'\n}\n\nconst DEX_CONTRACTS = {\n  // [SubProtocolSymbols.XTZ_BTC]: 'KT1WBLrLE2vG8SedBqiSJFm4VVAZZBytJYHc',\n  [SubProtocolSymbols.XTZ_ETHTZ]: 'KT1Evsp2yA19Whm24khvFPcwimK6UaAJu8Zo',\n  [SubProtocolSymbols.XTZ_KUSD]: 'KT1K4EwTpbvYN9agJdjpyJm4ZZdhpUNKB3F6',\n  [SubProtocolSymbols.XTZ_STKR]: 'KT1BMEEPX7MWzwwadW3NCSZe9XGmFJ7rs7Dr',\n  [SubProtocolSymbols.XTZ_USD]: 'KT1WxgZ1ZSfMgmsSDDcUn8Xn577HwnQ7e1Lb',\n  [SubProtocolSymbols.XTZ_UUSD]: 'KT1EtjRRCBC2exyCRXz8UfV7jz7svnkqi7di',\n  [SubProtocolSymbols.XTZ_YOU]: 'KT1PL1YciLdwMbydt21Ax85iZXXyGSrKT2BE'\n}\n\nconst FA1p2_ENTRYPOINTS = {\n  approve: 'approve'\n}\n\nconst FA2_ENTRYPOINTS = {\n  updateOperators: 'update_operators'\n}\n\nconst DEX_ENTRYPOINTS = {\n  tezToTokenPayment: 'tezToTokenPayment',\n  tokenToTezPayment: 'tokenToTezPayment'\n}\n\nexport class QuipuswapExchange implements Exchange {\n  private readonly identifierExchangeToAirGapMap: Map<ExchangeIdentifier, ProtocolSymbols> = new Map<ExchangeIdentifier, ProtocolSymbols>()\n  private readonly identifierAirGapToExchangeMap: Map<ProtocolSymbols, ExchangeIdentifier> = new Map<ProtocolSymbols, ExchangeIdentifier>()\n\n  private readonly dexContracts: Map<ProtocolSymbols, Contract> = new Map<ProtocolSymbols, Contract>()\n\n  private readonly supportedTokens: ProtocolSymbols[] = Object.keys(DEX_CONTRACTS) as ProtocolSymbols[]\n  private get supportedCurrencies(): ProtocolSymbols[] {\n    return [MainProtocolSymbols.XTZ, ...this.supportedTokens]\n  }\n\n  private readonly tezos: TezosToolkit = new TezosToolkit(NODE_URL)\n\n  private readonly slippageTolerance: QuipuswapSlippageTolerance = {\n    low: 0.005, // 0.5%\n    medium: 0.01, // 1%\n    high: 0.03 // 3%\n  }\n\n  constructor(private readonly protocolService: ProtocolService, private readonly formBuilder: FormBuilder) {\n    this.initIdentifierMappings(this.supportedTokens)\n  }\n\n  private initIdentifierMappings(protocolIdentifiers: ProtocolSymbols[]): void {\n    protocolIdentifiers.forEach((identifier: ProtocolSymbols) => {\n      this.initIdentifierMapping(identifier)\n    })\n  }\n\n  private initIdentifierMapping(protocolIdentifier: ProtocolSymbols): void {\n    let exchangeIdentifier: string | undefined\n    switch (protocolIdentifier) {\n      case MainProtocolSymbols.XTZ:\n        exchangeIdentifier = XTZ_QUIPU_IDENTIFIER\n        break\n      default:\n        exchangeIdentifier = DEX_CONTRACTS[protocolIdentifier]\n    }\n\n    if (exchangeIdentifier !== undefined) {\n      this.identifierExchangeToAirGapMap.set(exchangeIdentifier, protocolIdentifier)\n      this.identifierAirGapToExchangeMap.set(protocolIdentifier, exchangeIdentifier)\n    }\n  }\n\n  public async getAvailableFromCurrencies(): Promise<ProtocolSymbols[]> {\n    return this.supportedCurrencies\n  }\n\n  public async getAvailableToCurrenciesForCurrency(selectedFrom: string): Promise<ProtocolSymbols[]> {\n    const identifier: ProtocolSymbols | undefined = this.getAirGapIdentifier(selectedFrom)\n    if (identifier === undefined) {\n      return []\n    }\n\n    if (identifier === MainProtocolSymbols.XTZ) {\n      return this.supportedTokens\n    } else if (this.isTokenSupported(identifier)) {\n      return [MainProtocolSymbols.XTZ]\n    } else {\n      return []\n    }\n  }\n\n  public async getMinAmountForCurrency(fromCurrency: string, _toCurrency: string): Promise<string> {\n    const fromProtocol: ICoinProtocol | undefined = await this.getProtocol(fromCurrency)\n    if (fromProtocol === undefined) {\n      return '0'\n    }\n\n    return new BigNumber(1).shiftedBy(-fromProtocol.decimals).toFixed()\n  }\n\n  public async getMaxExchangeAmountForCurrency(fromCurrency: string, toCurrency: string): Promise<string | undefined> {\n    const [fromProtocol, toProtocol]: [ICoinProtocol | undefined, ICoinProtocol | undefined] = await Promise.all([\n      this.getProtocol(fromCurrency),\n      this.getProtocol(toCurrency)\n    ])\n\n    if (fromProtocol === undefined || toProtocol === undefined) {\n      return undefined\n    }\n\n    let maxAmount: BigNumber | undefined\n    if (toProtocol.identifier === MainProtocolSymbols.XTZ) {\n      maxAmount = await this.getMaxTezAmount(fromProtocol.identifier)\n    } else if (this.isTokenSupported(toProtocol.identifier)) {\n      maxAmount = await this.getMaxTokenAmount(toProtocol.identifier)\n    }\n\n    return maxAmount.shiftedBy(-toProtocol.decimals).toFixed()\n  }\n\n  public async getExchangeAmount(fromCurrency: string, toCurrency: string, amount: string, data: any): Promise<string> {\n    const [fromProtocol, toProtocol]: [ICoinProtocol | undefined, ICoinProtocol | undefined] = await Promise.all([\n      this.getProtocol(fromCurrency),\n      this.getProtocol(toCurrency)\n    ])\n\n    if (fromProtocol === undefined || toProtocol === undefined) {\n      return undefined\n    }\n\n    const shiftedAmount: BigNumber = new BigNumber(amount).shiftedBy(fromProtocol.decimals)\n    const slippageTolerance: BigNumber = this.getSlippageToleranceFromFormData(data)\n\n    let minAmount: BigNumber = new BigNumber(0)\n    if (fromProtocol.identifier === MainProtocolSymbols.XTZ) {\n      minAmount = await this.getMinTezToTokenExchangeAmount(toProtocol.identifier, shiftedAmount, slippageTolerance)\n    } else if (this.isTokenSupported(fromProtocol.identifier)) {\n      minAmount = await this.getMinTokenToTezExchangeAmount(fromProtocol.identifier, shiftedAmount, slippageTolerance)\n    }\n\n    return minAmount.shiftedBy(-toProtocol.decimals).toFixed()\n  }\n\n  private async getMinTezToTokenExchangeAmount(\n    token: ProtocolSymbols,\n    mutezAmount: BigNumber,\n    slippageTolerance: BigNumber\n  ): Promise<BigNumber> {\n    return this.getMinExchangeAmount(token, mutezAmount, slippageTolerance, { in: 'tez_pool', out: 'token_pool' })\n  }\n\n  private async getMinTokenToTezExchangeAmount(\n    token: ProtocolSymbols,\n    tokenAmount: BigNumber,\n    slippageTolerance: BigNumber\n  ): Promise<BigNumber> {\n    return this.getMinExchangeAmount(token, tokenAmount, slippageTolerance, { in: 'token_pool', out: 'tez_pool' })\n  }\n\n  private async getMinExchangeAmount(\n    token: ProtocolSymbols,\n    amount: BigNumber,\n    slippageTolerance: BigNumber,\n    pools: { in: 'tez_pool'; out: 'token_pool' } | { in: 'token_pool'; out: 'tez_pool' }\n  ): Promise<BigNumber> {\n    const storage: DexStorage | undefined = await this.getDexStorage(token)\n    if (storage === undefined) {\n      return new BigNumber(0)\n    }\n\n    const currentInPool: BigNumber = new BigNumber(storage.storage[pools.in])\n    const currentOutPool: BigNumber = new BigNumber(storage.storage[pools.out])\n\n    const constantProduct: BigNumber = currentInPool.multipliedBy(currentOutPool)\n    const expectedInPool: BigNumber = currentInPool.plus(amount.multipliedBy(1 - QUIPUSWAP_FEE))\n    const expectedOutPool: BigNumber = constantProduct.dividedBy(expectedInPool)\n\n    return currentOutPool.minus(expectedOutPool).multipliedBy(slippageTolerance.minus(1).abs()).integerValue(BigNumber.ROUND_DOWN)\n  }\n\n  public async validateAddress(_currency: string, _address: string): Promise<{ result: false; message: string }> {\n    return { result: false, message: '' }\n  }\n\n  public async estimateFee(\n    fromWallet: AirGapMarketWallet,\n    toWallet: AirGapMarketWallet,\n    amount: string,\n    data: any\n  ): Promise<FeeDefaults | undefined> {\n    const shiftedAmount: BigNumber = new BigNumber(amount).shiftedBy(fromWallet.protocol.decimals)\n    const slippageTolerance: BigNumber = this.getSlippageToleranceFromFormData(data)\n\n    let feeDefaults: FeeDefaults\n    if (fromWallet.protocol.identifier === MainProtocolSymbols.XTZ) {\n      feeDefaults = await this.estimateTezToTokenTransactionFee(\n        fromWallet.publicKey,\n        toWallet.protocol.identifier,\n        shiftedAmount,\n        slippageTolerance\n      )\n    } else if (this.supportedTokens.includes(fromWallet.protocol.identifier)) {\n      feeDefaults = await this.estimateTokenToTezTransactionFee(\n        fromWallet.publicKey,\n        fromWallet.protocol.identifier,\n        shiftedAmount,\n        slippageTolerance\n      )\n    }\n\n    if (feeDefaults === undefined) {\n      throw new Error(`Currency ${fromWallet.protocol.identifier} is not supported.`)\n    }\n\n    return feeDefaults\n  }\n\n  private async estimateTezToTokenTransactionFee(\n    publicKey: string,\n    token: ProtocolSymbols,\n    mutezAmount: BigNumber,\n    slippageTolerance: BigNumber\n  ): Promise<FeeDefaults> {\n    const tezosProtocol: TezosProtocol = await this.getTezosProtocol()\n\n    const minTokenAmount: BigNumber = await this.getMinTezToTokenExchangeAmount(token, mutezAmount, slippageTolerance)\n    const address: TezosAddress = await tezosProtocol.getAddressFromPublicKey(publicKey)\n\n    const operations: TezosOperation[] = await this.prepareTezToTokenOperations(\n      address.getValue(),\n      address.getValue(),\n      token,\n      mutezAmount,\n      minTokenAmount\n    )\n\n    return tezosProtocol.estimateFeeDefaultsForOperations(publicKey, operations)\n  }\n\n  private async estimateTokenToTezTransactionFee(\n    publicKey: string,\n    token: ProtocolSymbols,\n    tokenAmount: BigNumber,\n    slippageTolerance: BigNumber\n  ): Promise<FeeDefaults> {\n    const tezosProtocol: TezosProtocol = await this.getTezosProtocol()\n\n    const minTezAmount: BigNumber = await this.getMinTokenToTezExchangeAmount(token, tokenAmount, slippageTolerance)\n    const address: TezosAddress = await tezosProtocol.getAddressFromPublicKey(publicKey)\n\n    const operations: TezosOperation[] = await this.prepareTokenToTezOperations(\n      address.getValue(),\n      address.getValue(),\n      token,\n      tokenAmount,\n      minTezAmount\n    )\n\n    return tezosProtocol.estimateFeeDefaultsForOperations(publicKey, operations)\n  }\n\n  public async createTransaction(\n    fromWallet: AirGapMarketWallet,\n    toWallet: AirGapMarketWallet,\n    amount: string,\n    fee: string,\n    data: any\n  ): Promise<ExchangeTransaction> {\n    const shiftedAmount: BigNumber = new BigNumber(amount).shiftedBy(fromWallet.protocol.decimals)\n    const shiftedFee: BigNumber = new BigNumber(fee).shiftedBy(fromWallet.protocol.feeDecimals)\n    const slippageTolerance: BigNumber = this.getSlippageToleranceFromFormData(data)\n    const recipient: string = toWallet.receivingPublicAddress\n\n    let minAmount: BigNumber = new BigNumber(0)\n    let tokenProtocol: ICoinProtocol | undefined\n    let transaction: QuipuswapTransaction | undefined\n    if (fromWallet.protocol.identifier === MainProtocolSymbols.XTZ) {\n      tokenProtocol = toWallet.protocol\n      minAmount = await this.getMinTezToTokenExchangeAmount(tokenProtocol.identifier, shiftedAmount, slippageTolerance)\n      transaction = await this.createTezToTokenTransaction(\n        fromWallet.publicKey,\n        tokenProtocol,\n        recipient,\n        shiftedAmount,\n        minAmount,\n        shiftedFee\n      )\n    } else if (this.supportedTokens.includes(fromWallet.protocol.identifier)) {\n      tokenProtocol = fromWallet.protocol\n      minAmount = await this.getMinTokenToTezExchangeAmount(tokenProtocol.identifier, shiftedAmount, slippageTolerance)\n      transaction = await this.createTokenToTezTransaction(\n        fromWallet.publicKey,\n        tokenProtocol,\n        recipient,\n        shiftedAmount,\n        minAmount,\n        shiftedFee\n      )\n    }\n\n    if (transaction === undefined) {\n      throw new Error(`Currency ${fromWallet.protocol.identifier} is not supported.`)\n    }\n\n    return {\n      payoutAddress: fromWallet.addresses[0],\n      payinAddress: DEX_CONTRACTS[tokenProtocol.identifier],\n      amountExpectedFrom: amount,\n      amountExpectedTo: minAmount.shiftedBy(-toWallet.protocol.decimals).toFixed(),\n      fee,\n      transaction: {\n        details: transaction.details,\n        unsigned: {\n          publicKey: fromWallet.publicKey,\n          transaction: transaction.unsigned\n        }\n      }\n    }\n  }\n\n  private async createTezToTokenTransaction(\n    publicKey: string,\n    tokenProtocol: ICoinProtocol,\n    recipient: string,\n    mutezAmount: BigNumber,\n    minTokenAmount: BigNumber,\n    fee?: BigNumber\n  ): Promise<QuipuswapTransaction> {\n    const tezosProtocol: TezosProtocol = await this.getTezosProtocol()\n\n    const address: TezosAddress = await tezosProtocol.getAddressFromPublicKey(publicKey)\n    const operations: TezosOperation[] = await this.prepareTezToTokenOperations(\n      address.getValue(),\n      recipient,\n      tokenProtocol.identifier,\n      mutezAmount,\n      minTokenAmount,\n      fee\n    )\n    const wrappedOperations: TezosWrappedOperation = await tezosProtocol.prepareOperations(publicKey, operations, false)\n    const transaction: RawTezosTransaction = await tezosProtocol.forgeAndWrapOperations(wrappedOperations)\n    const details: IAirGapTransaction[] = await tokenProtocol.getTransactionDetails({ publicKey, transaction })\n\n    return { details, unsigned: transaction }\n  }\n\n  private async prepareTezToTokenOperations(\n    sourceAddress: string,\n    destinationAddress: string,\n    token: ProtocolSymbols,\n    mutezAmount: BigNumber,\n    minTokenAmount: BigNumber,\n    fee?: BigNumber\n  ): Promise<TezosOperation[]> {\n    const contract: Contract | undefined = await this.getDexContract(token)\n    if (contract === undefined) {\n      throw new Error('Could not create an exchange transaction.')\n    }\n\n    const payment: TransferParams = contract.methods[DEX_ENTRYPOINTS.tezToTokenPayment](\n      minTokenAmount.toNumber(),\n      destinationAddress\n    ).toTransferParams({ source: sourceAddress, amount: mutezAmount.toNumber(), mutez: true, fee: fee?.toNumber() })\n\n    const paymentOperation: PartialTransactionOperation = this.prepareTransactionOperation(payment)\n\n    return [paymentOperation]\n  }\n\n  private async createTokenToTezTransaction(\n    publicKey: string,\n    tokenProtocol: ICoinProtocol,\n    recipient: string,\n    tokenAmount: BigNumber,\n    minTezAmount: BigNumber,\n    fee?: BigNumber\n  ): Promise<QuipuswapTransaction> {\n    const tezosProtocol: TezosProtocol = await this.getTezosProtocol()\n\n    const address: TezosAddress = await tezosProtocol.getAddressFromPublicKey(publicKey)\n    const operations: TezosOperation[] = await this.prepareTokenToTezOperations(\n      address.getValue(),\n      recipient,\n      tokenProtocol.identifier,\n      tokenAmount,\n      minTezAmount,\n      fee\n    )\n    const wrappedOperations: TezosWrappedOperation = await tezosProtocol.prepareOperations(publicKey, operations, false)\n    const transaction: RawTezosTransaction = await tezosProtocol.forgeAndWrapOperations(wrappedOperations)\n    const baseDetails: IAirGapTransaction[] = await tokenProtocol.getTransactionDetails({ publicKey, transaction })\n    const extendedDetails: IAirGapTransaction[] = await this.getExtendedTokenTransactionDetails(tokenProtocol, baseDetails)\n\n    return {\n      details: extendedDetails,\n      unsigned: transaction\n    }\n  }\n\n  private async prepareTokenToTezOperations(\n    sourceAddress: string,\n    destinationAddress: string,\n    token: ProtocolSymbols,\n    tokenAmount: BigNumber,\n    minTezAmount: BigNumber,\n    fee?: BigNumber\n  ): Promise<TezosOperation[]> {\n    const dexContract: Contract | undefined = await this.getDexContract(token)\n    if (dexContract === undefined) {\n      throw new Error('Could not create an exchange transaction.')\n    }\n\n    const storage: DexStorage = await this.getDexStorage(dexContract)\n\n    const tokenAddress: string = storage.storage.token_address\n    const tokenContract: Contract = await this.getContract(tokenAddress)\n\n    if (this.isFA1p2(tokenContract)) {\n      return this.prepareFA1p2TokenToTezOperations(\n        dexContract,\n        tokenContract,\n        sourceAddress,\n        destinationAddress,\n        tokenAmount,\n        minTezAmount,\n        fee\n      )\n    } else if (this.isFA2(tokenContract)) {\n      return this.prepareFA2TokenToTezOperations(\n        dexContract,\n        tokenContract,\n        sourceAddress,\n        destinationAddress,\n        tokenAmount,\n        minTezAmount,\n        fee\n      )\n    } else {\n      throw new Error('Unsupported contract type.')\n    }\n  }\n\n  private async prepareFA1p2TokenToTezOperations(\n    dexContract: Contract,\n    tokenContract: Contract,\n    sourceAddress: string,\n    destinationAddress: string,\n    tokenAmount: BigNumber,\n    minTezAmount: BigNumber,\n    fee?: BigNumber\n  ): Promise<TezosOperation[]> {\n    const approve: TransferParams = tokenContract.methods[FA1p2_ENTRYPOINTS.approve](\n      dexContract.address,\n      tokenAmount.toNumber()\n    ).toTransferParams({ source: sourceAddress, fee: fee?.toNumber() })\n\n    const payment: TransferParams = dexContract.methods[DEX_ENTRYPOINTS.tokenToTezPayment](\n      tokenAmount.toFixed(),\n      minTezAmount.toFixed(),\n      destinationAddress\n    ).toTransferParams({ source: sourceAddress })\n\n    const approveOperation: PartialTransactionOperation = this.prepareTransactionOperation(approve)\n    const paymentOperation: PartialTransactionOperation = this.prepareTransactionOperation(payment)\n\n    return [approveOperation, paymentOperation]\n  }\n\n  private async prepareFA2TokenToTezOperations(\n    dexContract: Contract,\n    tokenContract: Contract,\n    sourceAddress: string,\n    destinationAddress: string,\n    tokenAmount: BigNumber,\n    minTezAmount: BigNumber,\n    fee?: BigNumber\n  ): Promise<TezosOperation[]> {\n    const storage: DexStorage = await this.getDexStorage(dexContract)\n    const tokenId: number = storage.storage.token_id\n\n    const addOperator: TransferParams = tokenContract.methods[FA2_ENTRYPOINTS.updateOperators]([\n      {\n        add_operator: {\n          owner: sourceAddress,\n          operator: dexContract.address,\n          token_id: tokenId\n        }\n      }\n    ]).toTransferParams({ source: sourceAddress, fee: fee?.toNumber() })\n\n    const payment: TransferParams = dexContract.methods[DEX_ENTRYPOINTS.tokenToTezPayment](\n      tokenAmount.toFixed(),\n      minTezAmount.toFixed(),\n      destinationAddress\n    ).toTransferParams({ source: sourceAddress })\n\n    const removeOperator: TransferParams = tokenContract.methods[FA2_ENTRYPOINTS.updateOperators]([\n      {\n        remove_operator: {\n          owner: sourceAddress,\n          operator: dexContract.address,\n          token_id: tokenId\n        }\n      }\n    ]).toTransferParams({ source: sourceAddress })\n\n    const addOperatorOperation: PartialTransactionOperation = this.prepareTransactionOperation(addOperator)\n    const paymentOperation: PartialTransactionOperation = this.prepareTransactionOperation(payment)\n    const removeOperatorOperation: PartialTransactionOperation = this.prepareTransactionOperation(removeOperator)\n\n    return [addOperatorOperation, paymentOperation, removeOperatorOperation]\n  }\n\n  private async getExtendedTokenTransactionDetails(\n    tokenProtocol: ICoinProtocol,\n    baseDetails: IAirGapTransaction[]\n  ): Promise<IAirGapTransaction[]> {\n    return Promise.all(\n      baseDetails.map(async (details: IAirGapTransaction) => {\n        const parameters: TezosTransactionParameters | undefined = details.extra?.parameters\n\n        let extendedDetails: Partial<IAirGapTransaction> = {}\n        if (parameters?.entrypoint === DEX_ENTRYPOINTS.tokenToTezPayment) {\n          extendedDetails = await this.getDetailsFromTokenToTezPayment(tokenProtocol, parameters)\n        }\n\n        return Object.assign(details, extendedDetails)\n      })\n    )\n  }\n\n  private async getDetailsFromTokenToTezPayment(\n    tokenProtocol: ICoinProtocol,\n    parameters: TezosTransactionParameters\n  ): Promise<Partial<IAirGapTransaction>> {\n    const contract: Contract = await this.getDexContract(tokenProtocol.identifier)\n    if (contract === undefined) {\n      return {}\n    }\n\n    const schema: Schema = new Schema(contract.entrypoints.entrypoints[parameters.entrypoint])\n    const data: { amount?: number; min_out?: number; receiver?: string } = schema.Execute(parameters.value)\n\n    if (data.amount === undefined) {\n      return {}\n    }\n\n    return {\n      amount: data.amount.toString()\n    }\n  }\n\n  public async getStatus(transactionId: string): Promise<ExchangeTransactionStatusResponse> {\n    const tezosProtocol = await this.getTezosProtocol()\n    try {\n      const transactionStatuses: AirGapTransactionStatus[] = await tezosProtocol.getTransactionStatuses([transactionId])\n      const transactionStatus: AirGapTransactionStatus = transactionStatuses[0]\n\n      return new QuipuswapTransactionStatusResponse(transactionStatus)\n    } catch {\n      return new QuipuswapTransactionStatusResponse('not_injected')\n    }\n  }\n\n  public convertExchangeIdentifierToAirGapIdentifier(identifiers: ExchangeIdentifier[]): ProtocolSymbols[] {\n    return identifiers\n      .map((identifier: ExchangeIdentifier) => this.exchangeIdentifierToAirGapIdentifier(identifier))\n      .filter((identifier: ProtocolSymbols | undefined) => identifier !== undefined)\n  }\n\n  private exchangeIdentifierToAirGapIdentifier(identifier: ExchangeIdentifier): ProtocolSymbols | undefined {\n    return this.identifierExchangeToAirGapMap.has(identifier) ? this.identifierExchangeToAirGapMap.get(identifier) : undefined\n  }\n\n  public convertAirGapIdentifierToExchangeIdentifier(identifiers: ProtocolSymbols[]): ExchangeIdentifier[] {\n    return identifiers\n      .map((identifier: ProtocolSymbols) => this.airGapIdentifierToExchangeIdentifier(identifier))\n      .filter((identifier: ExchangeIdentifier | undefined) => identifier !== undefined)\n  }\n\n  private airGapIdentifierToExchangeIdentifier(identifier: ProtocolSymbols): ExchangeIdentifier | undefined {\n    return this.identifierAirGapToExchangeMap.has(identifier) ? this.identifierAirGapToExchangeMap.get(identifier) : undefined\n  }\n\n  public async getCustomUI(): Promise<ExchangeUI> {\n    const defaultSlippageTolerance: keyof QuipuswapSlippageTolerance = 'low'\n    const defaultValue: string = this.slippageTolerance[defaultSlippageTolerance].toString()\n\n    const valueToControlValue = (value: string) => new BigNumber(value).multipliedBy(100).toFixed()\n    const controlValueToValue = (controlValue: string) => new BigNumber(controlValue).dividedBy(100).toFixed()\n\n    const form: FormGroup = this.formBuilder.group({\n      [ControlId.SLIPPAGE_TOLERANCE]: [defaultValue, Validators.required],\n      [ControlId.SLIPPAGE_TOLERANCE_CONTROL]: [valueToControlValue(defaultValue), Validators.required]\n    })\n\n    const widgets: UIWidget[] = [\n      new UIOptionButtonGroup({\n        id: ControlId.SLIPPAGE_TOLERANCE,\n        label: 'exchange-quipuswap.slippage-tolerance.label',\n        defaultSelected: defaultValue,\n        optionButtons: Object.entries(this.slippageTolerance).map(([_, value]: [string, string]) => ({\n          value: value.toString(),\n          label: `${valueToControlValue(value)}%`\n        })),\n        customInput: {\n          id: ControlId.SLIPPAGE_TOLERANCE_CONTROL,\n          type: 'number',\n          suffix: '%',\n          formControl: form.controls[ControlId.SLIPPAGE_TOLERANCE_CONTROL],\n          controlValueToValue\n        },\n        formControl: form.controls[ControlId.SLIPPAGE_TOLERANCE]\n      })\n    ]\n\n    return {\n      form,\n      widgets\n    }\n  }\n\n  private getAirGapIdentifier(identifier: string): ProtocolSymbols | undefined {\n    return isProtocolSymbol(identifier) ? identifier : this.exchangeIdentifierToAirGapIdentifier(identifier)\n  }\n\n  private async getProtocol(currency: string): Promise<ICoinProtocol | undefined> {\n    const identifier: ProtocolSymbols | undefined = this.getAirGapIdentifier(currency)\n\n    return identifier ? this.protocolService.getProtocol(identifier) : undefined\n  }\n\n  private async getTezosProtocol(): Promise<TezosProtocol> {\n    const tezosProtocol: ICoinProtocol | undefined = await this.protocolService.getProtocol(MainProtocolSymbols.XTZ)\n    if (tezosProtocol === undefined) {\n      throw new Error(`${MainProtocolSymbols.XTZ} is not supported.`)\n    }\n\n    return tezosProtocol as TezosProtocol\n  }\n\n  private isTokenSupported(identifier: ProtocolSymbols): boolean {\n    return this.supportedTokens.includes(identifier)\n  }\n\n  private async getContract(address: string): Promise<Contract> {\n    return this.tezos.contract.at(address)\n  }\n\n  private async getDexContract(identifier: ProtocolSymbols): Promise<Contract | undefined> {\n    if (!this.dexContracts.has(identifier)) {\n      const address: string | undefined = DEX_CONTRACTS[identifier]\n      const contract: Contract | undefined = address ? await this.getContract(address) : undefined\n\n      if (contract) {\n        this.dexContracts.set(identifier, contract)\n      }\n    }\n\n    return this.dexContracts.get(identifier)\n  }\n\n  private async getDexStorage(identifier: ProtocolSymbols): Promise<DexStorage | undefined>\n  private async getDexStorage(contract: Contract): Promise<DexStorage>\n  private async getDexStorage(identifierOrContract: ProtocolSymbols | Contract): Promise<DexStorage | undefined> {\n    const contract: Contract | undefined =\n      typeof identifierOrContract === 'string' ? await this.getDexContract(identifierOrContract) : identifierOrContract\n\n    return contract?.storage()\n  }\n\n  private async getMaxTezAmount(identifier: ProtocolSymbols): Promise<BigNumber | undefined> {\n    const storage: DexStorage | undefined = await this.getDexStorage(identifier)\n    if (storage === undefined) {\n      return undefined\n    }\n\n    const tezPool: number = storage.storage.tez_pool\n\n    return new BigNumber(tezPool).dividedBy(3)\n  }\n\n  private async getMaxTokenAmount(identifier: ProtocolSymbols): Promise<BigNumber | undefined> {\n    const storage: DexStorage | undefined = await this.getDexStorage(identifier)\n    if (storage === undefined) {\n      return undefined\n    }\n\n    const tokenPool: number = storage.storage.token_pool\n\n    return new BigNumber(tokenPool).dividedBy(3)\n  }\n\n  private getSlippageToleranceFromFormData(data: any): BigNumber {\n    const fromData = data ?? {}\n\n    return new BigNumber(fromData[ControlId.SLIPPAGE_TOLERANCE] ?? this.slippageTolerance.low)\n  }\n\n  private prepareTransactionOperation(transferParams: TransferParams): PartialTransactionOperation {\n    return {\n      kind: TezosOperationType.TRANSACTION,\n      source: transferParams.source,\n      fee: transferParams.fee?.toString(),\n      amount: transferParams.amount.toString(),\n      destination: transferParams.to,\n      parameters: transferParams.parameter as any\n    }\n  }\n\n  private isFA1p2(contract: Contract): boolean {\n    return typeof contract.methods.approve === 'function'\n  }\n\n  private isFA2(contract: Contract): boolean {\n    return typeof contract.methods.update_operators === 'function'\n  }\n}\n","import { ProtocolService } from '@airgap/angular-core'\nimport { MainProtocolSymbols, TezosShieldedTezProtocol } from '@airgap/coinlib-core'\nimport { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { Platform } from '@ionic/angular'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SaplingService {\n  private isInitialized: boolean = false\n\n  constructor(\n    private readonly protocolService: ProtocolService,\n    private readonly platform: Platform,\n    private readonly httpClient: HttpClient\n  ) {}\n\n  public async initSapling() {\n    if (!this.isInitialized) {\n      const shieldedTezProtocol = (await this.protocolService.getProtocol(MainProtocolSymbols.XTZ_SHIELDED)) as TezosShieldedTezProtocol\n      await shieldedTezProtocol.initParameters(await this.getSaplingParams('spend'), await this.getSaplingParams('output'))\n      this.isInitialized = true\n    }\n  }\n\n  private async getSaplingParams(type: 'spend' | 'output'): Promise<Buffer> {\n    if (this.platform.is('hybrid')) {\n      // Sapling params are read and used in a native plugin, there's no need to read them in the Ionic part\n      return Buffer.alloc(0)\n    }\n\n    const params: ArrayBuffer = await this.httpClient\n      .get(`../../../assets/sapling/sapling-${type}.params`, { responseType: 'arraybuffer' })\n      .toPromise()\n\n    return Buffer.from(params)\n  }\n}\n","import { omit, pickBy } from 'lodash'\nconst WALLETCONNECT = 'walletconnect'\n\ninterface Dictionary<WalletconnectSession> {\n  [Key: string]: WalletconnectSession\n}\n\nexport const getAllValidWalletConnectSessions = async (): Promise<Dictionary<WalletconnectSession>> => {\n  const allSessions = await getAllWalletConnectSessions()\n  const now = Date.now()\n  return pickBy(allSessions, (value) => value.connected && now < value.expirationDate)\n}\n\nexport const getAllWalletConnectSessions = async (): Promise<Dictionary<WalletconnectSession>> => {\n  const local = localStorage ? await localStorage.getItem(WALLETCONNECT) : null\n\n  let sessions = null\n  if (local) {\n    try {\n      sessions = JSON.parse(local)\n    } catch (error) {\n      throw error\n    }\n  }\n\n  return sessions\n}\n\nexport const saveWalletConnectSession = async (peerId, session) => {\n  const allSessions = await getAllValidWalletConnectSessions()\n  const expirationDate = Date.now() + 24 * 60 * 60 * 1000\n  session = { ...session, expirationDate }\n  allSessions[peerId] = session\n  await localStorage.setItem(WALLETCONNECT, JSON.stringify(allSessions))\n}\n\nexport const removeWalletConnectSessions = async (sessionIds) => {\n  const allSessions = await getAllWalletConnectSessions()\n  const resultingSessions = omit(allSessions, sessionIds)\n  await localStorage.setItem(WALLETCONNECT, resultingSessions)\n}\n\nexport type EMPTY = {}\n\nexport const clientMeta = {\n  description: 'AirGapped Transactions',\n  url: 'https://airgap.it',\n  icons: ['https://airgap.it/wp-content/uploads/2018/05/Airgap_Logo_sideways_color.png'],\n  name: 'AirGap'\n}\n\nexport interface ClientMeta {\n  description: string\n  url: string\n  icons: string[]\n  name: string\n}\n\nexport interface PeerMeta {\n  description: string\n  url: string\n  icons: string[]\n  name: string\n}\n\nexport interface WalletconnectSession {\n  connected: boolean\n  accounts: string[]\n  chainId: number\n  bridge: string\n  key: string\n  clientId: string\n  clientMeta: ClientMeta\n  peerId: string\n  peerMeta: PeerMeta\n  handshakeId: number\n  handshakeTopic: string\n}\n\nexport interface WalletConnectRequestApproval {\n  id: number\n  result: string\n}\n","import { UIWidget, UIWidgetConfig } from './UIWidget'\nimport { AbstractControl, ValidatorFn } from '@angular/forms'\nimport { AirGapMarketWallet } from '@airgap/coinlib-core'\n\nexport interface UIInputWidgetConfig extends UIWidgetConfig {\n  id: string\n\n  formControl?: AbstractControl\n  validators?: ValidatorFn | ValidatorFn[]\n\n  onValueChanged?: (value?: any, widget?: any) => void\n}\n\nexport abstract class UIInputWidget<T> extends UIWidget {\n  public readonly id: string\n\n  public formControl?: AbstractControl\n  public validators?: ValidatorFn | ValidatorFn[]\n\n  public value: T\n  public wallet?: AirGapMarketWallet\n\n  protected onValueChangedCallback?: (value: T, widget: UIInputWidget<T>) => void\n\n  constructor(config: UIInputWidgetConfig) {\n    super(config)\n\n    this.validators = config.validators\n    this.setFormControl(config.formControl)\n\n    this.onValueChangedCallback = config.onValueChanged\n  }\n\n  public setFormControl(formControl?: AbstractControl) {\n    if (!formControl) {\n      return\n    }\n\n    this.formControl = formControl\n\n    if (this.validators) {\n      this.formControl.setValidators(this.validators)\n    }\n\n    this.formControl.valueChanges.subscribe((value) => {\n      if (value) {\n        this.value = value\n        this.onValueChanged()\n      }\n    })\n\n    if (this.value !== undefined && this.value !== null) {\n      this.formControl.patchValue(this.value)\n    } else if (this.formControl.value !== null) {\n      this.value = this.formControl.value\n    }\n  }\n\n  protected onValueChanged() {\n    if (this.onValueChangedCallback) {\n      this.onValueChangedCallback(this.value, this)\n    }\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\n\nconst TRANSACTION_BACKEND_URL: string = 'https://tx.airgap.prod.gke.papers.tech/'\n\nexport interface PushAddressRequest {\n  address: string\n  identifier: string\n  pushToken: string\n  languageCode: string\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PushBackendProvider {\n  constructor(private readonly http: HttpClient) {}\n\n  public async registerPushMany(pushRequests: PushAddressRequest[]): Promise<string> {\n    return this.http\n      .post(`${TRANSACTION_BACKEND_URL}api/v1/push_notifications/register/`, pushRequests, { responseType: 'text' })\n      .toPromise()\n  }\n\n  public async unregisterPush(protocolIdentifier: string, address: string, pushToken: string): Promise<string> {\n    const body: object = {\n      address,\n      identifier: protocolIdentifier,\n      pushToken\n    }\n\n    return this.http.post(`${TRANSACTION_BACKEND_URL}api/v1/push_notifications/unregister/`, body, { responseType: 'text' }).toPromise()\n  }\n\n  public async getPendingTxs(address: string, protocolIdentifier: string): Promise<object> {\n    return this.http\n      .get(`${TRANSACTION_BACKEND_URL}api/v1/txs/pending?address=${address}&protocolIdentifier=${protocolIdentifier}`, {\n        headers: { 'Content-Type': 'application/json' }\n      })\n      .toPromise()\n  }\n\n  public async postPendingTx(transaction: object): Promise<string> {\n    return this.http.post(`${TRANSACTION_BACKEND_URL}api/v1/txs/pending`, transaction, { responseType: 'text' }).toPromise()\n  }\n}\n","import { Component } from '@angular/core'\nimport { NavParams, PopoverController } from '@ionic/angular'\nimport { AirGapDelegatorAction } from 'src/app/interfaces/IAirGapCoinDelegateProtocol'\n\n@Component({\n  selector: 'app-delegate-action-popover',\n  templateUrl: './delegate-action-popover.component.html',\n  styleUrls: ['./delegate-action-popover.component.scss']\n})\nexport class DelegateActionPopoverComponent {\n  public readonly hideAirGap: boolean\n  public readonly delegateeLabel: string\n  public readonly secondaryDelegatorActions: AirGapDelegatorAction[]\n\n  constructor(private readonly popoverController: PopoverController, private readonly navParams: NavParams) {\n    const hideAirGap: boolean | undefined = this.navParams.get('hideAirGap')\n    const delegateeLabel: string | undefined = this.navParams.get('delegateeLabel')\n    const secondaryDelegatorActions: AirGapDelegatorAction[] | undefined = this.navParams.get('secondaryDelegatorActions')\n\n    this.hideAirGap = hideAirGap !== undefined ? hideAirGap : true\n    this.delegateeLabel = delegateeLabel !== undefined ? delegateeLabel : 'delegation-detail.default-delegatee-label'\n    this.secondaryDelegatorActions = secondaryDelegatorActions !== undefined ? secondaryDelegatorActions : []\n  }\n\n  public changeDelegateeToAirGap(): void {\n    this.popoverController.dismiss({ changeToAirGap: true })\n  }\n\n  public callSecondaryAction(type: string): void {\n    this.popoverController.dismiss({ secondaryActionType: type })\n  }\n}\n","<ion-list lines=\"none\" no-detail class=\"ion-no-padding ion-no-margin\">\n  <ion-list-header>\n    <ion-label>{{ 'delegate-action-popover.delegation-settings_label' | translate }}</ion-label>\n  </ion-list-header>\n  <ion-item *ngIf=\"!hideAirGap\" button detail=\"false\" (click)=\"changeDelegateeToAirGap()\">\n    <ion-icon name=\"swap-vertical-outline\" color=\"dark\" slot=\"end\"></ion-icon>\n    {{ 'delegate-action-popover.change-to-airgap-delegatee_label' | translate: { delegateeLabel: delegateeLabel | translate } }}\n  </ion-item>\n  <ion-item *ngFor=\"let action of secondaryDelegatorActions || []\" button detail=\"false\" (click)=\"callSecondaryAction(action.type)\">\n    <ion-icon [name]=\"action.iconName || 'send-outline'\" color=\"dark\" slot=\"end\"></ion-icon>\n    {{ action.confirmLabel || action.label | translate }}\n  </ion-item>\n</ion-list>\n","import { RouterModule } from '@angular/router'\nimport { ComponentsModule } from './../../components/components.module'\nimport { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { FormsModule } from '@angular/forms'\n\nimport { IonicModule } from '@ionic/angular'\n\nimport { ExchangeSelectPage } from './exchange-select.page'\nimport { TranslateModule } from '@ngx-translate/core'\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ComponentsModule,\n    TranslateModule,\n    RouterModule.forChild([{ path: '', component: ExchangeSelectPage }])\n  ],\n  declarations: [ExchangeSelectPage],\n  exports: [],\n  entryComponents: [ExchangeSelectPage]\n})\nexport class ExchangeSelectPageModule {}\n","import { APP_INFO_PLUGIN, AppInfoPlugin } from '@airgap/angular-core'\nimport { Inject, Injectable } from '@angular/core'\nimport { PermissionStatus, PushNotificationSchema, PushNotificationsPlugin, Token } from '@capacitor/push-notifications'\nimport { ModalController, Platform, ToastController } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\nimport { AirGapMarketWallet } from '@airgap/coinlib-core'\nimport { ReplaySubject } from 'rxjs'\nimport { take } from 'rxjs/operators'\nimport { PUSH_NOTIFICATIONS_PLUGIN } from 'src/app/capacitor-plugins/injection-tokens'\n\nimport { IntroductionPushPage } from '../../pages/introduction-push/introduction-push'\nimport { ErrorCategory, handleErrorSentry } from '../sentry-error-handler/sentry-error-handler'\nimport { WalletStorageKey, WalletStorageService } from '../storage/storage'\n\nimport { PushBackendProvider } from './../push-backend/push-backend'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PushProvider {\n  private readonly registrationId: ReplaySubject<string> = new ReplaySubject(1)\n  private registerCalled: boolean = false\n\n  constructor(\n    private readonly platform: Platform,\n    private readonly translate: TranslateService,\n    private readonly pushBackendProvider: PushBackendProvider,\n    private readonly storageProvider: WalletStorageService,\n    private readonly modalController: ModalController,\n    private readonly toastController: ToastController,\n    @Inject(APP_INFO_PLUGIN) private readonly appInfoPlugin: AppInfoPlugin,\n    @Inject(PUSH_NOTIFICATIONS_PLUGIN) private readonly pushNotifications: PushNotificationsPlugin\n  ) {\n    this.initPush()\n  }\n\n  public notificationCallback = (_notification: PushNotificationSchema): void => undefined\n\n  public async initPush(): Promise<void> {\n    await this.platform.ready()\n    const isSupported = await this.isSupported()\n\n    if (!isSupported) {\n      return\n    }\n\n    const permissionStatus: PermissionStatus = await this.checkPermissions()\n\n    if (permissionStatus.receive === 'granted') {\n      await this.register()\n    }\n  }\n\n  public async setupPush() {\n    await this.platform.ready()\n    const isSupported = await this.isSupported()\n\n    if (!isSupported) {\n      return\n    }\n\n    if (this.platform.is('android')) {\n      this.register()\n    } else if (this.platform.is('ios')) {\n      // On iOS, show a modal why we need permissions\n      const hasShownPushModal = await this.storageProvider.get(WalletStorageKey.PUSH_INTRODUCTION)\n      if (!hasShownPushModal) {\n        await this.storageProvider.set(WalletStorageKey.PUSH_INTRODUCTION, true)\n        const modal = await this.modalController.create({\n          component: IntroductionPushPage\n        })\n\n        modal.onDidDismiss().then((result) => {\n          if (result.data) {\n            this.register()\n          }\n        })\n\n        modal.present().catch(handleErrorSentry(ErrorCategory.IONIC_MODAL))\n      }\n    }\n  }\n\n  public async registerWallets(wallets: AirGapMarketWallet[]) {\n    this.registrationId.pipe(take(1)).subscribe((registrationId) => {\n      const languageCode: string = this.translate.getBrowserCultureLang()\n\n      const pushRegisterRequests = wallets.map((wallet) => ({\n        address: wallet.receivingPublicAddress,\n        identifier: wallet.protocol.identifier,\n        pushToken: registrationId,\n        languageCode\n      }))\n\n      this.pushBackendProvider.registerPushMany(pushRegisterRequests).catch(handleErrorSentry(ErrorCategory.PUSH))\n      if (!this.registrationId) {\n        console.error('No registration token found')\n\n        return\n      }\n    })\n  }\n\n  public async unregisterWallets(wallets: AirGapMarketWallet[]) {\n    this.registrationId.pipe(take(1)).subscribe((registrationId) => {\n      wallets.forEach((wallet) => {\n        this.unregisterWallet(wallet, registrationId)\n      })\n    })\n  }\n\n  private async unregisterWallet(wallet: AirGapMarketWallet, registrationId: string) {\n    if (!this.registrationId) {\n      console.error('No registration token found')\n\n      return\n    }\n\n    this.pushBackendProvider\n      .unregisterPush(wallet.protocol.identifier, wallet.receivingPublicAddress, registrationId)\n      .catch(handleErrorSentry(ErrorCategory.PUSH))\n  }\n\n  private async register(): Promise<void> {\n    if (this.registerCalled) {\n      return\n    }\n\n    const permissionStatus: PermissionStatus = await this.requestPermissions()\n    if (permissionStatus.receive !== 'granted') {\n      return\n    }\n\n    this.registerCalled = true\n\n    this.pushNotifications.addListener('pushNotificationReceived', (notification: PushNotificationSchema) => {\n      console.debug('Received a notification', notification)\n      this.toastController\n        .create({\n          message: `${notification.title}: ${notification.body}`,\n          buttons: [\n            {\n              text: 'Ok',\n              role: 'cancel'\n            }\n          ],\n          duration: 3000,\n          position: 'top'\n        })\n        .then((toast) => {\n          toast.present().catch(handleErrorSentry(ErrorCategory.IONIC_TOAST))\n        })\n\n      if (this.notificationCallback) {\n        this.notificationCallback(notification)\n      }\n    })\n\n    this.pushNotifications.addListener('registration', (token: Token) => {\n      console.debug('device registered', token)\n      this.registrationId.next(token.value)\n    })\n\n    this.pushNotifications.addListener('registrationError', (error) => {\n      console.error('Error with Push plugin', error)\n      handleErrorSentry(ErrorCategory.PUSH)(error)\n    })\n\n    await this.pushNotifications.register()\n  }\n\n  private async checkPermissions(): Promise<PermissionStatus> {\n    return this.pushNotifications.checkPermissions()\n  }\n\n  private async requestPermissions(): Promise<PermissionStatus> {\n    const permissionStatus: PermissionStatus = await this.checkPermissions()\n    if (permissionStatus.receive === 'granted') {\n      return permissionStatus\n    }\n\n     return this.pushNotifications.requestPermissions()\n\n  }\n\n  private async isSupported(): Promise<boolean> {\n    if (this.platform.is('hybrid')) {\n      const info = await this.appInfoPlugin.get()\n      return this.platform.is('ios') || (this.platform.is('android') && info.productFlavor !== 'fdroid')\n    } else {\n      return false\n    }\n  }\n}\n","import { BehaviorSubject } from 'rxjs'\n\nexport enum UIWidgetType {\n  ACCOUNT = 'account',\n  ACCOUNT_SUMMARY = 'account_summary',\n  ACCOUNT_EXTENDED_DETAILS = 'account_extended_details',\n  ALERT = 'alert',\n  ICON_TEXT = 'icon_text',\n  INPUT_TEXT = 'input_text',\n  REWARD_LIST = 'reward_list',\n  OPTION_BUTTON_GROUP = 'option_button_group'\n}\n\nexport enum WidgetState {\n  UNKNOWN = 0,\n  INIT,\n  CONTENT_INIT,\n  VIEW_INIT\n}\n\nexport interface UIWidgetConfig {\n  id?: string\n  isVisible?: boolean\n}\n\nexport abstract class UIWidget {\n  public abstract readonly type: UIWidgetType\n\n  public readonly id?: string\n  public isVisible: boolean\n\n  protected get state(): WidgetState {\n    const state = this.state$.value\n    return state in WidgetState ? state : WidgetState.UNKNOWN\n  }\n\n  protected set state(value: WidgetState) {\n    this.state$.next(value)\n  }\n\n  protected scheduledActions: Map<WidgetState, Function[]> = new Map()\n\n  private readonly state$: BehaviorSubject<number> = new BehaviorSubject(WidgetState.UNKNOWN)\n\n  constructor(config: UIWidgetConfig) {\n    this.id = config.id\n    this.isVisible = config.isVisible !== undefined ? config.isVisible : true\n\n    this.initObservers()\n  }\n\n  public onInit(): void {\n    this.state = WidgetState.INIT\n  }\n\n  public afterContentInit(): void {\n    this.state = WidgetState.CONTENT_INIT\n  }\n\n  public afterViewInit(): void {\n    this.state = WidgetState.VIEW_INIT\n  }\n\n  public reachedState(state: WidgetState): boolean {\n    return this.state >= state\n  }\n\n  public doAfterReached(state: WidgetState, action: () => void, async: boolean = false) {\n    if (this.reachedState(state)) {\n      !async ? action() : setTimeout(action)\n    } else {\n      const toSchedule = !async\n        ? action\n        : () => {\n            setTimeout(action)\n          }\n      this.scheduleAction(state, toSchedule)\n    }\n  }\n\n  public scheduleAction(state: WidgetState, action: () => void) {\n    const actions = this.scheduledActions.get(state) || []\n    actions.push(action)\n\n    this.scheduledActions.set(state, actions)\n  }\n\n  protected invokeScheduled(state: WidgetState) {\n    if (this.scheduledActions.has(state)) {\n      const actions = this.scheduledActions.get(state)\n      this.scheduledActions.delete(state)\n\n      actions.forEach((action) => action())\n    }\n  }\n\n  private initObservers() {\n    this.state$.subscribe((state) => {\n      this.invokeScheduled(state)\n    })\n  }\n}\n","import { ClipboardService, ProtocolService } from '@airgap/angular-core'\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core'\nimport { AlertController, NavParams, PopoverController } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\nimport { AirGapMarketWallet, ICoinProtocol } from '@airgap/coinlib-core'\nimport { ImportAccoutActionContext } from '@airgap/coinlib-core/actions/GetKtAccountsAction'\nimport { TezosProtocolNetwork } from '@airgap/coinlib-core'\nimport { ProtocolNetwork } from '@airgap/coinlib-core/utils/ProtocolNetwork'\nimport { SubProtocolSymbols } from '@airgap/coinlib-core'\nimport { supportsDelegation } from 'src/app/helpers/delegation'\nimport { ButtonAction } from 'src/app/models/actions/ButtonAction'\nimport { BrowserService } from 'src/app/services/browser/browser.service'\n\nimport { AccountProvider } from '../../services/account/account.provider'\nimport { OperationsProvider } from '../../services/operations/operations'\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\n\n@Component({\n  templateUrl: 'account-edit-popover.component.html',\n  styleUrls: ['./account-edit-popover.component.scss']\n})\nexport class AccountEditPopoverComponent implements OnInit {\n  private readonly wallet: AirGapMarketWallet\n  private readonly onDelete: Function\n\n  // Tezos\n  public importAccountAction: ButtonAction<string[], ImportAccoutActionContext>\n  public isTezosKT: boolean = false\n  public isDelegated: boolean = false\n\n  public networks: ProtocolNetwork[] = []\n\n  constructor(\n    private readonly alertCtrl: AlertController,\n    private readonly navParams: NavParams,\n    private readonly walletsProvider: AccountProvider,\n    private readonly viewCtrl: PopoverController,\n    private readonly clipboardProvider: ClipboardService,\n    private readonly translateService: TranslateService,\n    private readonly operationsProvider: OperationsProvider,\n    private readonly browserService: BrowserService,\n    private readonly cdr: ChangeDetectorRef,\n    private readonly protocolService: ProtocolService\n  ) {\n    this.wallet = this.navParams.get('wallet')\n    this.importAccountAction = this.navParams.get('importAccountAction')\n    this.onDelete = this.navParams.get('onDelete')\n\n    this.initNetworks()\n  }\n\n  public async copyAddressToClipboard(): Promise<void> {\n    await this.clipboardProvider.copyAndShowToast(this.wallet.receivingPublicAddress)\n    await this.dismissPopover()\n  }\n\n  public async openBlockExplorer(): Promise<void> {\n    const protocol: ICoinProtocol = this.wallet.protocol\n\n    const blockexplorer: string = await protocol.getBlockExplorerLinkForAddress(this.wallet.addresses[0])\n\n    await this.browserService.openUrl(blockexplorer)\n  }\n\n  public async ngOnInit(): Promise<void> {\n    // tezos\n    if (this.wallet.protocol.identifier === SubProtocolSymbols.XTZ_KT) {\n      this.isTezosKT = true\n    }\n    if (supportsDelegation(this.wallet.protocol)) {\n      this.isDelegated = await this.operationsProvider.getDelegationStatusOfAddress(\n        this.wallet.protocol,\n        this.wallet.receivingPublicAddress\n      )\n    }\n    // tezos end\n  }\n\n  public async delete(): Promise<void> {\n    const alert: HTMLIonAlertElement = await this.alertCtrl.create({\n      header: this.translateService.instant('account-edit-popover-component.header'),\n      message: this.translateService.instant('account-edit-popover-component.message'),\n      buttons: [\n        {\n          text: this.translateService.instant('account-edit-popover-component.cancel'),\n          role: 'cancel',\n          handler: () => {\n            this.dismissPopover()\n          }\n        },\n        {\n          text: this.translateService.instant('account-edit-popover-component.delete'),\n          handler: () => {\n            this.walletsProvider\n              .removeWallet(this.wallet)\n              .then(() => {\n                this.dismissPopover()\n                if (this.onDelete) {\n                  this.onDelete()\n                } else {\n                  handleErrorSentry(ErrorCategory.OTHER)('onDelete not defined')\n                }\n              })\n              .catch(handleErrorSentry(ErrorCategory.WALLET_PROVIDER))\n          }\n        }\n      ]\n    })\n    alert.present().catch(handleErrorSentry(ErrorCategory.IONIC_ALERT))\n  }\n\n  public async changeNetwork() {\n    const alert = await this.alertCtrl.create({\n      header: 'Network',\n      inputs: this.networks.map((network, index) => ({\n        name: network.name,\n        type: 'radio',\n        label: network.name,\n        value: index,\n        checked: this.wallet.protocol.options.network.identifier === network.identifier\n      })),\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            console.log('Confirm Cancel')\n          }\n        },\n        {\n          text: 'Ok',\n          handler: async (data) => {\n            await this.walletsProvider.setWalletNetwork(this.wallet, this.networks[data] as TezosProtocolNetwork)\n            this.cdr.detectChanges()\n            await this.dismissPopover()\n          }\n        }\n      ]\n    })\n\n    await alert.present()\n  }\n\n  public dismissPopover(): Promise<boolean | void> {\n    return this.viewCtrl.dismiss().catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n\n  private async initNetworks(): Promise<void> {\n    // if (this.wallet.protocol.identifier === MainProtocolSymbols.XTZ) {\n      this.networks = await this.protocolService.getNetworksForProtocol(this.wallet.protocol.identifier)\n    // }\n  }\n}\n","<ion-list lines=\"none\" no-detail class=\"ion-no-padding ion-no-margin\">\n  <ion-list-header>\n    <ion-label>{{ 'wallet-edit-popover-component.settings_label' | translate }}</ion-label>\n  </ion-list-header>\n  <ion-item button detail=\"false\" (click)=\"copyAddressToClipboard()\">\n    <ion-icon name=\"clipboard-outline\" color=\"dark\" slot=\"end\"></ion-icon>\n    {{ 'wallet-edit-popover-component.copy-address_label' | translate }}\n  </ion-item>\n  <ion-item id=\"blockexplorer\" button detail=\"false\" (click)=\"openBlockExplorer()\">\n    <ion-icon name=\"open-outline\" color=\"dark\" slot=\"end\"></ion-icon>\n    {{ 'wallet-edit-popover-component.block-explorer_label' | translate }}\n  </ion-item>\n  <ion-item *ngIf=\"networks.length > 1\" id=\"network\" button detail=\"false\" (click)=\"changeNetwork()\">\n    <ion-icon name=\"globe-outline\" color=\"dark\" slot=\"end\"></ion-icon>\n    {{ 'wallet-edit-popover-component.change-network_label' | translate }}\n  </ion-item>\n  <ion-item id=\"delete\" button detail=\"false\" (click)=\"delete()\">\n    <ion-icon name=\"trash-outline\" color=\"dark\" slot=\"end\"></ion-icon>\n    {{ 'wallet-edit-popover-component.delete_label' | translate }}\n  </ion-item>\n  <ion-item *ngIf=\"importAccountAction\" button detail=\"false\" (click)=\"importAccountAction.start()\">\n    <ion-icon [name]=\"importAccountAction.context.icon\" color=\"dark\" slot=\"end\"></ion-icon>\n    {{ importAccountAction.context.name | translate }}\n  </ion-item>\n</ion-list>\n","import { Component, EventEmitter, Input, Output } from '@angular/core'\nimport { AirGapMarketWallet } from '@airgap/coinlib-core'\n\n@Component({\n  selector: 'tezos-delegation-card',\n  templateUrl: 'tezos-delegation-card.html'\n})\nexport class TezosDelegationCard {\n  @Input()\n  public wallet: AirGapMarketWallet\n\n  @Input()\n  public isDelegated: boolean = false\n\n  @Input()\n  public delegateAmount: number = 0\n\n  @Output()\n  public onDelegatedClick: EventEmitter<void> = new EventEmitter<void>()\n\n  @Output()\n  public onUndelegatedClick: EventEmitter<void> = new EventEmitter<void>()\n\n  public delegatedClick() {\n    this.onDelegatedClick.emit()\n  }\n\n  public undelegatedClick() {\n    this.onUndelegatedClick.emit()\n  }\n}\n","<ion-row>\n  <card-actionable\n    *ngIf=\"!isDelegated\"\n    [imageLeft]=\"false\"\n    [imageName]=\"'tezos-coins.svg'\"\n    [text]=\"\n      'account-transaction-list.not-delegated_card.text'\n        | translate\n          : {\n              amount: delegateAmount | amountConverter: { protocol: wallet.protocol, maxDigits: 3 } | async\n            }\n    \"\n    [heading]=\"\n      'account-transaction-list.not-delegated_card.heading'\n        | translate\n          : {\n              amount: delegateAmount | amountConverter: { protocol: wallet.protocol, maxDigits: 3 } | async\n            }\n    \"\n    tappable\n    (click)=\"undelegatedClick()\"\n  ></card-actionable>\n\n  <card-actionable\n    *ngIf=\"isDelegated\"\n    [imageLeft]=\"true\"\n    [imageName]=\"'tezos-baking.svg'\"\n    [text]=\"\n      'account-transaction-list.has-delegated_card.text'\n        | translate\n          : {\n              amount: delegateAmount | amountConverter: { protocol: wallet.protocol, maxDigits: 3 } | async\n            }\n    \"\n    [heading]=\"\n      'account-transaction-list.has-delegated_card.heading'\n        | translate\n          : {\n              amount: delegateAmount | amountConverter: { protocol: wallet.protocol, maxDigits: 3 } | async\n            }\n    \"\n    tappable\n    (click)=\"delegatedClick()\"\n  ></card-actionable>\n</ion-row>\n","import { SubProtocolSymbols } from '@airgap/coinlib-core'\nimport axios from '../../../../node_modules/axios'\nimport { Injectable } from '@angular/core'\nimport { ICoinProtocol } from '@airgap/coinlib-core'\nimport { AirGapMarketWallet, AirGapWalletPriceService, TimeInterval } from '@airgap/coinlib-core/wallet/AirGapMarketWallet'\nimport BigNumber from 'bignumber.js'\nimport { CachingService, CachingServiceKey, StorageObject } from '../caching/caching.service'\nimport { IAirGapTransactionResult } from '@airgap/coinlib-core/interfaces/IAirGapTransaction'\n\nexport interface CryptoPrices {\n  time: number\n  price: number\n  baseCurrencySymbol: string\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PriceService implements AirGapWalletPriceService {\n  private readonly baseURL: string = 'https://crypto-prices-api.prod.gke.papers.tech'\n  private readonly pendingMarketPriceRequests: { [key: string]: Promise<BigNumber> } = {}\n\n  constructor(private readonly cachingService: CachingService) {}\n\n  public async fetchPriceData(marketSymbols: string[], timeInterval: TimeInterval): Promise<CryptoPrices[]> {\n    const cachedPriceData: StorageObject = await this.cachingService.getPriceData(marketSymbols, timeInterval)\n    if (\n      cachedPriceData &&\n      cachedPriceData.value &&\n      cachedPriceData.timestamp > Date.now() - 30 * 60 * 1000 &&\n      Array.isArray(cachedPriceData.value) &&\n      cachedPriceData.value.length > 0\n    ) {\n      return cachedPriceData.value\n    } else {\n      const cryptoPricesResponse = await axios.get(\n        `${this.baseURL}/api/v3/prices/history-usd?baseCurrencySymbols=${marketSymbols\n          .map((symbol) => symbol.toUpperCase())\n          .join()}&timeInterval=${timeInterval}`\n      )\n      await this.cachingService.cachePriceData(marketSymbols, cryptoPricesResponse.data, timeInterval)\n      return cryptoPricesResponse.data\n    }\n  }\n\n  public async getCurrentMarketPrice(protocol: ICoinProtocol, _baseSymbol: string): Promise<BigNumber> {\n    if (protocol.marketSymbol.length === 0) {\n      return new BigNumber(0)\n    }\n    // TODO change when market data is available for USDtz\n    if (protocol.identifier === SubProtocolSymbols.XTZ_USD) {\n      return new BigNumber(1)\n    }\n\n    const pendingRequest: Promise<BigNumber> = this.pendingMarketPriceRequests[protocol.marketSymbol]\n    if (pendingRequest) {\n      return pendingRequest\n    }\n\n    const promise: Promise<BigNumber> = new Promise((resolve) => {\n      axios\n        .get(`${this.baseURL}/api/v3/prices/latest-usd?baseCurrencySymbols=${protocol.marketSymbol.toUpperCase()}`)\n        .then(async (response) => {\n          if (response && response.data && Array.isArray(response.data) && response.data.length > 0) {\n            const cryptoPrices: CryptoPrices = response.data[0]\n            if (cryptoPrices.price) {\n              resolve(new BigNumber(cryptoPrices.price))\n            } else {\n              const price = await this.fetchFromCoinGecko(protocol)\n              resolve(price)\n            }\n          } else {\n            const price = await this.fetchFromCoinGecko(protocol)\n            resolve(price)\n          }\n        })\n        .catch(async () => {\n          const price = await this.fetchFromCoinGecko(protocol)\n          resolve(price)\n        })\n    })\n\n    this.pendingMarketPriceRequests[protocol.marketSymbol] = promise\n\n    promise\n      .then(() => {\n        this.pendingMarketPriceRequests[protocol.marketSymbol] = undefined\n      })\n      .catch()\n\n    return promise\n  }\n\n  public async fetchTransactions(wallet: AirGapMarketWallet): Promise<IAirGapTransactionResult> {\n    return new Promise<IAirGapTransactionResult>(async (resolve) => {\n      const rawTransactions: StorageObject = await this.cachingService.getWalletData(wallet, CachingServiceKey.TRANSACTIONS)\n      if (rawTransactions && rawTransactions.timestamp > Date.now() - 30 * 60 * 1000 && rawTransactions.value.transactions) {\n        resolve(rawTransactions.value)\n      } else {\n        try {\n          const rawTransactions = await wallet.fetchTransactions(100)\n          await this.cachingService.cacheWalletData(wallet, rawTransactions, CachingServiceKey.TRANSACTIONS)\n          resolve(rawTransactions)\n        } catch (error) {\n          resolve({ transactions: [], cursor: { page: 0 } })\n        }\n      }\n    })\n  }\n\n  public async fetchBalance(wallet: AirGapMarketWallet): Promise<BigNumber> {\n    return new Promise<BigNumber>(async (resolve) => {\n      const rawBalance: StorageObject = await this.cachingService.getWalletData(wallet, CachingServiceKey.BALANCE)\n      if (rawBalance && rawBalance.timestamp > Date.now() - 30 * 60 * 1000 && rawBalance.value) {\n        resolve(new BigNumber(rawBalance.value))\n      } else {\n        const balance: BigNumber = await wallet.balanceOf()\n        await this.cachingService.cacheWalletData(wallet, balance, CachingServiceKey.BALANCE)\n        resolve(balance)\n      }\n    })\n  }\n\n  public async fetchFromCoinGecko(protocol: ICoinProtocol): Promise<BigNumber> {\n    return new Promise(async (resolve, reject) => {\n      const symbolMapping = {\n        zrx: '0x',\n        elf: 'aelf',\n        aion: 'aion',\n        akro: 'akropolis',\n        ampl: 'ampleforth',\n        ankr: 'ankr',\n        ant: 'aragon',\n        aoa: 'aurora',\n        brc: 'baer-chain',\n        bal: 'balancer',\n        bnt: 'bancor',\n        band: 'band-protocol',\n        bat: 'basic-attention-token',\n        bnb: 'binancecoin',\n        busd: 'binance-usd',\n        btm: 'bytom',\n        bzrx: 'bzx-protocol',\n        cel: 'celsius-degree-token',\n        cennz: 'centrality',\n        link: 'chainlink',\n        chz: 'chiliz',\n        czrx: 'compound-0x',\n        comp: 'compound-coin',\n        cusdc: 'compound-usd-coin',\n        cvt: 'cybervein',\n        cro: 'crypto-com-chain',\n        crv: 'curve-dao-token',\n        dai: 'dai',\n        mana: 'decentraland',\n        dgtx: 'digitex-futures-exchange',\n        dx: 'dxchain',\n        eng: 'enigma',\n        enj: 'enjincoin',\n        lend: 'ethlend',\n        ftm: 'fantom',\n        fet: 'firstenergy-token',\n        gnt: 'golem',\n        one: 'one',\n        snx: 'havven',\n        hedg: 'hedgetrade',\n        hot: 'hydro-protocol',\n        ht: 'huobi-token',\n        husd: 'husd',\n        rlc: 'iexec-rlc',\n        xin: 'mixin',\n        ino: 'ino-coin',\n        inb: 'insight-chain',\n        ins: 'insolar-old',\n        iost: 'iostoken',\n        iotx: 'iotex',\n        pnk: 'kleros',\n        kcs: 'kucoin-shares',\n        knc: 'kyber-network',\n        leo: 'leo-token',\n        lpt: 'livepeer',\n        lrc: 'loopring',\n        mkr: 'maker',\n        matic: 'matic-network',\n        mln: 'melon',\n        mco: 'monaco',\n        mxc: 'mxc',\n        nec: 'nectar-token',\n        nexo: 'nexo',\n        nmr: 'numeraire',\n        nxm: 'nxm',\n        wnxm: 'wrapped-nxm',\n        ocean: 'ocean-protocol',\n        okb: 'okb',\n        omg: 'omisego',\n        ogn: 'origin-protocol',\n        trac: 'origintrail',\n        pax: 'payperex',\n        qnt: 'quant-network',\n        ren: 'republic-protocol',\n        repv2: 'augur',\n        rsr: 'reserve-rights-token',\n        sai: 'sai',\n        srm: 'serum',\n        agi: 'singularitynet',\n        storj: 'storj',\n        sxp: 'swipe',\n        chsb: 'swissborg',\n        trb: 'tellor',\n        usdt: 'tether',\n        theta: 'theta-token',\n        tusd: 'true-usd',\n        uma: 'uma',\n        ubt: 'unibright',\n        usdc: 'usd-coin',\n        utk: 'utrust',\n        wbtc: 'wrapped-bitcoin',\n        stake: 'xdai-stake',\n        yfi: 'yearn-finance',\n        zb: 'zb-token',\n        zil: 'zilliqa',\n        xchf: 'cryptofranc',\n        rbtc: 'rootstock',\n        rif: 'rif-token',\n        sov: 'sovryn'\n      }\n\n      const id = symbolMapping[protocol.marketSymbol.toLowerCase()]\n      if (id) {\n        try {\n          const response = await axios.get<{ data: { usd: string }[] }>(\n            `https://api.coingecko.com/api/v3/simple/price?ids=${id}&vs_currencies=usd`\n          )\n          const price = response.data !== undefined ? new BigNumber(response.data[id].usd) : new BigNumber(0)\n          resolve(price)\n        } catch (error) {\n          reject(error)\n        }\n      } else {\n        resolve(new BigNumber(0))\n      }\n    })\n  }\n}\n","import { AmountConverterPipe } from '@airgap/angular-core'\nimport { DecimalPipe } from '@angular/common'\nimport * as moment from 'moment'\nimport { FormBuilder, Validators } from '@angular/forms'\nimport { TranslateService } from '@ngx-translate/core'\nimport { CosmosProtocol } from '@airgap/coinlib-core'\nimport { CosmosUnbondingDelegation, CosmosValidator } from '@airgap/coinlib-core/protocols/cosmos/CosmosNodeClient'\nimport { CosmosDelegationActionType } from '@airgap/coinlib-core/protocols/cosmos/CosmosProtocol'\nimport { DelegateeDetails, DelegatorAction, DelegatorDetails } from '@airgap/coinlib-core/protocols/ICoinDelegateProtocol'\nimport BigNumber from 'bignumber.js'\nimport {\n  AirGapDelegateeDetails,\n  AirGapDelegationDetails,\n  AirGapDelegatorAction,\n  AirGapDelegatorDetails\n} from 'src/app/interfaces/IAirGapCoinDelegateProtocol'\nimport { UIAccountExtendedDetails, UIAccountExtendedDetailsItem } from 'src/app/models/widgets/display/UIAccountExtendedDetails'\nimport { UIAccountSummary } from 'src/app/models/widgets/display/UIAccountSummary'\nimport { UIIconText } from 'src/app/models/widgets/display/UIIconText'\nimport { UIWidget } from 'src/app/models/widgets/UIWidget'\nimport { ShortenStringPipe } from 'src/app/pipes/shorten-string/shorten-string.pipe'\nimport { CosmosValidatorDetails, CoinlibService } from 'src/app/services/coinlib/coinlib.service'\nimport { DecimalValidator } from 'src/app/validators/DecimalValidator'\n\nimport { ProtocolDelegationExtensions } from './ProtocolDelegationExtensions'\n\nenum ArgumentName {\n  VALIDATOR = 'validator',\n  AMOUNT = 'amount',\n  AMOUNT_CONTROL = 'amountControl'\n}\n\nexport class CosmosDelegationExtensions extends ProtocolDelegationExtensions<CosmosProtocol> {\n  private static instance: CosmosDelegationExtensions\n\n  public static create(\n    coinlibService: CoinlibService,\n    formBuilder: FormBuilder,\n    decimalPipe: DecimalPipe,\n    amountConverterPipe: AmountConverterPipe,\n    shortenStringPipe: ShortenStringPipe,\n    translateService: TranslateService\n  ): CosmosDelegationExtensions {\n    if (!CosmosDelegationExtensions.instance) {\n      CosmosDelegationExtensions.instance = new CosmosDelegationExtensions(\n        coinlibService,\n        formBuilder,\n        decimalPipe,\n        amountConverterPipe,\n        shortenStringPipe,\n        translateService\n      )\n    }\n\n    return CosmosDelegationExtensions.instance\n  }\n\n  public delegateeLabel: string = 'delegation-detail-cosmos.delegatee-label'\n  public delegateeLabelPlural: string = 'delegation-detail-cosmos.delegatee-label-plural'\n  public supportsMultipleDelegations: boolean = true\n\n  private knownValidators?: CosmosValidatorDetails[]\n\n  private constructor(\n    private readonly coinlibService: CoinlibService,\n    private readonly formBuilder: FormBuilder,\n    private readonly decimalPipe: DecimalPipe,\n    private readonly amountConverterPipe: AmountConverterPipe,\n    private readonly shortenStringPipe: ShortenStringPipe,\n    private readonly translateService: TranslateService\n  ) {\n    super()\n  }\n\n  public airGapDelegatee(_protocol: CosmosProtocol): string {\n    return 'cosmosvaloper1n3f5lm7xtlrp05z9ud2xk2cnvk2xnzkm2he6er'\n  }\n\n  // TODO: add translations\n  public async getExtraDelegationDetailsFromAddress(\n    protocol: CosmosProtocol,\n    delegator: string,\n    delegatees: string[]\n  ): Promise<AirGapDelegationDetails[]> {\n    const delegationsDetails = await Promise.all(\n      delegatees.map((validator) => protocol.getDelegationDetailsFromAddress(delegator, [validator]))\n    )\n\n    return Promise.all(\n      delegationsDetails.map(async (details) => {\n        const [delegator, validator] = await Promise.all([\n          this.getExtraDelegatorDetails(protocol, details.delegator, details.delegatees[0].address),\n          this.getExtraValidatorDetails(protocol, details.delegatees[0])\n        ])\n\n        return {\n          delegator,\n          delegatees: [validator]\n        }\n      })\n    )\n  }\n\n  public async createDelegateesSummary(protocol: CosmosProtocol, delegatees: string[]): Promise<UIAccountSummary[]> {\n    const knownValidators: CosmosValidatorDetails[] = await this.getKnownValidators()\n    const knownValidatorAddresses: string[] = knownValidators.map((validator: CosmosValidatorDetails) => validator.operator_address)\n\n    const unkownValidators: CosmosValidator[] = await Promise.all(\n      delegatees\n        .filter((address: string) => !knownValidatorAddresses.includes(address))\n        .map((address: string) => protocol.fetchValidator(address))\n    )\n\n    type ValidatorDetails = CosmosValidatorDetails | (CosmosValidator & Pick<CosmosValidatorDetails, 'logo'>)\n\n    const isNullOrUndefined = (value: any) => value === undefined || value === null\n\n    return Promise.all(\n      [...knownValidators, ...unkownValidators]\n        .sort((a: ValidatorDetails, b: ValidatorDetails) => {\n          if (!isNullOrUndefined(a.description.moniker) && !isNullOrUndefined(b.description.moniker)) {\n            return a.description.moniker.localeCompare(b.description.moniker)\n          } else if (isNullOrUndefined(a.description.moniker) && !isNullOrUndefined(b.description.moniker)) {\n            return 1\n          } else if (!isNullOrUndefined(a.description.moniker) && isNullOrUndefined(b.description.moniker)) {\n            return -1\n          } else if (isNullOrUndefined(a.description.moniker) && isNullOrUndefined(b.description.moniker)) {\n            return a.operator_address.localeCompare(b.operator_address)\n          }\n          return 0\n        })\n        .map(\n          async (details: ValidatorDetails) =>\n            new UIAccountSummary({\n              address: details.operator_address,\n              logo: details.logo,\n              header: [\n                details.description.moniker,\n                `${this.decimalPipe.transform(new BigNumber(details.commission.commission_rates.rate).times(100).toString())}%`\n              ],\n              description: [\n                this.shortenStringPipe.transform(details.operator_address),\n                await this.amountConverterPipe.transform(details.tokens, { protocol })\n              ]\n            })\n        )\n    )\n  }\n\n  public async createAccountExtendedDetails(protocol: CosmosProtocol, address: string): Promise<UIAccountExtendedDetails> {\n    const results = await Promise.all([\n      protocol.getAvailableBalanceOfAddresses([address]),\n      protocol.fetchTotalDelegatedAmount(address),\n      protocol.fetchTotalUnbondingAmount(address),\n      protocol.fetchTotalReward(address),\n      protocol.fetchUnbondingDelegations(address)\n    ])\n\n    const unbondingDetails = results[4]\n      .map((unbonding) => unbonding.entries)\n      .reduce((flatten, toFlatten) => flatten.concat(toFlatten), [])\n      .map((entry) => {\n        const completionTime = moment(entry.completion_time, 'YYYY-MM-DD hh:mm:ss Z').format('hh:ss MM/DD/YYYY')\n        return { balance: entry.balance, completionTime }\n      })\n\n    const items: UIAccountExtendedDetailsItem[] = [\n      {\n        label: 'account-transaction-detail.available_label',\n        text: `${this.amountConverterPipe.transformValueOnly(results[0], protocol, 0)} ${protocol.symbol}`\n      },\n      {\n        label: 'account-transaction-detail.delegated_label',\n        text: `${this.amountConverterPipe.transformValueOnly(results[1], protocol, 0)} ${protocol.symbol}`\n      },\n      {\n        label: 'account-transaction-detail.unbonding_label',\n        text: `${this.amountConverterPipe.transformValueOnly(results[2], protocol, 0)} ${protocol.symbol}`\n      },\n      {\n        label: 'account-transaction-detail.reward_label',\n        text: `${this.amountConverterPipe.transformValueOnly(results[3], protocol, 0)} ${protocol.symbol}`\n      }\n    ]\n\n    const unbondingCompletionItems = unbondingDetails.map((unbondingDetail) => {\n      return {\n        label: 'account-transaction-detail.unbonding_completion',\n        text: `${this.amountConverterPipe.transformValueOnly(unbondingDetail.balance, protocol, 0)} ${protocol.symbol} - ${\n          unbondingDetail.completionTime\n        }`\n      }\n    })\n\n    items.splice(3, 0, ...unbondingCompletionItems)\n\n    return new UIAccountExtendedDetails({\n      items\n    })\n  }\n\n  private async getExtraValidatorDetails(protocol: CosmosProtocol, validatorDetails: DelegateeDetails): Promise<AirGapDelegateeDetails> {\n    const results = await Promise.all([\n      protocol.nodeClient.fetchValidator(validatorDetails.address),\n      protocol.fetchSelfDelegation(validatorDetails.address),\n      this.getKnownValidators()\n    ])\n\n    const allDetails = results[0]\n    const selfDelegation = results[1]\n    const knownValidators = results[2]\n\n    const knownValidator = knownValidators.find(\n      (validator: CosmosValidatorDetails) => validator.operator_address === validatorDetails.address\n    )\n\n    const currentUsage = new BigNumber(selfDelegation.delegation.shares)\n    const totalUsage = new BigNumber(allDetails.tokens)\n\n    const displayDetails = await this.createValidatorDisplayDetails(protocol, allDetails)\n\n    return {\n      ...validatorDetails,\n      logo: knownValidator ? knownValidator.logo : undefined,\n      usageDetails: {\n        usage: currentUsage.div(totalUsage),\n        current: currentUsage,\n        total: totalUsage\n      },\n      displayDetails\n    }\n  }\n\n  private async createValidatorDisplayDetails(protocol: CosmosProtocol, validatorDetails: CosmosValidator): Promise<UIWidget[]> {\n    const details = []\n\n    const votingPower = await this.fetchVotingPower(protocol, validatorDetails.operator_address)\n\n    const commission = new BigNumber(validatorDetails.commission.commission_rates.rate)\n    details.push(\n      new UIIconText({\n        iconName: 'logo-usd',\n        text: this.decimalPipe.transform(commission.times(100).toString()) + '%',\n        description: 'delegation-detail-cosmos.commission_label'\n      }),\n      new UIIconText({\n        iconName: 'sync-outline',\n        text: this.decimalPipe.transform(votingPower.times(100).toString(), '1.0-2') + '%',\n        description: 'delegation-detail-cosmos.voting-power_label'\n      })\n    )\n\n    return details\n  }\n\n  private async fetchVotingPower(protocol: CosmosProtocol, address: string): Promise<BigNumber> {\n    const validators = await protocol.fetchValidators()\n    const validator = validators.find((validator) => validator.operator_address === address)\n    const validatedAmount = validator ? new BigNumber(validator.delegator_shares) : new BigNumber(0)\n    const totalDelegatedAmount = new BigNumber(\n      validators.map((validator) => parseFloat(validator.delegator_shares)).reduce((a, b) => a + b)\n    )\n\n    return validatedAmount.div(totalDelegatedAmount)\n  }\n\n  private async getExtraDelegatorDetails(\n    protocol: CosmosProtocol,\n    delegatorDetails: DelegatorDetails,\n    validator: string\n  ): Promise<AirGapDelegatorDetails> {\n    const [delegations, unbondingDelegations, availableBalance, rewards] = await Promise.all([\n      protocol.fetchDelegations(delegatorDetails.address),\n      protocol.fetchUnbondingDelegations(delegatorDetails.address),\n      protocol.getAvailableBalanceOfAddresses([delegatorDetails.address]).then((availableBalance) => new BigNumber(availableBalance)),\n      protocol\n        .fetchRewardForDelegation(delegatorDetails.address, validator)\n        .then((rewards) => new BigNumber(rewards))\n        .catch(() => new BigNumber(0))\n    ])\n\n    const delegatedAmount = new BigNumber(\n      delegatorDetails.delegatees.includes(validator)\n        ? delegations.find((delegation) => delegation.delegation.validator_address === validator).balance.amount\n        : 0\n    )\n\n    const unbondingAmount = unbondingDelegations\n      .filter((unbonding: CosmosUnbondingDelegation) => unbonding.validator_address === validator)\n      .map((unbonding: CosmosUnbondingDelegation) => unbonding.entries)\n      .reduce((flatten, toFlatten) => flatten.concat(toFlatten), [])\n      .reduce((sum, next) => sum.plus(next.balance), new BigNumber(0))\n\n    const delegateAction = await this.createDelegateAction(protocol, delegatorDetails, validator, availableBalance, delegatedAmount)\n    const undelegateAction = await this.createUndelegateAction(protocol, delegatorDetails, validator, delegatedAmount)\n    const extraActions = await this.createExtraActions(protocol, delegatorDetails.availableActions, validator, rewards)\n\n    const displayDetails = await this.createDisplayDetails(protocol, delegatedAmount, unbondingAmount, rewards)\n\n    return {\n      ...delegatorDetails,\n      mainActions: [delegateAction, undelegateAction, ...extraActions].filter((action) => !!action),\n      displayDetails\n    }\n  }\n\n  private async createDelegateAction(\n    protocol: CosmosProtocol,\n    delegatorDetails: DelegatorDetails,\n    validator: string,\n    availableBalance: BigNumber,\n    delegatedAmount: BigNumber\n  ): Promise<AirGapDelegatorAction | null> {\n    const requiredFee = new BigNumber(protocol.feeDefaults.low).shiftedBy(protocol.feeDecimals)\n    const maxDelegationAmount = availableBalance.minus(requiredFee.times(2))\n\n    const delegatedFormatted = await this.amountConverterPipe.transform(delegatedAmount, { protocol })\n\n    const maxDelegationFormatted = await this.amountConverterPipe.transform(maxDelegationAmount, { protocol })\n\n    const hasDelegated = delegatedAmount.gt(0)\n    const canDelegate = maxDelegationAmount.gt(0)\n\n    const baseDescription = hasDelegated\n      ? this.translateService.instant('delegation-detail-cosmos.delegate.has-delegated_text', { delegated: delegatedFormatted })\n      : this.translateService.instant('delegation-detail-cosmos.delegate.not-delegated_text')\n    const extraDescription = canDelegate\n      ? ` ${this.translateService.instant(\n          hasDelegated\n            ? 'delegation-detail-cosmos.delegate.can-delegate-has-delegated_text'\n            : 'delegation-detail-cosmos.delegate.can-delegate-not-delegated_text',\n          { maxDelegation: maxDelegationFormatted }\n        )}`\n      : ''\n\n    return this.createMainDelegatorAction(\n      protocol,\n      delegatorDetails.availableActions,\n      validator,\n      [CosmosDelegationActionType.DELEGATE],\n      'delegation-detail-cosmos.delegate.label',\n      maxDelegationAmount,\n      new BigNumber(1),\n      baseDescription + extraDescription\n    )\n  }\n\n  private async createUndelegateAction(\n    protocol: CosmosProtocol,\n    delegatorDetails: DelegatorDetails,\n    validator: string,\n    delegatedAmount: BigNumber\n  ): Promise<AirGapDelegatorAction | null> {\n    const delegatedAmountFormatted = await this.amountConverterPipe.transform(delegatedAmount, { protocol })\n\n    const description = this.translateService.instant('delegation-detail-cosmos.undelegate.text', { delegated: delegatedAmountFormatted })\n\n    return this.createMainDelegatorAction(\n      protocol,\n      delegatorDetails.availableActions,\n      validator,\n      [CosmosDelegationActionType.UNDELEGATE],\n      'delegation-detail-cosmos.undelegate.label',\n      delegatedAmount,\n      new BigNumber(1),\n      description\n    )\n  }\n\n  private createMainDelegatorAction(\n    protocol: CosmosProtocol,\n    availableActions: DelegatorAction[],\n    validator: string,\n    types: CosmosDelegationActionType[],\n    label: string,\n    maxAmount: BigNumber,\n    minAmount: BigNumber,\n    description: string\n  ): AirGapDelegatorAction | null {\n    const action = availableActions.find((action) => types.includes(action.type))\n\n    if (action && maxAmount.gte(minAmount)) {\n      const maxAmountFormatted = maxAmount.shiftedBy(-protocol.decimals).decimalPlaces(protocol.decimals).toFixed()\n\n      const minAmountFormatted = minAmount.shiftedBy(-protocol.decimals).decimalPlaces(protocol.decimals).toFixed()\n\n      const form = this.formBuilder.group({\n        [ArgumentName.VALIDATOR]: validator,\n        [ArgumentName.AMOUNT]: maxAmount.toString(),\n        [ArgumentName.AMOUNT_CONTROL]: [\n          maxAmountFormatted,\n          Validators.compose([\n            Validators.required,\n            Validators.min(new BigNumber(minAmountFormatted).toNumber()),\n            Validators.max(new BigNumber(maxAmountFormatted).toNumber()),\n            DecimalValidator.validate(protocol.decimals)\n          ])\n        ]\n      })\n\n      return {\n        type: action.type,\n        form,\n        label,\n        description,\n        args: [\n          this.createAmountWidget(ArgumentName.AMOUNT_CONTROL, maxAmountFormatted, minAmountFormatted, {\n            onValueChanged: (value: string) => {\n              form.patchValue({ [ArgumentName.AMOUNT]: new BigNumber(value).shiftedBy(protocol.decimals).toFixed() })\n            }\n          })\n        ]\n      }\n    }\n\n    return null\n  }\n\n  private async createExtraActions(\n    protocol: CosmosProtocol,\n    availableActions: DelegatorAction[],\n    validator: string,\n    rewards: BigNumber\n  ): Promise<AirGapDelegatorAction[]> {\n    const mainActionTypes = [CosmosDelegationActionType.DELEGATE, CosmosDelegationActionType.UNDELEGATE]\n    const excludedActionTypes = [CosmosDelegationActionType.WITHDRAW_ALL_REWARDS]\n\n    return Promise.all(\n      availableActions\n        .filter((action) => !mainActionTypes.includes(action.type) && !excludedActionTypes.includes(action.type))\n        .map(async (action) => {\n          let partial = {}\n          switch (action.type) {\n            case CosmosDelegationActionType.WITHDRAW_VALIDATOR_REWARDS:\n              partial = await this.createWithdrawRewardsAction(protocol, validator, rewards)\n              break\n            default:\n              partial = {}\n          }\n\n          return {\n            type: action.type,\n            label: action.type,\n            confirmLabel: action.type,\n            ...partial\n          }\n        })\n    )\n  }\n\n  private async createWithdrawRewardsAction(\n    protocol: CosmosProtocol,\n    validator: string,\n    rewards: BigNumber\n  ): Promise<Partial<AirGapDelegatorAction>> {\n    const form = this.formBuilder.group({\n      [ArgumentName.VALIDATOR]: validator\n    })\n\n    const rewardsFormatted = await this.amountConverterPipe.transform(rewards, {\n      protocol\n    })\n\n    return {\n      label: 'delegation-detail-cosmos.rewards.label',\n      confirmLabel: 'delegation-detail-cosmos.rewards.button',\n      form,\n      description: this.translateService.instant('delegation-detail-cosmos.rewards.text', { rewards: rewardsFormatted })\n    }\n  }\n\n  private async createDisplayDetails(\n    protocol: CosmosProtocol,\n    delegatedAmount: BigNumber,\n    unbondingAmount: BigNumber,\n    rewards: BigNumber\n  ): Promise<UIWidget[]> {\n    const details = []\n\n    if (delegatedAmount.gt(0)) {\n      details.push(\n        new UIIconText({\n          iconName: 'people-outline',\n          text: await this.amountConverterPipe.transform(delegatedAmount, {\n            protocol\n          }),\n          description: 'delegation-detail-cosmos.currently-delegated_label'\n        })\n      )\n    }\n\n    if (unbondingAmount.gt(0)) {\n      details.push(\n        new UIIconText({\n          iconName: 'people-outline',\n          text: await this.amountConverterPipe.transform(unbondingAmount, {\n            protocol\n          }),\n          description: 'delegation-detail-cosmos.unbonding_label'\n        })\n      )\n    }\n\n    if (rewards.gt(0)) {\n      details.push(\n        new UIIconText({\n          iconName: 'logo-usd',\n          text: await this.amountConverterPipe.transform(rewards, {\n            protocol\n          }),\n          description: 'delegation-detail-cosmos.unclaimed-rewards_label'\n        })\n      )\n    }\n\n    return details\n  }\n\n  private async getKnownValidators(): Promise<CosmosValidatorDetails[]> {\n    if (this.knownValidators === undefined) {\n      this.knownValidators = await this.coinlibService.getKnownCosmosValidators()\n    }\n\n    return this.knownValidators\n  }\n}\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import { LedgerConnectionDetails, LedgerConnectionType } from '../LedgerConnection'\nimport { ElectronProcess } from 'src/app/models/ElectronProcess'\n\nexport enum LedgerProcessMessageType {\n  GET_DEVICES = 'get-devices',\n  GET_DEVICES_REPLY = 'get-devices-reply',\n\n  OPEN = 'open',\n  OPEN_REPLY = 'open-reply',\n\n  SEND = 'send',\n  SEND_REPLY = 'send-reply',\n\n  EXCHANGE = 'exchange',\n  EXCHANGE_REPLY = 'exchange-reply',\n\n  SET_EXCHANGE_TIMEOUT = 'set-exchange-timeout',\n\n  CLOSE = 'close',\n  CLOSE_REPLY = 'close-reply',\n\n  DECORATE_APP = 'decorate-app',\n  SET_SCRAMBLE_KEY = 'set-scramble-key'\n}\n\nexport interface GetDevicesMessage {\n  connectionType: LedgerConnectionType\n}\nexport interface GetDevicesMessageReply {\n  devices: LedgerConnectionDetails[]\n}\n\nexport interface OpenMessage {\n  connectionType?: LedgerConnectionType\n  descriptor?: string\n}\n\nexport interface OpenMessageReply {\n  transportId: string\n}\n\nexport interface SendMessage {\n  transportId: string\n  cla: number\n  ins: number\n  p1: number\n  p2: number\n  hexData?: string\n}\n\nexport interface SendMessageReply {\n  response: Buffer | string\n}\n\nexport interface ExchangeMessage {\n  transportId: string\n  apdu: string\n}\n\nexport interface ExchangeMessageReply {\n  response: Buffer | string\n}\n\nexport interface SetExchangeTimeoutMessage {\n  transportId: string\n  timeout: number\n}\n\nexport interface CloseMessage {\n  transportId: string\n}\n\nexport interface DecorateAppMessage {\n  transportId: string\n  self: Object\n  methods: string[]\n  scrambleKey: string\n}\n\nexport interface SetScrambleKeyMessage {\n  transportId: string\n  key: string\n}\n\nexport type LedgerProcessMessage<T extends LedgerProcessMessageType> = T extends LedgerProcessMessageType.GET_DEVICES\n  ? GetDevicesMessage\n  : T extends LedgerProcessMessageType.GET_DEVICES_REPLY\n  ? GetDevicesMessageReply\n  : T extends LedgerProcessMessageType.OPEN\n  ? OpenMessage\n  : T extends LedgerProcessMessageType.OPEN_REPLY\n  ? OpenMessageReply\n  : T extends LedgerProcessMessageType.SEND\n  ? SendMessage\n  : T extends LedgerProcessMessageType.SEND_REPLY\n  ? SendMessageReply\n  : T extends LedgerProcessMessageType.EXCHANGE\n  ? ExchangeMessage\n  : T extends LedgerProcessMessageType.EXCHANGE_REPLY\n  ? ExchangeMessageReply\n  : T extends LedgerProcessMessageType.SET_EXCHANGE_TIMEOUT\n  ? SetExchangeTimeoutMessage\n  : T extends LedgerProcessMessageType.CLOSE\n  ? CloseMessage\n  : T extends LedgerProcessMessageType.DECORATE_APP\n  ? DecorateAppMessage\n  : T extends LedgerProcessMessageType.SET_SCRAMBLE_KEY\n  ? SetScrambleKeyMessage\n  : never\n\nexport type LedgerProcessMessageReply<T extends LedgerProcessMessageType> = T extends LedgerProcessMessageType.GET_DEVICES\n  ? LedgerProcessMessageType.GET_DEVICES_REPLY\n  : T extends LedgerProcessMessageType.OPEN\n  ? LedgerProcessMessageType.OPEN_REPLY\n  : T extends LedgerProcessMessageType.SEND\n  ? LedgerProcessMessageType.SEND_REPLY\n  : T extends LedgerProcessMessageType.EXCHANGE\n  ? LedgerProcessMessageType.EXCHANGE_REPLY\n  : T extends LedgerProcessMessageType.CLOSE\n  ? LedgerProcessMessageType.CLOSE_REPLY\n  : never\n\nconst LEDGER_PROCESS_NAME = 'ledger'\n\nexport class LedgerElectronBridge {\n  private static instance: LedgerElectronBridge | null = null\n\n  public static getInstance(): LedgerElectronBridge {\n    if (!LedgerElectronBridge.instance) {\n      const electronProcess = new ElectronProcess(LEDGER_PROCESS_NAME)\n      LedgerElectronBridge.instance = new LedgerElectronBridge(electronProcess)\n    }\n    return LedgerElectronBridge.instance\n  }\n\n  private readonly messagePromises: Map<string, Promise<any>> = new Map()\n\n  private constructor(private electronProcess: ElectronProcess) {}\n\n  public async sendToLedger<T extends LedgerProcessMessageType>(\n    type: T,\n    data?: LedgerProcessMessage<T>,\n    requestId?: string\n  ): Promise<LedgerProcessMessage<LedgerProcessMessageReply<T>>> {\n    const promiseId = requestId ? `${type}_${requestId}` : type\n    let promise = this.messagePromises.get(promiseId)\n    if (!promise) {\n      promise = this.electronProcess.send(promiseId, type, data).finally(() => this.messagePromises.delete(promiseId))\n      this.messagePromises.set(promiseId, promise)\n    }\n    return promise\n  }\n}\n","import { PermissionScope } from '@airgap/beacon-sdk'\nimport { AirGapMarketWallet, AirGapWalletStatus, NetworkType, ProtocolNetwork, ProtocolSymbols } from '@airgap/coinlib-core'\nimport { Component, Input, EventEmitter, Output, OnInit } from '@angular/core'\nimport { AlertController, ModalController } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\nimport { ShortenStringPipe } from 'src/app/pipes/shorten-string/shorten-string.pipe'\nimport { AccountProvider } from 'src/app/services/account/account.provider'\nimport { ErrorCategory, handleErrorSentry } from 'src/app/services/sentry-error-handler/sentry-error-handler'\n\nexport interface CheckboxInput {\n  name: string\n  type: 'radio' | 'checkbox'\n  label: string\n  value: PermissionScope\n  icon: string\n  checked: boolean\n}\n\n@Component({\n  selector: 'permission-request',\n  templateUrl: './permission-request.component.html',\n  styleUrls: ['./permission-request.component.scss']\n})\nexport class PermissionRequestComponent implements OnInit {\n  public modalRef: HTMLIonModalElement | undefined\n  public readonly networkType: typeof NetworkType = NetworkType\n\n  public wallets: AirGapMarketWallet[] = []\n\n  @Input()\n  public address: string = ''\n\n  @Input()\n  public network: ProtocolNetwork | undefined\n\n  @Input()\n  public requesterName: string = ''\n\n  @Input()\n  public icon: string = ''\n\n  @Input()\n  public inputs: CheckboxInput[] = []\n\n  @Input()\n  public targetProtocolSymbol: ProtocolSymbols | undefined\n\n  @Output()\n  public readonly walletSetEmitter: EventEmitter<AirGapMarketWallet> = new EventEmitter<AirGapMarketWallet>()\n\n  constructor(\n    private readonly modalController: ModalController,\n    private readonly alertController: AlertController,\n    private readonly shortenStringPipe: ShortenStringPipe,\n    private readonly translateService: TranslateService,\n    private readonly accountService: AccountProvider\n  ) {}\n\n  ngOnInit() {\n    const allWallets = this.accountService.getWalletList()\n    this.wallets = allWallets.filter(\n      (wallet: AirGapMarketWallet) =>\n        wallet.protocol.identifier === this.targetProtocolSymbol && wallet.status === AirGapWalletStatus.ACTIVE\n    )\n  }\n\n  public async changeAccount(): Promise<void> {\n    this.modalRef = await this.modalController.getTop()\n\n    return new Promise(async () => {\n      if (this.wallets.length === 1) {\n        return\n      }\n      const alert = await this.alertController.create({\n        header: this.translateService.instant('beacon-request.select-account.alert'),\n        inputs: this.wallets.map((wallet) => ({\n          label: this.shortenStringPipe.transform(wallet.receivingPublicAddress),\n          type: 'radio',\n          value: wallet,\n          checked: wallet.receivingPublicAddress === this.address\n        })),\n        buttons: [\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: () => {\n              this.dismiss()\n            }\n          },\n          {\n            text: 'Ok',\n            handler: (wallet) => {\n              this.walletSetEmitter.emit(wallet)\n            }\n          }\n        ]\n      })\n\n      await alert.present()\n    })\n  }\n\n  public async dismiss(): Promise<boolean | void> {\n    return this.modalRef.dismiss().catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n}\n","<ng-container>\n  <ion-row class=\"request--container ion-padding-top\">\n    <ion-col class=\"ion-text-center\" size=\"3\">\n      <ion-avatar class=\"content--align__center-center\">\n        <airgap-identicon [address]=\"requesterName\" *ngIf=\"!icon\"></airgap-identicon>\n        <img [src]=\"icon\" *ngIf=\"icon\" />\n      </ion-avatar>\n    </ion-col>\n    <ion-col>\n      <div class=\"divider--line\"></div>\n    </ion-col>\n    <ion-col class=\"ion-text-center\">\n      <ion-icon name=\"checkmark-circle-outline\" color=\"secondary\" size=\"large\" class=\"ion-margin-top\"></ion-icon>\n    </ion-col>\n    <ion-col>\n      <div class=\"divider--line\"></div>\n    </ion-col>\n    <ion-col class=\"ion-text-center\" size=\"3\">\n      <ion-avatar class=\"content--align__center-center\">\n        <airgap-identicon [address]=\"address\"></airgap-identicon>\n      </ion-avatar>\n    </ion-col>\n  </ion-row>\n  <ion-row>\n    <ion-col class=\"ion-text-left\" size=\"6\">\n      <h5 class=\"ion-no-margin\">{{ requesterName }}</h5>\n    </ion-col>\n    <ion-col class=\"ion-text-right\" size=\"6\">\n      <h5 class=\"ion-no-margin\">{{ address | shortenString }}</h5>\n    </ion-col>\n  </ion-row>\n\n  <ion-row class=\"ion-align-items-center ion-padding-top\">\n    <ion-col size=\"12\">\n      <ion-row>\n        <ng-container *ngIf=\"network && network.type !== networkType.MAINNET\" class=\"ion-no-padding\" lines=\"none\" slot=\"start\">\n          <ion-badge class=\"badge__margin\" color=\"danger\">{{ network.name }}</ion-badge>\n          <ion-badge *ngIf=\"network.type === networkType.CUSTOM\" class=\"badge__margin\">\n            {{ network.rpcUrl }}\n          </ion-badge>\n        </ng-container>\n      </ion-row>\n    </ion-col>\n  </ion-row>\n\n  <h2 [innerHTML]=\"'beacon-request.request.heading' | translate: { requesterName: requesterName }\"></h2>\n\n  <ion-item *ngIf=\"wallets.length > 1\" lines=\"none\" class=\"ion-no-padding\">\n    <ion-avatar slot=\"start\">\n      <airgap-identicon [address]=\"address\"></airgap-identicon>\n    </ion-avatar>\n    <ion-label>\n      <p class=\"ion-no-margin\">{{ address | shortenString }}</p>\n    </ion-label>\n    <ion-button (click)=\"changeAccount()\" color=\"secondary\" shape=\"round\" size=\"small\" fill=\"outline\" slot=\"end\">\n      {{ 'beacon-request.select-account.button' | translate }}\n    </ion-button>\n  </ion-item>\n\n  <ng-container *ngIf=\"inputs && inputs.length > 0\">\n    <p class=\"ion-padding-top\">{{ 'beacon-request.request.text' | translate }}</p>\n    <ion-row class=\"ion-no-padding\">\n      <ion-col class=\"ion-no-padding\">\n        <ion-list lines=\"none\">\n          <ion-item *ngFor=\"let input of inputs\">\n            <ion-icon name=\"{{ input.icon }}\" slot=\"start\"></ion-icon>\n            <ion-label>{{ input.label | translate }}</ion-label>\n            <ion-checkbox [(ngModel)]=\"input.checked\" slot=\"end\"></ion-checkbox>\n          </ion-item>\n        </ion-list>\n      </ion-col>\n    </ion-row>\n  </ng-container>\n</ng-container>\n","import { newKusamaApp, SubstrateApp } from '@zondax/ledger-substrate'\nimport { KusamaProtocol, SubstrateNetwork, SubstrateProtocol } from '@airgap/coinlib-core'\n\nimport { SubstrateLedgerApp } from './SubstrateLedgerApp'\n\nexport class KusamaLedgerApp extends SubstrateLedgerApp<SubstrateNetwork.KUSAMA> {\n  protected readonly protocol: SubstrateProtocol<SubstrateNetwork.KUSAMA> = new KusamaProtocol()\n\n  protected getApp(): SubstrateApp {\n    return newKusamaApp(this.connection.transport)\n  }\n}\n","import {\n  AddressService,\n  AppInfoPlugin,\n  APP_INFO_PLUGIN,\n  APP_PLUGIN,\n  ExternalAliasResolver,\n  IACMessageTransport,\n  LanguageService,\n  ProtocolService,\n  SerializerService,\n  SPLASH_SCREEN_PLUGIN,\n  STATUS_BAR_PLUGIN\n} from '@airgap/angular-core'\nimport {\n  AirGapMarketWallet,\n  generateId,\n  IACMessageType,\n  IAirGapTransaction,\n  ICoinProtocol,\n  ICoinSubProtocol,\n  MainProtocolSymbols,\n  NetworkType,\n  TezblockBlockExplorer,\n  TezosFA1p2Protocol,\n  TezosFA2Protocol,\n  TezosFA2ProtocolConfig,\n  TezosFA2ProtocolOptions,\n  TezosFAProtocolConfig,\n  TezosFAProtocolOptions,\n  TezosKtProtocol,\n  TezosNetwork,\n  TezosProtocol,\n  TezosProtocolNetwork,\n  TezosProtocolNetworkExtras,\n  TezosProtocolOptions,\n  TezosSaplingExternalMethodProvider,\n  TezosShieldedTezProtocol\n} from '@airgap/coinlib-core'\nimport { TezosDomains } from '@airgap/coinlib-core/protocols/tezos/domains/TezosDomains'\nimport {\n  TezosSaplingProtocolOptions,\n  TezosShieldedTezProtocolConfig\n} from '@airgap/coinlib-core/protocols/tezos/sapling/TezosSaplingProtocolOptions'\nimport { AfterViewInit, Component, Inject, NgZone } from '@angular/core'\nimport { Router } from '@angular/router'\nimport { AppPlugin, URLOpenListenerEvent } from '@capacitor/app'\nimport { SplashScreenPlugin } from '@capacitor/splash-screen'\nimport { StatusBarPlugin, Style } from '@capacitor/status-bar'\nimport { Config, Platform } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\nimport { Subscription } from 'rxjs'\n\nimport { AccountProvider } from './services/account/account.provider'\nimport { DataService, DataServiceKey } from './services/data/data.service'\nimport { IACService } from './services/iac/iac.service'\nimport { PushProvider } from './services/push/push'\nimport { SaplingNativeService } from './services/sapling-native/sapling-native.service'\nimport { ErrorCategory, handleErrorSentry, setSentryRelease, setSentryUser } from './services/sentry-error-handler/sentry-error-handler'\nimport { WalletStorageKey, WalletStorageService } from './services/storage/storage'\nimport { WalletconnectService } from './services/walletconnect/walletconnect.service'\nimport { faProtocolSymbol } from './types/GenericProtocolSymbols'\nimport { generateGUID } from './utils/utils'\n\n@Component({\n  selector: 'app-root',\n  templateUrl: 'app.component.html'\n})\nexport class AppComponent implements AfterViewInit {\n  public isMobile: boolean = false\n  public isElectron: boolean = false\n\n  constructor(\n    private readonly platform: Platform,\n    private readonly translate: TranslateService,\n    private readonly languageService: LanguageService,\n    private readonly iacService: IACService,\n    private readonly protocolService: ProtocolService,\n    private readonly storageProvider: WalletStorageService,\n    private readonly accountProvider: AccountProvider,\n    private readonly addressService: AddressService,\n    private readonly serializerService: SerializerService,\n    private readonly pushProvider: PushProvider,\n    private readonly walletconnectService: WalletconnectService,\n    private readonly router: Router,\n    private readonly dataService: DataService,\n    private readonly config: Config,\n    private readonly ngZone: NgZone,\n    private readonly saplingNativeService: SaplingNativeService,\n    @Inject(APP_PLUGIN) private readonly app: AppPlugin,\n    @Inject(APP_INFO_PLUGIN) private readonly appInfo: AppInfoPlugin,\n    @Inject(SPLASH_SCREEN_PLUGIN) private readonly splashScreen: SplashScreenPlugin,\n    @Inject(STATUS_BAR_PLUGIN) private readonly statusBar: StatusBarPlugin\n  ) {\n    this.initializeApp().catch(handleErrorSentry(ErrorCategory.OTHER))\n    this.isMobile = this.platform.is('android') || this.platform.is('ios')\n    this.isElectron = this.platform.is('electron')\n  }\n\n  public async initializeApp(): Promise<void> {\n    await Promise.all([this.initializeTranslations(), this.platform.ready(), this.initializeProtocols(), this.initializeWalletConnect()])\n\n    if (this.platform.is('hybrid')) {\n      await Promise.all([\n        this.statusBar.setStyle({ style: Style.Light }),\n        this.statusBar.setBackgroundColor({ color: '#FFFFFF' }),\n        this.splashScreen.hide(),\n\n        this.pushProvider.initPush()\n      ])\n\n      this.appInfo\n        .get()\n        .then((appInfo: { appName: string; packageName: string; versionName: string; versionCode: number }) => {\n          setSentryRelease(`app_${appInfo.versionName}`)\n        })\n        .catch(handleErrorSentry(ErrorCategory.CORDOVA_PLUGIN))\n    }\n\n    let userId: string = await this.storageProvider.get(WalletStorageKey.USER_ID)\n    if (!userId) {\n      userId = generateGUID()\n      this.storageProvider.set(WalletStorageKey.USER_ID, userId).catch(handleErrorSentry(ErrorCategory.STORAGE))\n    }\n    setSentryUser(userId)\n\n    const url: URL = new URL(location.href)\n\n    if (url.searchParams.get('rawUnsignedTx')) {\n      // Wait until wallets are initialized\n      // TODO: Use wallet changed observable?\n      const sub: Subscription = this.accountProvider.wallets$.subscribe(async () => {\n        await this.walletDeeplink()\n        if (sub) {\n          sub.unsubscribe()\n        }\n      })\n    }\n  }\n\n  public async ngAfterViewInit(): Promise<void> {\n    await this.platform.ready()\n    if (this.platform.is('ios')) {\n      this.translate.get(['back-button']).subscribe((translated: { [key: string]: string | undefined }) => {\n        const back: string = translated['back-button']\n        this.config.set('backButtonText', back)\n      })\n    }\n    if (this.platform.is('hybrid')) {\n      this.app.addListener('appUrlOpen', (data: URLOpenListenerEvent) => {\n        this.ngZone.run(() => {\n          if (data.url === 'airgap-wallet://' || data.url === 'https://wallet.airgap.it' || data.url === 'https://wallet.airgap.it/') {\n            // Ignore empty deeplinks\n            return\n          }\n          this.iacService.handleRequest(data.url, IACMessageTransport.DEEPLINK).catch(handleErrorSentry(ErrorCategory.SCHEME_ROUTING))\n        })\n      })\n    }\n  }\n\n  // TODO: Move to provider\n  public async walletDeeplink(): Promise<void> {\n    const url: URL = new URL(location.href)\n    const publicKey: string = url.searchParams.get('publicKey')\n    const rawUnsignedTx: unknown = JSON.parse(url.searchParams.get('rawUnsignedTx'))\n    const identifier: string = url.searchParams.get('identifier')\n\n    const wallet: AirGapMarketWallet = this.accountProvider.walletByPublicKeyAndProtocolAndAddressIndex(publicKey, identifier)\n    const airGapTxs: IAirGapTransaction[] = await wallet.protocol.getTransactionDetails({\n      publicKey: wallet.publicKey,\n      transaction: rawUnsignedTx\n    })\n\n    const serializedTx: string | string[] = await this.serializerService.serialize([\n      {\n        id: generateId(8),\n        protocol: wallet.protocol.identifier,\n        type: IACMessageType.TransactionSignRequest,\n        payload: {\n          publicKey: wallet.publicKey,\n          transaction: rawUnsignedTx as any,\n          callbackURL: 'airgap-wallet://?d='\n        }\n      }\n    ])\n\n    const info = {\n      wallet,\n      airGapTxs,\n      data: serializedTx\n    }\n    this.dataService.setData(DataServiceKey.TRANSACTION, info)\n    this.router.navigateByUrl(`/transaction-qr/${DataServiceKey.TRANSACTION}`).catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n\n  private async initializeTranslations(): Promise<void> {\n    return this.languageService.init({\n      supportedLanguages: ['en', 'de', 'zh-cn'],\n      defaultLanguage: 'en'\n    })\n  }\n  private async initializeWalletConnect(): Promise<void> {\n    this.walletconnectService.initWalletConnect()\n  }\n\n  private async initializeProtocols(): Promise<void> {\n    const edonetNetwork: TezosProtocolNetwork = new TezosProtocolNetwork(\n      'Edonet',\n      NetworkType.TESTNET,\n      'https://tezos-edonet-node.prod.gke.papers.tech',\n      new TezblockBlockExplorer('https//edonet.tezblock.io'),\n      new TezosProtocolNetworkExtras(\n        TezosNetwork.EDONET,\n        'https://tezos-edonet-conseil.prod.gke.papers.tech',\n        TezosNetwork.EDONET,\n        'airgap00391'\n      )\n    )\n    const edonetProtocol: TezosProtocol = new TezosProtocol(new TezosProtocolOptions(edonetNetwork))\n\n    const florencenetNetwork: TezosProtocolNetwork = new TezosProtocolNetwork(\n      'Florencenet',\n      NetworkType.TESTNET,\n      'https://tezos-florencenet-node.prod.gke.papers.tech',\n      new TezblockBlockExplorer('https//florencenet.tezblock.io'),\n      new TezosProtocolNetworkExtras(\n        TezosNetwork.FLORENCENET,\n        'https://tezos-florencenet-conseil.prod.gke.papers.tech',\n        TezosNetwork.FLORENCENET,\n        'airgap00391'\n      )\n    )\n    const florencenetProtocol: TezosProtocol = new TezosProtocol(new TezosProtocolOptions(florencenetNetwork))\n\n    const granadanetNetwork: TezosProtocolNetwork = new TezosProtocolNetwork(\n      'Granadanet',\n      NetworkType.TESTNET,\n      'https://tezos-granadanet-node.prod.gke.papers.tech',\n      new TezblockBlockExplorer('https//granadanet.tezblock.io'),\n      new TezosProtocolNetworkExtras(\n        TezosNetwork.GRANADANET,\n        'https://tezos-granadanet-conseil.prod.gke.papers.tech',\n        TezosNetwork.MAINNET,\n        'airgap00391'\n      )\n    )\n\n    const granadanetProtocol: TezosProtocol = new TezosProtocol(new TezosProtocolOptions(granadanetNetwork))\n\n    const externalMethodProvider:\n      | TezosSaplingExternalMethodProvider\n      | undefined = await this.saplingNativeService.createExternalMethodProvider()\n\n    const shieldedTezProtocol: TezosShieldedTezProtocol = new TezosShieldedTezProtocol(\n      new TezosSaplingProtocolOptions(\n        granadanetNetwork,\n        new TezosShieldedTezProtocolConfig(undefined, undefined, undefined, externalMethodProvider)\n      )\n    )\n\n    this.protocolService.init({\n      extraActiveProtocols: [edonetProtocol, florencenetProtocol, granadanetProtocol, shieldedTezProtocol],\n      extraPassiveSubProtocols: [[granadanetProtocol, new TezosKtProtocol(new TezosProtocolOptions(granadanetNetwork))]]\n    })\n\n    await Promise.all([this.getGenericSubProtocols(), this.initializeTezosDomains()])\n  }\n\n  private async getGenericSubProtocols(): Promise<void> {\n    const genericSubProtocols = await this.storageProvider.get(WalletStorageKey.GENERIC_SUBPROTOCOLS)\n    const identifiersWithOptions = Object.entries(genericSubProtocols)\n    const protocols = identifiersWithOptions\n      .map(([protocolNetworkIdentifier, options]) => {\n        const [protocolIdentifier, ] = protocolNetworkIdentifier.split(':')\n        \n        if (protocolIdentifier.startsWith(MainProtocolSymbols.XTZ)) {\n          const tezosOptions = options as TezosProtocolOptions\n          const tezosProtocolNetwork = new TezosProtocolNetwork(\n            tezosOptions.network.name,\n            tezosOptions.network.type,\n            tezosOptions.network.rpcUrl,\n            tezosOptions.network.blockExplorer,\n            new TezosProtocolNetworkExtras(\n              tezosOptions.network.extras.network,\n              tezosOptions.network.extras.conseilUrl,\n              tezosOptions.network.extras.conseilNetwork,\n              tezosOptions.network.extras.conseilApiKey\n            )\n          )\n          if (protocolIdentifier.startsWith(faProtocolSymbol('1.2'))) {\n            const faOptions = tezosOptions as TezosFAProtocolOptions\n\n            return new TezosFA1p2Protocol(\n              new TezosFAProtocolOptions(\n                tezosProtocolNetwork,\n                new TezosFAProtocolConfig(\n                  faOptions.config.contractAddress,\n                  faOptions.config.identifier,\n                  faOptions.config.symbol,\n                  faOptions.config.name,\n                  faOptions.config.marketSymbol,\n                  faOptions.config.feeDefaults,\n                  faOptions.config.decimals,\n                  faOptions.config.tokenMetadataBigMapID\n                )\n              )\n            )\n          } else if (protocolIdentifier.startsWith(faProtocolSymbol('2'))) {\n            const fa2Options = tezosOptions as TezosFA2ProtocolOptions\n\n            return new TezosFA2Protocol(\n              new TezosFA2ProtocolOptions(\n                tezosProtocolNetwork,\n                new TezosFA2ProtocolConfig(\n                  fa2Options.config.contractAddress,\n                  fa2Options.config.identifier,\n                  fa2Options.config.symbol,\n                  fa2Options.config.name,\n                  fa2Options.config.marketSymbol,\n                  fa2Options.config.feeDefaults,\n                  fa2Options.config.decimals,\n                  fa2Options.config.defaultTokenID,\n                  fa2Options.config.tokenMetadataBigMapID,\n                  fa2Options.config.ledgerBigMapID,\n                  fa2Options.config.totalSupplyBigMapID\n                )\n              )\n            )\n          }\n        }\n\n        return undefined\n      })\n      .filter((protocol) => protocol !== undefined)\n\n    await this.protocolService.addActiveSubProtocols(protocols)\n  }\n\n  private async initializeTezosDomains(): Promise<void> {\n    const tezosDomainsAddresses: Record<TezosNetwork, string | undefined> = {\n      [TezosNetwork.MAINNET]: 'KT1GBZmSxmnKJXGMdMLbugPfLyUPmuLSMwKS',\n      [TezosNetwork.EDONET]: 'KT1JJbWfW8CHUY95hG9iq2CEMma1RiKhMHDR',\n      [TezosNetwork.FLORENCENET]: 'KT1PfBfkfUuvQRN8zuCAyp5MHjNrQqgevS9p',\n      [TezosNetwork.GRANADANET]: 'KT1Ch6PstAQG32uNfQJUSL2bf2WvimvY5umk'\n    }\n\n    const tezosNetworks: TezosProtocolNetwork[] = (await this.protocolService.getNetworksForProtocol(\n      MainProtocolSymbols.XTZ\n    )) as TezosProtocolNetwork[]\n\n    const tezosDomainsWithNetwork: [TezosProtocolNetwork, TezosDomains][] = tezosNetworks\n      .map((network: TezosProtocolNetwork) => {\n        const contractAddress: string | undefined = tezosDomainsAddresses[network.extras.network]\n\n        return contractAddress !== undefined\n          ? ([network, new TezosDomains(network, contractAddress)] as [TezosProtocolNetwork, TezosDomains])\n          : undefined\n      })\n      .filter((tezosDomainsWithNetwork: [TezosProtocolNetwork, TezosDomains] | undefined) => tezosDomainsWithNetwork !== undefined)\n\n    await Promise.all(\n      tezosDomainsWithNetwork.map(async ([network, tezosDomains]: [TezosProtocolNetwork, TezosDomains]) => {\n        const externalAliasResolver: ExternalAliasResolver = {\n          validateReceiver: async (receiver: string): Promise<boolean> => (await tezosDomains.nameToAddress(receiver)) !== undefined,\n          resolveAlias: tezosDomains.nameToAddress.bind(tezosDomains),\n          getAlias: tezosDomains.addressToName.bind(tezosDomains)\n        }\n\n        const [tezosProtocol, tezosSubProtocols]: [ICoinProtocol, ICoinSubProtocol[]] = await Promise.all([\n          this.protocolService.getProtocol(MainProtocolSymbols.XTZ, network),\n          this.protocolService.getSubProtocols(MainProtocolSymbols.XTZ, network)\n        ])\n\n        this.addressService.registerExternalAliasResolver(externalAliasResolver, tezosProtocol)\n        tezosSubProtocols.forEach((subProtocol: ICoinSubProtocol) => {\n          this.addressService.registerExternalAliasResolver(externalAliasResolver, subProtocol)\n        })\n      })\n    )\n  }\n}\n","<ion-app>\n  <ion-split-pane *ngIf=\"!isMobile\" contentId=\"tab-menu\">\n    <ion-menu contentId=\"tab-menu\" type=\"overlay\">\n      <ion-header class=\"ion-no-border\">\n        <ion-toolbar>\n          <ion-title>AirGap Wallet</ion-title>\n        </ion-toolbar>\n      </ion-header>\n      <ion-content>\n        <ion-list lines=\"none\">\n          <ion-menu-toggle auto-hide=\"false\">\n            <ion-item routerLink=\"tabs/portfolio\" routerLinkActive=\"active-link\">\n              <ion-icon slot=\"start\" name=\"list-outline\"></ion-icon>\n              <ion-label>{{ 'tabs.wallets' | translate }}</ion-label>\n            </ion-item>\n            <ion-item routerLink=\"tabs/scan\" routerLinkActive=\"active-link\">\n              <ion-icon slot=\"start\" name=\"barcode-outline\"></ion-icon>\n              <ion-label>{{ 'tabs.scan' | translate }}</ion-label>\n            </ion-item>\n            <ion-item routerLink=\"tabs/exchange\" routerLinkActive=\"active-link\">\n              <ion-icon slot=\"start\" name=\"repeat-outline\"></ion-icon>\n              <ion-label>{{ 'tabs.exchange' | translate }}</ion-label>\n            </ion-item>\n            <ion-item routerLink=\"tabs/settings\" routerLinkActive=\"active-link\">\n              <ion-icon slot=\"start\" name=\"settings-outline\"></ion-icon>\n              <ion-label>{{ 'tabs.settings' | translate }}</ion-label>\n            </ion-item>\n          </ion-menu-toggle>\n        </ion-list>\n      </ion-content>\n    </ion-menu>\n    <ion-router-outlet id=\"tab-menu\"></ion-router-outlet>\n  </ion-split-pane>\n  <ion-router-outlet *ngIf=\"isMobile\"></ion-router-outlet>\n</ion-app>\n","import { Injectable } from '@angular/core'\nimport { ActivatedRouteSnapshot, CanActivate, Router } from '@angular/router'\nimport { DataService } from '../data/data.service'\n\n@Injectable()\nexport class TransactionHashGuard implements CanActivate {\n  constructor(public readonly router: Router, public readonly dataService: DataService) {}\n  public async canActivate(route: ActivatedRouteSnapshot): Promise<boolean> {\n    const hash = route.params.hash\n    const transaction = await this.dataService.get(hash)\n    if (!transaction) {\n      window.alert(\"The transaction you're trying to access is invalid\")\n      this.router.navigateByUrl('/')\n    }\n    return transaction !== null\n  }\n}\n","import { AppConfig } from '@airgap/angular-core'\n\nexport const appConfig: AppConfig = {\n  app: {\n    name: 'AirGap Wallet',\n    urlScheme: 'airgap-wallet',\n    universalLink: 'wallet.airgap.it'\n  },\n  otherApp: {\n    name: 'AirGap Vault',\n    urlScheme: 'airgap-vault',\n    universalLink: 'vault.airgap.it'\n  }\n}\n","import { Component } from '@angular/core'\nimport { ModalController, NavParams } from '@ionic/angular'\n\nimport { ExchangeEnum, ExchangeProvider } from './../../services/exchange/exchange'\n\n@Component({\n  selector: 'page-exchange-select',\n  templateUrl: 'exchange-select.page.html'\n})\nexport class ExchangeSelectPage {\n  public selectedExchange: ExchangeEnum\n  public ExchangeEnum: typeof ExchangeEnum = ExchangeEnum\n\n  constructor(public navParams: NavParams, public viewCtrl: ModalController, private readonly exchangeProvider: ExchangeProvider) {\n    this.selectedExchange = this.navParams.get('activeExchange')\n  }\n  public async dismiss(): Promise<void> {\n    await this.viewCtrl.dismiss()\n  }\n\n  public async onModelChange(): Promise<void> {\n    this.exchangeProvider.setActiveExchange(this.selectedExchange)\n    await this.viewCtrl.dismiss()\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-toolbar>\n      <ion-buttons slot=\"start\">\n        <ion-back-button defaultHref=\"/\"></ion-back-button>\n      </ion-buttons>\n      <ion-title>{{ 'exchange-select.title' | translate }}</ion-title>\n      <ion-buttons slot=\"end\">\n        <ion-button (click)=\"dismiss()\" fill=\"clear\" color=\"secondary\">\n          <ion-icon name=\"close-outline\" slot=\"icon-only\"></ion-icon>\n        </ion-button>\n      </ion-buttons>\n    </ion-toolbar>\n  </ion-grid>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-list lines=\"none\">\n      <ion-radio-group [(ngModel)]=\"selectedExchange\" (ngModelChange)=\"onModelChange()\" lines=\"none\" name=\"selectedExchange\" required>\n        <ion-item>\n          <ion-label>ChangeNow</ion-label>\n          <ion-radio slot=\"end\" [value]=\"ExchangeEnum.CHANGENOW\"></ion-radio>\n        </ion-item>\n        <ion-item>\n          <ion-label>Changelly</ion-label>\n          <ion-radio slot=\"end\" [value]=\"ExchangeEnum.CHANGELLY\"></ion-radio>\n        </ion-item>\n        <ion-item>\n          <ion-label>Quipuswap</ion-label>\n          <ion-radio slot=\"end\" [value]=\"ExchangeEnum.QUIPUSWAP\"></ion-radio>\n        </ion-item>\n      </ion-radio-group>\n    </ion-list>\n  </ion-grid>\n</ion-content>\n","import { UIResource } from '@airgap/angular-core'\nimport { ICoinProtocol, ProtocolNetwork } from '@airgap/coinlib-core'\n\nexport enum TokenInterface {\n  FA1p2 = 'TZIP-007',\n  FA2 = 'TZIP-012'\n}\n\nexport interface TokenDetails {\n  id: number\n  name: string\n}\n\nexport interface TokenDetailsInput { \n  address: string\n  networkIdentifier: string\n  tokenInterface?: TokenInterface\n  tokenID?: number\n}\n\nexport interface TezosFAFormState {\n  tokenInterface: UIResource<TokenInterface>\n  tokenID: UIResource<number>\n\n  tokenInterfaces: TokenInterface[]\n  tokens: TokenDetails[]\n  networks: ProtocolNetwork[]\n\n  protocol: UIResource<ICoinProtocol>\n  \n  errorDescription: string | undefined\n}\n\n// error\n\nexport enum TezosFAFormErrorType {\n  CONTRACT_NOT_FOUND = 'contract-not-found',\n  INTERFACE_UNKNOWN = 'interface-unknown',\n  TOKEN_METADATA_MISSING = 'token-metadata-missing',\n  TOKEN_VAGUE = 'token-vague',\n  UNKNOWN = 'unknown'\n}\n\ninterface TezosFAFormBaseError<T extends TezosFAFormErrorType> {\n  type: T\n}\n\nexport interface ContractNotFoundError extends TezosFAFormBaseError<TezosFAFormErrorType.CONTRACT_NOT_FOUND> {}\nexport interface InterfaceUnknownError extends TezosFAFormBaseError<TezosFAFormErrorType.INTERFACE_UNKNOWN> { tokenInterfaces: TokenInterface[] }\nexport interface TokenMetadataMissingError extends TezosFAFormBaseError<TezosFAFormErrorType.TOKEN_METADATA_MISSING> {}\nexport interface TokenVagueError extends TezosFAFormBaseError<TezosFAFormErrorType.TOKEN_VAGUE> { tokens: TokenDetails[] }\nexport interface UnknownError extends TezosFAFormBaseError<TezosFAFormErrorType.UNKNOWN> {\n  error?: any\n}\n\nexport type TezosFAFormError = \n  | ContractNotFoundError \n  | InterfaceUnknownError \n  | TokenMetadataMissingError \n  | TokenVagueError \n  | UnknownError\n","import { ICoinProtocol, ICoinDelegateProtocol, TezosProtocol } from '@airgap/coinlib-core'\nimport { IAirGapCoinDelegateProtocol } from '../interfaces/IAirGapCoinDelegateProtocol'\nimport { MainProtocolSymbols, SubProtocolSymbols } from '@airgap/coinlib-core'\n\nexport function supportsDelegation(protocol: ICoinProtocol): protocol is ICoinDelegateProtocol {\n  const delegateProtocol = protocol as ICoinDelegateProtocol\n\n  // temporary until Tezos subprotocols stop inherit TezosProtocol and implement ICoinDelegateProtocol\n  const supportingTezosProtocols: string[] = [MainProtocolSymbols.XTZ, SubProtocolSymbols.XTZ_KT]\n  if (delegateProtocol instanceof TezosProtocol && !supportingTezosProtocols.includes(delegateProtocol.identifier)) {\n    return false\n  }\n\n  return (\n    !!delegateProtocol.getDefaultDelegatee &&\n    !!delegateProtocol.getCurrentDelegateesForPublicKey &&\n    !!delegateProtocol.getCurrentDelegateesForAddress &&\n    !!delegateProtocol.getDelegateeDetails &&\n    !!delegateProtocol.isPublicKeyDelegating &&\n    !!delegateProtocol.isAddressDelegating &&\n    !!delegateProtocol.getDelegationDetailsFromPublicKey &&\n    !!delegateProtocol.getDelegationDetailsFromAddress &&\n    !!delegateProtocol.prepareDelegatorActionFromPublicKey\n  )\n}\n\nexport function supportsAirGapDelegation(protocol: ICoinProtocol): protocol is IAirGapCoinDelegateProtocol {\n  const delegateProtocol = protocol as IAirGapCoinDelegateProtocol\n  return (\n    delegateProtocol.delegateeLabel !== undefined &&\n    delegateProtocol.delegateeLabelPlural !== undefined &&\n    delegateProtocol.supportsMultipleDelegations !== undefined &&\n    !!delegateProtocol.getExtraDelegationDetailsFromAddress &&\n    !!delegateProtocol.getRewardDisplayDetails &&\n    !!delegateProtocol.createDelegateesSummary &&\n    !!delegateProtocol.createAccountExtendedDetails &&\n    !!delegateProtocol.getRewardDisplayDetails\n  )\n}\n","import { AirGapMarketWallet, FeeDefaults, ProtocolSymbols } from '@airgap/coinlib-core'\nimport { HttpClient } from '@angular/common/http'\nimport { BigNumber } from 'bignumber.js'\n\nimport { OperationsProvider } from '../operations/operations'\n\nimport { Exchange, ExchangeIdentifier, ExchangeTransaction, ExchangeTransactionStatusResponse, ExchangeUI } from './exchange.interface'\n\n// tslint:disable:max-classes-per-file\n\nexport interface CreateTransactionResponse {\n  amountExpectedFrom: string\n  amountExpectedTo: string\n  amountTo: number\n  apiExtraFee: string\n  changellyFee: string\n  createdAt: string\n  currencyFrom: string\n  currencyTo: string\n  id: string\n  kycRequired: boolean\n  payinAddress: string\n  payinExtraId: null\n  payoutAddress: string\n  status: string\n}\n\ninterface JsonRpcWrapper<T> {\n  id: string\n  jsonrpc: string\n  method: string\n  params: T\n}\n\ninterface JsonRpcResponseError {\n  code: number\n  message: string\n}\n\ninterface JsonRpcReturnWrapper<T> {\n  id: string\n  jsonrpc: string\n  method: string\n  result?: T\n  error?: JsonRpcResponseError\n}\n\nexport class ChangellyTransactionStatusResponse implements ExchangeTransactionStatusResponse {\n  public status: string\n\n  constructor(status: string) {\n    this.status = status\n  }\n\n  public isPending(): boolean {\n    switch (this.status) {\n      case 'finished':\n      case 'failed':\n      case 'refunded':\n      case 'expired':\n        return false\n      default:\n        return true\n    }\n  }\n}\n\nclass ChangellyApi {\n  private readonly identifierExchangeToAirGapMap: Map<ExchangeIdentifier, ProtocolSymbols> = new Map<ExchangeIdentifier, ProtocolSymbols>()\n  private readonly identifierAirGapToExchangeMap: Map<ProtocolSymbols, ExchangeIdentifier> = new Map<ProtocolSymbols, ExchangeIdentifier>()\n\n  constructor(\n    protected readonly operationsProvider: OperationsProvider,\n    protected readonly http: HttpClient,\n    protected readonly baseURL: string = 'https://swap.airgap.prod.gke.papers.tech/'\n  ) {\n    this.identifierExchangeToAirGapMap.set('rep', 'eth-erc20-repv2' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('usdt', 'eth-erc20-usdt' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('rlc', 'eth-erc20-rlc' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('gno', 'eth-erc20-gno' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('bat', 'eth-erc20-bat' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('bnt', 'eth-erc20-bnt' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('omg', 'eth-erc20-omg' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('zrx', 'eth-erc20-zrx' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('storj', 'eth-erc20-storj' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('nmr', 'eth-erc20-nmr' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('aion', 'eth-erc20-aion' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('ant', 'eth-erc20-ant' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('bnb', 'eth-erc20-bnb' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('busd', 'eth-erc20-busd' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('cro', 'eth-erc20-cro' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('dai', 'eth-erc20-dai' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('enj', 'eth-erc20-enj' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('fet', 'eth-erc20-fet' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('ht', 'eth-erc20-ht' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('knc', 'eth-erc20-knc' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('lrc', 'eth-erc20-lrc' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('mana', 'eth-erc20-mana' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('mco', 'eth-erc20-mco' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('mkr', 'eth-erc20-mkr' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('pax', 'eth-erc20-pax' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('paxg', 'eth-erc20-paxg' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('tusd', 'eth-erc20-tusd' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('usdc', 'eth-erc20-usdc' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('vet', 'eth-erc20-ven' as ProtocolSymbols)\n\n    this.identifierAirGapToExchangeMap.set('eth-erc20-repv2' as ProtocolSymbols, 'rep')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-usdt' as ProtocolSymbols, 'usdt')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-rlc' as ProtocolSymbols, 'rlc')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-gno' as ProtocolSymbols, 'gno')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-bat' as ProtocolSymbols, 'bat')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-bnt' as ProtocolSymbols, 'bnt')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-omg' as ProtocolSymbols, 'omg')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-zrx' as ProtocolSymbols, 'zrx')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-storj' as ProtocolSymbols, 'storj')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-nmr' as ProtocolSymbols, 'nmr')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-aion' as ProtocolSymbols, 'aion')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-ant' as ProtocolSymbols, 'ant')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-bnb' as ProtocolSymbols, 'bnb')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-busd' as ProtocolSymbols, 'busd')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-cro' as ProtocolSymbols, 'cro')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-dai' as ProtocolSymbols, 'dai')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-enj' as ProtocolSymbols, 'enj')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-fet' as ProtocolSymbols, 'fet')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-ht' as ProtocolSymbols, 'ht')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-knc' as ProtocolSymbols, 'knc')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-lrc' as ProtocolSymbols, 'lrc')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-mana' as ProtocolSymbols, 'mana')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-mco' as ProtocolSymbols, 'mco')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-mkr' as ProtocolSymbols, 'mkr')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-pax' as ProtocolSymbols, 'pax')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-paxg' as ProtocolSymbols, 'paxg')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-tusd' as ProtocolSymbols, 'tusd')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-usdc' as ProtocolSymbols, 'usdc')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-ven' as ProtocolSymbols, 'vet')\n  }\n\n  public async makeJsonRpcCall<T, R>(method: string, params: T): Promise<R> {\n    const wrapper: JsonRpcWrapper<T> = {\n      id: Math.random().toString(36).substring(6),\n      jsonrpc: '2.0',\n      method,\n      params\n    }\n    const response: JsonRpcReturnWrapper<R> = await this.http.post<JsonRpcReturnWrapper<R>>(this.baseURL, wrapper).toPromise()\n    if (response.result) {\n      return response.result\n    } else {\n      throw new Error(JSON.stringify(response.error))\n    }\n  }\n\n  public convertExchangeIdentifierToAirGapIdentifier(identifiers: ExchangeIdentifier[]): ProtocolSymbols[] {\n    return identifiers.map((identifier: ExchangeIdentifier) => {\n      return this.identifierExchangeToAirGapMap.has(identifier)\n        ? this.identifierExchangeToAirGapMap.get(identifier)\n        : (identifier as ProtocolSymbols)\n    })\n  }\n\n  public convertAirGapIdentifierToExchangeIdentifier(identifiers: ProtocolSymbols[]): ExchangeIdentifier[] {\n    return identifiers.map((identifier: ProtocolSymbols) => {\n      return this.identifierAirGapToExchangeMap.has(identifier) ? this.identifierAirGapToExchangeMap.get(identifier) : identifier\n    })\n  }\n\n  public async getAvailableFromCurrencies(): Promise<ProtocolSymbols[]> {\n    const method: string = 'getCurrencies'\n    const params: {} = {}\n    const result: ExchangeIdentifier[] = await this.makeJsonRpcCall<Object, ExchangeIdentifier[]>(method, params)\n\n    return this.convertExchangeIdentifierToAirGapIdentifier(result)\n  }\n\n  public async getMinAmountForCurrency(fromCurrency: ProtocolSymbols, toCurrency: ProtocolSymbols): Promise<string> {\n    const transformedFromCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([fromCurrency])[0]\n    const transformedToCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([toCurrency])[0]\n    const method: string = 'getMinAmount'\n\n    return this.makeJsonRpcCall<Object, string>(method, {\n      from: transformedFromCurrency,\n      to: transformedToCurrency\n    })\n  }\n\n  public async getMaxExchangeAmountForCurrency(_fromCurrency: string, _toCurrency: string): Promise<string | undefined> {\n    return undefined\n  }\n\n  public async getExchangeAmount(fromCurrency: ProtocolSymbols, toCurrency: ProtocolSymbols, amount: string, _data: any): Promise<string> {\n    const transformedFromCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([fromCurrency])[0]\n    const transformedToCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([toCurrency])[0]\n    const method: string = 'getExchangeAmount'\n\n    return this.makeJsonRpcCall<Object, string>(method, {\n      from: transformedFromCurrency,\n      to: transformedToCurrency,\n      amount\n    })\n  }\n\n  public async validateAddress(currency: ProtocolSymbols, address: string): Promise<{ result: false; message: string }> {\n    const transformedCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([currency])[0]\n\n    const method: string = 'validateAddress'\n\n    return this.makeJsonRpcCall<Object, { result: false; message: string }>(method, {\n      currency: transformedCurrency,\n      address\n    })\n  }\n\n  public async estimateFee(\n    fromWallet: AirGapMarketWallet,\n    _toWallet: AirGapMarketWallet,\n    amount: string,\n    _data: any\n  ): Promise<FeeDefaults | undefined> {\n    const shiftedAmount = new BigNumber(amount).shiftedBy(fromWallet.protocol.decimals)\n    const isAmountValid = !shiftedAmount.isNaN() && shiftedAmount.gt(0)\n\n    return isAmountValid ? this.operationsProvider.estimateFees(fromWallet, fromWallet.addresses[0], shiftedAmount) : undefined\n  }\n\n  public async createTransaction(\n    fromWallet: AirGapMarketWallet,\n    toWallet: AirGapMarketWallet,\n    amount: string,\n    fee: string,\n    _data: any\n  ): Promise<ExchangeTransaction> {\n    const transformedFromCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([\n      fromWallet.protocol.identifier\n    ])[0]\n    const transformedToCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([toWallet.protocol.identifier])[0]\n\n    const method: string = 'createTransaction'\n\n    const response: CreateTransactionResponse = await this.makeJsonRpcCall<Object, CreateTransactionResponse>(method, {\n      from: transformedFromCurrency,\n      to: transformedToCurrency,\n      address: toWallet.receivingPublicAddress,\n      amount\n    })\n\n    return {\n      id: response.id,\n      payoutAddress: response.payoutAddress,\n      payinAddress: response.payinAddress,\n      amountExpectedFrom: response.amountExpectedFrom,\n      amountExpectedTo: response.amountExpectedTo,\n      fee,\n      exchangeResult: response,\n      memo: response.payinExtraId\n    }\n  }\n\n  public async getStatus(transactionId: string): Promise<ExchangeTransactionStatusResponse> {\n    const method: string = 'getStatus'\n\n    const statusString: string = await this.makeJsonRpcCall<Object, string>(method, {\n      id: transactionId\n    })\n\n    return new ChangellyTransactionStatusResponse(statusString)\n  }\n\n  public async getCustomUI(): Promise<ExchangeUI> {\n    return { widgets: [] }\n  }\n}\n\nexport class ChangellyExchange extends ChangellyApi implements Exchange {\n  constructor(operationsProvider: OperationsProvider, http: HttpClient) {\n    super(operationsProvider, http)\n  }\n\n  public async getAvailableToCurrenciesForCurrency(selectedFrom: ProtocolSymbols): Promise<ProtocolSymbols[]> {\n    const availableCurrencies: ProtocolSymbols[] = await this.getAvailableFromCurrencies()\n\n    return availableCurrencies.filter((availableCurrency: ProtocolSymbols) => availableCurrency !== selectedFrom)\n  }\n}\n","import { AirGapMarketWallet, ICoinDelegateProtocol } from '@airgap/coinlib-core'\nimport BigNumber from 'bignumber.js'\nimport { AirGapDelegationDetails, IAirGapCoinDelegateProtocol } from 'src/app/interfaces/IAirGapCoinDelegateProtocol'\nimport { UIAccountExtendedDetails } from 'src/app/models/widgets/display/UIAccountExtendedDetails'\nimport { UIAccountSummary } from 'src/app/models/widgets/display/UIAccountSummary'\nimport { UIRewardList } from 'src/app/models/widgets/display/UIRewardList'\nimport { UIInputText, UIInputTextConfig } from 'src/app/models/widgets/input/UIInputText'\n\nexport abstract class ProtocolDelegationExtensions<T extends ICoinDelegateProtocol> {\n  private static readonly extensionProperitesWithType: [keyof IAirGapCoinDelegateProtocol, 'property' | 'function'][] = [\n    ['delegateeLabel', 'property'],\n    ['airGapDelegatee', 'function'],\n    ['delegateeLabelPlural', 'property'],\n    ['supportsMultipleDelegations', 'property'],\n    ['getExtraDelegationDetailsFromAddress', 'function'],\n    ['createDelegateesSummary', 'function'],\n    ['getRewardDisplayDetails', 'function'],\n    ['createAccountExtendedDetails', 'function']\n  ]\n\n  public static async load<T extends ICoinDelegateProtocol>(\n    protocol: new () => T,\n    extensionFactory: () => Promise<ProtocolDelegationExtensions<T>>\n  ) {\n    const alreadyLoaded = this.extensionProperitesWithType\n      .map(([propertyKey, _]) => this.hasProperty(protocol, propertyKey))\n      .some((hasProperty) => hasProperty)\n\n    if (!alreadyLoaded) {\n      const extensions = await extensionFactory()\n      this.extend(protocol, extensions, ...this.extensionProperitesWithType)\n    }\n  }\n\n  private static hasProperty(target: any, propertyKey: string): boolean {\n    return target.prototype[propertyKey] !== undefined\n  }\n\n  private static extend(target: any, extensions: any, ...keys: [string, 'property' | 'function'][]) {\n    for (let [key, type] of keys) {\n      let extendMethod: (target: any, owner: any, key: string) => void\n      switch (type) {\n        case 'property':\n          extendMethod = this.extendWithProperty\n          break\n        case 'function':\n          extendMethod = this.extendWithFunction\n          break\n      }\n      extendMethod(target, extensions, key)\n    }\n  }\n\n  private static extendWithProperty(target: any, owner: any, propertyKey: string) {\n    if (delete target.prototype[propertyKey] && owner[propertyKey] !== undefined) {\n      Object.defineProperty(target.prototype, propertyKey, {\n        value: owner[propertyKey],\n        enumerable: false,\n        writable: false,\n        configurable: false\n      })\n    }\n  }\n\n  private static extendWithFunction(target: any, owner: any, propertyKey: string) {\n    if (owner[propertyKey] !== undefined) {\n      target.prototype[propertyKey] = function (...args) {\n        return owner[propertyKey](this, ...args)\n      }\n    }\n  }\n\n  public abstract airGapDelegatee(protocol: T): string | undefined\n  public abstract delegateeLabel: string\n  public abstract delegateeLabelPlural: string\n  public abstract supportsMultipleDelegations: boolean\n\n  public abstract getExtraDelegationDetailsFromAddress(\n    protocol: T,\n    delegator: string,\n    delegatees: string[]\n  ): Promise<AirGapDelegationDetails[]>\n\n  public getRewardDisplayDetails(_protocol: T, _delegator: string, _delegatees: string[]): Promise<UIRewardList | undefined> {\n    return undefined // by default display no rewards\n  }\n\n  public async createDelegateesSummary(protocol: T, delegatees: string[]): Promise<UIAccountSummary[]> {\n    const delegateesDetails = await Promise.all(delegatees.map((delegatee) => protocol.getDelegateeDetails(delegatee)))\n    return delegateesDetails.map(\n      (details) =>\n        new UIAccountSummary({\n          address: details.address,\n          header: [details.name, ''],\n          description: [details.address, '']\n        })\n    )\n  }\n\n  public async createAccountExtendedDetails(_protocol: T, _address: string): Promise<UIAccountExtendedDetails> {\n    // default implementation provides no details\n    return new UIAccountExtendedDetails({\n      items: []\n    })\n  }\n\n  protected createAmountWidget(id: string, maxValue?: string, minValue?: string, config: Partial<UIInputTextConfig> = {}): UIInputText {\n    return new UIInputText({\n      id,\n      inputType: 'number',\n      label: 'delegation-detail.amount_label',\n      placeholder: '0.00',\n      defaultValue: maxValue || minValue,\n      toggleFixedValueButton: maxValue !== undefined ? 'delegation-detail.max-amount_button' : undefined,\n      fixedValue: maxValue,\n      errorLabel: 'delegation-detail.invalid-value_error',\n      createExtraLabel: (value: string, wallet?: AirGapMarketWallet) => {\n        if (wallet) {\n          const marketPrice = new BigNumber(value || 0).multipliedBy(wallet.currentMarketPrice)\n          return `$${marketPrice.toFixed(2)}`\n        } else {\n          return ''\n        }\n      },\n      ...config\n    })\n  }\n}\n","import { AddressService, AmountConverterPipe } from '@airgap/angular-core'\nimport { DecimalPipe } from '@angular/common'\nimport { Injectable } from '@angular/core'\nimport { FormBuilder } from '@angular/forms'\nimport { TranslateService } from '@ngx-translate/core'\nimport {\n  CosmosProtocol,\n  ICoinDelegateProtocol,\n  KusamaProtocol,\n  MoonbaseProtocol,\n  MoonriverProtocol,\n  PolkadotProtocol,\n  TezosProtocol\n} from '@airgap/coinlib-core'\nimport { CosmosDelegationExtensions } from 'src/app/extensions/delegation/CosmosDelegationExtensions'\nimport { ProtocolDelegationExtensions } from 'src/app/extensions/delegation/ProtocolDelegationExtensions'\nimport { SubstrateDelegationExtensions } from 'src/app/extensions/delegation/SubstrateDelegationExtensions'\nimport { TezosDelegationExtensions } from 'src/app/extensions/delegation/TezosDelegationExtensions'\nimport { ShortenStringPipe } from 'src/app/pipes/shorten-string/shorten-string.pipe'\n\nimport { CoinlibService } from '../coinlib/coinlib.service'\nimport { MoonbeamDelegationExtensions } from 'src/app/extensions/delegation/MoonbeamDelegationExtensions'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ExtensionsService {\n  private extensions: [new () => ICoinDelegateProtocol, () => Promise<ProtocolDelegationExtensions<any>>][] = [\n    [\n      KusamaProtocol,\n      async () =>\n        SubstrateDelegationExtensions.create(\n          this.formBuilder,\n          this.decimalPipe,\n          this.amountConverterPipe,\n          this.shortenStringPipe,\n          this.translateService\n        )\n    ],\n    [\n      PolkadotProtocol,\n      async () =>\n        SubstrateDelegationExtensions.create(\n          this.formBuilder,\n          this.decimalPipe,\n          this.amountConverterPipe,\n          this.shortenStringPipe,\n          this.translateService\n        )\n    ],\n    [\n      TezosProtocol,\n      async () =>\n        TezosDelegationExtensions.create(\n          this.coinlibService,\n          this.decimalPipe,\n          this.amountConverterPipe,\n          this.shortenStringPipe,\n          this.translateService,\n          this.addressService,\n          this.formBuilder\n        )\n    ],\n    [\n      CosmosProtocol,\n      async () =>\n        CosmosDelegationExtensions.create(\n          this.coinlibService,\n          this.formBuilder,\n          this.decimalPipe,\n          this.amountConverterPipe,\n          this.shortenStringPipe,\n          this.translateService\n        )\n    ],\n    [\n      MoonbaseProtocol,\n      async () => MoonbeamDelegationExtensions.create(this.formBuilder, this.decimalPipe, this.amountConverterPipe, this.translateService)\n    ],\n    [\n      MoonriverProtocol,\n      async () => MoonbeamDelegationExtensions.create(this.formBuilder, this.decimalPipe, this.amountConverterPipe, this.translateService)\n    ]\n  ]\n\n  public constructor(\n    private readonly formBuilder: FormBuilder,\n    private readonly decimalPipe: DecimalPipe,\n    private readonly amountConverterPipe: AmountConverterPipe,\n    private readonly shortenStringPipe: ShortenStringPipe,\n    private readonly translateService: TranslateService,\n    private readonly coinlibService: CoinlibService,\n    private readonly addressService: AddressService\n  ) {}\n\n  public async loadDelegationExtensions(): Promise<void> {\n    await Promise.all(\n      this.extensions.map(async ([protocol, extensionFactory]) => await ProtocolDelegationExtensions.load(protocol, extensionFactory))\n    )\n  }\n}\n","import { Platform } from '@ionic/angular'\nimport { Injectable } from '@angular/core'\nimport { LedgerConnectionType, LedgerConnectionDetails, LedgerConnection } from 'src/app/ledger/connection/LedgerConnection'\nimport { LedgerConnectionElectron } from 'src/app/ledger/connection/LedgerConnectionElectron'\nimport { LedgerConnectionBrowser } from 'src/app/ledger/connection/LedgerConnectionBrowser'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LedgerConnectionProvider {\n  constructor(private readonly platform: Platform) {}\n\n  public async getConnectedDevices(protocolIdentifier: string, connectionType: LedgerConnectionType): Promise<LedgerConnectionDetails[]> {\n    if (this.platform.is('electron')) {\n      return LedgerConnectionElectron.getConnectedDevices(connectionType)\n    }\n\n    if (!this.platform.is('android') && !this.platform.is('ios')) {\n      return LedgerConnectionBrowser.getConnectedDevices(protocolIdentifier, connectionType)\n    }\n\n    return []\n  }\n\n  public async open(protocolIdentifier: string, ledgerConnection?: LedgerConnectionDetails): Promise<LedgerConnection | null> {\n    const connectionType: LedgerConnectionType | undefined = ledgerConnection ? ledgerConnection.type : undefined\n    const descriptor: string | undefined = ledgerConnection ? ledgerConnection.descriptor : undefined\n\n    if (this.platform.is('electron')) {\n      return LedgerConnectionElectron.open(connectionType, descriptor)\n    }\n\n    if (!this.platform.is('android') && !this.platform.is('ios')) {\n      return LedgerConnectionBrowser.open(protocolIdentifier, connectionType, descriptor)\n    }\n\n    return null\n  }\n}\n","import {\n  AirGapAngularCoreModule,\n  AirGapTranslateLoader,\n  AppInfo,\n  APP_CONFIG,\n  APP_INFO_PLUGIN,\n  APP_LAUNCHER_PLUGIN,\n  APP_PLUGIN,\n  ClipboardService,\n  CLIPBOARD_PLUGIN,\n  DeeplinkService,\n  FeeConverterPipe,\n  FILESYSTEM_PLUGIN,\n  PermissionsService,\n  QrScannerService,\n  SerializerService,\n  SPLASH_SCREEN_PLUGIN,\n  STATUS_BAR_PLUGIN\n} from '@airgap/angular-core'\nimport { AirGapAngularNgRxModule } from '@airgap/angular-ngrx'\nimport { CommonModule, DecimalPipe, PercentPipe } from '@angular/common'\nimport { HttpClient, HttpClientModule } from '@angular/common/http'\nimport { NgModule } from '@angular/core'\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms'\nimport { BrowserModule } from '@angular/platform-browser'\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'\nimport { RouteReuseStrategy } from '@angular/router'\nimport { App } from '@capacitor/app'\nimport { Browser } from '@capacitor/browser'\nimport { Clipboard } from '@capacitor/clipboard'\nimport { PushNotifications } from '@capacitor/push-notifications'\nimport { Share } from '@capacitor/share'\nimport { SplashScreen } from '@capacitor/splash-screen'\nimport { StatusBar } from '@capacitor/status-bar'\nimport { Diagnostic } from '@ionic-native/diagnostic/ngx'\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular'\nimport { IonicStorageModule } from '@ionic/storage'\nimport { EffectsModule } from '@ngrx/effects'\nimport { StoreModule } from '@ngrx/store'\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core'\nimport { ZXingScannerModule } from '@zxing/ngx-scanner'\nimport { ChartsModule } from 'ng2-charts'\nimport { MomentModule } from 'ngx-moment'\n\nimport { AppRoutingModule } from './app-routing.module'\nimport { AppComponent } from './app.component'\nimport * as fromRoot from './app.reducers'\nimport { BROWSER_PLUGIN, PUSH_NOTIFICATIONS_PLUGIN, SAPLING_PLUGIN, SHARE_PLUGIN } from './capacitor-plugins/injection-tokens'\nimport { ComponentsModule } from './components/components.module'\nimport { appConfig } from './config/app-config'\nimport { BeaconRequestPageModule } from './pages/beacon-request/beacon-request.module'\nimport { BeaconRequestPage } from './pages/beacon-request/beacon-request.page'\nimport { ExchangeSelectPageModule } from './pages/exchange-select/exchange-select.module'\nimport { ExchangeSelectPage } from './pages/exchange-select/exchange-select.page'\nimport { IntroductionPushPage } from './pages/introduction-push/introduction-push'\nimport { IntroductionPushPageModule } from './pages/introduction-push/introduction-push.module'\nimport { ProtocolSelectPage } from './pages/protocol-select/protocol-select'\nimport { ProtocolSelectPageModule } from './pages/protocol-select/protocol-select.module'\nimport { PipesModule } from './pipes/pipes.module'\nimport { ShortenStringPipe } from './pipes/shorten-string/shorten-string.pipe'\nimport { AccountProvider } from './services/account/account.provider'\nimport { DrawChartService } from './services/draw-chart/draw-chart.service'\nimport { ExchangeProvider } from './services/exchange/exchange'\nimport { ExtensionsService } from './services/extensions/extensions.service'\nimport { ProtocolGuard } from './services/guard/protocol.guard'\nimport { ServiceKeyGuard } from './services/guard/serviceKey.guard'\nimport { TransactionHashGuard } from './services/guard/transactionHash.guard'\nimport { IACService } from './services/iac/iac.service'\nimport { LedgerService } from './services/ledger/ledger-service'\nimport { MarketDataService } from './services/market-data/market-data.service'\nimport { OperationsProvider } from './services/operations/operations'\nimport { PushBackendProvider } from './services/push-backend/push-backend'\nimport { PushProvider } from './services/push/push'\nimport { CoinlibService } from './services/coinlib/coinlib.service'\nimport { WalletStorageService } from './services/storage/storage'\nimport { SaplingService } from './services/sapling/sapling.service'\nimport { InteractionService } from './services/interaction/interaction.service'\nimport { SaplingNative } from './capacitor-plugins/definitions'\nimport { AppLauncher } from '@capacitor/app-launcher'\nimport { Filesystem } from '@capacitor/filesystem'\n\nexport function createTranslateLoader(http: HttpClient): AirGapTranslateLoader {\n  return new AirGapTranslateLoader(http, { prefix: './assets/i18n/', suffix: '.json' })\n}\n\n@NgModule({\n  declarations: [AppComponent],\n  entryComponents: [ProtocolSelectPage, IntroductionPushPage, BeaconRequestPage, ExchangeSelectPage],\n  exports: [],\n  imports: [\n    BrowserModule,\n    ChartsModule,\n    BrowserAnimationsModule,\n    ReactiveFormsModule,\n    FormsModule,\n    CommonModule,\n    AirGapAngularCoreModule,\n    AirGapAngularNgRxModule,\n    StoreModule.forRoot(fromRoot.reducers, {\n      metaReducers: fromRoot.metaReducers,\n      /* temporary fix for `ERROR TypeError: Cannot freeze array buffer views with elements` */\n      runtimeChecks: {\n        strictStateImmutability: false,\n        strictActionImmutability: false\n      }\n    }),\n    EffectsModule.forRoot(),\n    ZXingScannerModule,\n    MomentModule,\n    IonicModule.forRoot(),\n    AppRoutingModule,\n    HttpClientModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: createTranslateLoader,\n        deps: [HttpClient]\n      }\n    }),\n    IonicStorageModule.forRoot({\n      name: '__airgap_storage',\n      driverOrder: ['sqlite', 'localstorage']\n    }),\n    PipesModule,\n    ComponentsModule,\n    ProtocolSelectPageModule,\n    BeaconRequestPageModule,\n    ExchangeSelectPageModule,\n    IntroductionPushPageModule\n  ],\n  providers: [\n    { provide: APP_PLUGIN, useValue: App },\n    { provide: APP_INFO_PLUGIN, useValue: AppInfo },\n    { provide: APP_LAUNCHER_PLUGIN, useValue: AppLauncher },\n    { provide: BROWSER_PLUGIN, useValue: Browser },\n    { provide: CLIPBOARD_PLUGIN, useValue: Clipboard },\n    { provide: FILESYSTEM_PLUGIN, useValue: Filesystem },\n    { provide: PUSH_NOTIFICATIONS_PLUGIN, useValue: PushNotifications },\n    { provide: SAPLING_PLUGIN, useValue: SaplingNative },\n    { provide: SHARE_PLUGIN, useValue: Share },\n    { provide: SPLASH_SCREEN_PLUGIN, useValue: SplashScreen },\n    { provide: STATUS_BAR_PLUGIN, useValue: StatusBar },\n    { provide: APP_CONFIG, useValue: appConfig },\n    DecimalPipe,\n    ShortenStringPipe,\n    MarketDataService,\n    DrawChartService,\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy },\n    QrScannerService,\n    Diagnostic,\n    AccountProvider,\n    WalletStorageService,\n    IACService,\n    ClipboardService,\n    PermissionsService,\n    DeeplinkService,\n    OperationsProvider,\n    ExtensionsService,\n    ExchangeProvider,\n    CoinlibService,\n    PushProvider,\n    PushBackendProvider,\n    SaplingService,\n    SerializerService,\n    LedgerService,\n    ProtocolGuard,\n    ServiceKeyGuard,\n    TransactionHashGuard,\n    PercentPipe,\n    FeeConverterPipe,\n    InteractionService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n","import { Component, Input } from '@angular/core'\nimport { IAirGapTransaction, AirGapMarketWallet } from '@airgap/coinlib-core'\nimport { DataService, DataServiceKey } from 'src/app/services/data/data.service'\nimport { Router } from '@angular/router'\n//import { handleErrorSentry, ErrorCategory } from 'src/app/services/sentry-error-handler/sentry-error-handler'\nimport { BrowserService } from 'src/app/services/browser/browser.service'\n\n@Component({\n  selector: 'transaction-list',\n  templateUrl: './transaction-list.component.html',\n  styleUrls: ['./transaction-list.component.scss']\n})\nexport class TransactionListComponent {\n  constructor(public readonly dataService: DataService, public readonly router: Router, private readonly browserService: BrowserService) {}\n\n  @Input()\n  public transactions: IAirGapTransaction[] = []\n\n  @Input()\n  public isRefreshing: boolean = false\n\n  @Input()\n  public transactionType: any\n\n  @Input()\n  public hasPendingTransactions: boolean = false\n\n  @Input()\n  public hasExchangeTransactions: boolean = false\n\n  @Input()\n  public initialTransactionsLoaded: boolean = false\n\n  @Input()\n  public wallet: AirGapMarketWallet\n\n  public async openBlockexplorer(): Promise<void> {\n    const blockexplorer = await this.wallet.protocol.getBlockExplorerLinkForAddress(this.wallet.addresses[0])\n\n    this.browserService.openUrl(blockexplorer)\n  }\n\n  public async openTransactionDetailPage(transaction: IAirGapTransaction): Promise<void> {\n    this.dataService.setData(DataServiceKey.DETAIL, transaction)\n    await this.dataService.set(transaction.hash as DataServiceKey, transaction)\n    this.router.navigateByUrl(`/transaction-detail/${DataServiceKey.DETAIL}/${transaction.hash}`).catch(console.error)\n    //.catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n}\n","<ion-row *ngIf=\"transactionType === 'pendingTransaction' && hasPendingTransactions\">\n  <ion-col size=\"10\" class=\"ion-padding-horizontal\">\n    <ion-text class=\"font--weight__bold\" color=\"primary\">\n      <p class=\"ion-no-margin\">{{ 'account-transaction-list.pending-transactions.label' | translate }}</p>\n    </ion-text>\n  </ion-col>\n  <ion-col size=\"12\" class=\"ion-no-padding\">\n    <ion-button (click)=\"openBlockexplorer()\" fill=\"outline\" color=\"secondary\" shape=\"round\" slot=\"start\" size=\"small\">\n      <ion-icon slot=\"start\" name=\"open\"></ion-icon>\n      {{ 'account-transaction-list.pending-transactions.open-blockexplorer_label' | translate }}\n    </ion-button>\n  </ion-col>\n</ion-row>\n\n<ion-row class=\"ion-padding-horizontal\" *ngIf=\"transactionType === 'exchangeTransaction' && hasExchangeTransactions\">\n  <ion-text class=\"font--weight__bold\" color=\"primary\">\n    <p>{{ 'account-transaction-list.pending-exchange-transactions.label' | translate }}</p>\n  </ion-text>\n</ion-row>\n\n<ion-list lines=\"none\" class=\"ion-padding-bottom\" *ngIf=\"transactions !== undefined && transactions.length > 0\">\n  <ng-container *ngFor=\"let tx of transactions\">\n    <transaction-item [tx]=\"tx\" [transactionType]=\"transactionType\" (click)=\"openTransactionDetailPage(tx)\"></transaction-item>\n  </ng-container>\n  <ion-row *ngIf=\"isRefreshing && !initialTransactionsLoaded\" class=\"loading-content ion-justify-content-center\">\n    <ion-spinner color=\"black\"></ion-spinner>\n  </ion-row>\n</ion-list>\n\n<ng-container *ngIf=\"transactionType === 'normalTransaction'\">\n  <div class=\"empty-list ion-padding-horizontal\" *ngIf=\"!isRefreshing && transactions.length === 0\">\n    <img class=\"ion-padding-vertical\" src=\"./assets/img/empty-state-no-transaction.svg\" />\n    <p>{{ 'account-transaction-list.no-transactions_text' | translate }}</p>\n  </div>\n</ng-container>\n","import { UIWidget, UIWidgetType, UIWidgetConfig } from '../UIWidget'\nimport { SafeUrl } from '@angular/platform-browser'\n\nexport interface UIAccountConfig extends UIWidgetConfig {\n  name?: string\n  address: string\n  logo?: string | SafeUrl\n  description?: string\n\n  shortenAddress?: boolean\n}\n\nexport class UIAccount extends UIWidget {\n  public readonly type = UIWidgetType.ACCOUNT\n\n  public name?: string\n  public address: string\n  public logo?: string | SafeUrl\n  public description?: string\n\n  public shortenAddress: boolean\n\n  public get hasName(): boolean {\n    return this.name !== undefined && this.name !== null\n  }\n\n  constructor(config: UIAccountConfig) {\n    super(config)\n\n    this.name = config.name\n    this.address = config.address\n    this.logo = config.logo\n    this.description = config.description\n\n    this.shortenAddress = config.shortenAddress || false\n  }\n\n  public onInvalidLogo(): void {\n    this.logo = undefined\n  }\n}\n","import { NgModule } from '@angular/core'\nimport { Routes, RouterModule } from '@angular/router'\n\nimport { BeaconRequestPage } from './beacon-request.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BeaconRequestPage\n  }\n]\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class BeaconRequestPageRoutingModule {}\n","import { UiEventService } from '@airgap/angular-core'\nimport { Router } from '@angular/router'\nimport { AlertController, LoadingController, PopoverController, ToastController } from '@ionic/angular'\nimport { AirGapMarketWallet } from '@airgap/coinlib-core'\nimport { Action } from '@airgap/coinlib-core/actions/Action'\n\nimport { DataService, DataServiceKey } from '../../services/data/data.service'\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\nimport { WalletActionInfo } from '../ActionGroup'\n\nexport interface TipUsActionContext {\n  wallet: AirGapMarketWallet\n  tipAddress: string\n  amount: string\n  alertTitle: string\n  alertDescription: string\n  isAccepted?: boolean\n  popoverController: PopoverController\n  loadingController: LoadingController\n  uiEventService: UiEventService\n  alertController: AlertController\n  toastController: ToastController\n  dataService: DataService\n  router: Router\n}\n\nexport class AirGapTipUsAction extends Action<void, TipUsActionContext> {\n  public get identifier(): string {\n    return 'tip-us-action'\n  }\n  public readonly info: WalletActionInfo = {\n    name: 'Tip Us',\n    icon: 'logo-usd'\n  }\n  public readonly context: TipUsActionContext\n\n  protected async perform(): Promise<void> {\n    await this.showAlert()\n    if (this.context.isAccepted) {\n      this.context.dataService.setData(DataServiceKey.DETAIL, {\n        wallet: this.context.wallet,\n        address: this.context.tipAddress,\n        amount: this.context.amount\n      })\n\n      this.context.router\n        .navigateByUrl(\n          `/transaction-prepare/${DataServiceKey.DETAIL}/${this.context.wallet.publicKey}/${this.context.wallet.protocol.identifier}/${\n            this.context.wallet.addressIndex\n          }/${this.context.tipAddress}/${this.context.amount}/${'not_forced'}`\n        )\n        .catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n    } else {\n      // Do nothing\n    }\n  }\n\n  private async showAlert(): Promise<void> {\n    return new Promise<void>(async (resolve) => {\n      await this.context.uiEventService.showTranslatedAlert({\n        header: this.context.alertTitle ? this.context.alertTitle : 'action-alert-tip.heading',\n        message: this.context.alertDescription ? this.context.alertDescription : 'action-alert-tip.text',\n        buttons: [\n          {\n            text: 'action-alert-tip.cancel_label',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: (): void => {\n              this.context.isAccepted = false\n              resolve()\n            }\n          },\n          {\n            text: 'action-alert-tip.ok_label',\n            handler: (): void => {\n              this.context.isAccepted = true\n              resolve()\n            }\n          }\n        ]\n      })\n    })\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core'\nimport { BigNumber } from 'bignumber.js'\n\n@Pipe({\n  name: 'percentage'\n})\nexport class PercentagePipe implements PipeTransform {\n  public transform(value: BigNumber | string | number): string {\n    if (BigNumber.isBigNumber(value)) {\n      value = value.toNumber()\n    }\n    const amount = new BigNumber(value)\n    const percentage = amount.shiftedBy(2).toFixed(2)\n\n    return `${percentage}%`\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { ActivatedRouteSnapshot, Resolve } from '@angular/router'\n\nimport { DataService } from '../data/data.service'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataResolverService implements Resolve<any> {\n  constructor(private readonly dataService: DataService) {}\n\n  public resolve(route: ActivatedRouteSnapshot) {\n    const id = route.paramMap.get('id')\n\n    return this.dataService.getData(id)\n  }\n}\n","import { Component, Input } from '@angular/core'\nimport { UIWidget, UIWidgetType } from 'src/app/models/widgets/UIWidget'\nimport { FormGroup } from '@angular/forms'\nimport { UIInputWidget } from 'src/app/models/widgets/UIInputWidget'\n\n@Component({\n  selector: 'widget-selector',\n  templateUrl: 'widget-selector.html',\n  styleUrls: ['widget-selector.scss']\n})\nexport class WidgetSelector {\n  public UIWidgetType = UIWidgetType\n\n  @Input()\n  public widget: UIWidget\n\n  @Input()\n  public widgetForm?: FormGroup = null\n\n  ngOnInit() {\n    if (this.widgetForm && this.widget instanceof UIInputWidget) {\n      this.widget.setFormControl(this.widgetForm.get(this.widget.id))\n    }\n    this.widget.onInit()\n  }\n\n  ngAfterContentInit(): void {\n    this.widget.afterContentInit()\n  }\n\n  ngAfterViewInit(): void {\n    this.widget.afterViewInit()\n  }\n}\n","<ng-container *ngIf=\"widget.isVisible\">\n  <widget-account *ngIf=\"widget.type === UIWidgetType.ACCOUNT\" [widget]=\"widget\"></widget-account>\n  <widget-account-summary *ngIf=\"widget.type === UIWidgetType.ACCOUNT_SUMMARY\" [widget]=\"widget\"></widget-account-summary>\n  <widget-icon-text *ngIf=\"widget.type === UIWidgetType.ICON_TEXT\" [widget]=\"widget\"></widget-icon-text>\n  <widget-input-text *ngIf=\"widget.type === UIWidgetType.INPUT_TEXT && widgetForm\" [widget]=\"widget\" [widgetForm]=\"widgetForm\"></widget-input-text>\n  <widget-option-button-group *ngIf=\"widget.type === UIWidgetType.OPTION_BUTTON_GROUP && widgetForm\" [widget]=\"widget\" [widgetForm]=\"widgetForm\"></widget-option-button-group>\n</ng-container>\n","import { ProtocolService } from '@airgap/angular-core'\nimport { AirGapMarketWallet, FeeDefaults, IAirGapTransaction, ProtocolSymbols } from '@airgap/coinlib-core'\nimport { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { FormBuilder } from '@angular/forms'\nimport { BigNumber } from 'bignumber.js'\nimport { BehaviorSubject, Observable } from 'rxjs'\nimport { tap } from 'rxjs/operators'\n\nimport { OperationsProvider } from '../operations/operations'\nimport { WalletStorageKey, WalletStorageService } from '../storage/storage'\n\nimport { ChangellyExchange } from './exchange.changelly'\nimport { ChangeNowExchange } from './exchange.changenow'\nimport { Exchange, ExchangeTransaction, ExchangeTransactionStatusResponse, ExchangeUI } from './exchange.interface'\nimport { QuipuswapExchange } from './exchange.quipuswap'\n\nexport enum ExchangeEnum {\n  CHANGELLY = 'Changelly',\n  CHANGENOW = 'ChangeNow',\n  QUIPUSWAP = 'Quipuswap'\n}\n\nexport enum TransactionStatus {\n  NEW = 'NEW',\n  WAITING = 'WAITING',\n  CONFORMING = 'CONFORMING',\n  EXCHANGING = 'EXCHANGING',\n  SENDING = 'SENDING',\n  FINISHED = 'FINISHED',\n  FAILED = 'FAILED'\n}\n\nexport interface ExchangeTransactionDetails {\n  receivingAddress: string\n  sendingAddress: string\n  fromCurrency: ProtocolSymbols\n  toCurrency: ProtocolSymbols\n  amountExpectedFrom: BigNumber\n  amountExpectedTo: string\n  fee: string\n  status: string\n  exchange: ExchangeEnum\n  id: string\n  timestamp: number\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ExchangeProvider implements Exchange {\n  private exchange: Exchange\n  private exchangeIdentifier: ExchangeEnum\n  private readonly exchangeObserable: Observable<ExchangeEnum>\n  private readonly exchangeSubject: BehaviorSubject<ExchangeEnum> = new BehaviorSubject<ExchangeEnum>(ExchangeEnum.CHANGENOW)\n\n  private pendingTransactions: ExchangeTransactionDetails[] = []\n\n  constructor(\n    public http: HttpClient,\n    private readonly storageService: WalletStorageService,\n    private readonly protocolService: ProtocolService,\n    private readonly operationsProvider: OperationsProvider,\n    private readonly formBuilder: FormBuilder\n  ) {\n    this.loadPendingTranscationsFromStorage()\n\n    this.exchangeObserable = this.exchangeSubject.pipe(\n      tap((exchange: ExchangeEnum) => {\n        // tslint:disable-next-line: switch-default\n        switch (exchange) {\n          case ExchangeEnum.CHANGELLY:\n            this.exchange = new ChangellyExchange(this.operationsProvider, this.http)\n            this.exchangeIdentifier = ExchangeEnum.CHANGELLY\n            break\n          case ExchangeEnum.CHANGENOW:\n            this.exchange = new ChangeNowExchange(this.operationsProvider, this.http)\n            this.exchangeIdentifier = ExchangeEnum.CHANGENOW\n            break\n          case ExchangeEnum.QUIPUSWAP:\n            this.exchange = new QuipuswapExchange(this.protocolService, this.formBuilder)\n            this.exchangeIdentifier = ExchangeEnum.QUIPUSWAP\n        }\n      })\n    )\n  }\n\n  public async getAvailableFromCurrencies(): Promise<ProtocolSymbols[]> {\n    return this.exchange.getAvailableFromCurrencies()\n  }\n\n  public async getAvailableToCurrenciesForCurrency(selectedFrom: string): Promise<ProtocolSymbols[]> {\n    return this.exchange.getAvailableToCurrenciesForCurrency(selectedFrom)\n  }\n\n  public async getMinAmountForCurrency(fromCurrency: string, toCurrency: string): Promise<string> {\n    return this.exchange.getMinAmountForCurrency(fromCurrency, toCurrency)\n  }\n\n  public async getMaxExchangeAmountForCurrency(fromCurrency: string, toCurrency: string): Promise<string | undefined> {\n    return this.exchange.getMaxExchangeAmountForCurrency(fromCurrency, toCurrency)\n  }\n\n  public async getExchangeAmount(fromCurrency: string, toCurrency: string, amount: string, data: any): Promise<string> {\n    return this.exchange.getExchangeAmount(fromCurrency, toCurrency, amount, data)\n  }\n\n  public async validateAddress(currency: string, address: string): Promise<{ result: false; message: string }> {\n    return this.exchange.validateAddress(currency, address)\n  }\n\n  public async estimateFee(\n    fromWallet: AirGapMarketWallet,\n    toWallet: AirGapMarketWallet,\n    amount: string,\n    data: any\n  ): Promise<FeeDefaults | undefined> {\n    return this.exchange.estimateFee(fromWallet, toWallet, amount, data)\n  }\n\n  public async createTransaction(\n    fromWallet: AirGapMarketWallet,\n    toWallet: AirGapMarketWallet,\n    amount: string,\n    fee: string,\n    data: any\n  ): Promise<ExchangeTransaction> {\n    return this.exchange.createTransaction(fromWallet, toWallet, amount, fee, data)\n  }\n\n  public getStatus(transactionId: string): Promise<ExchangeTransactionStatusResponse> {\n    return this.exchange.getStatus(transactionId)\n  }\n\n  public getStatusForTransaction(transaction: ExchangeTransactionDetails): Promise<ExchangeTransactionStatusResponse> {\n    return this.exchange.getStatus(transaction.id)\n  }\n\n  public convertExchangeIdentifierToAirGapIdentifier(identifiers: string[]): string[] {\n    return this.exchange.convertExchangeIdentifierToAirGapIdentifier(identifiers)\n  }\n\n  public convertAirGapIdentifierToExchangeIdentifier(identifiers: string[]): string[] {\n    return this.exchange.convertAirGapIdentifierToExchangeIdentifier(identifiers)\n  }\n\n  public async getCustomUI(): Promise<ExchangeUI> {\n    return this.exchange.getCustomUI()\n  }\n\n  public setActiveExchange(exchange: ExchangeEnum) {\n    this.exchangeSubject.next(exchange)\n  }\n\n  public switchActiveExchange() {\n    const supportedExchanges = Object.values(ExchangeEnum)\n    const activeIndex = supportedExchanges.indexOf(this.exchangeIdentifier)\n    const nextIndex = (activeIndex + 1) % supportedExchanges.length\n\n    this.setActiveExchange(supportedExchanges[nextIndex])\n  }\n\n  public getActiveExchange(): Observable<ExchangeEnum> {\n    return this.exchangeObserable\n  }\n\n  public pushExchangeTransaction(tx: ExchangeTransactionDetails) {\n    this.pendingTransactions.push(tx)\n    this.persist()\n  }\n\n  public async formatExchangeTxs(\n    pendingExchangeTxs: ExchangeTransactionDetails[],\n    protocolIdentifier: ProtocolSymbols\n  ): Promise<IAirGapTransaction[]> {\n    const protocol = await this.protocolService.getProtocol(protocolIdentifier)\n    return pendingExchangeTxs.map((tx) => {\n      const rawAmount = new BigNumber(protocolIdentifier === tx.toCurrency ? tx.amountExpectedTo : tx.amountExpectedFrom)\n      const formattedAmount = rawAmount.times(10 ** protocol.decimals).toString()\n      return {\n        from: [tx.sendingAddress],\n        to: [tx.receivingAddress],\n        isInbound: protocolIdentifier === tx.toCurrency ? true : false,\n        amount: formattedAmount,\n        fee: new BigNumber(tx.fee).shiftedBy(protocol.decimals).toFixed(),\n        timestamp: new BigNumber(tx.timestamp).dividedToIntegerBy(1000).toNumber(),\n        protocolIdentifier: protocolIdentifier === tx.toCurrency ? tx.toCurrency : tx.fromCurrency,\n        network: protocol.options.network,\n        extra: tx.status\n      }\n    })\n  }\n\n  public transactionCompleted(tx: ExchangeTransactionDetails) {\n    const index = this.pendingTransactions.indexOf(tx)\n    if (index > -1) {\n      this.pendingTransactions.splice(index, 1)\n    }\n    this.persist()\n  }\n\n  private async persist(): Promise<void> {\n    return this.storageService.set(WalletStorageKey.PENDING_EXCHANGE_TRANSACTIONS, this.pendingTransactions)\n  }\n\n  private async loadPendingTranscationsFromStorage() {\n    const pendingTransactions = (await this.storageService.get(\n      WalletStorageKey.PENDING_EXCHANGE_TRANSACTIONS\n    )) as ExchangeTransactionDetails[]\n    this.pendingTransactions = pendingTransactions ? pendingTransactions : []\n    return\n  }\n\n  public async getExchangeTransactionsByProtocol(protocolidentifier: ProtocolSymbols, address: string): Promise<IAirGapTransaction[]> {\n    const filteredByProtocol = this.pendingTransactions.filter(\n      (tx) => tx.fromCurrency === protocolidentifier || tx.toCurrency === protocolidentifier\n    )\n    const filteredByAddress = filteredByProtocol.filter((tx) => tx.receivingAddress === address || tx.sendingAddress === address)\n    const statusPromises: Promise<{\n      transaction: ExchangeTransactionDetails\n      statusResponse?: ExchangeTransactionStatusResponse\n    }>[] = filteredByAddress.map((tx) => {\n      return this.getStatusForTransaction(tx)\n        .then((result) => {\n          return { transaction: tx, statusResponse: result }\n        })\n        .catch(() => {\n          return { transaction: tx }\n        })\n    })\n    const transactions = (await Promise.all(statusPromises))\n      .filter((result) => {\n        if (result.statusResponse !== undefined) {\n          result.transaction.status = result.statusResponse.status\n          const eightHours = 8 * 3600 * 1000\n          if (\n            !result.statusResponse.isPending() ||\n            result.transaction.timestamp < Date.now() - eightHours ||\n            result.transaction.timestamp < Date.now() - eightHours\n          ) {\n            this.transactionCompleted(result.transaction)\n            return false\n          } else {\n            return true\n          }\n        } else {\n          this.transactionCompleted(result.transaction)\n          return false\n        }\n      })\n      .map((result) => result.transaction)\n    return this.formatExchangeTxs(transactions, protocolidentifier)\n  }\n}\n","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { ComponentsModule } from '../../components/components.module'\n\nimport { ProtocolSelectPage } from './protocol-select'\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ComponentsModule,\n    TranslateModule,\n    RouterModule.forChild([{ path: '', component: ProtocolSelectPage }])\n  ],\n  declarations: [ProtocolSelectPage],\n  exports: [],\n  entryComponents: [ProtocolSelectPage]\n})\nexport class ProtocolSelectPageModule {}\n","import { Component, Input, OnInit } from '@angular/core'\nimport { FormBuilder, FormGroup } from '@angular/forms'\n\nimport { UIOptionButtonGroup } from '../../models/widgets/input/UIOptionButtonGroup'\n\n@Component({\n  selector: 'widget-option-button-group',\n  templateUrl: 'widget-option-button-group.html',\n  styleUrls: ['widget-option-button-group.scss']\n})\nexport class WidgetOptionButtonGroup implements OnInit {\n  @Input()\n  public widget: UIOptionButtonGroup\n\n  @Input()\n  public widgetForm: FormGroup\n\n  public customInputControl: string = 'customInput'\n\n  constructor(private readonly formBuilder: FormBuilder) {}\n\n  public ngOnInit(): void {\n    this.setupForm()\n  }\n\n  public onSelected(value: string): void {\n    this.widgetForm.patchValue({\n      [this.widget.id]: value,\n      [this.customInputControl]: false\n    })\n    if (this.widget.onSelected) {\n      this.widget.onSelected(value)\n    }\n  }\n\n  private setupForm(): void {\n    this.widgetForm.addControl(this.customInputControl, this.formBuilder.control(false))\n\n    if (this.widget.defaultSelected) {\n      this.widgetForm.get(this.widget.id).patchValue(this.widget.defaultSelected)\n    }\n\n    this.widgetForm.get(this.customInputControl).valueChanges.subscribe((enabled) => {\n      if (enabled && this.widget.customInput) {\n        this.emitAuxFormValue()\n      } else if (!enabled) {\n        this.restoreTargetValue()\n      }\n    })\n  }\n\n  private emitAuxFormValue(): void {\n    this.widgetForm.get(this.widget.customInput?.id).updateValueAndValidity()\n  }\n\n  private restoreTargetValue(): void {\n    const isValidValue: boolean = this.widget.optionButtons.map((button) => button.value).includes(this.widget.value)\n    if (isValidValue) {\n      return\n    }\n\n    this.widgetForm.get(this.widget.id).patchValue(this.widget.defaultSelected ?? this.widget.optionButtons[0]?.value)\n  }\n}\n","<form [formGroup]=\"widgetForm\">\n  <ion-grid class=\"ion-no-padding ion-no-margin\">\n    <ion-row *ngIf=\"widget.label\" class=\"label\">\n      <ion-col size=\"12\" class=\"ion-no-padding\">\n        <ion-item lines=\"none\" class=\"ion-no-padding\">\n          <ion-text class=\"ion-no-margin\" color=\"blackLight\">\n            <ion-label>{{ widget.label | translate }}</ion-label>\n          </ion-text>\n          <ion-toggle *ngIf=\"widget.customInput\" slot=\"end\" mode=\"md\" [formControlName]=\"customInputControl\"></ion-toggle>\n        </ion-item>\n      </ion-col>\n    </ion-row>\n    <ion-row>\n      <ion-col *ngFor=\"let button of widget.optionButtons\" class=\"ion-margin-end\">\n        <ion-button \n          [fill]=\"widget.value === button.value && !widgetForm.get(customInputControl).value ? 'solid' : 'outline'\" \n          shape=\"round\" \n          size=\"small\"\n          expand=\"block\"\n          (click)=\"onSelected(button.value)\"\n        >{{ button.label }}</ion-button>\n      </ion-col>\n    </ion-row>\n    <ion-row *ngIf=\"widgetForm.get(customInputControl).value && widget.customInput\">\n      <ion-col size=\"12\">\n        <ion-item class=\"ion-no-padding\">\n          <ion-input [type]=\"widget.customInput.type\" [formControlName]=\"widget.customInput.id\"></ion-input>\n          <ion-text *ngIf=\"widget.customInput.suffix\" class=\"ion-padding-start\">\n            <ion-label>{{ widget.customInput.suffix }}</ion-label>\n          </ion-text>\n        </ion-item>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</form>","import { Component } from '@angular/core'\nimport { ModalController } from '@ionic/angular'\n\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\n\n@Component({\n  selector: 'page-introduction-push',\n  templateUrl: 'introduction-push.html',\n  styleUrls: ['./introduction-push.scss']\n})\nexport class IntroductionPushPage {\n  constructor(public viewCtrl: ModalController) {}\n\n  public dismiss(askForPermissions: boolean = false) {\n    this.viewCtrl.dismiss(askForPermissions).catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n\n  public promptForPushPermission() {\n    this.dismiss(true)\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"/\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>{{ 'introduction-push.title' | translate }}</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"dismiss()\" color=\"secondary\">\n        <ion-icon name=\"close-outline\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-row class=\"row--height__100 ion-justify-content-center ion-align-items-center \">\n    <ion-col class=\"ion-text-center\">\n      <h3 class=\"ion-padding-horizontal ion-no-margin\" [innerHTML]=\"'introduction-push.heading' | translate\"></h3>\n      <img src=\"./assets/img/push_onboarding.svg\" />\n      <p class=\"ion-padding-horizontal\">\n        {{ 'introduction-push.description' | translate }}\n      </p>\n      <ion-button shape=\"round\" color=\"primary\" (click)=\"promptForPushPermission()\">\n        {{ 'introduction-push.grant-permission_label' | translate }}\n      </ion-button>\n    </ion-col>\n  </ion-row>\n</ion-content>\n","import { AbstractControl } from '@angular/forms'\n\nimport { UIInputWidget, UIInputWidgetConfig } from '../UIInputWidget'\nimport { UIWidgetType } from '../UIWidget'\n\ninterface OptionButton {\n  value: string\n  label: string\n}\n\ninterface CustomInput {\n  id: string\n  type: InputType\n  defaultValue?: string\n  suffix?: string\n\n  formControl?: AbstractControl\n\n  controlValueToValue?: (controlValue: string) => string\n}\n\ntype InputType = 'text' | 'password' | 'email' | 'number' | 'search' | 'tel' | 'url'\n\nexport interface UIOptionButtonGroupConfig extends UIInputWidgetConfig {\n  label?: string\n\n  optionButtons: OptionButton[]\n  customInput?: CustomInput\n\n  defaultSelected?: string\n}\n\nexport class UIOptionButtonGroup extends UIInputWidget<string> {\n  public type: UIWidgetType = UIWidgetType.OPTION_BUTTON_GROUP\n\n  public readonly label?: string\n\n  public readonly optionButtons: OptionButton[]\n\n  public readonly customInput?: CustomInput\n\n  public readonly defaultSelected?: string\n\n  public readonly onSelected?: (value: string) => void\n\n  public constructor(config: UIOptionButtonGroupConfig) {\n    super(config)\n\n    this.label = config.label\n\n    this.optionButtons = config.optionButtons\n    this.customInput = config.customInput\n\n    this.defaultSelected = config.defaultSelected\n\n    this.setupAuxFormControl()\n  }\n\n  private setupAuxFormControl(): void {\n    const formControl: AbstractControl | undefined = this.customInput?.formControl\n    if (!formControl) {\n      return\n    }\n\n    formControl.valueChanges.subscribe((auxValue) => {\n      if (auxValue) {\n        const value: string = this.customInput?.controlValueToValue ? this.customInput.controlValueToValue(auxValue) : auxValue\n        this.formControl?.patchValue(value)\n      }\n    })\n  }\n}\n","import { registerPlugin } from '@capacitor/core'\n\nexport interface SaplingNativePlugin {\n  isSupported(): Promise<{ isSupported: boolean }>\n  initParameters(): Promise<void>\n  initProvingContext(): Promise<{ context: string }>\n  dropProvingContext(params: { context: string }): Promise<void>\n  prepareSpendDescription(params: {\n    context: string\n    spendingKey: string\n    address: string\n    rcm: string\n    ar: string\n    value: string\n    root: string\n    merklePath: string\n  }): Promise<{ spendDescription: string }>\n  preparePartialOutputDescription(params: {\n    context: string\n    address: string\n    rcm: string\n    esk: string\n    value: string\n  }): Promise<{ outputDescription: string }>\n  createBindingSignature(params: { context: string; balance: string; sighash: string }): Promise<{ bindingSignature: string }>\n}\n\nexport const SaplingNative: SaplingNativePlugin = registerPlugin('SaplingNative')","import { newPolkadotApp, SubstrateApp } from '@zondax/ledger-substrate'\nimport { PolkadotProtocol, SubstrateNetwork, SubstrateProtocol } from '@airgap/coinlib-core'\n\nimport { SubstrateLedgerApp } from './SubstrateLedgerApp'\n\nexport class PolkadotLedgerApp extends SubstrateLedgerApp<SubstrateNetwork.POLKADOT> {\n  protected readonly protocol: SubstrateProtocol<SubstrateNetwork.POLKADOT> = new PolkadotProtocol()\n\n  protected getApp(): SubstrateApp {\n    return newPolkadotApp(this.connection.transport)\n  }\n}\n","import { UIResourceStatus } from '@airgap/angular-core'\nimport { ICoinProtocol } from '@airgap/coinlib-core'\nimport { Component, EventEmitter, Inject, OnDestroy, OnInit, Output } from '@angular/core'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\nimport { Subject } from 'rxjs'\nimport { debounceTime, takeUntil } from 'rxjs/operators'\nimport { TezosFAFormFacade, TezosFAFormNgRxFacade, TEZOS_FA_FORM_FACADE } from './tezos-fa-form.facade'\n\nimport { TezosFAFormStore } from './tezos-fa-form.store'\nimport { TokenInterface } from './tezos-fa-form.types'\n\n@Component({\n  selector: 'tezos-fa-form',\n  templateUrl: 'tezos-fa-form.component.html',\n  styleUrls: ['tezos-fa-form.component.scss'],\n  providers: [\n    { provide: TEZOS_FA_FORM_FACADE, useClass: TezosFAFormNgRxFacade },\n    TezosFAFormStore\n  ]\n})\nexport class TezosFAForm implements OnInit, OnDestroy {\n  public readonly UIResourceStatus: typeof UIResourceStatus = UIResourceStatus\n\n  public readonly tokenInterfaceDescription: Record<TokenInterface, string> = {\n    [TokenInterface.FA1p2]: 'FA1.2 (TZIP-007)',\n    [TokenInterface.FA2]: 'FA2 (TZIP-012)'\n  }\n\n  public readonly isMultiAssetTokenInterface: Record<TokenInterface, boolean> = {\n    [TokenInterface.FA1p2]: false,\n    [TokenInterface.FA2]: true\n  }\n\n  @Output()\n  public protocol: EventEmitter<ICoinProtocol> = new EventEmitter()\n\n  public readonly formGroup: FormGroup\n\n  private readonly ngDestroyed$: Subject<void> = new Subject()\n\n  constructor(\n    @Inject(TEZOS_FA_FORM_FACADE) public readonly facade: TezosFAFormFacade,\n    private readonly formBuilder: FormBuilder\n  ) {\n    this.formGroup = this.formBuilder.group({\n      address: ['', Validators.compose([Validators.required, Validators.pattern(/^KT1[1-9A-Za-z]{33}$/)])],\n      network: [null, Validators.compose([Validators.required])],\n      tokenInterface: [null],\n      tokenID: [null]\n    })\n\n    this.setListeners()\n  }\n\n  public ngOnInit(): void {\n      this.facade.onInit()\n  }\n\n  public ngOnDestroy(): void {\n    this.ngDestroyed$.next()\n    this.ngDestroyed$.complete()\n  }\n\n  private setListeners() {\n    this.formGroup\n      .valueChanges\n      .pipe(debounceTime(500), takeUntil(this.ngDestroyed$))\n      .subscribe((value: { address: string, network: string, tokenInterface: TokenInterface | null, tokenID: number | null }) => {\n        this.facade.onTokenDetailsInput({ \n          address: value.address, \n          networkIdentifier: value.network,\n          tokenInterface: value.tokenInterface !== null ? value.tokenInterface : undefined, \n          tokenID: value.tokenID !== null ? value.tokenID : undefined\n        })\n      })\n\n    this.facade.tokenInterface$\n      .pipe(takeUntil(this.ngDestroyed$))\n      .subscribe((value) => {\n        if (value.status === UIResourceStatus.IDLE) {\n          this.formGroup.patchValue({ tokenInterface: null }, { emitEvent: false })\n        }\n      })\n\n    this.facade.tokenID$\n      .pipe(takeUntil(this.ngDestroyed$))\n      .subscribe((value) => {\n        if (value.status === UIResourceStatus.IDLE) {\n          this.formGroup.patchValue({ tokenID: null }, { emitEvent: false })\n        }\n      })\n\n    this.facade.protocol$\n      .pipe(takeUntil(this.ngDestroyed$))\n      .subscribe((value) => {\n        if (value.status === UIResourceStatus.SUCCESS && value.value !== undefined) {\n          this.protocol.emit(value.value)\n        }\n      })\n\n      this.facade.networks$\n        .pipe(takeUntil(this.ngDestroyed$))\n        .subscribe((values) => {\n          if (!this.formGroup.value.network || !values.includes(this.formGroup.value.network)) {\n            this.formGroup.patchValue({ network: values[0]?.identifier }, { emitEvent: false })\n          }\n        })\n  }\n\n  public async pasteFromClipboard(): Promise<void> {\n    const text: string | undefined = await this.facade.getFromClipboard()\n    if (text !== undefined) {\n      this.formGroup.patchValue({ address: text })\n    }\n  }\n}\n","<form [formGroup]=\"formGroup\">\n  <h5 class=\"ion-padding-bottom\">{{ 'tezos-fa-form.header' | translate }}</h5>\n\n  <div class=\"asset--container ion-margin-bottom\">\n    <ng-container *ngrxLet=\"facade.protocol$ as protocol\">\n      <div\n        *ngIf=\"protocol.status === UIResourceStatus.SUCCESS && protocol.value\"\n        class=\"d-flex ion-align-items-center ion-justify-content-between\"\n      >\n        <ion-item class=\"ion-no-padding\" lines=\"none\">\n          <currency-item [protocol]=\"protocol.value\"></currency-item>\n        </ion-item>\n\n        <airgap-network-badge [network]=\"protocol.value.options.network\"></airgap-network-badge>\n      </div>\n      <ng-container *ngIf=\"protocol.status === UIResourceStatus.LOADING\">\n        <ion-item class=\"ion-no-padding\" lines=\"none\">\n          <ion-avatar slot=\"start\"><ion-skeleton-text animated></ion-skeleton-text></ion-avatar>\n          <ion-skeleton-text animated style=\"width: 80%;\"></ion-skeleton-text>\n        </ion-item>\n      </ng-container>\n    </ng-container>\n  </div>\n\n  <ion-row class=\"ion-padding-bottom\">\n    <ion-col size=\"12\">\n      <ion-item class=\"ion-no-padding\">\n        <ion-label color=\"blackLight\" class=\"ion-no-margin\" position=\"stacked\">\n          {{ 'tezos-fa-form.contract-address_label' | translate }}\n        </ion-label>\n        <ion-input type=\"text\" placeholder=\"KT1...\" formControlName=\"address\"></ion-input>\n      </ion-item>\n      <ion-button class=\"paste--button\" fill=\"outline\" size=\"small\" color=\"secondary\" shape=\"round\" (click)=\"pasteFromClipboard()\">\n        {{ 'tezos-fa-form.paste_label' | translate }}\n      </ion-button>\n    </ion-col>\n  </ion-row>\n  <ng-container *ngrxLet=\"facade.networks$ as networks\">\n    <ion-row>\n      <ion-item class=\"ion-no-padding\" lines=\"none\">\n        <ion-label color=\"blackLight\" class=\"ion-no-margin\" position=\"stacked\">{{ 'tezos-fa-form.network_label' | translate }}</ion-label>\n        <ion-select formControlName=\"network\">\n          <ion-select-option *ngFor=\"let network of networks\" [value]=\"network.identifier\">{{ network.name }}</ion-select-option>\n        </ion-select>\n      </ion-item>\n    </ion-row>\n  </ng-container>\n  <ng-container *ngrxLet=\"facade.tokenInterfaces$ as tokenInterfaces\">\n    <ng-container *ngIf=\"tokenInterfaces.length > 0\">\n      <ion-item class=\"ion-no-padding label--radio\" lines=\"none\">\n        <ion-label color=\"blackLight\" position=\"stacked\">{{ 'tezos-fa-form.token-interface_label' | translate }}</ion-label>\n      </ion-item>\n      <ion-row>\n        <ion-col>\n          <ion-item class=\"ion-no-padding\" lines=\"none\">\n            <ion-radio-group formControlName=\"tokenInterface\">\n              <ion-item *ngFor=\"let tokenInterface of tokenInterfaces\" class=\"ion-no-padding\" lines=\"none\" mode=\"md\">\n                <ion-label>{{ tokenInterfaceDescription[tokenInterface] }}</ion-label>\n                <ion-radio slot=\"start\" [value]=\"tokenInterface\"></ion-radio>\n              </ion-item>\n            </ion-radio-group>\n          </ion-item>\n        </ion-col>\n      </ion-row>\n    </ng-container>\n  </ng-container>\n  <ng-container *ngrxLet=\"facade.tokens$ as tokens\">\n    <ng-container *ngrxLet=\"facade.tokenInterface$ as tokenInterface\">\n      <ng-container *ngIf=\"tokens.length > 1 && (!tokenInterface.value || isMultiAssetTokenInterface[tokenInterface.value])\">\n        <ion-item class=\"ion-no-padding label--radio\" lines=\"none\">\n          <ion-label color=\"blackLight\" position=\"stacked\">{{ 'tezos-fa-form.token.label' | translate }}</ion-label>\n        </ion-item>\n        <ion-row class=\"ion-padding-bottom\">\n          <ion-col>\n            <ion-item class=\"ion-no-padding\" lines=\"none\">\n              <ion-radio-group *ngIf=\"tokens.length <= 3\" formControlName=\"tokenID\">\n                <ion-item *ngFor=\"let token of tokens\" class=\"ion-no-padding\" lines=\"none\" mode=\"md\">\n                  <ion-label>{{ token.name }}</ion-label>\n                  <ion-radio slot=\"start\" [value]=\"token.id\"></ion-radio>\n                </ion-item>\n              </ion-radio-group>\n              <ion-select\n                *ngIf=\"tokens.length > 3\"\n                formControlName=\"tokenID\"\n                placeholder=\"{{ 'tezos-fa-form.token.placeholder' | translate }}\"\n              >\n                <ion-select-option *ngFor=\"let token of tokens\" [value]=\"token.id\" class=\"ion-no-padding\" lines=\"none\">\n                  {{ token.name }}\n                </ion-select-option>\n              </ion-select>\n            </ion-item>\n          </ion-col>\n        </ion-row>\n      </ng-container>\n    </ng-container>\n  </ng-container>\n  <ng-container *ngrxLet=\"facade.errorDescription$ as errorDescription\">\n    <ion-row class=\"ion-padding-vertical\">\n      <ion-col>\n        <ion-text color=\"secondary\" *ngIf=\"errorDescription\">\n          <strong>\n            {{ errorDescription | translate }}\n          </strong>\n        </ion-text>\n      </ion-col>\n    </ion-row>\n  </ng-container>\n</form>\n","import { AbstractControl } from '@angular/forms'\nimport { BigNumber } from 'bignumber.js'\n\nexport class DecimalValidator {\n  public static validate(decimals: number): (control: AbstractControl) => { pattern: string } | null {\n    const regExpString: string = `^[0-9]+((\\\\.|,){1}[0-9]\\\\d{0,${decimals - 1}})?$`\n    const regExp: RegExp = new RegExp(regExpString)\n\n    return (control: AbstractControl): { pattern: string } | null => {\n      const stringAmount: string = new BigNumber(control.value).toFixed()\n      if (stringAmount.match(regExp) === null) {\n        return { pattern: 'Pattern does not match.' }\n      }\n\n      return null\n    }\n  }\n\n  public static isValid(decimals: number, amount: number): boolean {\n    const regExpString: string = `^[0-9]+((\\\\.|,){1}[0-9]\\\\d{0,${decimals}})?$`\n    const regExp: RegExp = new RegExp(regExpString)\n    const stringAmount: string = new BigNumber(amount).toFixed()\n    if (stringAmount.match(regExp) === null) {\n      return false\n    }\n\n    return true\n  }\n}\n","import { ErrorHandler } from '@angular/core'\nimport * as Sentry from '@sentry/browser'\n\nSentry.init({\n  dsn: process.env.SENTRY_DSN,\n  release: 'unknown',\n  beforeSend: (data: Sentry.Event): Sentry.Event => {\n    const stacktrace: Sentry.Stacktrace | undefined =\n      data.stacktrace || (data.exception && data.exception.values && data.exception.values[0].stacktrace)\n\n    if (stacktrace && stacktrace.frames) {\n      stacktrace.frames.forEach((frame: Sentry.StackFrame) => {\n        if (frame.filename) {\n          frame.filename = frame.filename.substring(frame.filename.lastIndexOf('/'))\n        }\n      })\n    }\n\n    return data\n  }\n})\n\nexport enum ErrorCategory {\n  CORDOVA_PLUGIN = 'cordova_plugin',\n  IONIC_MODAL = 'ionic_modal',\n  IONIC_ALERT = 'ionic_alert',\n  IONIC_LOADER = 'ionic_loader',\n  IONIC_TOAST = 'ionic_toast',\n  NAVIGATION = 'navigation',\n  WALLET_PROVIDER = 'wallet_provider',\n  SCHEME_ROUTING = 'scheme_routing',\n  COINLIB = 'coinlib',\n  DEEPLINK_PROVIDER = 'deeplink_provider',\n  STORAGE = 'storage',\n  OPERATIONS_PROVIDER = 'operations_provider',\n  PUSH = 'push',\n  OTHER = 'other',\n  BEACON = 'beacon'\n}\n\nconst AIRGAP_ERROR_CATEGORY: string = 'airgap-error-category'\n\nconst handleErrorSentry = (category: ErrorCategory = ErrorCategory.OTHER) => {\n  return (error: any) => {\n    try {\n      console.debug('sending error to sentry, category', category)\n      console.debug(error.originalError || error)\n      Sentry.withScope((scope) => {\n        scope.setTag(AIRGAP_ERROR_CATEGORY, category)\n        Sentry.captureException(error.originalError || error)\n      })\n    } catch (e) {\n      console.debug('Error reporting exception to sentry: ', e)\n    }\n  }\n}\n\nconst handleErrorIgnore = (error) => {\n  console.debug('ignoring error')\n  console.debug(error.originalError || error)\n}\n\nconst setSentryRelease = (release: string) => {\n  Sentry.configureScope((scope) => {\n    scope.addEventProcessor(async (event) => {\n      event.release = release\n\n      return event\n    })\n  })\n}\n\nconst setSentryUser = (UUID: string) => {\n  Sentry.configureScope((scope) => {\n    scope.setUser({ id: UUID })\n  })\n}\n\nexport { setSentryRelease, setSentryUser, handleErrorIgnore, handleErrorSentry }\n\nexport class SentryErrorHandler extends ErrorHandler {\n  public handleError(error: any): void {\n    super.handleError(error)\n    handleErrorSentry(error)\n  }\n}\n","import { Router } from '@angular/router'\nimport { AirGapMarketWallet, supportedProtocols } from '@airgap/coinlib-core'\n\nimport { partition } from '../../../utils/utils'\nimport { AccountProvider } from '../../account/account.provider'\nimport { DataService, DataServiceKey } from '../../data/data.service'\nimport { ErrorCategory, handleErrorSentry } from '../../sentry-error-handler/sentry-error-handler'\nimport { IACSinglePartHandler } from '@airgap/angular-core'\n\ninterface Payload {\n  address: string\n  compatibleWallets: AirGapMarketWallet[]\n  incompatibleWallets: AirGapMarketWallet[]\n}\n\n/**\n * Handles addresses and bitcoin style payment requests\n */\nexport class AddressHandler extends IACSinglePartHandler<Payload> {\n  public readonly name: string = 'AddressHandler'\n\n  constructor(\n    private readonly accountProvider: AccountProvider,\n    private readonly dataService: DataService,\n    private readonly router: Router\n  ) {\n    super()\n  }\n\n  public async handleComplete(): Promise<Payload> {\n    this.dataService.setData(DataServiceKey.WALLET, { actionType: 'scanned-address', ...this.payload })\n    this.router.navigateByUrl(`/select-wallet/${DataServiceKey.WALLET}`).catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n\n    return this.payload\n  }\n\n  public async processData(data: string): Promise<Payload | undefined> {\n    const splits: string[] = data.split(':') // Handle bitcoin payment request https://github.com/bitcoin/bips/blob/master/bip-0072.mediawiki\n\n    if (splits.length > 1) {\n      const [address]: string[] = splits[1].split('?') // Ignore amount\n      const wallets: AirGapMarketWallet[] = this.accountProvider.getWalletList()\n      for (const protocol of supportedProtocols()) {\n        if (splits[0].toLowerCase() === protocol.symbol.toLowerCase() || splits[0].toLowerCase() === protocol.name.toLowerCase()) {\n          const [compatibleWallets, incompatibleWallets]: [AirGapMarketWallet[], AirGapMarketWallet[]] = partition<AirGapMarketWallet>(\n            wallets,\n            (wallet: AirGapMarketWallet) => wallet.protocol.identifier === protocol.identifier\n          )\n\n          if (compatibleWallets.length > 0) {\n            this.payload = {\n              address,\n              compatibleWallets,\n              incompatibleWallets\n            }\n          }\n        }\n      }\n    } else {\n      const { compatibleWallets, incompatibleWallets } = await this.accountProvider.getCompatibleAndIncompatibleWalletsForAddress(data)\n      if (compatibleWallets.length > 0) {\n        this.payload = {\n          address: data,\n          compatibleWallets,\n          incompatibleWallets\n        }\n      } else {\n      }\n    }\n\n    return undefined\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core'\n\n@Pipe({\n  name: 'shortenString'\n})\nexport class ShortenStringPipe implements PipeTransform {\n  public transform(value: string, args: { ifMatches?: string | RegExp } = {}) {\n    if (!value || !(typeof value === 'string')) {\n      // console.warn(`ShortenStringPipe: invalid value: ${value}`)\n      return ''\n    }\n\n    let result = value\n    if (value.length >= 12 && (args.ifMatches === undefined || result.match(args.ifMatches))) {\n      result = `${value.substr(0, 5)}...${value.substr(-5)}`\n    }\n\n    return result\n  }\n}\n","import { NgModule } from '@angular/core'\n\nimport { CryptoToFiatPipe } from './crypto-to-fiat/crypto-to-fiat.pipe'\nimport { GroupLabelPipe } from './group-label/group-label.pipe'\nimport { PercentagePipe } from './percentage/percentage.pipe'\nimport { ShortenStringPipe } from './shorten-string/shorten-string.pipe'\n\n@NgModule({\n  declarations: [ShortenStringPipe, CryptoToFiatPipe, PercentagePipe, GroupLabelPipe],\n  imports: [],\n  exports: [ShortenStringPipe, CryptoToFiatPipe, PercentagePipe, GroupLabelPipe]\n})\nexport class PipesModule {}\n","import { UiEventService } from '@airgap/angular-core'\nimport { AlertController, LoadingController, PopoverController, ToastController } from '@ionic/angular'\nimport { AirGapMarketWallet, TezosDelegatorAction } from '@airgap/coinlib-core'\nimport { Action } from '@airgap/coinlib-core/actions/Action'\nimport { DataService } from 'src/app/services/data/data.service'\nimport { OperationsProvider } from 'src/app/services/operations/operations'\n\nimport { WalletActionInfo } from '../ActionGroup'\n\nimport { AirGapDelegatorAction } from './DelegatorAction'\nimport { AccountProvider } from 'src/app/services/account/account.provider'\n\nexport interface DelegateAlertActionContext {\n  isAccepted?: boolean\n  wallet: AirGapMarketWallet\n  delegate: string\n  toastController: ToastController\n  loadingController: LoadingController\n  operationsProvider: OperationsProvider\n  dataService: DataService\n  accountService: AccountProvider\n  popoverController: PopoverController\n  uiEventService: UiEventService\n  alertController: AlertController\n  alertTitle: string\n  alertDescription: string\n}\n\nexport class DelegateAlertAction extends Action<void, DelegateAlertActionContext> {\n  public get identifier(): string {\n    return 'tip-us-action'\n  }\n  public readonly info: WalletActionInfo = {\n    name: 'Tip Us',\n    icon: 'logo-usd'\n  }\n  private readonly delegateAction: AirGapDelegatorAction\n\n  constructor(context: DelegateAlertActionContext) {\n    super(context)\n    this.delegateAction = new AirGapDelegatorAction({\n      type: TezosDelegatorAction.DELEGATE,\n      data: {\n        delegate: context.delegate\n      },\n      ...context\n    })\n  }\n\n  protected async perform(): Promise<void> {\n    await this.showAlert()\n    if (this.context.isAccepted) {\n      await this.delegateAction.start()\n    } else {\n      // Do nothing\n    }\n  }\n\n  private async showAlert(): Promise<void> {\n    return new Promise<void>(async (resolve) => {\n      await this.context.uiEventService.showTranslatedAlert({\n        header: this.context.alertTitle ? this.context.alertTitle : 'action-alert-delegation.heading',\n        message: this.context.alertDescription ? this.context.alertDescription : 'action-alert-delegation.text',\n        buttons: [\n          {\n            text: 'action-alert-delegation.cancel_label',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: (): void => {\n              this.context.isAccepted = false\n              resolve()\n            }\n          },\n          {\n            text: 'action-alert-delegation.ok_label',\n            handler: (): void => {\n              this.context.isAccepted = true\n              resolve()\n            }\n          }\n        ]\n      })\n    })\n  }\n}\n","import { AirGapAngularCoreModule } from '@airgap/angular-core'\nimport { AirGapAngularNgRxModule } from '@airgap/angular-ngrx'\nimport { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms'\nimport { IonicModule } from '@ionic/angular'\nimport { ReactiveComponentModule } from '@ngrx/component'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { QRCodeModule } from 'angularx-qrcode'\nimport { ChartsModule } from 'ng2-charts'\nimport { MomentModule } from 'ngx-moment'\n\nimport { PipesModule } from '../pipes/pipes.module'\n\nimport { AccountEditPopoverComponent } from './account-edit-popover/account-edit-popover.component'\nimport { AmountComponent } from './amount/amount.component'\nimport { CardActionableComponent } from './card-actionable/card-actionable'\nimport { ChartComponent } from './chart/chart.component'\nimport { CurrencyItemComponent } from './currency-item/currency-item'\nimport { CurrentWalletGroupComponent } from './current-wallet-group/current-wallet-group.component'\nimport { DappPeerComponent } from './dapp-peer/dapp-peer.component'\nimport { DelegateActionPopoverComponent } from './delegate-action-popover/delegate-action-popover.component'\nimport { DelegateEditPopoverComponent } from './delegate-edit-popover/delegate-edit-popover.component'\nimport { EmptyStateComponent } from './empty-state/empty-state'\nimport { FeeComponent } from './fee/fee.component'\nimport { FromToComponent } from './from-to/from-to.component'\n\nimport { InteractionSelectionComponent } from './interaction-selection/interaction-selection.component'\nimport { PermissionRequestComponent } from './permission-request/permission-request.component'\nimport { PortfolioItemComponent } from './portfolio-item/portfolio-item'\nimport { SignedTransactionComponent } from './signed-transaction/signed-transaction'\nimport { SwapComponent } from './swap/swap'\nimport { TezosDelegationCard } from './tezos-delegation-card/tezos-delegation-card'\nimport { TezosFAForm } from './tezos-fa-form/tezos-fa-form.component'\nimport { TransactionItemComponent } from './transaction-item/transaction-item.component'\nimport { TransactionListComponent } from './transaction-list/transaction-list.component'\nimport { WalletconnectFromToComponent } from './walletconnect-from-to/walletconnect-from-to.component'\nimport { WidgetAccountExtendedDetails } from './widget-account-extended-details/widget-account-extended-details'\nimport { WidgetAccountSummary } from './widget-account-summary/widget-account-summary'\nimport { WidgetAccount } from './widget-account/widget-account'\nimport { WidgetAlert } from './widget-alert/widget-alert'\nimport { WidgetIconText } from './widget-icon-text/widget-icon-text'\nimport { WidgetInputText } from './widget-input-text/widget-input-text'\nimport { WidgetOptionButtonGroup } from './widget-option-button-group/widget-option-button-group'\nimport { WidgetRewardList } from './widget-reward-list/widget-reward-list'\nimport { WidgetSelector } from './widget-selector/widget-selector'\n\n@NgModule({\n  declarations: [\n    PortfolioItemComponent,\n    ChartComponent,\n    SwapComponent,\n    AccountEditPopoverComponent,\n    AmountComponent,\n    CardActionableComponent,\n    EmptyStateComponent,\n    SignedTransactionComponent,\n    TezosDelegationCard,\n    TezosFAForm,\n    CurrencyItemComponent,\n    DelegateActionPopoverComponent,\n    DelegateEditPopoverComponent,\n    PermissionRequestComponent,\n    CurrentWalletGroupComponent,\n    DappPeerComponent,\n    TransactionListComponent,\n    TransactionItemComponent,\n    FeeComponent,\n    FromToComponent,\n    WalletconnectFromToComponent,\n    InteractionSelectionComponent,\n    WidgetSelector,\n    WidgetAccount,\n    WidgetAccountSummary,\n    WidgetAccountExtendedDetails,\n    WidgetAlert,\n    WidgetIconText,\n    WidgetInputText,\n    WidgetRewardList,\n    WidgetOptionButtonGroup\n  ],\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ReactiveComponentModule,\n\n    PipesModule,\n    MomentModule,\n    ChartsModule,\n    TranslateModule,\n    QRCodeModule,\n    AirGapAngularCoreModule,\n    AirGapAngularNgRxModule\n  ],\n  exports: [\n    PortfolioItemComponent,\n    ChartComponent,\n    AmountComponent,\n    SwapComponent,\n    AccountEditPopoverComponent,\n    CardActionableComponent,\n    EmptyStateComponent,\n    SignedTransactionComponent,\n    TezosDelegationCard,\n    TezosFAForm,\n    CurrencyItemComponent,\n    DelegateEditPopoverComponent,\n    PermissionRequestComponent,\n    CurrentWalletGroupComponent,\n    DappPeerComponent,\n    WalletconnectFromToComponent,\n    InteractionSelectionComponent,\n    TransactionListComponent,\n    TransactionItemComponent,\n    FeeComponent,\n    FromToComponent,\n    WidgetSelector,\n    WidgetAccount,\n    WidgetAccountSummary,\n    WidgetAccountExtendedDetails,\n    WidgetAlert,\n    WidgetIconText,\n    WidgetInputText,\n    WidgetRewardList,\n    WidgetOptionButtonGroup\n  ],\n  entryComponents: [AccountEditPopoverComponent, DelegateEditPopoverComponent, DappPeerComponent]\n})\nexport class ComponentsModule {}\n","import { AirGapMarketWallet, FeeDefaults, MainProtocolSymbols, ProtocolSymbols } from '@airgap/coinlib-core'\nimport { HttpClient } from '@angular/common/http'\nimport { BigNumber } from 'bignumber.js'\n\nimport { OperationsProvider } from '../operations/operations'\n\nimport { Exchange, ExchangeIdentifier, ExchangeTransaction, ExchangeTransactionStatusResponse, ExchangeUI } from './exchange.interface'\n\n// tslint:disable:max-classes-per-file\n\nexport interface CurrencyDetailResponse {\n  ticker: string\n  name: string\n  image: string\n  hasExternalId: boolean\n  isFiat: boolean\n  featured: boolean\n  isStable: boolean\n  supportsFixedRate: boolean\n  isAvailable?: boolean\n}\n\nexport interface MinAmountResponse {\n  minAmount: number\n}\n\nexport interface EstimatedAmountResponse {\n  estimatedAmount: number\n  transactionSpeedForecast: string\n  warningMessage?: any\n}\n\nexport interface TransactionChangeNowResponse {\n  payinAddress: string\n  payoutAddress: string\n  payinExtraId: string\n  payoutExtraId: string\n  fromCurrency: string\n  toCurrency: string\n  refundAddress: string\n  refundExtraId: string\n  id: string\n  amount: number\n}\n\nexport interface ChangeNowTransactionStatus {\n  status: string\n  payinAddress: string\n  payoutAddress: string\n  fromCurrency: string\n  toCurrency: string\n  id: string\n  updatedAt: Date\n  expectedSendAmount: number\n  expectedReceiveAmount: number\n  createdAt: Date\n  isPartner: boolean\n}\n\nexport class ChangeNowTransactionStatusResponse implements ExchangeTransactionStatusResponse {\n  public status: string\n\n  constructor(json: ChangeNowTransactionStatus) {\n    this.status = json.status\n  }\n\n  public isPending(): boolean {\n    switch (this.status) {\n      case 'finished':\n      case 'failed':\n      case 'refunded':\n      case 'expired':\n        return false\n      default:\n        return true\n    }\n  }\n}\n\nclass ChangeNowApi {\n  private readonly identifierExchangeToAirGapMap: Map<ExchangeIdentifier, ProtocolSymbols> = new Map<ExchangeIdentifier, ProtocolSymbols>()\n  private readonly identifierAirGapToExchangeMap: Map<ProtocolSymbols, ExchangeIdentifier> = new Map<ProtocolSymbols, ExchangeIdentifier>()\n\n  constructor(\n    protected readonly operationsProvider: OperationsProvider,\n    protected readonly http: HttpClient,\n    protected readonly baseURL: string = 'https://changenow.io/api/v1'\n  ) {\n    this.identifierExchangeToAirGapMap.set('xchf', 'eth-erc20-xchf' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('usdterc20', 'eth-erc20-usdt' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('bnbmainnet', 'eth-erc20-bnb' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('link', 'eth-erc20-link' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('cro', 'eth-erc20-cro' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('usdc', 'eth-erc20-usdc' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('yfi', 'eth-erc20-yfi' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('ht', 'eth-erc20-ht' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('vet', 'eth-erc20-ven' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('wbtc', 'eth-erc20-wbtc' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('dai', 'eth-erc20-dai' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('tusd', 'eth-erc20-tusd' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('mkr', 'eth-erc20-mkr' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('snx', 'eth-erc20-snx' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('theta', 'eth-erc20-theta' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('omg', 'eth-erc20-omg' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('comp', 'eth-erc20-comp' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('busd', 'eth-erc20-busd' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('bat', 'eth-erc20-bat' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('zrx', 'eth-erc20-zrx' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('lrc', 'eth-erc20-lrc' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('pax', 'eth-erc20-pax' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('knc', 'eth-erc20-knc' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('rep', 'eth-erc20-repv2' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('sushi', 'eth-erc20-sushi' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('band', 'eth-erc20-band' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('ant', 'eth-erc20-ant' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('bal', 'eth-erc20-bal' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('husd', 'eth-erc20-husd' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('enj', 'eth-erc20-enj' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('mana', 'eth-erc20-mana' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('sxp', 'eth-erc20-sxp' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('gnt', 'eth-erc20-gnt' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('iost', 'eth-erc20-iost' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('srm', 'eth-erc20-srm' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('hot', 'eth-erc20-hot' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('snt', 'eth-erc20-snt' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('rlc', 'eth-erc20-rlc' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('storj', 'eth-erc20-storj' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('utk', 'eth-erc20-utk' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('mco', 'eth-erc20-mco' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('bnt', 'eth-erc20-bnt' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('nexo', 'eth-erc20-nexo' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('elf', 'eth-erc20-elf' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('dia', 'eth-erc20-dia' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('agi', 'eth-erc20-agi' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('fet', 'eth-erc20-fet' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('waxp', 'eth-erc20-wax' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('aion', 'eth-erc20-aion' as ProtocolSymbols)\n    this.identifierExchangeToAirGapMap.set('atom', MainProtocolSymbols.COSMOS)\n    this.identifierExchangeToAirGapMap.set('dot', MainProtocolSymbols.POLKADOT)\n    this.identifierExchangeToAirGapMap.set('ksm', MainProtocolSymbols.KUSAMA)\n\n    this.identifierAirGapToExchangeMap.set('eth-erc20-xchf' as ProtocolSymbols, 'xchf')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-usdt' as ProtocolSymbols, 'usdterc20')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-bnb' as ProtocolSymbols, 'bnbmainnet')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-link' as ProtocolSymbols, 'link')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-cro' as ProtocolSymbols, 'cro')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-usdc' as ProtocolSymbols, 'usdc')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-yfi' as ProtocolSymbols, 'yfi')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-ht' as ProtocolSymbols, 'ht')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-ven' as ProtocolSymbols, 'vet')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-wbtc' as ProtocolSymbols, 'wbtc')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-dai' as ProtocolSymbols, 'dai')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-tusd' as ProtocolSymbols, 'tusd')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-mkr' as ProtocolSymbols, 'mkr')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-snx' as ProtocolSymbols, 'snx')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-theta' as ProtocolSymbols, 'theta')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-mkr' as ProtocolSymbols, 'mkr')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-omg' as ProtocolSymbols, 'omg')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-comp' as ProtocolSymbols, 'comp')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-busd' as ProtocolSymbols, 'busd')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-bat' as ProtocolSymbols, 'bat')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-zrx' as ProtocolSymbols, 'zrx')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-lrc' as ProtocolSymbols, 'lrc')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-pax' as ProtocolSymbols, 'pax')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-knc' as ProtocolSymbols, 'knc')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-repv2' as ProtocolSymbols, 'rep')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-sushi' as ProtocolSymbols, 'sushi')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-band' as ProtocolSymbols, 'band')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-ant' as ProtocolSymbols, 'ant')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-bal' as ProtocolSymbols, 'bal')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-husd' as ProtocolSymbols, 'husd')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-enj' as ProtocolSymbols, 'enj')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-mana' as ProtocolSymbols, 'mana')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-sxp' as ProtocolSymbols, 'sxp')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-gnt' as ProtocolSymbols, 'gnt')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-iost' as ProtocolSymbols, 'iost')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-srm' as ProtocolSymbols, 'srm')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-hot' as ProtocolSymbols, 'hot')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-snt' as ProtocolSymbols, 'snt')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-rlc' as ProtocolSymbols, 'rlc')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-storj' as ProtocolSymbols, 'storj')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-utk' as ProtocolSymbols, 'utk')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-mco' as ProtocolSymbols, 'mco')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-bnt' as ProtocolSymbols, 'bnt')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-nexo' as ProtocolSymbols, 'nexo')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-elf' as ProtocolSymbols, 'elf')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-dia' as ProtocolSymbols, 'dia')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-agi' as ProtocolSymbols, 'agi')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-fet' as ProtocolSymbols, 'fet')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-wax' as ProtocolSymbols, 'waxp')\n    this.identifierAirGapToExchangeMap.set('eth-erc20-aion' as ProtocolSymbols, 'aion')\n    this.identifierAirGapToExchangeMap.set(MainProtocolSymbols.COSMOS, 'atom')\n    this.identifierAirGapToExchangeMap.set(MainProtocolSymbols.POLKADOT, 'dot')\n    this.identifierAirGapToExchangeMap.set(MainProtocolSymbols.KUSAMA, 'ksm')\n  }\n\n  public convertExchangeIdentifierToAirGapIdentifier(identifiers: ExchangeIdentifier[]): ProtocolSymbols[] {\n    return identifiers\n      .map((identifier: ExchangeIdentifier) => identifier.toLowerCase())\n      .map((identifier: ExchangeIdentifier) => {\n        return this.identifierExchangeToAirGapMap.has(identifier)\n          ? this.identifierExchangeToAirGapMap.get(identifier)\n          : (identifier as ProtocolSymbols)\n      })\n  }\n\n  public convertAirGapIdentifierToExchangeIdentifier(identifiers: ProtocolSymbols[]): ExchangeIdentifier[] {\n    return identifiers\n      .map((identifier: ProtocolSymbols) => {\n        return this.identifierAirGapToExchangeMap.has(identifier) ? this.identifierAirGapToExchangeMap.get(identifier) : identifier\n      })\n      .map((identifier: ExchangeIdentifier) => identifier.toUpperCase())\n  }\n\n  public async getAvailableFromCurrencies(): Promise<ProtocolSymbols[]> {\n    const result: CurrencyDetailResponse[] = await this.http\n      .get<CurrencyDetailResponse[]>(`${this.baseURL}/currencies?active=true`)\n      .toPromise()\n    const fromCurrencies: ExchangeIdentifier[] = result.map((identifier: CurrencyDetailResponse) => identifier.ticker)\n\n    return this.convertExchangeIdentifierToAirGapIdentifier(fromCurrencies)\n  }\n\n  public async getMinAmountForCurrency(fromCurrency: ProtocolSymbols, toCurrency: ProtocolSymbols): Promise<string> {\n    const transformedFromCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([fromCurrency])[0]\n    const transformedToCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([toCurrency])[0]\n\n    const result: MinAmountResponse = await this.http\n      .get<MinAmountResponse>(`${this.baseURL}/min-amount/${transformedFromCurrency}_${transformedToCurrency}`)\n      .toPromise()\n\n    return result.minAmount.toString()\n  }\n\n  public async getMaxExchangeAmountForCurrency(_fromCurrency: string, _toCurrency: string): Promise<string | undefined> {\n    return '0'\n  }\n\n  public async getExchangeAmount(fromCurrency: ProtocolSymbols, toCurrency: ProtocolSymbols, amount: string, _data: any): Promise<string> {\n    const transformedFromCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([fromCurrency])[0]\n    const transformedToCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([toCurrency])[0]\n\n    const response: EstimatedAmountResponse = await this.http\n      .get<EstimatedAmountResponse>(`${this.baseURL}/exchange-amount/${amount}/${transformedFromCurrency}_${transformedToCurrency}`)\n      .toPromise()\n\n    return response.estimatedAmount.toString()\n  }\n\n  public async validateAddress(): Promise<{ result: false; message: string }> {\n    return { result: false, message: '' }\n  }\n\n  public async estimateFee(\n    fromWallet: AirGapMarketWallet,\n    _toWallet: AirGapMarketWallet,\n    amount: string,\n    _data: any\n  ): Promise<FeeDefaults | undefined> {\n    const shiftedAmount = new BigNumber(amount).shiftedBy(fromWallet.protocol.decimals)\n    const isAmountValid = !shiftedAmount.isNaN() && shiftedAmount.gt(0)\n\n    return isAmountValid ? this.operationsProvider.estimateFees(fromWallet, fromWallet.addresses[0], shiftedAmount) : undefined\n  }\n\n  public async createTransaction(\n    fromWallet: AirGapMarketWallet,\n    toWallet: AirGapMarketWallet,\n    amount: string,\n    fee: string,\n    _data: any\n  ): Promise<ExchangeTransaction> {\n    const transformedFromCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([\n      fromWallet.protocol.identifier\n    ])[0]\n    const transformedToCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([toWallet.protocol.identifier])[0]\n\n    const apiKey: string = '5eca82aabfdf9684e8fe4ff35245d9d4f2cbb1153e0f1025b697941c982763d1'\n\n    const response: TransactionChangeNowResponse = await this.http\n      .post<TransactionChangeNowResponse>(`${this.baseURL}/transactions/${apiKey}`, {\n        from: transformedFromCurrency,\n        to: transformedToCurrency,\n        address: toWallet.receivingPublicAddress,\n        amount,\n        extraId: '',\n        userId: '',\n        contactEmail: '',\n        refundAddress: fromWallet.receivingPublicAddress,\n        refundExtraId: ''\n      })\n      .toPromise()\n\n    return {\n      id: response.id,\n      payoutAddress: response.payoutAddress,\n      payinAddress: response.payinAddress,\n      amountExpectedFrom: amount,\n      amountExpectedTo: response.amount.toString(),\n      fee,\n      exchangeResult: response,\n      memo: response.payinExtraId\n    }\n  }\n\n  public async getStatus(transactionId: string): Promise<ChangeNowTransactionStatusResponse> {\n    const response: ChangeNowTransactionStatus = await this.http\n      .get<ChangeNowTransactionStatus>(`${this.baseURL}/transactions/${transactionId}/changenow`)\n      .toPromise()\n\n    return new ChangeNowTransactionStatusResponse(response)\n  }\n\n  public async getCustomUI(): Promise<ExchangeUI> {\n    return { widgets: [] }\n  }\n}\n\nexport class ChangeNowExchange extends ChangeNowApi implements Exchange {\n  constructor(operationsProvider: OperationsProvider, http: HttpClient) {\n    super(operationsProvider, http)\n  }\n\n  public async getAvailableToCurrenciesForCurrency(fromCurrency: ProtocolSymbols): Promise<ProtocolSymbols[]> {\n    const transformedFromCurrency: ExchangeIdentifier = this.convertAirGapIdentifierToExchangeIdentifier([fromCurrency])[0]\n\n    const result: CurrencyDetailResponse[] = await this.http\n      .get<CurrencyDetailResponse[]>(`${this.baseURL}/currencies-to/${transformedFromCurrency}`)\n      .toPromise()\n\n    const identifiers: ExchangeIdentifier[] = result\n      .filter((currency: CurrencyDetailResponse) => currency.isAvailable)\n      .map((currency: CurrencyDetailResponse) => currency.ticker)\n\n    return this.convertExchangeIdentifierToAirGapIdentifier(identifiers)\n  }\n}\n","import { APP_LAUNCHER_PLUGIN } from '@airgap/angular-core'\nimport { Inject, Injectable } from '@angular/core'\nimport { AppLauncherPlugin } from '@capacitor/app-launcher'\nimport { BrowserPlugin } from '@capacitor/browser'\nimport { Platform } from '@ionic/angular'\n\nimport { BROWSER_PLUGIN } from '../../capacitor-plugins/injection-tokens'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BrowserService {\n  constructor(\n    private readonly platform: Platform,\n    @Inject(APP_LAUNCHER_PLUGIN) private readonly appLauncher: AppLauncherPlugin,\n    @Inject(BROWSER_PLUGIN) private readonly browser: BrowserPlugin\n  ) {}\n\n  public async openUrl(url: string): Promise<void> {\n    if (this.platform.is('ios') || this.platform.is('android') || this.platform.is('electron')) {\n      await this.appLauncher.openUrl({ url })\n    } else {\n      await this.browser.open({ url })\n    }\n  }\n}\n","import { ProtocolSymbols } from '@airgap/coinlib-core'\nimport { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport BigNumber from 'bignumber.js'\n\nimport { ErrorCategory, handleErrorSentry } from '../sentry-error-handler/sentry-error-handler'\n\nconst COIN_LIB_SERVICE = 'https://coin-lib-service.airgap.prod.gke.papers.tech'\n\nexport interface TezosBakerConfig {\n  name: string\n  address: string\n  fee: BigNumber\n  enabled: boolean\n  payout: {\n    cycles: number\n    time: string\n  }\n}\n\nexport interface ApiHealth {\n  identifier: ProtocolSymbols\n  node: {\n    isHealthy: boolean\n    errorDescription?: string\n  }\n  explorer?: {\n    isHealthy: boolean\n    errorDescription?: string\n  }\n}\n\nexport interface TezosBakerCollection {\n  [address: string]: TezosBakerDetails\n}\nexport interface TezosBakerDetails {\n  alias: string\n  logo?: string\n  hasLogo: boolean\n  hasPayoutAddress?: boolean\n  logoReference?: string\n  stakingCapacity?: BigNumber\n  payoutPeriod?: number\n  payoutDelay?: number\n  fee?: BigNumber\n}\n\nexport interface CosmosValidatorDetails {\n  operator_address: string\n  consensus_pubkey: string\n  jailed: false\n  status: number\n  tokens: BigNumber\n  delegator_shares: BigNumber\n  description: {\n    moniker: string\n    identity: string\n    website: string\n    details: string\n  }\n  unbonding_height: string\n  unbonding_time: string\n  commission: {\n    commission_rates: {\n      rate: BigNumber\n      max_rate: BigNumber\n      max_change_rate: BigNumber\n    }\n    update_time: string\n  }\n  min_self_delegation: string\n  logo?: string\n}\n\nexport interface AeFirstVote {\n  enabled: boolean\n  showSelfVoted: boolean\n  startDate: number\n  endDate: number\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CoinlibService {\n  constructor(private readonly httpClient: HttpClient) {}\n\n  public async getKnownTezosBakers(): Promise<TezosBakerCollection> {\n    const bakersResponse: TezosBakerCollection = await this.httpClient\n      .get<TezosBakerCollection>(`${COIN_LIB_SERVICE}/api/v1/tz/bakers?acceptsDelegations=true`)\n      .toPromise()\n      .catch((error) => {\n        handleErrorSentry(ErrorCategory.OTHER)(error)\n\n        return {}\n      })\n\n    Object.entries(bakersResponse).forEach(([address, baker]: [string, TezosBakerDetails]) => {\n      bakersResponse[address] = {\n        ...baker,\n        stakingCapacity: baker.stakingCapacity !== undefined ? new BigNumber(baker.stakingCapacity) : undefined,\n        fee: baker.fee !== undefined ? new BigNumber(baker.fee) : undefined,\n        logo: baker.hasLogo ? `${COIN_LIB_SERVICE}/api/v1/tz/bakers/image/${baker.logoReference || address}` : undefined\n      }\n    })\n\n    return bakersResponse\n  }\n\n  public async getKnownCosmosValidators(): Promise<CosmosValidatorDetails[]> {\n    const validatorsResponse: CosmosValidatorDetails[] = await this.httpClient\n      .get<CosmosValidatorDetails[]>(`${COIN_LIB_SERVICE}/api/v1/cosmos/validators`)\n      .toPromise()\n      .catch((error) => {\n        handleErrorSentry(ErrorCategory.OTHER)(error)\n\n        return []\n      })\n\n    return Promise.all(\n      validatorsResponse.map(async (validator: CosmosValidatorDetails) => {\n        return {\n          ...validator,\n          tokens: new BigNumber(validator.tokens),\n          delegator_shares: new BigNumber(validator.delegator_shares),\n          commission: {\n            ...validator.commission,\n            commission_rates: {\n              rate: new BigNumber(validator.commission.commission_rates.rate),\n              max_rate: new BigNumber(validator.commission.commission_rates.max_rate),\n              max_change_rate: new BigNumber(validator.commission.commission_rates.max_change_rate)\n            }\n          },\n          logo: `${COIN_LIB_SERVICE}/api/v1/cosmos/validators/image/${validator.operator_address}`\n        }\n      })\n    )\n  }\n\n  public async checkApiHealth(): Promise<ApiHealth[]> {\n    const apiHealth: ApiHealth[] = await this.httpClient\n      .get<ApiHealth[]>(`${COIN_LIB_SERVICE}/api/v1/health`)\n      .toPromise()\n      .catch((error) => {\n        handleErrorSentry(ErrorCategory.OTHER)(error)\n        return []\n      })\n    return apiHealth\n  }\n}\n","import { AmountConverterPipe } from '@airgap/angular-core'\nimport { MainProtocolSymbols, SubstrateDelegateProtocol, SubstrateNetwork, SubstratePayee } from '@airgap/coinlib-core'\nimport { DelegatorAction } from '@airgap/coinlib-core/protocols/ICoinDelegateProtocol'\nimport { SubstrateElectionStatus } from '@airgap/coinlib-core/protocols/substrate/common/data/staking/SubstrateEraElectionStatus'\nimport { SubstrateNominationStatus } from '@airgap/coinlib-core/protocols/substrate/common/data/staking/SubstrateNominationStatus'\nimport {\n  SubstrateNominatorDetails,\n  SubstrateStakingDetails\n} from '@airgap/coinlib-core/protocols/substrate/common/data/staking/SubstrateNominatorDetails'\nimport { SubstrateStakingActionType } from '@airgap/coinlib-core/protocols/substrate/common/data/staking/SubstrateStakingActionType'\nimport { SubstrateValidatorDetails } from '@airgap/coinlib-core/protocols/substrate/common/data/staking/SubstrateValidatorDetails'\nimport { DecimalPipe } from '@angular/common'\nimport { FormBuilder, Validators } from '@angular/forms'\nimport { TranslateService } from '@ngx-translate/core'\nimport BigNumber from 'bignumber.js'\nimport * as moment from 'moment'\nimport {\n  AirGapDelegateeDetails,\n  AirGapDelegationDetails,\n  AirGapDelegatorAction,\n  AirGapDelegatorDetails\n} from 'src/app/interfaces/IAirGapCoinDelegateProtocol'\nimport { UIAccountSummary } from 'src/app/models/widgets/display/UIAccountSummary'\nimport { UIAlert } from 'src/app/models/widgets/display/UIAlert'\nimport { UIIconText } from 'src/app/models/widgets/display/UIIconText'\nimport { UIRewardList } from 'src/app/models/widgets/display/UIRewardList'\nimport { UIInputWidget } from 'src/app/models/widgets/UIInputWidget'\nimport { UIWidget, WidgetState } from 'src/app/models/widgets/UIWidget'\nimport { ShortenStringPipe } from 'src/app/pipes/shorten-string/shorten-string.pipe'\nimport { DecimalValidator } from 'src/app/validators/DecimalValidator'\n\nimport { ProtocolDelegationExtensions } from './ProtocolDelegationExtensions'\n\n// sorted by priority\nconst delegateActions = [\n  SubstrateStakingActionType.BOND_NOMINATE,\n  SubstrateStakingActionType.REBOND_NOMINATE,\n  SubstrateStakingActionType.NOMINATE,\n  SubstrateStakingActionType.CHANGE_NOMINATION,\n  SubstrateStakingActionType.BOND_EXTRA,\n  SubstrateStakingActionType.REBOND_EXTRA\n]\n\n// sorted by priority\nconst undelegateActions = [SubstrateStakingActionType.CANCEL_NOMINATION, SubstrateStakingActionType.UNBOND]\n\nconst supportedActions = [...delegateActions, ...undelegateActions, SubstrateStakingActionType.WITHDRAW_UNBONDED]\n\nenum ArgumentName {\n  TARGETS = 'targets',\n  VALUE = 'value',\n  VALUE_CONTROL = 'valueControl',\n  PAYEE = 'payee'\n}\n\nexport class SubstrateDelegationExtensions extends ProtocolDelegationExtensions<SubstrateDelegateProtocol<SubstrateNetwork>> {\n  private static instance: SubstrateDelegationExtensions\n\n  public static create(\n    formBuilder: FormBuilder,\n    decimalPipe: DecimalPipe,\n    amountConverterPipe: AmountConverterPipe,\n    shortenStringPipe: ShortenStringPipe,\n    translateService: TranslateService\n  ): SubstrateDelegationExtensions {\n    if (!SubstrateDelegationExtensions.instance) {\n      SubstrateDelegationExtensions.instance = new SubstrateDelegationExtensions(\n        formBuilder,\n        decimalPipe,\n        amountConverterPipe,\n        shortenStringPipe,\n        translateService\n      )\n    }\n\n    return SubstrateDelegationExtensions.instance\n  }\n\n  public airGapDelegatee(_protocol: SubstrateDelegateProtocol<SubstrateNetwork>): string | undefined {\n    return undefined\n  }\n\n  public delegateeLabel: string = 'delegation-detail-substrate.delegatee-label'\n  public delegateeLabelPlural: string = 'delegation-detail-substrate.delegatee-label-plural'\n  public supportsMultipleDelegations: boolean = true\n\n  private constructor(\n    private readonly formBuilder: FormBuilder,\n    private readonly decimalPipe: DecimalPipe,\n    private readonly amountConverterPipe: AmountConverterPipe,\n    private readonly shortenStringPipe: ShortenStringPipe,\n    private readonly translateService: TranslateService\n  ) {\n    super()\n  }\n\n  public async getExtraDelegationDetailsFromAddress(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    delegator: string,\n    delegatees: string[]\n  ): Promise<AirGapDelegationDetails[]> {\n    const [nominatorDetails, validatorsDetails]: [SubstrateNominatorDetails, SubstrateValidatorDetails[]] = await Promise.all([\n      protocol.options.accountController.getNominatorDetails(delegator, delegatees),\n      Promise.all(delegatees.map((validator: string) => protocol.options.accountController.getValidatorDetails(validator)))\n    ])\n\n    const extraNominatorDetails: AirGapDelegatorDetails = await this.getExtraNominatorDetails(protocol, nominatorDetails, delegatees)\n    const extraValidatorsDetails: AirGapDelegateeDetails[] = await this.getExtraValidatorsDetails(\n      protocol,\n      validatorsDetails,\n      nominatorDetails,\n      extraNominatorDetails\n    )\n\n    const alerts: UIAlert[] = (\n      await Promise.all(\n        validatorsDetails.map((validatorDetails: SubstrateValidatorDetails) => this.getAlerts(protocol, nominatorDetails, validatorDetails))\n      )\n    ).reduce((flatten: UIAlert[], next: UIAlert[]) => flatten.concat(next), [])\n\n    return [\n      {\n        alerts: alerts.length > 0 ? alerts : undefined,\n        delegator: extraNominatorDetails,\n        delegatees: extraValidatorsDetails\n      }\n    ]\n  }\n\n  public async getRewardDisplayDetails(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    delegator: string,\n    delegatees: string[]\n  ): Promise<UIRewardList | undefined> {\n    const nominatorDetails = await protocol.options.accountController.getNominatorDetails(delegator, delegatees)\n\n    return this.createDelegatorDisplayRewards(protocol, nominatorDetails)\n  }\n\n  public async createDelegateesSummary(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    delegatees: string[]\n  ): Promise<UIAccountSummary[]> {\n    const delegateesDetails: SubstrateValidatorDetails[] = await Promise.all(\n      delegatees.map((delegatee) => protocol.options.accountController.getValidatorDetails(delegatee))\n    )\n\n    return delegateesDetails.map(\n      (details: SubstrateValidatorDetails) =>\n        new UIAccountSummary({\n          address: details.address,\n          header: [\n            details.name,\n            details.commission ? `${this.decimalPipe.transform(new BigNumber(details.commission).times(100).toString())}%` : ''\n          ],\n          description: [this.shortenStringPipe.transform(details.address), '']\n        })\n    )\n  }\n\n  private async getExtraValidatorsDetails(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    validatorsDetails: SubstrateValidatorDetails[],\n    nominatorDetails: SubstrateNominatorDetails,\n    extraNominatorDetials: AirGapDelegatorDetails\n  ): Promise<AirGapDelegateeDetails[]> {\n    return Promise.all(\n      validatorsDetails.map(async (validatorDetails: SubstrateValidatorDetails) => {\n        const ownStash: BigNumber = new BigNumber(validatorDetails.ownStash ? validatorDetails.ownStash : 0)\n        const totalStakingBalance: BigNumber = new BigNumber(\n          validatorDetails.totalStakingBalance ? validatorDetails.totalStakingBalance : 0\n        )\n\n        const displayDetails: UIWidget[] = await this.createDelegateeDisplayDetails(\n          protocol,\n          validatorDetails,\n          nominatorDetails,\n          extraNominatorDetials\n        )\n\n        return {\n          ...validatorDetails,\n          name: validatorDetails.name || '',\n          status: validatorDetails.status || 'delegation-detail-substrate.status.unknown',\n          usageDetails: {\n            usage: ownStash.dividedBy(totalStakingBalance),\n            current: ownStash,\n            total: totalStakingBalance\n          },\n          displayDetails\n        }\n      })\n    )\n  }\n\n  private async getAlerts(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    nominatorDetails: SubstrateNominatorDetails,\n    validatorDetails: SubstrateValidatorDetails\n  ): Promise<UIAlert[]> {\n    const alerts: UIAlert[] = []\n\n    const results = await Promise.all([\n      protocol.options.nodeClient.getElectionStatus(),\n      protocol.options.accountController.getNominationStatus(nominatorDetails.address, validatorDetails.address)\n    ])\n    const isElectionOpen: boolean = results[0] && results[0].status.value === SubstrateElectionStatus.OPEN\n    const nominationStatus: SubstrateNominationStatus | undefined = results[1]\n\n    if (protocol.identifier === MainProtocolSymbols.POLKADOT) {\n      alerts.push(\n        new UIAlert({\n          title: 'delegation-detail-substrate.alert.polkadot.delegation-issues.title',\n          description: 'delegation-detail-substrate.alert.polkadot.delegation-issues.description',\n          icon: 'alert-circle-outline',\n          color: 'warning',\n          actions: [\n            {\n              text: 'delegation-detail-substrate.alert.polkadot.delegation-issues.actions.open-blogpost',\n              action: async () => {\n                window.open('https://polkadot.network/polkadot-staking-an-update/', '_blank')\n              }\n            }\n          ]\n        })\n      )\n    }\n\n    if (isElectionOpen) {\n      alerts.push(\n        new UIAlert({\n          title: 'delegation-detail-substrate.alert.election-open.title',\n          description: 'delegation-detail-substrate.alert.election-open.description',\n          icon: 'alert-circle-outline',\n          color: 'warning'\n        })\n      )\n    }\n\n    if (nominationStatus === SubstrateNominationStatus.INACTIVE) {\n      alerts.push(\n        new UIAlert({\n          title: 'delegation-detail-substrate.alert.nomination-inactive.title',\n          description: 'delegation-detail-substrate.alert.nomination-inactive.description',\n          icon: 'alert-circle-outline',\n          color: 'warning'\n        })\n      )\n    } else if (nominationStatus === SubstrateNominationStatus.OVERSUBSCRIBED) {\n      alerts.push(\n        new UIAlert({\n          title: 'delegation-detail-substrate.alert.nomination-oversubscribed.title',\n          description: 'delegation-detail-substrate.alert.nomination-oversubscribed.description',\n          icon: 'alert-circle-outline',\n          color: 'warning'\n        })\n      )\n    } else if (nominationStatus === undefined && validatorDetails.nominators > 256) {\n      alerts.push(\n        new UIAlert({\n          title: 'delegation-detail-substrate.alert.validator-oversubscribed.title',\n          description: 'delegation-detail-substrate.alert.validator-oversubscribed.description',\n          icon: 'alert-circle-outline',\n          color: 'warning'\n        })\n      )\n    }\n\n    return alerts\n  }\n\n  private async createDelegateeDisplayDetails(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    validatorDetails: SubstrateValidatorDetails,\n    nominatorDetails: SubstrateNominatorDetails,\n    extraNominatorDetails: AirGapDelegatorDetails\n  ): Promise<UIWidget[]> {\n    const details = []\n\n    const commission = validatorDetails.commission ? new BigNumber(validatorDetails.commission) : null\n    const totalPreviousReward = validatorDetails.lastEraReward ? new BigNumber(validatorDetails.lastEraReward.amount) : null\n\n    details.push(\n      new UIIconText({\n        iconName: 'logo-usd',\n        text: commission ? this.decimalPipe.transform(commission.multipliedBy(100).toString()) + '%' : '-',\n        description: 'delegation-detail-substrate.commission_label'\n      })\n    )\n\n    const delegateAction = extraNominatorDetails.mainActions\n      ? extraNominatorDetails.mainActions.find((action) => delegateActions.includes(action.type))\n      : undefined\n\n    const isNominated = nominatorDetails.delegatees.includes(validatorDetails.address)\n    const showExpectedRewardWidget =\n      !!totalPreviousReward &&\n      !!commission &&\n      validatorDetails.status === 'Active' &&\n      !isNominated &&\n      !!delegateAction &&\n      !!delegateAction.form\n\n    if (showExpectedRewardWidget) {\n      const bonded = nominatorDetails.stakingDetails ? new BigNumber(nominatorDetails.stakingDetails.total) : new BigNumber(0)\n\n      const getExpectedReward = async (userStake: BigNumber) => {\n        const totalStake = new BigNumber(validatorDetails.totalStakingBalance).plus(userStake)\n        const userShare = userStake.dividedBy(totalStake)\n        const expectedReward = new BigNumber(1).minus(commission).multipliedBy(totalPreviousReward).multipliedBy(userShare)\n\n        return this.amountConverterPipe.transform(expectedReward, {\n          protocol\n        })\n      }\n\n      const expectedRewardWidget = new UIIconText({\n        iconName: 'logo-usd',\n        text: await getExpectedReward(bonded),\n        description: 'delegation-detail-substrate.expected-reward_label'\n      })\n\n      delegateAction.form.valueChanges.subscribe((value) => {\n        expectedRewardWidget.doAfterReached(\n          WidgetState.INIT,\n          async () => {\n            const userStake = bonded.plus(value[ArgumentName.VALUE] || 0)\n            expectedRewardWidget.text = await getExpectedReward(userStake)\n          },\n          true\n        )\n      })\n\n      details.push(expectedRewardWidget)\n    }\n\n    return details\n  }\n\n  private async getExtraNominatorDetails(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    nominatorDetails: SubstrateNominatorDetails,\n    validators: string[]\n  ): Promise<AirGapDelegatorDetails> {\n    const availableActions = nominatorDetails.availableActions.filter((action) => supportedActions.includes(action.type))\n\n    const delegateAction: AirGapDelegatorAction = await this.createDelegateAction(\n      protocol,\n      nominatorDetails.stakingDetails,\n      availableActions,\n      nominatorDetails.address,\n      validators\n    )\n\n    const undelegateAction: AirGapDelegatorAction = this.createUndelegateAction(nominatorDetails.stakingDetails, availableActions)\n    const extraActions: AirGapDelegatorAction[] = await this.createDelegatorExtraActions(\n      protocol,\n      nominatorDetails.stakingDetails,\n      availableActions\n    )\n    const displayDetails: UIWidget[] = await this.createDelegatorDisplayDetails(protocol, nominatorDetails)\n\n    return {\n      ...nominatorDetails,\n      mainActions: [delegateAction, ...extraActions].filter((action) => !!action),\n      secondaryActions: [undelegateAction].filter((action) => !!action),\n      displayDetails\n    }\n  }\n\n  // tslint:disable-next-line: cyclomatic-complexity\n  private async createDelegateAction(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    stakingDetails: SubstrateStakingDetails,\n    availableActions: DelegatorAction[],\n    nominatorAddress: string,\n    validators: string[]\n  ): Promise<AirGapDelegatorAction | null> {\n    const actions = availableActions\n      .filter((action) => delegateActions.includes(action.type))\n      .sort((a1, a2) => delegateActions.indexOf(a1.type) - delegateActions.indexOf(a2.type))\n\n    const action = actions[0]\n\n    const [maxValue, minValue]: [BigNumber | undefined, BigNumber | undefined] = await Promise.all([\n      action ? this.getMaxDelegationValue(protocol, action.type, nominatorAddress) : undefined,\n      action ? this.getMinDelegationValue(protocol, action.type) : undefined\n    ])\n\n    if (action) {\n      const hasSufficientFunds: boolean = maxValue === undefined || minValue === undefined || maxValue.gte(minValue)\n\n      const maxValueShifted: BigNumber | undefined =\n        maxValue !== undefined ? maxValue.integerValue().shiftedBy(-protocol.decimals) : undefined\n      const minValueShifted: BigNumber | undefined =\n        minValue !== undefined ? minValue.integerValue().shiftedBy(-protocol.decimals) : undefined\n\n      const extraValidators = []\n      if (minValueShifted !== undefined) {\n        extraValidators.push(Validators.min(new BigNumber(minValueShifted).toNumber()))\n      }\n      if (maxValueShifted !== undefined) {\n        extraValidators.push(Validators.max(new BigNumber(maxValueShifted).toNumber()))\n      }\n\n      const form = this.formBuilder.group({\n        [ArgumentName.TARGETS]: [validators],\n        [ArgumentName.VALUE]: [\n          action.args.includes(ArgumentName.VALUE) && maxValue !== undefined ? maxValue.toString() : stakingDetails.active\n        ],\n        [ArgumentName.VALUE_CONTROL]: [\n          maxValueShifted ? maxValueShifted.toFixed() : minValueShifted ? minValueShifted.toFixed() : '0',\n          Validators.compose([Validators.required, DecimalValidator.validate(protocol.decimals), ...extraValidators])\n        ],\n        [ArgumentName.PAYEE]: [SubstratePayee.STASH]\n      })\n\n      if (!hasSufficientFunds) {\n        form.get(ArgumentName.VALUE_CONTROL).disable()\n      }\n\n      const argWidgets = []\n      if (action.args.includes(ArgumentName.VALUE)) {\n        argWidgets.push(\n          this.createAmountWidget(\n            ArgumentName.VALUE_CONTROL,\n            maxValueShifted ? maxValueShifted.toFixed() : undefined,\n            minValueShifted ? minValueShifted.toFixed() : undefined,\n            {\n              onValueChanged: (value: string) => {\n                form.patchValue({ [ArgumentName.VALUE]: new BigNumber(value).shiftedBy(protocol.decimals).toFixed() })\n              },\n              toggleFixedValueButton:\n                maxValueShifted !== undefined && hasSufficientFunds ? 'delegation-detail.max-amount_button' : undefined,\n              fixedValue: maxValueShifted && hasSufficientFunds ? maxValueShifted.toString() : undefined\n            }\n          )\n        )\n      }\n\n      const description = await this.createDelegateActionDescription(\n        protocol,\n        nominatorAddress,\n        action.type,\n        stakingDetails ? stakingDetails.active : 0,\n        hasSufficientFunds,\n        minValue,\n        maxValue\n      )\n\n      return {\n        type: action.type,\n        label: 'delegation-detail-substrate.delegate.label',\n        description,\n        form,\n        args: argWidgets,\n        disabled: !hasSufficientFunds\n      }\n    }\n\n    return null\n  }\n\n  private async getMaxDelegationValue(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    actionType: SubstrateStakingActionType,\n    nominatorAddress: string\n  ): Promise<BigNumber | undefined> {\n    switch (actionType) {\n      case SubstrateStakingActionType.REBOND_NOMINATE:\n      case SubstrateStakingActionType.REBOND_EXTRA:\n        const [unlocking, maxUnlocked]: [BigNumber, BigNumber] = await Promise.all([\n          protocol.options.accountController.getUnlockingBalance(nominatorAddress).then((unlocking) => new BigNumber(unlocking)),\n          protocol\n            .estimateMaxDelegationValueFromAddress(nominatorAddress)\n            .then((max: string) => new BigNumber(max))\n            .catch(() => undefined)\n        ])\n\n        if (maxUnlocked === undefined) {\n          return undefined\n        }\n\n        return maxUnlocked.gt(0) ? maxUnlocked.plus(unlocking) : new BigNumber(0)\n      default:\n        const maxValue = await protocol.estimateMaxDelegationValueFromAddress(nominatorAddress).catch(() => undefined)\n\n        return maxValue !== undefined ? new BigNumber(maxValue) : undefined\n    }\n  }\n\n  private async getMinDelegationValue(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    actionType: SubstrateStakingActionType\n  ): Promise<BigNumber | undefined> {\n    switch (actionType) {\n      case SubstrateStakingActionType.BOND_NOMINATE:\n        return new BigNumber(await protocol.options.nodeClient.getExistentialDeposit())\n      case SubstrateStakingActionType.NOMINATE:\n        return new BigNumber(0)\n      default:\n        return new BigNumber(1)\n    }\n  }\n\n  private async createDelegateActionDescription(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    address: string,\n    actionType: SubstrateStakingActionType,\n    bonded: string | number | BigNumber,\n    hasSufficientFunds: boolean,\n    minValue?: string | number | BigNumber | undefined,\n    maxValue?: string | number | BigNumber | undefined\n  ): Promise<string | undefined> {\n    if (!hasSufficientFunds) {\n      const futureTransactions = await protocol.getFutureRequiredTransactions(address, 'delegate')\n      const feeEstimation = await protocol.options.transactionController.estimateTransactionFees(address, futureTransactions)\n      const feeEstimationFormatted = await this.amountConverterPipe.transform(feeEstimation, { protocol })\n\n      return this.translateService.instant('delegation-detail-substrate.delegate.unsufficient-funds_text', {\n        extra: feeEstimationFormatted,\n        symbol: protocol.marketSymbol.toLocaleUpperCase()\n      })\n    }\n\n    const bondedFormatted = await this.amountConverterPipe.transform(bonded, {\n      protocol\n    })\n\n    const minValueFormatted =\n      minValue !== undefined\n        ? await this.amountConverterPipe.transform(minValue, {\n            protocol,\n            maxDigits: protocol.decimals\n          })\n        : undefined\n\n    const maxValueFormatted =\n      maxValue !== undefined\n        ? await this.amountConverterPipe.transform(maxValue, {\n            protocol,\n            maxDigits: protocol.decimals\n          })\n        : undefined\n\n    let translationKey: string\n    let translationArgs: any = {}\n    switch (actionType) {\n      case SubstrateStakingActionType.BOND_NOMINATE:\n        if (maxValueFormatted) {\n          translationKey = 'delegation-detail-substrate.delegate.bond-nominate_text'\n          translationArgs = {\n            minDelegation: minValueFormatted,\n            maxDelegation: maxValueFormatted\n          }\n        } else {\n          translationKey = 'delegation-detail-substrate.delegate.bond-nominate-no-max_text'\n        }\n        break\n      case SubstrateStakingActionType.REBOND_NOMINATE:\n        if (maxValueFormatted) {\n          translationKey = 'delegation-detail-substrate.delegate.rebond-nominate_text'\n          translationArgs = { maxDelegation: maxValueFormatted }\n        } else {\n          translationKey = 'delegation-detail-substrate.delegate.rebond-nominate-no-max_text'\n        }\n        break\n      case SubstrateStakingActionType.NOMINATE:\n        translationKey = 'delegation-detail-substrate.delegate.nominate_text'\n        translationArgs = { bonded: bondedFormatted }\n        break\n      case SubstrateStakingActionType.BOND_EXTRA:\n        if (maxValueFormatted) {\n          translationKey = 'delegation-detail-substrate.delegate.bond-extra_text'\n          translationArgs = {\n            bonded: bondedFormatted,\n            maxDelegation: maxValueFormatted\n          }\n        } else {\n          translationKey = 'delegation-detail-substrate.delegate.bond-extra-no-max_text'\n          translationArgs = {\n            bonded: bondedFormatted,\n            symbol: protocol.marketSymbol.toLocaleUpperCase()\n          }\n        }\n        break\n      case SubstrateStakingActionType.REBOND_EXTRA:\n        if (maxValueFormatted) {\n          translationKey = 'delegation-detail-substrate.delegate.rebond-extra_text'\n          translationArgs = {\n            bonded: bondedFormatted,\n            maxDelegation: maxValueFormatted\n          }\n        } else {\n          translationKey = 'delegation-detail-substrate.delegate.rebond-extra-no-max_text'\n          translationArgs = {\n            bonded: bondedFormatted,\n            symbol: protocol.marketSymbol.toLocaleUpperCase()\n          }\n        }\n        break\n      case SubstrateStakingActionType.CHANGE_NOMINATION:\n        translationKey = 'delegation-detail-substrate.delegate.change-nomination_text'\n        translationArgs = { bonded: bondedFormatted }\n        break\n      default:\n        return undefined\n    }\n\n    return this.translateService.instant(translationKey, translationArgs)\n  }\n\n  private createUndelegateAction(\n    stakingDetails: SubstrateStakingDetails | null,\n    availableActions: DelegatorAction[]\n  ): AirGapDelegatorAction | null {\n    const actions = availableActions\n      .filter((action) => undelegateActions.includes(action.type))\n      .sort((a1, a2) => undelegateActions.indexOf(a1.type) - undelegateActions.indexOf(a2.type))\n\n    const action = actions[0]\n\n    if (action && stakingDetails) {\n      const form = this.formBuilder.group({\n        [ArgumentName.VALUE]: [stakingDetails.active]\n      })\n\n      const label = this.createUndelegateActionLabel(action.type)\n\n      return {\n        type: action.type,\n        label,\n        iconName: 'close-outline',\n        form\n      }\n    }\n\n    return null\n  }\n\n  private createUndelegateActionLabel(actionType: SubstrateStakingActionType): string | undefined {\n    switch (actionType) {\n      case SubstrateStakingActionType.CANCEL_NOMINATION:\n        return 'delegation-detail-substrate.undelegate.label'\n      case SubstrateStakingActionType.UNBOND:\n        return 'delegation-detail-substrate.unbond.label'\n      default:\n        return undefined\n    }\n  }\n\n  private async createDelegatorExtraActions(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    stakingDetails: SubstrateStakingDetails | undefined,\n    availableActions: DelegatorAction[]\n  ): Promise<AirGapDelegatorAction[]> {\n    return Promise.all(\n      availableActions\n        .filter((action) => !delegateActions.includes(action.type) && !undelegateActions.includes(action.type))\n        .map(async (action) => {\n          let label: string\n          let confirmLabel: string\n          let description: string\n          let args: UIInputWidget<any>[]\n\n          // tslint:disable-next-line: switch-default\n          switch (action.type) {\n            case SubstrateStakingActionType.WITHDRAW_UNBONDED:\n              const totalUnlockedFormatted: string | undefined = stakingDetails\n                ? await this.amountConverterPipe.transform(stakingDetails.unlocked, {\n                    protocol\n                  })\n                : undefined\n\n              label = 'delegation-detail-substrate.withdraw-unbonded.label'\n              confirmLabel = 'delegation-detail-substrate.withdraw-unbonded.button'\n              description = totalUnlockedFormatted\n                ? this.translateService.instant('delegation-detail-substrate.withdraw-unbonded.text-full', {\n                    unlocked: totalUnlockedFormatted\n                  })\n                : 'delegation-detail-substrate.withdraw-unbonded.text-short'\n\n              break\n          }\n\n          return {\n            type: action.type,\n            label,\n            description,\n            confirmLabel,\n            args\n          }\n        })\n    )\n  }\n\n  private async createDelegatorDisplayDetails(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    nominatorDetails: SubstrateNominatorDetails\n  ): Promise<UIWidget[]> {\n    const displayDetails = []\n    const isDelegating = nominatorDetails.delegatees.length > 0\n\n    if (nominatorDetails.stakingDetails) {\n      displayDetails.push(...(await this.createStakingDetailsWidgets(protocol, isDelegating, nominatorDetails.stakingDetails)))\n    }\n\n    return displayDetails\n  }\n\n  private async createStakingDetailsWidgets(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    isNominating: boolean,\n    stakingDetails: SubstrateStakingDetails\n  ): Promise<UIWidget[]> {\n    const details = []\n\n    details.push(...(await this.createBondedDetails(protocol, stakingDetails)))\n\n    if (isNominating) {\n      details.push(...this.createNominationDetails(protocol, stakingDetails))\n    }\n\n    return details\n  }\n\n  private async createDelegatorDisplayRewards(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    nominatorDetails: SubstrateNominatorDetails\n  ): Promise<UIRewardList | undefined> {\n    if (nominatorDetails.delegatees.length === 0 || nominatorDetails.stakingDetails.rewards.length === 0) {\n      return undefined\n    }\n\n    return new UIRewardList({\n      rewards: await Promise.all(\n        nominatorDetails.stakingDetails.rewards.slice(0, 5).map(async (reward) => ({\n          index: reward.eraIndex,\n          amount: await this.amountConverterPipe.transform(reward.amount, {\n            protocol\n          }),\n          timestamp: reward.timestamp\n        }))\n      ),\n      indexColLabel: 'delegation-detail-substrate.rewards.index-col_label',\n      amountColLabel: 'delegation-detail-substrate.rewards.amount-col_label',\n      payoutColLabel: 'delegation-detail-substrate.rewards.payout-col_label'\n    })\n  }\n\n  private async createBondedDetails(\n    protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    stakingDetails: SubstrateStakingDetails\n  ): Promise<UIWidget[]> {\n    const details = []\n\n    const activeStaking = new BigNumber(stakingDetails.active)\n    const totalUnlocked = new BigNumber(stakingDetails.unlocked)\n\n    if (activeStaking.gt(0)) {\n      details.push(\n        new UIIconText({\n          iconName: 'people-outline',\n          text: await this.amountConverterPipe.transform(activeStaking, {\n            protocol\n          }),\n          description:\n            stakingDetails.status === 'nominating'\n              ? 'delegation-detail-substrate.delegated_label'\n              : 'delegation-detail-substrate.bonded_label'\n        })\n      )\n    }\n\n    if (stakingDetails.locked.length > 0) {\n      const nextUnlocking = stakingDetails.locked.sort((a, b) => a.expectedUnlock - b.expectedUnlock)[0]\n      const unlockingDate = new Date(nextUnlocking.expectedUnlock)\n\n      const nextUnlockingValue = new BigNumber(nextUnlocking.value)\n\n      details.push(\n        new UIIconText({\n          iconName: 'people-outline',\n          text: await this.amountConverterPipe.transform(nextUnlockingValue, {\n            protocol\n          }),\n          description: 'delegation-detail-substrate.locked_label'\n        }),\n        new UIIconText({\n          iconName: 'alarm-outline',\n          text: `${moment(unlockingDate).fromNow()} (${moment(unlockingDate).format('LLL')})`,\n          description: 'delegation-detail-substrate.withdraw-ready_label'\n        })\n      )\n    } else if (totalUnlocked.gt(0)) {\n      details.push(\n        new UIIconText({\n          iconName: 'people-outline',\n          text: await this.amountConverterPipe.transform(totalUnlocked, {\n            protocol\n          }),\n          description: 'delegation-detail-substrate.withdraw-ready_label'\n        })\n      )\n    }\n\n    return details\n  }\n\n  private createNominationDetails(\n    _protocol: SubstrateDelegateProtocol<SubstrateNetwork>,\n    stakingDetails: SubstrateStakingDetails\n  ): UIWidget[] {\n    const details = []\n\n    const nextEraDate = new Date(stakingDetails.nextEra)\n\n    let nextEraLabel: string | undefined\n    switch (stakingDetails.status) {\n      case 'nominating':\n        nextEraLabel = 'delegation-detail-substrate.next-payout_label'\n        break\n      case 'nominating_waiting':\n        nextEraLabel = 'delegation-detail-substrate.becomes-active_label'\n        break\n      case 'nominating_inactive':\n        nextEraLabel = 'delegation-detail-substrate.next-era_label'\n        break\n      default:\n        nextEraLabel = undefined\n    }\n\n    if (nextEraLabel) {\n      details.push(\n        new UIIconText({\n          iconName: 'sync-outline',\n          text: `${moment(nextEraDate).fromNow()} (${moment(nextEraDate).format('LLL')})`,\n          description: nextEraLabel\n        })\n      )\n    }\n\n    return details\n  }\n}\n","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t\"dUtr\",\n\t\t\"common\",\n\t\t0\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t\"Q8AI\",\n\t\t\"common\",\n\t\t1\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t\"hgI1\",\n\t\t\"common\",\n\t\t2\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t\"CfoV\",\n\t\t\"common\",\n\t\t3\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t\"Nt02\",\n\t\t\"common\",\n\t\t4\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t\"Q2Bp\",\n\t\t5\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t\"0Pbj\",\n\t\t\"common\",\n\t\t6\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t\"ydQj\",\n\t\t\"common\",\n\t\t7\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t\"4fMi\",\n\t\t\"common\",\n\t\t8\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t\"czK9\",\n\t\t\"common\",\n\t\t9\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"/CAe\",\n\t\t10\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t\"WgF3\",\n\t\t\"common\",\n\t\t11\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t\"uQcF\",\n\t\t\"common\",\n\t\t12\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"wHD8\",\n\t\t13\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t\"2lz6\",\n\t\t14\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t\"ercB\",\n\t\t\"common\",\n\t\t15\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t\"MGMP\",\n\t\t\"common\",\n\t\t16\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t\"9bur\",\n\t\t\"common\",\n\t\t17\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t\"cABk\",\n\t\t\"common\",\n\t\t18\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t\"kyFE\",\n\t\t\"common\",\n\t\t19\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t\"TvZU\",\n\t\t\"common\",\n\t\t20\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t\"vnES\",\n\t\t\"common\",\n\t\t21\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t\"qCuA\",\n\t\t\"common\",\n\t\t22\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t\"0tOe\",\n\t\t\"common\",\n\t\t23\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t\"h11V\",\n\t\t\"common\",\n\t\t24\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t\"XGij\",\n\t\t\"common\",\n\t\t25\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t\"nYbb\",\n\t\t\"common\",\n\t\t26\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t\"smMY\",\n\t\t\"common\",\n\t\t27\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"STjf\",\n\t\t28\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"k5eQ\",\n\t\t\"common\",\n\t\t29\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t\"OR5t\",\n\t\t\"common\",\n\t\t30\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t\"fSgp\",\n\t\t\"common\",\n\t\t31\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t\"lfGF\",\n\t\t\"common\",\n\t\t32\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t\"5xYT\",\n\t\t33\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"nI0H\",\n\t\t\"common\",\n\t\t34\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t\"NAQR\",\n\t\t35\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t\"knkW\",\n\t\t\"common\",\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"TpdJ\",\n\t\t\"common\",\n\t\t37\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"ISmu\",\n\t\t\"common\",\n\t\t38\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t\"U7LX\",\n\t\t\"common\",\n\t\t39\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t\"L3sA\",\n\t\t\"common\",\n\t\t40\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t\"IUOf\",\n\t\t\"common\",\n\t\t41\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"8Mb5\",\n\t\t42\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"kLfG\";\nmodule.exports = webpackAsyncContext;","import { IACSinglePartHandler } from '@airgap/angular-core'\nimport { P2PPairingRequest, Serializer } from '@airgap/beacon-sdk'\n\nimport { BeaconService } from '../../beacon/beacon.service'\n\nconst isBeaconMessage: (obj: unknown) => obj is P2PPairingRequest = (obj: unknown): obj is P2PPairingRequest => {\n  return (\n    typeof (obj as P2PPairingRequest).name === 'string' &&\n    typeof (obj as P2PPairingRequest).publicKey === 'string' &&\n    typeof (obj as P2PPairingRequest).relayServer === 'string'\n    // version is not checked to be v1 compatible\n  )\n}\n\nconst isValidUrl: (url: string) => Promise<boolean> = async (url: string): Promise<boolean> => {\n  try {\n    // tslint:disable-next-line: no-unused-expression\n    new URL(url)\n  } catch {\n    return false\n  }\n\n  return true\n}\n\nexport class BeaconHandler extends IACSinglePartHandler<P2PPairingRequest> {\n  public readonly name: string = 'BeaconHandler'\n\n  constructor(private readonly beaconService: BeaconService) {\n    super()\n  }\n\n  public async handleComplete(): Promise<P2PPairingRequest> {\n    await this.beaconService.client.isConnected\n    await this.beaconService.addPeer(this.payload)\n\n    return this.payload\n  }\n\n  public async processData(data: string): Promise<P2PPairingRequest | undefined> {\n    let payload = data\n\n    if (await isValidUrl(data)) {\n      const params: URLSearchParams = new URL(data).searchParams\n      if (params && params.get('type') === 'tzip10') {\n        payload = params.get('data')\n      }\n    }\n\n    try {\n      const json: Record<string, unknown> = (await new Serializer().deserialize(payload)) as any\n\n      if (isBeaconMessage(json)) {\n        return json\n      }\n    } catch {}\n\n    try {\n      const json = JSON.parse(data)\n      if (isBeaconMessage(json)) {\n        return json\n      }\n    } catch {}\n\n    return undefined\n  }\n}\n","import { UIWidget, UIWidgetType, UIWidgetConfig } from '../UIWidget'\n\nexport interface UIAccountExtendedDetailsConfig extends UIWidgetConfig {\n  items: UIAccountExtendedDetailsItem[]\n}\n\nexport interface UIAccountExtendedDetailsItem {\n  label: string\n  text: string\n}\n\nexport class UIAccountExtendedDetails extends UIWidget {\n  public type = UIWidgetType.ACCOUNT_EXTENDED_DETAILS\n\n  public items: UIAccountExtendedDetailsItem[]\n\n  constructor(config: UIAccountExtendedDetailsConfig) {\n    super(config)\n    this.items = config.items\n  }\n}\n","import { ProtocolService, SerializerService } from '@airgap/angular-core'\nimport { Component, Input, OnChanges } from '@angular/core'\nimport {\n  IACMessageDefinitionObject,\n  IAirGapTransaction,\n  ICoinProtocol,\n  MainProtocolSymbols,\n  ProtocolSymbols,\n  SignedTransaction,\n  TezosSaplingProtocol\n} from '@airgap/coinlib-core'\nimport BigNumber from 'bignumber.js'\n\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\nimport { AccountProvider } from 'src/app/services/account/account.provider'\n\n@Component({\n  selector: 'signed-transaction',\n  templateUrl: 'signed-transaction.html',\n  styleUrls: ['./signed-transaction.scss']\n})\nexport class SignedTransactionComponent implements OnChanges {\n  @Input()\n  public signedTxs: IACMessageDefinitionObject[] | undefined // TODO: Type\n\n  @Input()\n  public protocols: ICoinProtocol[] | undefined\n\n  @Input()\n  public syncProtocolString: string\n\n  public airGapTxs: IAirGapTransaction[]\n  public fallbackActivated: boolean = false\n\n  public aggregatedInfo:\n    | {\n        numberOfTxs: number\n        totalAmount: BigNumber\n        totalFees: BigNumber\n      }\n    | undefined\n\n  public rawTxData: SignedTransaction\n\n  constructor(\n    private readonly serializerService: SerializerService,\n    private readonly protocolService: ProtocolService,\n    private readonly accountProvider: AccountProvider\n  ) {\n    //\n  }\n\n  public async ngOnChanges(): Promise<void> {\n    if (this.syncProtocolString) {\n      try {\n        this.signedTxs = await this.serializerService.deserialize(this.syncProtocolString)[0]\n      } catch (e) {\n        this.fallbackActivated = true\n        handleErrorSentry(ErrorCategory.COINLIB)(e)\n      }\n    }\n\n    // TODO: Handle multiple messages\n    if (this.signedTxs) {\n      let protocol: ICoinProtocol =\n        this.protocols && this.protocols[0] ? this.protocols[0] : await this.protocolService.getProtocol(this.signedTxs[0].protocol)\n\n      try {\n        this.airGapTxs = (\n          await Promise.all(\n            this.signedTxs.map(async (signedTx: IACMessageDefinitionObject) => {\n              const payload: SignedTransaction = signedTx.payload as SignedTransaction\n              if (await this.checkIfSaplingTransaction(payload, signedTx.protocol)) {\n                const saplingProtocol: TezosSaplingProtocol = await this.getSaplingProtocol()\n                return saplingProtocol.getTransactionDetailsFromSigned(payload, {\n                  knownViewingKeys: this.accountProvider.getKnownViewingKeys()\n                })\n              } else {\n                return protocol.getTransactionDetailsFromSigned(payload)\n              }\n            })\n          )\n        ).reduce((flatten: IAirGapTransaction[], toFlatten: IAirGapTransaction[]) => flatten.concat(toFlatten), [])\n\n        if (\n          this.airGapTxs.length > 1 &&\n          this.airGapTxs.every((tx: IAirGapTransaction) => tx.protocolIdentifier === this.airGapTxs[0].protocolIdentifier)\n        ) {\n          this.aggregatedInfo = {\n            numberOfTxs: this.airGapTxs.length,\n            totalAmount: this.airGapTxs\n              .map((tx: IAirGapTransaction) => new BigNumber(tx.amount))\n              .filter((amount: BigNumber) => !amount.isNaN())\n              .reduce((pv: BigNumber, cv: BigNumber) => pv.plus(cv), new BigNumber(0)),\n            totalFees: this.airGapTxs.reduce((pv: BigNumber, cv: IAirGapTransaction) => pv.plus(cv.fee), new BigNumber(0))\n          }\n        }\n        this.fallbackActivated = false\n      } catch (e) {\n        console.error(e)\n        this.fallbackActivated = true\n        this.rawTxData = this.signedTxs[0].payload as SignedTransaction\n        handleErrorSentry(ErrorCategory.COINLIB)(e)\n      }\n    }\n  }\n\n  private async checkIfSaplingTransaction(transaction: SignedTransaction, protocolIdentifier: ProtocolSymbols): Promise<boolean> {\n    if (protocolIdentifier === MainProtocolSymbols.XTZ) {\n      const tezosProtocol: ICoinProtocol = await this.protocolService.getProtocol(protocolIdentifier)\n      const saplingProtocol: TezosSaplingProtocol = await this.getSaplingProtocol()\n\n      const txDetails: IAirGapTransaction[] = await tezosProtocol.getTransactionDetailsFromSigned(transaction)\n      const recipients: string[] = txDetails\n        .map((details) => details.to)\n        .reduce((flatten: string[], next: string[]) => flatten.concat(next), [])\n\n      return recipients.includes(saplingProtocol.options.config.contractAddress)\n    }\n\n    return protocolIdentifier === MainProtocolSymbols.XTZ_SHIELDED\n  }\n\n  private async getSaplingProtocol(): Promise<TezosSaplingProtocol> {\n    return (await this.protocolService.getProtocol(MainProtocolSymbols.XTZ_SHIELDED)) as TezosSaplingProtocol\n  }\n}\n","<span>\n  <ng-container *ngIf=\"airGapTxs && airGapTxs.length > 1\">\n    <ion-row class=\"ion-padding-bottom ion-text-center\">\n      <ion-col size=\"4\" class=\"content--align__center-center\">\n        <h5>\n          {{ aggregatedInfo.totalAmount.toFixed() | amountConverter: { protocol: airGapTxs[0].protocolIdentifier, maxDigits: undefined } |\n          async }}\n        </h5>\n      </ion-col>\n      <ion-col size=\"4\" class=\"content--align__center-center\">\n        <h5>{{ aggregatedInfo.numberOfTxs }}</h5>\n      </ion-col>\n      <ion-col size=\"4\" class=\"content--align__center-center\">\n        <h5>{{ aggregatedInfo.totalFees.toFixed() | feeConverter: { protocol: airGapTxs[0].protocolIdentifier } | async }}</h5>\n      </ion-col>\n      <ion-col size=\"4\">\n        <small>Amount</small>\n      </ion-col>\n      <ion-col size=\"4\">\n        <small>Operations</small>\n      </ion-col>\n      <ion-col size=\"4\">\n        <small>Fee</small>\n      </ion-col>\n    </ion-row>\n  </ng-container>\n  <ng-container *ngIf=\"airGapTxs\">\n    <airgap-from-to *ngFor=\"let airGapTx of airGapTxs\" [transaction]=\"airGapTx\"></airgap-from-to>\n  </ng-container>\n  <span *ngIf=\"fallbackActivated\">\n    <ion-row>\n      <ion-col size=\"2\" class=\"ion-margin-top\">\n        <ion-icon class=\"warning-icon\" color=\"dark\" name=\"warning\"></ion-icon>\n      </ion-col>\n      <ion-col>\n        {{ 'signed-transaction.transaction-unreadable' | translate }}\n      </ion-col>\n    </ion-row>\n    <p class=\"text--selectable typography--mono\" ion-text color=\"blackLight\">\n      {{ rawTxData.transaction }}\n    </p>\n  </span>\n</span>\n","import { AddressService } from '@airgap/angular-core'\nimport { ProtocolSymbols } from '@airgap/coinlib-core'\nimport { Component } from '@angular/core'\nimport { AlertController, NavParams, PopoverController } from '@ionic/angular'\nimport { AlertOptions } from '@ionic/core'\nimport { TranslateService } from '@ngx-translate/core'\n\n@Component({\n  selector: 'app-delegate-edit-popover',\n  templateUrl: './delegate-edit-popover.component.html',\n  styleUrls: ['./delegate-edit-popover.component.scss']\n})\nexport class DelegateEditPopoverComponent {\n  public readonly delegateeLabel: string\n  public readonly delegateeLabelPlural: string\n\n  private readonly protocolIdentifier: ProtocolSymbols\n  private readonly networkIdentifier: string\n\n  constructor(\n    private readonly alertController: AlertController,\n    private readonly popoverController: PopoverController,\n    private readonly navParams: NavParams,\n    private readonly translateService: TranslateService,\n    private readonly addressService: AddressService\n  ) {\n    const delegateeLabel: string | undefined = this.navParams.get('delegateeLabel')\n    const delegateeLabelPlural: string | undefined = this.navParams.get('delegateeLabelPlural')\n\n    this.protocolIdentifier = this.navParams.get('protocolIdentifier')\n    this.networkIdentifier = this.navParams.get('network')\n\n    this.delegateeLabel = delegateeLabel !== undefined ? delegateeLabel : 'delegation-detail.default-delegatee-label'\n    this.delegateeLabelPlural =\n      delegateeLabelPlural !== undefined ? delegateeLabelPlural : 'delegation-detail.default-delegatee-label-plural'\n  }\n\n  public async changeDelegatee(): Promise<void> {\n    const alertOptions = await this.createAlertOptions()\n    const alert: HTMLIonAlertElement = await this.alertController.create(alertOptions)\n\n    await alert.present()\n  }\n\n  private async createAlertOptions(): Promise<AlertOptions> {\n    return {\n      header: this.translateService.instant('delegate-edit-popover.delegation-settings_label'),\n      message: this.translateService.instant('delegate-edit-popover.change-alert.text', {\n        delegateeLabel: this.translateService.instant(this.delegateeLabel)\n      }),\n      inputs: [\n        {\n          name: 'delegatee',\n          id: 'delegatee',\n          placeholder: this.translateService.instant('delegate-edit-popover.change-alert.placeholder_text', {\n            delegateeLabel: this.translateService.instant(this.delegateeLabel)\n          })\n        }\n      ],\n      buttons: [\n        {\n          text: this.translateService.instant('delegate-edit-popover.change-alert.cancel_label'),\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (): void => {\n            this.popoverController.dismiss()\n          }\n        },\n        {\n          text: this.translateService.instant('delegate-edit-popover.change-alert.set-delegatee_label', {\n            delegateeLabel: this.translateService.instant(this.delegateeLabel)\n          }),\n          handler: async ({ delegatee }: { delegatee: string }): Promise<boolean> => {\n            const delegateeAddress: string | undefined = await this.addressService.getAddress(\n              delegatee,\n              this.protocolIdentifier,\n              this.networkIdentifier\n            )\n\n            this.popoverController.dismiss({ delegateeAddress: delegateeAddress ? delegateeAddress : '' })\n\n            return true\n          }\n        }\n      ]\n    }\n  }\n}\n","<ion-list lines=\"none\" no-detail class=\"ion-no-padding ion-no-margin\">\n  <ion-list-header>\n    <ion-label>{{ 'delegate-edit-popover.delegation-settings_label' | translate }}</ion-label>\n  </ion-list-header>\n  <ion-item button detail=\"false\" (click)=\"changeDelegatee()\">\n    <ion-icon name=\"create-outline\" color=\"dark\" slot=\"end\"></ion-icon>\n    <span *ngIf=\"delegateeLabel\">\n      {{ 'delegate-edit-popover.change-delegatee_label' | translate: { delegateeLabel: delegateeLabel | translate } }}\n    </span>\n  </ion-item>\n</ion-list>\n","import { ProtocolSymbols } from '@airgap/coinlib-core'\n\nexport enum GenericSubProtocolSymbol {\n  XTZ_FA = 'xtz-fa'\n}\n\nexport type GenericProtocolSymbols = GenericSubProtocolSymbol\n\nexport function faProtocolSymbol(interfaceVersion: '1.2' | '2', contractAddress?: string, tokenID: number = 0): ProtocolSymbols {\n  let identifier = `${GenericSubProtocolSymbol.XTZ_FA}${interfaceVersion}`\n  if (contractAddress) {\n    identifier += `_${contractAddress}_${tokenID}`\n  }\n\n  return identifier as ProtocolSymbols\n}\n","import { ProtocolService } from '@airgap/angular-core'\nimport { SignPayloadRequestOutput } from '@airgap/beacon-sdk'\nimport {\n  AirGapMarketWallet,\n  FeeDefaults,\n  IACMessageDefinitionObjectV3,\n  IACMessageType,\n  IAirGapTransaction,\n  ICoinDelegateProtocol,\n  ICoinProtocol,\n  MainProtocolSymbols,\n  SubProtocolSymbols,\n  TezosBTC,\n  TezosKtProtocol,\n  TezosSaplingProtocol\n} from '@airgap/coinlib-core'\nimport { CosmosTransaction } from '@airgap/coinlib-core/protocols/cosmos/CosmosTransaction'\nimport { DelegateeDetails, DelegatorAction, DelegatorDetails } from '@airgap/coinlib-core/protocols/ICoinDelegateProtocol'\nimport { TezosSaplingAddress } from '@airgap/coinlib-core/protocols/tezos/sapling/TezosSaplingAddress'\nimport {\n  RawAeternityTransaction,\n  RawBitcoinTransaction,\n  RawEthereumTransaction,\n  RawRskTransaction,\n  RawTezosTransaction,\n  RawSubstrateTransaction\n} from '@airgap/coinlib-core/serializer/types'\nimport { Injectable } from '@angular/core'\nimport { FormBuilder } from '@angular/forms'\nimport { LoadingController, ToastController } from '@ionic/angular'\nimport BigNumber from 'bignumber.js'\nimport { BehaviorSubject } from 'rxjs'\nimport { map } from 'rxjs/operators'\n\nimport { supportsAirGapDelegation, supportsDelegation } from '../../helpers/delegation'\nimport {\n  AirGapDelegateeDetails,\n  AirGapDelegationDetails,\n  AirGapDelegatorAction,\n  AirGapDelegatorDetails\n} from '../../interfaces/IAirGapCoinDelegateProtocol'\nimport { UIAccountExtendedDetails } from '../../models/widgets/display/UIAccountExtendedDetails'\nimport { UIAccountSummary } from '../../models/widgets/display/UIAccountSummary'\nimport { UIRewardList } from '../../models/widgets/display/UIRewardList'\nimport { UIInputText } from '../../models/widgets/input/UIInputText'\nimport { SaplingService } from '../sapling/sapling.service'\nimport { ErrorCategory, handleErrorSentry } from '../sentry-error-handler/sentry-error-handler'\nexport type SerializableTx =\n  | RawTezosTransaction\n  | RawEthereumTransaction\n  | RawRskTransaction\n  | RawBitcoinTransaction\n  | RawAeternityTransaction\n  | CosmosTransaction\n  | RawSubstrateTransaction\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OperationsProvider {\n  private readonly delegationStatuses: BehaviorSubject<Map<string, boolean>> = new BehaviorSubject(new Map())\n\n  constructor(\n    private readonly loadingController: LoadingController,\n    private readonly toastController: ToastController,\n    private readonly formBuilder: FormBuilder,\n    private readonly protocolService: ProtocolService,\n    private readonly saplingService: SaplingService\n  ) {}\n\n  public async getDelegateesSummary(wallet: AirGapMarketWallet, delegatees: string[]): Promise<UIAccountSummary[]> {\n    const protocol = wallet.protocol\n    if (!supportsDelegation(protocol)) {\n      return Promise.reject('Protocol does not support delegation.')\n    }\n\n    if (supportsAirGapDelegation(protocol)) {\n      return protocol.createDelegateesSummary(delegatees)\n    } else {\n      const delegateesDetails = await Promise.all(delegatees.map((delegatee) => protocol.getDelegateeDetails(delegatee)))\n      return delegateesDetails.map(\n        (details) =>\n          new UIAccountSummary({\n            address: details.address,\n            header: [details.name, ''],\n            description: [details.address, '']\n          })\n      )\n    }\n  }\n\n  public async getAccountExtendedDetails(wallet: AirGapMarketWallet): Promise<UIAccountExtendedDetails> {\n    const protocol = wallet.protocol\n    if (!supportsDelegation(protocol)) {\n      return Promise.reject('Protocol does not support delegation.')\n    }\n\n    if (supportsAirGapDelegation(protocol)) {\n      return protocol.createAccountExtendedDetails(wallet.receivingPublicAddress)\n    } else {\n      return new UIAccountExtendedDetails({ items: [] })\n    }\n  }\n\n  public async getCurrentDelegatees(wallet: AirGapMarketWallet): Promise<string[]> {\n    const protocol = wallet.protocol\n    if (!supportsDelegation(protocol)) {\n      return Promise.reject('Protocol does not support delegation.')\n    }\n\n    const current = await protocol.getCurrentDelegateesForAddress(wallet.receivingPublicAddress)\n    if (current.length === 0) {\n      let defaultDelegatee: string\n      if (supportsAirGapDelegation(protocol)) {\n        defaultDelegatee = protocol.airGapDelegatee()\n      }\n\n      return [defaultDelegatee || (await protocol.getDefaultDelegatee())]\n    }\n    return current\n  }\n\n  public async getDelegatorDetails(wallet: AirGapMarketWallet): Promise<DelegatorDetails> {\n    const protocol = wallet.protocol\n    if (!supportsDelegation(protocol)) {\n      return Promise.reject('Protocol does not support delegation.')\n    }\n\n    return protocol.getDelegatorDetailsFromAddress(wallet.receivingPublicAddress)\n  }\n\n  public async getDelegationDetails(wallet: AirGapMarketWallet, delegatees: string[]): Promise<AirGapDelegationDetails[]> {\n    const protocol = wallet.protocol\n    if (!supportsDelegation(protocol)) {\n      return Promise.reject('Protocol does not support delegation.')\n    }\n\n    return supportsAirGapDelegation(protocol)\n      ? protocol.getExtraDelegationDetailsFromAddress(wallet.receivingPublicAddress, delegatees)\n      : [await this.getDefaultDelegationDetails(protocol, wallet.receivingPublicAddress, delegatees)]\n  }\n\n  public async getRewardDisplayDetails(wallet: AirGapMarketWallet, delegatees: string[]): Promise<UIRewardList | undefined> {\n    const protocol = wallet.protocol\n    if (!supportsDelegation(protocol)) {\n      return Promise.reject('Protocol does not support delegation.')\n    }\n\n    return supportsAirGapDelegation(protocol) ? protocol.getRewardDisplayDetails(wallet.receivingPublicAddress, delegatees) : undefined\n  }\n\n  private async getDefaultDelegationDetails(\n    protocol: ICoinDelegateProtocol,\n    delegator: string,\n    delegatees: string[]\n  ): Promise<AirGapDelegationDetails> {\n    const details = await protocol.getDelegationDetailsFromAddress(delegator, delegatees)\n\n    const [delegatorDetails, delegateesDetails] = await Promise.all([\n      this.getDefaultDelegatorDetails(details.delegator, delegatees),\n      this.getDefaultDelegateesDetails(details.delegatees)\n    ])\n\n    return {\n      delegator: delegatorDetails,\n      delegatees: delegateesDetails\n    }\n  }\n\n  private async getDefaultDelegateesDetails(delegateesDetails: DelegateeDetails[]): Promise<AirGapDelegateeDetails[]> {\n    return delegateesDetails.map((details) => ({\n      name: '',\n      ...details\n    }))\n  }\n\n  private async getDefaultDelegatorDetails(delegatorDetails: DelegatorDetails, delegatees: string[]): Promise<AirGapDelegatorDetails> {\n    const defaultDelegateActionTypeKeywords = ['delegate']\n    const defaultUndelegateActionTypeKeywords = ['undelegate']\n\n    const defaultMainParamNameKeywords = ['delegate', 'delegatee', 'baker', 'validator']\n\n    return {\n      ...delegatorDetails,\n      delegatees: delegatorDetails.delegatees,\n      mainActions: delegatorDetails.availableActions\n        ? this.createDefaultMainDelegatorActions(\n            delegatorDetails.availableActions,\n            delegatees,\n            defaultDelegateActionTypeKeywords,\n            defaultUndelegateActionTypeKeywords,\n            defaultMainParamNameKeywords\n          )\n        : []\n    }\n  }\n\n  private createDefaultMainDelegatorActions(\n    availableActions: DelegatorAction[],\n    delegatees: string[],\n    delegateActionTypeKeywords: string[],\n    undelegateActionTypeKeywords: string[],\n    delegateeArgKeywords: string[]\n  ): AirGapDelegatorAction[] | undefined {\n    return [\n      this.createDefaultDelegateAction(\n        availableActions,\n        delegatees,\n        delegateActionTypeKeywords,\n        delegateeArgKeywords,\n        'delegation-detail.delegate_label'\n      ),\n      this.createDefaultDelegateAction(\n        availableActions,\n        delegatees,\n        undelegateActionTypeKeywords,\n        delegateeArgKeywords,\n        'delegation-detail.undelegate_label'\n      ),\n      ...this.createDefaultExtraActions(availableActions, [...delegateActionTypeKeywords, ...undelegateActionTypeKeywords])\n    ].filter((action) => !!action)\n  }\n\n  private createDefaultDelegateAction(\n    availableActions: DelegatorAction[],\n    delegatees: string[],\n    typeKeywords: any[],\n    argsKeywords: string[] = [],\n    label: string\n  ): AirGapDelegatorAction | null {\n    const action = availableActions.find((action) => typeKeywords.includes(action.type))\n    if (action) {\n      const paramName = action.args ? action.args.find((arg) => argsKeywords.includes(arg)) : undefined\n      const args = action.args ? action.args.filter((arg) => arg !== paramName) : undefined\n\n      const form = paramName ? this.formBuilder.group({ [paramName]: delegatees }) : undefined\n\n      return {\n        type: action.type,\n        label,\n        form: form,\n        args: args\n          ? args.map(\n              (arg) =>\n                new UIInputText({\n                  id: arg,\n                  label: arg\n                })\n            )\n          : undefined\n      }\n    }\n\n    return null\n  }\n\n  private createDefaultExtraActions(availableActions: DelegatorAction[], ignoreTypeKeywords: string[]): AirGapDelegatorAction[] {\n    const extraActions = availableActions.filter((action) => !ignoreTypeKeywords.includes(action.type))\n\n    return extraActions.map((action) => ({\n      type: action.type,\n      label: action.type.toString(),\n      confirmLabel: action.type.toString(),\n      args: action.args\n        ? action.args.map(\n            (arg) =>\n              new UIInputText({\n                id: arg,\n                label: arg\n              })\n          )\n        : undefined\n    }))\n  }\n\n  public async prepareDelegatorAction(\n    wallet: AirGapMarketWallet,\n    type: any,\n    data?: any\n  ): Promise<{ airGapTxs: IAirGapTransaction[]; unsignedTx: any }> {\n    if (supportsDelegation(wallet.protocol)) {\n      const unsignedTx = (await wallet.protocol.prepareDelegatorActionFromPublicKey(wallet.publicKey, type, data))[0]\n\n      const airGapTxs = await wallet.protocol.getTransactionDetails({\n        publicKey: wallet.publicKey,\n        transaction: unsignedTx\n      })\n\n      return { airGapTxs, unsignedTx }\n    } else {\n      return Promise.reject('Protocol does not support delegation.')\n    }\n  }\n\n  public setDelegationStatusOfAddress(address: string, delegated: boolean) {\n    this.delegationStatuses.next(this.delegationStatuses.getValue().set(address, delegated))\n  }\n\n  public async getDelegationStatusOfAddress(protocol: ICoinDelegateProtocol, address: string, refresh: boolean = false) {\n    const delegationStatus = this.delegationStatuses.getValue().get(address)\n    if (refresh || delegationStatus === undefined) {\n      const isDelegated = await this.checkDelegated(protocol, address)\n      this.setDelegationStatusOfAddress(address, isDelegated)\n\n      return isDelegated\n    } else {\n      return delegationStatus\n    }\n  }\n\n  public async getDelegationStatusObservableOfAddress(protocol: ICoinDelegateProtocol, address: string) {\n    await this.getDelegationStatusOfAddress(protocol, address)\n\n    return this.delegationStatuses.pipe(map((delegationStatuses) => delegationStatuses.get(address)))\n  }\n\n  public refreshAllDelegationStatuses(wallets: AirGapMarketWallet[]) {\n    Array.from(this.delegationStatuses.getValue().entries()).forEach((entry) => {\n      const address = entry[0]\n      const wallet = wallets.find((wallet) => wallet.receivingPublicAddress === address && supportsDelegation(wallet.protocol))\n      if (wallet) {\n        this.getDelegationStatusOfAddress(wallet.protocol as ICoinDelegateProtocol, address, true).catch(\n          handleErrorSentry(ErrorCategory.OPERATIONS_PROVIDER)\n        )\n      }\n    })\n  }\n\n  public async prepareSignRequest(\n    wallet: AirGapMarketWallet,\n    serializableData: any,\n    type: IACMessageType,\n    generatedId: number\n  ): Promise<IACMessageDefinitionObjectV3[]> {\n    switch (type) {\n      case IACMessageType.MessageSignRequest:\n        return this.prepareMessageSignRequest(wallet, serializableData, type, generatedId)\n      default:\n        return this.prepareTransactionSignRequest(wallet, serializableData, type, generatedId)\n    }\n  }\n\n  public async prepareTransactionSignRequest(\n    wallet: AirGapMarketWallet,\n    transaction: SerializableTx,\n    type: IACMessageType,\n    generatedId: number\n  ): Promise<IACMessageDefinitionObjectV3[]> {\n    const payload = {\n      publicKey: wallet.publicKey,\n      transaction: transaction as any, // TODO: Type\n      callbackURL: 'airgap-wallet://?d='\n    }\n    return [\n      {\n        id: generatedId,\n        protocol: wallet.protocol.identifier,\n        type: type,\n        payload: payload\n      }\n    ]\n  }\n\n  public async prepareMessageSignRequest(\n    wallet: AirGapMarketWallet,\n    request: SignPayloadRequestOutput,\n    type: IACMessageType,\n    generatedId: number\n  ): Promise<IACMessageDefinitionObjectV3[]> {\n    const payload = {\n      publicKey: wallet.publicKey,\n      message: request.payload,\n      callbackURL: 'airgap-wallet://?d='\n    }\n    return [\n      {\n        id: generatedId,\n        protocol: wallet.protocol.identifier,\n        type: type,\n        payload: payload\n      }\n    ]\n  }\n\n  public async checkDelegated(protocol: ICoinDelegateProtocol, address: string): Promise<boolean> {\n    return supportsDelegation(protocol) ? protocol.isAddressDelegating(address) : false\n  }\n\n  public async prepareTransaction(\n    wallet: AirGapMarketWallet,\n    address: string,\n    amount: BigNumber,\n    fee: BigNumber,\n    knownWallets: AirGapMarketWallet[],\n    data?: any\n  ): Promise<{ airGapTxs: IAirGapTransaction[]; unsignedTx: any }> {\n    const loader = await this.getAndShowLoader()\n\n    try {\n      let unsignedTx\n      // TODO: This is an UnsignedTransaction, not an IAirGapTransaction\n      let airGapTxs: IAirGapTransaction[]\n      if (wallet.protocol.identifier === SubProtocolSymbols.XTZ_KT) {\n        const tezosKtProtocol = new TezosKtProtocol()\n        unsignedTx = await tezosKtProtocol.migrateKtContract(wallet.publicKey, wallet.receivingPublicAddress) // TODO change this\n        airGapTxs = await wallet.protocol.getTransactionDetails({\n          publicKey: wallet.publicKey,\n          transaction: unsignedTx\n        })\n      } else if (wallet.protocol.identifier === SubProtocolSymbols.XTZ_BTC) {\n        const protocol = new TezosBTC()\n\n        unsignedTx = await protocol.transfer(\n          wallet.addresses[0],\n          address,\n          amount.toString(10),\n          fee.toString(10), // TODO calculate how high a fee we have to set for the TezosBTC contract\n          wallet.publicKey\n        )\n\n        airGapTxs = await wallet.protocol.getTransactionDetails({\n          publicKey: wallet.publicKey,\n          transaction: unsignedTx\n        })\n      } else if (wallet.protocol.identifier === MainProtocolSymbols.XTZ && TezosSaplingAddress.isZetAddress(address)) {\n        const protocols: ICoinProtocol[] = (await this.protocolService.getProtocolsForAddress(address)).filter(\n          (protocol: ICoinProtocol) => protocol.identifier !== MainProtocolSymbols.XTZ\n        )\n\n        if (protocols.length > 1) {\n          throw new Error('More than 1 sapling protocol is supported')\n        }\n\n        const protocol: ICoinProtocol = protocols[0]\n\n        if (!(protocol instanceof TezosSaplingProtocol)) {\n          throw new Error('Invalid sapling protocol')\n        }\n\n        await this.saplingService.initSapling()\n        unsignedTx = await protocol.prepareShieldTransaction(wallet.publicKey, address, amount.toString(10), fee.toString(10), {\n          overrideFees: true\n        })\n\n        const knownViewingKeys: string[] = knownWallets\n          .filter((wallet: AirGapMarketWallet) => wallet.protocol.identifier === protocol.identifier)\n          .map((wallet: AirGapMarketWallet) => wallet.publicKey)\n\n        airGapTxs = await protocol.getTransactionDetails(\n          {\n            publicKey: wallet.publicKey,\n            transaction: unsignedTx\n          },\n          { knownViewingKeys }\n        )\n      } else {\n        if (wallet.protocol.identifier === MainProtocolSymbols.XTZ_SHIELDED) {\n          await this.saplingService.initSapling()\n        }\n        if (wallet.protocol.identifier === MainProtocolSymbols.BTC_SEGWIT) {\n          // data could already contain \"replaceByFee\"\n          if (!data) {\n            data = {}\n          }\n          data.masterFingerprint = wallet.masterFingerprint\n        }\n        unsignedTx = await wallet.prepareTransaction([address], [amount.toString(10)], fee.toString(10), data)\n        airGapTxs = await wallet.protocol.getTransactionDetails({\n          publicKey: wallet.publicKey,\n          transaction: unsignedTx\n        })\n      }\n\n      return { airGapTxs, unsignedTx }\n    } catch (error) {\n      handleErrorSentry(ErrorCategory.COINLIB)(error)\n\n      this.toastController\n        .create({\n          message: error.message,\n          duration: 3000,\n          position: 'bottom'\n        })\n        .then((toast) => {\n          toast.present().catch(handleErrorSentry(ErrorCategory.IONIC_TOAST))\n        })\n      throw error\n    } finally {\n      this.hideLoader(loader)\n    }\n  }\n\n  public async estimateMaxTransferAmount(\n    wallet: AirGapMarketWallet,\n    destination: string,\n    fee?: BigNumber,\n    excludeExistentialDeposit?: boolean\n  ): Promise<BigNumber> {\n    const maxAmount = await wallet.getMaxTransferValue([destination], fee ? fee.toFixed() : undefined, excludeExistentialDeposit)\n    return new BigNumber(maxAmount)\n  }\n\n  public async estimateFees(wallet: AirGapMarketWallet, address: string, amount: BigNumber, data?: any): Promise<FeeDefaults> {\n    try {\n      return await wallet.estimateFees([address], [amount.toFixed()], data)\n    } catch (error) {\n      console.error(error)\n      return wallet.protocol.feeDefaults\n    }\n  }\n\n  private async getAndShowLoader() {\n    const loader = await this.loadingController.create({\n      message: 'Preparing transaction...'\n    })\n\n    await loader.present().catch(handleErrorSentry(ErrorCategory.IONIC_LOADER))\n\n    return loader\n  }\n\n  private hideLoader(loader: HTMLIonLoadingElement) {\n    loader.dismiss().catch(handleErrorSentry(ErrorCategory.IONIC_LOADER))\n  }\n}\n","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { ComponentsModule } from '../../components/components.module'\n\nimport { IntroductionPushPage } from './introduction-push'\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ComponentsModule,\n    TranslateModule,\n    RouterModule.forChild([{ path: '', component: IntroductionPushPage }])\n  ],\n  declarations: [IntroductionPushPage]\n})\nexport class IntroductionPushPageModule {}\n","import { ProtocolService } from '@airgap/angular-core'\nimport { Component, Input, OnInit } from '@angular/core'\nimport { IAirGapTransaction, ICoinProtocol } from '@airgap/coinlib-core'\n\n@Component({\n  selector: 'transaction-item',\n  templateUrl: './transaction-item.component.html',\n  styleUrls: ['./transaction-item.component.scss']\n})\nexport class TransactionItemComponent implements OnInit {\n  @Input()\n  public tx: IAirGapTransaction\n\n  @Input()\n  public transactionType: string\n\n  public protocol: ICoinProtocol | undefined\n\n  constructor(private readonly protocolService: ProtocolService) {}\n\n  public async ngOnInit(): Promise<void> {\n    try {\n      this.protocol = await this.protocolService.getProtocol(this.tx.protocolIdentifier)\n    } catch {}\n  }\n}\n","<ion-item>\n  <ion-avatar slot=\"start\" *ngIf=\"transactionType !== 'exchangeTransaction'\">\n    <airgap-identicon *ngIf=\"tx.isInbound\" [address]=\"tx.from[0]\"></airgap-identicon>\n    <airgap-identicon *ngIf=\"!tx.isInbound\" [address]=\"tx.to[0]\"></airgap-identicon>\n  </ion-avatar>\n\n  <ion-avatar slot=\"start\" *ngIf=\"transactionType === 'exchangeTransaction'\">\n    <airgap-identicon *ngIf=\"tx.isInbound\" [address]=\"tx.to[0]\"></airgap-identicon>\n    <airgap-identicon *ngIf=\"!tx.isInbound\" [address]=\"tx.from[0]\"></airgap-identicon>\n  </ion-avatar>\n  <ion-label>\n    <h2>\n      <ion-icon *ngIf=\"tx.isInbound\" src=\"./assets/custom-ion-icons/md-call_received.svg\"></ion-icon>\n      <ion-icon *ngIf=\"!tx.isInbound\" src=\"./assets/custom-ion-icons/md-call_made.svg\"></ion-icon>\n      <span class=\"font--weight__bold\" color=\"black\">\n        {{ tx.amount | amountConverter: { protocol: tx.protocolIdentifier } | async }}\n      </span>\n    </h2>\n\n    <ion-text class=\"address-container\" color=\"blackLight\">\n      <ion-badge class=\"ion-text-capitalize\" *ngIf=\"tx.status && tx.status !== 'applied'\" color=\"primary\">\n        {{ tx.status }}\n      </ion-badge>\n      <ng-container *ngIf=\"!tx.status || tx.status === 'applied'\">\n        <h3 class=\"typography--mono\" *ngIf=\"transactionType !== 'exchangeTransaction'\">\n          <ng-container *ngIf=\"tx.isInbound\">\n            {{ tx.from[0] | shortenString: { ifMatches: protocol?.addressValidationPattern } }}\n          </ng-container>\n          <ng-container *ngIf=\"!tx.isInbound\">\n            {{ tx.to[0] | shortenString: { ifMatches: protocol?.addressValidationPattern } }}\n          </ng-container>\n        </h3>\n        <h3 class=\"typography--mono\" *ngIf=\"transactionType === 'exchangeTransaction'\">\n          <ng-container *ngIf=\"tx.isInbound\">\n            {{ tx.to[0] | shortenString: { ifMatches: protocol?.addressValidationPattern } }}\n          </ng-container>\n          <ng-container *ngIf=\"!tx.isInbound\">\n            {{ tx.from[0] | shortenString: { ifMatches: protocol?.addressValidationPattern } }}\n          </ng-container>\n        </h3>\n      </ng-container>\n    </ion-text>\n  </ion-label>\n  <p slot=\"end\" *ngIf=\"transactionType === 'exchangeTransaction'\">\n    {{ tx.extra }}\n  </p>\n  <ion-row class=\"items--right\" slot=\"end\" *ngIf=\"transactionType === 'normalTransaction'\">\n    <ion-col class=\"ion-no-padding\">\n      <ion-row class=\"ion-justify-content-end\">\n        <ion-text color=\"blackLight\">\n          <p class=\"ion-no-margin\" *ngIf=\"tx.timestamp\">\n            {{\n              tx.timestamp\n                | amFromUnix\n                | amCalendar: { sameDay: '[Today]', lastDay: '[Yesterday]', lastWeek: '[Last] dddd', sameElse: 'HH:mm' }\n            }}\n          </p>\n        </ion-text>\n      </ion-row>\n      <ion-row class=\"ion-justify-content-end\">\n        <ion-text color=\"blackLight\">\n          <p class=\"ion-no-margin\" *ngIf=\"tx.timestamp\">\n            {{\n              tx.timestamp\n                | amFromUnix\n                | amCalendar: { sameDay: '[at] HH:mm', lastDay: '[at] HH:mm', lastWeek: '[at] HH:mm', sameElse: 'L' }\n            }}\n          </p>\n        </ion-text>\n      </ion-row>\n    </ion-col>\n  </ion-row>\n</ion-item>\n","// https://stackoverflow.com/a/8472700/4790610\nexport function generateGUID(): string {\n  // tslint:disable\n  if (typeof window.crypto !== 'undefined' && typeof window.crypto.getRandomValues !== 'undefined') {\n    // If we have a cryptographically secure PRNG, use that\n    // https://stackoverflow.com/questions/6906916/collisions-when-generating-uuids-in-javascript\n    const buf = new Uint16Array(8)\n    window.crypto.getRandomValues(buf)\n    const S4 = function (num) {\n      let ret = num.toString(16)\n      while (ret.length < 4) {\n        ret = '0' + ret\n      }\n\n      return ret\n    }\n\n    return S4(buf[0]) + S4(buf[1]) + '-' + S4(buf[2]) + '-' + S4(buf[3]) + '-' + S4(buf[4]) + '-' + S4(buf[5]) + S4(buf[6]) + S4(buf[7])\n  } else {\n    // Otherwise, just use Math.random\n    // https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      const r = (Math.random() * 16) | 0\n      const v = c === 'x' ? r : (r & 0x3) | 0x8\n\n      return v.toString(16)\n    })\n  }\n  // tslint:enable\n}\n\nexport function to<T, U = Error>(promise: Promise<T>, errorExt?: object): Promise<[U | null, T | undefined]> {\n  return promise\n    .then<[null, T]>((data: T) => [null, data])\n    .catch<[U, undefined]>((err: U) => {\n      if (errorExt) {\n        Object.assign(err, errorExt)\n      }\n\n      return [err, undefined]\n    })\n}\n\nexport function partition<T>(array: T[], isValid: (element: T) => boolean): [T[], T[]] {\n  const pass: T[] = []\n  const fail: T[] = []\n  array.forEach((element: T) => {\n    if (isValid(element)) {\n      pass.push(element)\n    } else {\n      fail.push(element)\n    }\n  })\n\n  return [pass, fail]\n}\n\nfunction readParameterFromUrl(url: string, parameter: string): string {\n  try {\n    const parsedUrl: URL = new URL(url)\n\n    return parsedUrl.searchParams.get(parameter)\n  } catch (error) {\n    return url\n  }\n}\n\nexport function parseIACUrl(url: string | string[], parameter: string): string[] {\n  let result: string[] | undefined\n  if (Array.isArray(url)) {\n    result = url.map((chunk: string) => readParameterFromUrl(chunk, parameter))\n  } else {\n    try {\n      result = readParameterFromUrl(url, parameter).split(',')\n    } catch (error) {\n      result = url.split(',')\n    }\n  }\n\n  // In case one of the elements contains a chunked string, we have to flatten it.\n  result = result.reduce((pv: string[], cv: string) => [...pv, ...cv.split(',')], [])\n  // result = result.map((value: string) => value.split(',')).flat()\n\n  return result.filter((el: string) => el !== '')\n}\n\nexport function serializedDataToUrlString(data: string | string[], host: string = 'airgap-vault://', parameter: string = 'd'): string {\n  return `${host}?${parameter}=${Array.isArray(data) ? data.join(',') : data}`\n}\n\nexport function isType<T>(object: unknown, ...fields: string[]): object is T {\n  return object instanceof Object && fields.every((field) => field in object)\n}\n","import { UIWidgetType } from '../UIWidget'\nimport { AirGapMarketWallet } from '@airgap/coinlib-core'\nimport { UIInputWidgetConfig, UIInputWidget } from '../UIInputWidget'\n\ntype InputType = 'text' | 'password' | 'email' | 'number' | 'search' | 'tel' | 'url'\n\nexport interface UIInputTextConfig extends UIInputWidgetConfig {\n  inputType?: InputType\n\n  label: string\n\n  placeholder?: string\n  defaultValue?: string\n\n  extraLabel?: string\n  createExtraLabel?: (value: string, wallet?: AirGapMarketWallet) => string\n  errorLabel?: string\n\n  fixedValue?: string\n  getFixedValue?: (wallet?: AirGapMarketWallet) => string\n  toggleFixedValueButton?: string\n\n  onValueChanged?: (value?: string, widget?: UIInputText) => void\n}\n\nexport class UIInputText extends UIInputWidget<string> {\n  public readonly type = UIWidgetType.INPUT_TEXT\n  public readonly inputType: InputType\n\n  public label: string\n  public placeholder: string\n\n  public extraLabel?: string\n  public createExtraLabel?: (value: string) => string\n  public errorLabel?: string\n\n  public fixedValue?: string\n  public getFixedValue?: () => string\n  public toggleFixedValueButton?: string\n\n  public isValueFixed: boolean = false\n\n  constructor(config: UIInputTextConfig) {\n    super(config)\n\n    this.inputType = config.inputType || 'text'\n    this.label = config.label\n    this.placeholder = config.placeholder || ''\n\n    this.value = config.defaultValue || ''\n\n    this.createExtraLabel = config.createExtraLabel ? (value: string) => config.createExtraLabel(value, this.wallet) : undefined\n    this.extraLabel = config.extraLabel || this.createExtraLabel ? this.createExtraLabel(this.value) : undefined\n    this.errorLabel = config.errorLabel\n\n    this.fixedValue = config.fixedValue\n    this.getFixedValue = config.getFixedValue ? () => config.getFixedValue(this.wallet) : undefined\n    this.toggleFixedValueButton = config.toggleFixedValueButton\n  }\n\n  public onValueChanged() {\n    this.isValueFixed = this.fixedValue === this.value\n\n    if (this.createExtraLabel) {\n      this.extraLabel = this.createExtraLabel(this.value)\n    }\n\n    if (this.onValueChangedCallback) {\n      this.onValueChangedCallback(this.value, this)\n    }\n  }\n\n  public toggleValue() {\n    this.isValueFixed = !this.isValueFixed\n    if (this.isValueFixed && this.formControl) {\n      this.formControl.patchValue(this.fixedValue || this.getFixedValue())\n    }\n  }\n}\n","import { ProtocolService } from '@airgap/angular-core'\nimport { Pipe, PipeTransform } from '@angular/core'\nimport { ProtocolSymbols } from '@airgap/coinlib-core'\nimport { BigNumber } from 'bignumber.js'\nimport { ICoinProtocol } from '@airgap/coinlib-core'\n\n@Pipe({\n  name: 'cryptoToFiat'\n})\nexport class CryptoToFiatPipe implements PipeTransform {\n  constructor(private readonly protocolService: ProtocolService) {}\n\n  public async transform(value: BigNumber, args: { protocolIdentifier: ProtocolSymbols; currentMarketPrice: BigNumber }): Promise<string> {\n    if (\n      !args ||\n      !args.currentMarketPrice ||\n      !BigNumber.isBigNumber(args.currentMarketPrice) ||\n      isNaN(args.currentMarketPrice.toNumber()) ||\n      !args.protocolIdentifier ||\n      !value ||\n      !BigNumber.isBigNumber(value) ||\n      isNaN(value.toNumber())\n    ) {\n      /* console.warn(\n        `CryptoToFiatPipe: necessary properties missing!\\n` +\n          `Market Price: ${args.currentMarketPrice}\\n` +\n          `Protocol: ${args.protocolIdentifier}\\n` +\n          `Value: ${value}`\n      ) */\n      return ''\n    }\n\n    let protocol: ICoinProtocol\n\n    try {\n      protocol = await this.protocolService.getProtocol(args.protocolIdentifier)\n    } catch (e) {\n      return ''\n    }\n\n    const fiatValue = args.currentMarketPrice.multipliedBy(value.shiftedBy(-1 * protocol.decimals))\n\n    return fiatValue.toFixed()\n  }\n}\n","import { ProtocolService } from '@airgap/angular-core'\nimport { Injectable } from '@angular/core'\nimport { ActivatedRouteSnapshot, CanActivate, Router } from '@angular/router'\nimport { ICoinProtocol } from '@airgap/coinlib-core'\nimport { MainProtocolSymbols, SubProtocolSymbols } from '@airgap/coinlib-core/utils/ProtocolSymbols'\n\n@Injectable()\nexport class ProtocolGuard implements CanActivate {\n  constructor(public readonly router: Router, private readonly protocolService: ProtocolService) {}\n\n  public async canActivate(route: ActivatedRouteSnapshot): Promise<boolean> {\n    const protocolID: string = route.params.protocolID\n    let mainProtocolID: string\n    const protocolIDComponents: string[] = protocolID.split('-')\n    if (protocolIDComponents.length > 1) {\n      mainProtocolID = protocolIDComponents[0]\n    }\n\n    const mainSymbols: string[] = Object.values(MainProtocolSymbols).map((p: MainProtocolSymbols) => p.toString())\n    let subSymbols: string[] = Object.values(SubProtocolSymbols).map((p: SubProtocolSymbols) => p.toString())\n\n    if (mainProtocolID !== undefined) {\n      if (mainProtocolID === MainProtocolSymbols.ETH || mainProtocolID === MainProtocolSymbols.RBTC || mainProtocolID === MainProtocolSymbols.XTZ) {\n        subSymbols = (await this.protocolService.getAllSubProtocols(mainProtocolID)).map((protocol: ICoinProtocol) =>\n          protocol.identifier.toString()\n        )\n      }\n\n      return subSymbols.includes(protocolID)\n    } else {\n      return mainSymbols.includes(protocolID) || subSymbols.includes(protocolID)\n    }\n  }\n}\n","import { Component, Input } from '@angular/core'\nimport { FormGroup } from '@angular/forms'\nimport { AirGapMarketWallet, MainProtocolSymbols } from '@airgap/coinlib-core'\n\n@Component({\n  selector: 'fee',\n  templateUrl: './fee.component.html',\n  styleUrls: ['./fee.component.scss']\n})\nexport class FeeComponent {\n  public _wallet: AirGapMarketWallet | undefined\n  public enableMemo: boolean = false\n\n  @Input()\n  set wallet(value: AirGapMarketWallet) {\n    this._wallet = value\n    this.checkEnableMemo(value)\n  }\n\n  @Input()\n  public state: any\n\n  @Input()\n  public form: FormGroup\n\n  constructor() {}\n\n  private checkEnableMemo(wallet: AirGapMarketWallet) {\n    this.enableMemo = wallet.protocol.identifier === MainProtocolSymbols.COSMOS\n  }\n}\n","<form [formGroup]=\"form\">\n  <ion-row class=\"fee--amount__label ion-padding-horizontal\">\n    <ion-col size=\"12\" class=\"ion-no-padding\">\n      <ion-item lines=\"none\" class=\"ion-no-padding\">\n        <ion-text class=\"ion-no-margin\" color=\"blackLight\" *ngIf=\"!enableMemo\">\n          <ion-label>{{ 'transaction-prepare.fee.label' | translate }} ({{ _wallet.protocol.feeSymbol | uppercase }})</ion-label>\n        </ion-text>\n        <ion-text class=\"ion-no-margin\" color=\"blackLight\" *ngIf=\"enableMemo\">\n          <ion-label>\n            {{ 'transaction-prepare.fee.label' | translate }} ({{ _wallet.protocol.feeSymbol | uppercase }}) /\n            {{ 'transaction-prepare.advanced' | translate }}\n          </ion-label>\n        </ion-text>\n        <ion-toggle slot=\"end\" mode=\"md\" formControlName=\"isAdvancedMode\" [attr.disabled]=\"state && state.disableAdvancedMode\"></ion-toggle>\n      </ion-item>\n    </ion-col>\n  </ion-row>\n  <ion-row nowrap class=\"ion-padding-horizontal\">\n    <ion-col size=\"12\" class=\"ion-no-padding\">\n      <ion-item class=\"ion-no-padding\" lines=\"none\">\n        <ion-range\n          [attr.disabled]=\"(state && state.forceMigration) || (state && state.disableFeeSlider)\"\n          min=\"0\"\n          max=\"2\"\n          step=\"1\"\n          snaps=\"true\"\n          formControlName=\"feeLevel\"\n          id=\"feeLevel-input\"\n          class=\"range-slider ion-no-padding\"\n        >\n          <ion-icon slot=\"start\" color=\"black\" name=\"hourglass-outline\"></ion-icon>\n          <ion-icon slot=\"end\" color=\"black\" name=\"rocket-outline\"></ion-icon>\n        </ion-range>\n      </ion-item>\n    </ion-col>\n  </ion-row>\n  <ion-row class=\"ion-padding-horizontal\">\n    <ion-col size=\"6\" class=\"ion-no-padding\">\n      <small>{{ 'transaction-prepare.fee.slow_label' | translate }}</small>\n    </ion-col>\n    <ion-col size=\"6\" class=\"ion-no-padding ion-text-right\">\n      <small>{{ 'transaction-prepare.fee.fast_label' | translate }}</small>\n    </ion-col>\n  </ion-row>\n  <ion-row class=\"ion-padding-horizontal\" *ngIf=\"state && state.isAdvancedMode.value\">\n    <ion-col size=\"12\" class=\"ion-no-padding\">\n      <ion-item class=\"advanced-item\" class=\"ion-no-padding\">\n        <ion-label position=\"stacked\"></ion-label>\n        <ion-input\n          [attr.disabled]=\"state.forceMigration || state.disableAdvancedMode\"\n          id=\"fee-input\"\n          formControlName=\"fee\"\n          type=\"string\"\n          class=\"ion-no-padding\"\n        ></ion-input>\n        <span slot=\"end\" class=\"input--placeholder\">\n          {{ 'transaction-prepare.fee.label' | translate }} ({{ _wallet.protocol.feeSymbol | uppercase }})\n        </span>\n      </ion-item>\n    </ion-col>\n  </ion-row>\n  <ion-row class=\"fee-amount__help ion-padding-horizontal\">\n    <ion-col size=\"12\" class=\"ion-no-padding\">\n      <ion-text color=\"blackLight\">\n        <p class=\"ion-no-margin\">\n          <ng-container *ngIf=\"state && !state.estimatingFeeDefaults\">\n            <span id=\"fee-amount\">\n              <ng-container *ngIf=\"form.controls['fee'].invalid\" color=\"primary\">\n                {{ 'transaction-prepare.amount_label' | translate }}\n              </ng-container>\n              <ng-container *ngIf=\"form.controls['fee'].valid\" color=\"primary\">\n                ${{ form.get('fee').value * state.feeCurrentMarketPrice | number: '1.2-4' }}\n              </ng-container>\n            </span>\n            <span id=\"fee-amount-advanced\" *ngIf=\"state\">\n              ({{ state.fee.value | number: '1.2-6' }} {{ _wallet.protocol.feeSymbol | uppercase }})\n            </span>\n          </ng-container>\n          <ion-skeleton-text animated style=\"width: 30%\" *ngIf=\"state && state.estimatingFeeDefaults\"></ion-skeleton-text>\n        </p>\n      </ion-text>\n    </ion-col>\n  </ion-row>\n\n  <ion-row class=\"ion-padding-horizontal\" *ngIf=\"state && state.isAdvancedMode.value && enableMemo\">\n    <ion-col size=\"12\" class=\"ion-no-padding\">\n      <ion-item class=\"advanced-item\" class=\"ion-no-padding\">\n        <ion-label position=\"stacked\"></ion-label>\n        <ion-input\n          [attr.disabled]=\"state.forceMigration || state.disableAdvancedMode\"\n          id=\"fee-input\"\n          placeholder=\"destination tag\"\n          formControlName=\"memo\"\n          type=\"string\"\n          class=\"ion-no-padding\"\n        ></ion-input>\n        <span slot=\"end\" class=\"input--placeholder\">\n          {{ 'transaction-prepare.memo' | translate }}\n        </span>\n      </ion-item>\n    </ion-col>\n  </ion-row>\n</form>\n","import { IACSinglePartHandler } from '@airgap/angular-core'\nimport { WalletconnectService } from '../../walletconnect/walletconnect.service'\n\n/**\n * Handles walletconnect requests\n */\nexport class WalletConnectHandler extends IACSinglePartHandler<string> {\n  public readonly name: string = 'WalletConnectHandler'\n\n  constructor(private readonly walletConnectService: WalletconnectService) {\n    super()\n  }\n\n  public async handleComplete(): Promise<string> {\n    await this.walletConnectService.connect(this.payload)\n\n    return this.payload\n  }\n\n  public async processData(data: string): Promise<string | undefined> {\n    const payload: string = Array.isArray(data) ? data[0] : data\n    if (typeof payload === 'string' && payload.startsWith('wc')) {\n      return payload\n    } else if (typeof payload === 'string' && payload.startsWith('airgap-wallet://wc?uri=')) {\n      return payload.replace('airgap-wallet://wc?uri=', '')\n    }\n\n    return undefined\n  }\n}\n","import {\n  BEACON_VERSION,\n  BeaconErrorType,\n  BeaconMessageType,\n  BeaconRequestOutputMessage,\n  BeaconResponseInputMessage,\n  getSenderId,\n  Network,\n  NetworkType as BeaconNetworkType,\n  P2PPairingRequest,\n  WalletClient,\n  StorageKey,\n  AppMetadata,\n  OperationRequest\n} from '@airgap/beacon-sdk'\n\nimport { Injectable } from '@angular/core'\nimport { LoadingController, ModalController, ToastController } from '@ionic/angular'\nimport { ICoinProtocol, MainProtocolSymbols, RawEthereumTransaction } from '@airgap/coinlib-core'\nimport { TezosNetwork, TezosProtocol } from '@airgap/coinlib-core/protocols/tezos/TezosProtocol'\nimport {\n  TezblockBlockExplorer,\n  TezosProtocolNetwork,\n  TezosProtocolNetworkExtras,\n  TezosProtocolOptions\n} from '@airgap/coinlib-core/protocols/tezos/TezosProtocolOptions'\nimport { ProtocolService } from '@airgap/angular-core'\nimport { NetworkType } from '@airgap/coinlib-core/utils/ProtocolNetwork'\nimport { BeaconRequestPage } from 'src/app/pages/beacon-request/beacon-request.page'\nimport { ErrorPage } from 'src/app/pages/error/error.page'\n\nimport { WalletStorageKey, WalletStorageService } from '../storage/storage'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BeaconService {\n  public client: WalletClient\n\n  public loader: HTMLIonLoadingElement | undefined\n  public toast: HTMLIonToastElement | undefined\n\n  constructor(\n    private readonly modalController: ModalController,\n    private readonly loadingController: LoadingController,\n    private readonly toastController: ToastController,\n    private readonly storage: WalletStorageService,\n    private readonly protocolService: ProtocolService\n  ) {\n    this.client = this.getClient()\n    this.init()\n  }\n\n  public async reset(): Promise<void> {\n    await this.client.destroy()\n    this.client = this.getClient()\n    this.init()\n  }\n\n  public async init(): Promise<void> {\n    await this.client.init()\n\n    return this.client.connect(async (message) => {\n      this.hideToast()\n      if (message.type === BeaconMessageType.PermissionRequest && !(await this.isNetworkSupported(message.network))) {\n        return this.sendNetworkNotSupportedError(message)\n      } else {\n        await this.presentModal(message)\n      }\n    })\n  }\n\n  async presentModal(request: BeaconRequestOutputMessage) {\n    const modal = await this.modalController.create({\n      component: BeaconRequestPage,\n      componentProps: {\n        request,\n        client: this.client,\n        beaconService: this\n      }\n    })\n\n    return modal.present()\n  }\n\n  public async addVaultRequest(\n    request: BeaconRequestOutputMessage | { transaction: RawEthereumTransaction; id: number },\n    protocol: ICoinProtocol\n  ): Promise<void> {\n    const network = (request as OperationRequest).network\n    if (network) {\n      const isProtocolAvailable = await this.protocolService.isProtocolAvailable(protocol.identifier, protocol.options.network.identifier)\n      if (!isProtocolAvailable) {\n        await this.protocolService.addActiveProtocols(protocol)\n      }\n    }\n    this.storage.setCache(WalletStorageKey.PENDING_REQUEST, [request, protocol.identifier, protocol.options.network.identifier])\n  }\n\n  public async getVaultRequest(): Promise<[BeaconRequestOutputMessage, ICoinProtocol] | []> {\n    let cachedRequest: [BeaconRequestOutputMessage, MainProtocolSymbols, string] = await this.storage.getCache(\n      WalletStorageKey.PENDING_REQUEST\n    )\n    const result: [BeaconRequestOutputMessage, ICoinProtocol] = [undefined, undefined]\n    if (cachedRequest) {\n      if (cachedRequest[0]) {\n        result[0] = cachedRequest[0]\n      }\n      if (cachedRequest[1]) {\n        const protocol = await this.protocolService.getProtocol(cachedRequest[1], cachedRequest[2])\n        result[1] = protocol\n      }\n    }\n    return result ? result : []\n  }\n\n  public async respond(response: BeaconResponseInputMessage, request: BeaconRequestOutputMessage): Promise<void> {\n    await this.storage.setCache(WalletStorageKey.PENDING_REQUEST, [])\n    await this.client.respond(response).catch((err) => console.error(err))\n    await this.showToast('response-sent', request.appMetadata)\n  }\n\n  public async showLoader(): Promise<void> {\n    if (this.loader) {\n      return\n    }\n\n    this.loader = await this.loadingController.create({\n      message: 'Connecting to Beacon Network...',\n      duration: 10000\n    })\n    await this.loader.present()\n  }\n\n  public async hideLoader(): Promise<void> {\n    if (!this.loader) {\n      return\n    }\n    await this.loader.dismiss()\n    this.loader = undefined\n  }\n\n  public async showToast(type: 'connected' | 'response-sent', appMetadata?: AppMetadata): Promise<void> {\n    if (this.toast) {\n      return\n    }\n\n    const dAppName = appMetadata && appMetadata.name ? appMetadata.name : 'the dApp'\n\n    const message =\n      type === 'connected' ? `Beacon connection successful. Waiting for request from ${dAppName}...` : `Response sent to ${dAppName}.`\n\n    this.toast = await this.toastController.create({\n      message,\n      position: 'top',\n      duration: 5000,\n      buttons: [\n        {\n          text: 'Close',\n          role: 'cancel'\n        }\n      ]\n    })\n    await this.toast.present()\n  }\n\n  public async hideToast(): Promise<void> {\n    if (!this.toast) {\n      return\n    }\n    await this.toast.dismiss()\n    this.toast = undefined\n  }\n\n  public async addPeer(peer: P2PPairingRequest): Promise<void> {\n    await this.showLoader()\n    await this.client.addPeer(peer)\n    await this.hideLoader()\n    await this.showToast('connected')\n  }\n\n  public async getPeers(): Promise<P2PPairingRequest[]> {\n    return this.client.getPeers() as any // TODO: Fix types\n  }\n\n  public async removePeer(peer: P2PPairingRequest): Promise<void> {\n    await this.client.removePeer(peer as any, true) // TODO: Fix types\n  }\n\n  public async removeAllPeers(): Promise<void> {\n    await this.client.removeAllPeers(true)\n  }\n\n  public async displayErrorPage(error: Error & { data?: unknown }): Promise<void> {\n    let message = error.message\n    if (message === 'TEZOS(NETWORK)') {\n      message = 'The simulation of your transaction failed. Please make sure all the values in your transaction are valid.'\n    }\n    let data = error.data ? error.data : error.stack\n    // TODO: Parse contents and show info (eg. failwith)\n    // if (error.data) {\n    //   if ((error.data as any).contents) {\n    //     data = {}\n    //   }\n    // }\n    const modal = await this.modalController.create({\n      component: ErrorPage,\n      componentProps: {\n        title: error.name ?? 'Error',\n        message,\n        data\n      }\n    })\n\n    return modal.present()\n  }\n\n  private async isNetworkSupported(network?: Network): Promise<boolean> {\n    return (\n      network &&\n      network.type &&\n      (network.type === BeaconNetworkType.MAINNET ||\n        network.type === BeaconNetworkType.EDONET ||\n        network.type === BeaconNetworkType.FLORENCENET ||\n        network.type === BeaconNetworkType.CUSTOM)\n    )\n  }\n\n  public async sendAbortedError(request: BeaconRequestOutputMessage): Promise<void> {\n    const responseInput = {\n      id: request.id,\n      type: BeaconMessageType.Error,\n      errorType: BeaconErrorType.ABORTED_ERROR\n    } as any // TODO: Fix type\n\n    const response: BeaconResponseInputMessage = {\n      senderId: await getSenderId(await this.client.beaconId), // TODO: Remove senderId and version from input message\n      version: BEACON_VERSION,\n      ...responseInput\n    }\n    await this.respond(response, request)\n  }\n\n  public async sendNetworkNotSupportedError(request: BeaconRequestOutputMessage): Promise<void> {\n    const responseInput = {\n      id: request.id,\n      type: BeaconMessageType.Error,\n      errorType: BeaconErrorType.NETWORK_NOT_SUPPORTED\n    } as any // TODO: Fix type\n\n    const response: BeaconResponseInputMessage = {\n      senderId: await getSenderId(await this.client.beaconId), // TODO: Remove senderId and version from input message\n      version: BEACON_VERSION,\n      ...responseInput\n    }\n    await this.respond(response, request)\n    await this.displayErrorPage(new Error('Network not supported!'))\n  }\n\n  public async sendAccountNotFound(request: BeaconRequestOutputMessage): Promise<void> {\n    const responseInput = {\n      id: request.id,\n      type: BeaconMessageType.Error,\n      errorType: BeaconErrorType.NO_ADDRESS_ERROR\n    } as any // TODO: Fix type\n\n    const response: BeaconResponseInputMessage = {\n      senderId: await getSenderId(await this.client.beaconId), // TODO: Remove senderId and version from input message\n      version: BEACON_VERSION,\n      ...responseInput\n    }\n    await this.respond(response, request)\n    await this.displayErrorPage(new Error('Account not found'))\n  }\n\n  public async sendInvalidTransaction(request: BeaconRequestOutputMessage, error: any /* ErrorWithData */): Promise<void> {\n    const responseInput = {\n      id: request.id,\n      type: BeaconMessageType.Error,\n      errorType: BeaconErrorType.TRANSACTION_INVALID_ERROR,\n      errorData: error.data\n    } as any // TODO: Fix type\n\n    const response: BeaconResponseInputMessage = {\n      senderId: await getSenderId(await this.client.beaconId), // TODO: Remove senderId and version from input message\n      version: BEACON_VERSION,\n      ...responseInput\n    }\n\n    let errorMessage = ''\n    try {\n      errorMessage =\n        error.data && Array.isArray(error.data)\n          ? `The contract returned the following error: ${error.data.find((f) => f && f.with && f.with.string).with.string}`\n          : error.message\n    } catch {}\n\n    console.error('error.message', errorMessage)\n\n    await this.respond(response, request)\n    await this.displayErrorPage({\n      title: error.title,\n      message: errorMessage,\n      data: error.data ? error.data : error.stack\n    } as any)\n  }\n\n  public async getProtocolBasedOnBeaconNetwork(network: Network): Promise<TezosProtocol> {\n    const configs: {\n      [key in Exclude<BeaconNetworkType, BeaconNetworkType.DELPHINET | BeaconNetworkType.HANGZHOUNET>]: TezosProtocolNetwork\n    } = {\n      [BeaconNetworkType.MAINNET]: {\n        identifier: undefined,\n        name: undefined,\n        type: undefined,\n        rpcUrl: undefined,\n        blockExplorer: undefined,\n        extras: {\n          network: undefined,\n          conseilUrl: undefined,\n          conseilNetwork: undefined,\n          conseilApiKey: undefined\n        }\n      },\n      [BeaconNetworkType.EDONET]: {\n        identifier: undefined,\n        name: network.name || 'Edonet',\n        type: NetworkType.TESTNET,\n        rpcUrl: network.rpcUrl || 'https://tezos-edonet-node.prod.gke.papers.tech',\n        blockExplorer: new TezblockBlockExplorer('https://edonet.tezblock.io'),\n        extras: {\n          network: TezosNetwork.EDONET,\n          conseilUrl: 'https://tezos-edonet-conseil.prod.gke.papers.tech',\n          conseilNetwork: TezosNetwork.EDONET,\n          conseilApiKey: 'airgap00391'\n        }\n      },\n      [BeaconNetworkType.FLORENCENET]: {\n        identifier: undefined,\n        name: network.name || 'Florencenet',\n        type: NetworkType.TESTNET,\n        rpcUrl: network.rpcUrl || 'https://tezos-florencenet-node.prod.gke.papers.tech',\n        blockExplorer: new TezblockBlockExplorer('https://florencenet.tezblock.io'),\n        extras: {\n          network: TezosNetwork.FLORENCENET,\n          conseilUrl: 'https://tezos-florencenet-conseil.prod.gke.papers.tech',\n          conseilNetwork: TezosNetwork.FLORENCENET,\n          conseilApiKey: 'airgap00391'\n        }\n      },\n      [BeaconNetworkType.GRANADANET]: {\n        identifier: undefined,\n        name: network.name || 'Granadanet',\n        type: NetworkType.TESTNET,\n        rpcUrl: network.rpcUrl || 'https://tezos-granadanet-node.prod.gke.papers.tech',\n        blockExplorer: new TezblockBlockExplorer('https://granadanet.tezblock.io'),\n        extras: {\n          network: TezosNetwork.FLORENCENET,\n          conseilUrl: 'https://tezos-granadanet-conseil.prod.gke.papers.tech',\n          conseilNetwork: TezosNetwork.FLORENCENET,\n          conseilApiKey: 'airgap00391'\n        }\n      },\n      [BeaconNetworkType.CUSTOM]: {\n        identifier: undefined,\n        name: network.name || 'Custom Network',\n        type: NetworkType.CUSTOM,\n        rpcUrl: network.rpcUrl || '',\n        blockExplorer: new TezblockBlockExplorer(''),\n        extras: {\n          network: TezosNetwork.MAINNET,\n          conseilUrl: '',\n          conseilNetwork: TezosNetwork.MAINNET,\n          conseilApiKey: ''\n        }\n      }\n    }\n\n    return new TezosProtocol(\n      new TezosProtocolOptions(\n        new TezosProtocolNetwork(\n          configs[network.type].name,\n          configs[network.type].type,\n          configs[network.type].rpcUrl,\n          configs[network.type].blockExplorer,\n          new TezosProtocolNetworkExtras(\n            configs[network.type].extras.network,\n            configs[network.type].extras.conseilUrl,\n            configs[network.type].extras.conseilNetwork,\n            configs[network.type].extras.conseilApiKey\n          )\n        )\n      )\n    )\n  }\n\n  public getResponseByRequestType(requestType: BeaconMessageType) {\n    const map: Map<BeaconMessageType, BeaconMessageType> = new Map()\n    map.set(BeaconMessageType.BroadcastRequest, BeaconMessageType.BroadcastResponse)\n    map.set(BeaconMessageType.OperationRequest, BeaconMessageType.OperationResponse)\n    map.set(BeaconMessageType.PermissionRequest, BeaconMessageType.PermissionResponse)\n    map.set(BeaconMessageType.SignPayloadRequest, BeaconMessageType.SignPayloadResponse)\n\n    return map.get(requestType)\n  }\n\n  public async getConnectedServer(): Promise<string> {\n    return await (<any>this.client).storage.get(StorageKey.MATRIX_SELECTED_NODE)\n  }\n\n  private getClient(): WalletClient {\n    return new WalletClient({ name: 'AirGap Wallet' })\n  }\n}\n","import { AirGapMarketWallet, AirGapWalletPriceService, AirGapWalletStatus, RawTezosTransaction, TezosProtocol } from '@airgap/coinlib-core'\nimport Tezos from '@obsidiansystems/hw-app-xtz'\n\nimport { LedgerApp } from '../LedgerApp'\n\nexport class TezosLedgerApp extends LedgerApp {\n  private readonly protocol: TezosProtocol = new TezosProtocol()\n  private readonly derivationPath: string = this.protocol.standardDerivationPath.slice(2).replace(/h/g, \"'\")\n\n  public async importWallet(priceService: AirGapWalletPriceService): Promise<AirGapMarketWallet> {\n    const app = new Tezos(this.connection.transport)\n    const result: Record<'publicKey', string> = await app.getAddress(this.derivationPath, true)\n\n    return new AirGapMarketWallet(\n      this.protocol,\n      result.publicKey.slice(2),\n      false,\n      this.protocol.standardDerivationPath,\n      '',\n      AirGapWalletStatus.ACTIVE,\n      priceService\n    )\n  }\n\n  public async signTransaction(transaction: RawTezosTransaction): Promise<string> {\n    const app = new Tezos(this.connection.transport)\n\n    const watermark: string = '03'\n    const result: Record<'signature', string> = await app.signOperation(\n      this.derivationPath,\n      Buffer.from(watermark + transaction.binaryTransaction, 'hex')\n    )\n\n    return transaction.binaryTransaction + result.signature\n  }\n}\n","import { AirGapMarketWallet, AirGapWalletStatus, SubstrateNetwork, SubstrateProtocol } from '@airgap/coinlib-core'\nimport { SubstrateSignatureType } from '@airgap/coinlib-core/protocols/substrate/common/data/transaction/SubstrateSignature'\nimport { SubstrateTransaction } from '@airgap/coinlib-core/protocols/substrate/common/data/transaction/SubstrateTransaction'\nimport {\n  SubstrateCompatSignatureType,\n  substrateSignatureFactory\n} from '@airgap/coinlib-core/protocols/substrate/compat/SubstrateCompatSignature'\nimport { RawSubstrateTransaction } from '@airgap/coinlib-core/serializer/types'\nimport { AirGapWalletPriceService } from '@airgap/coinlib-core/wallet/AirGapMarketWallet'\nimport { ResponseAddress, ResponseBase, ResponseSign, SubstrateApp } from '@zondax/ledger-substrate'\n\nimport { ReturnCode } from '../../ReturnCode'\nimport { LedgerApp } from '../LedgerApp'\n\nexport abstract class SubstrateLedgerApp<Network extends SubstrateNetwork> extends LedgerApp {\n  protected abstract readonly protocol: SubstrateProtocol<Network>\n\n  protected abstract getApp(): SubstrateApp\n\n  public async importWallet(priceService: AirGapWalletPriceService): Promise<AirGapMarketWallet> {\n    try {\n      const derivationPath: number[] = this.derivationPathToArray(this.protocol.standardDerivationPath)\n      const [account, change, addressIndex]: number[] = derivationPath.slice(2)\n\n      const app: SubstrateApp = this.getApp()\n      const response: ResponseAddress = await app.getAddress(account, change, addressIndex, true)\n\n      return response.return_code === ReturnCode.SUCCESS\n        ? new AirGapMarketWallet(\n            this.protocol,\n            response.pubKey,\n            false,\n            this.protocol.standardDerivationPath,\n            '',\n            AirGapWalletStatus.ACTIVE,\n            priceService\n          )\n        : this.rejectWithError('Could not import wallet', response)\n    } catch (error) {\n      return this.rejectWithError('Could not import wallet', error)\n    }\n  }\n\n  public async signTransaction(transaction: RawSubstrateTransaction): Promise<string> {\n    const txs = this.protocol.options.transactionController.decodeDetails(transaction.encoded)\n\n    const signedTxs: (SubstrateTransaction<Network> | null)[] = []\n    for (const tx of txs) {\n      signedTxs.push(await this.signSubstrateTransaction(tx.transaction, tx.payload))\n    }\n\n    if (signedTxs.some((tx) => tx === null)) {\n      return Promise.reject('Rejected')\n    }\n\n    txs.forEach((tx, index) => (tx.transaction = signedTxs[index]))\n\n    return this.protocol.options.transactionController.encodeDetails(txs)\n  }\n\n  private async signSubstrateTransaction(\n    transaction: SubstrateTransaction<Network>,\n    payload: string\n  ): Promise<SubstrateTransaction<Network> | null> {\n    try {\n      const derivationPath: number[] = this.derivationPathToArray(this.protocol.standardDerivationPath)\n      const [account, change, addressIndex]: number[] = derivationPath.slice(2)\n\n      const app: SubstrateApp = this.getApp()\n      const response: ResponseSign = await app.sign(account, change, addressIndex, Buffer.from(payload, 'hex'))\n\n      if (response.return_code === ReturnCode.SUCCESS) {\n        const signatureType: SubstrateSignatureType = SubstrateSignatureType[SubstrateSignatureType[response.signature.readUInt8(0)]]\n        const signatureBuffer: Buffer = response.signature.slice(1, 65)\n\n        const signature: SubstrateCompatSignatureType[Network] = substrateSignatureFactory(\n          this.protocol.options.network.extras.network\n        ).create(signatureType, signatureBuffer)\n\n        return SubstrateTransaction.fromTransaction(transaction, { signature })\n      } else if (\n        response.return_code === ReturnCode.COMMAND_NOT_ALLOWED ||\n        response.error_message.includes(ReturnCode.COMMAND_NOT_ALLOWED.toString(16)) // workaround until return codes are fixed in the substrate app lib\n      ) {\n        // thrown when sign rejected\n        return null\n      } else {\n        return this.rejectWithError('Could not sign transaction', response)\n      }\n    } catch (error) {\n      return this.rejectWithError('Could not sign transaction', error)\n    }\n  }\n\n  private async rejectWithError<T>(header: string, error: string | Error | ResponseBase): Promise<T> {\n    return Promise.reject(\n      typeof error === 'string' || error instanceof Error\n        ? `${header}, ${error}`\n        : `${header}, ${error.error_message} (code 0x${error.return_code.toString(16).toLocaleUpperCase()})`\n    )\n  }\n}\n","import { AirGapWalletStatus } from '@airgap/coinlib-core/wallet/AirGapWallet'\nimport { Component } from '@angular/core'\nimport { Observable } from 'rxjs'\nimport { first, map } from 'rxjs/operators'\n\nimport { AirGapMarketWalletGroup } from '../../models/AirGapMarketWalletGroup'\nimport { AccountProvider, ActiveWalletGroup } from '../../services/account/account.provider'\n\n@Component({\n  selector: 'current-wallet-group',\n  templateUrl: './current-wallet-group.component.html',\n  styleUrls: ['./current-wallet-group.component.scss']\n})\nexport class CurrentWalletGroupComponent {\n  public readonly groups$: Observable<ActiveWalletGroup[]>\n  public readonly currentGroup$: Observable<ActiveWalletGroup>\n\n  constructor(private readonly accountProvider: AccountProvider) {\n    this.groups$ = this.accountProvider.getWalletGroupsObservable().pipe(\n      map((groups: AirGapMarketWalletGroup[]) => {\n        const activeGroups: AirGapMarketWalletGroup[] = groups.filter(\n          (group: AirGapMarketWalletGroup) => group.status === AirGapWalletStatus.ACTIVE\n        )\n\n        return activeGroups.length > 1 ? ['all', ...activeGroups] : activeGroups\n      })\n    )\n    this.currentGroup$ = this.accountProvider.getActiveWalletGroupObservable()\n  }\n\n  public async onChange(event: CustomEvent & { detail: { value: ActiveWalletGroup } }): Promise<void> {\n    const changedGroup: ActiveWalletGroup = event.detail.value\n    const currentGroup: ActiveWalletGroup = await this.currentGroup$.pipe(first()).toPromise()\n\n    if (!this.accountProvider.isSameGroup(changedGroup, currentGroup)) {\n      this.accountProvider.setActiveGroup(changedGroup)\n    }\n  }\n}\n","<ion-item lines=\"none\" button=\"true\" detail=\"false\" *ngIf=\"(groups$ | async) && (groups$ | async).length > 0\">\n  <ion-text slot=\"start\" color=\"medium\">{{ 'current-wallet-group.label' | translate }}</ion-text>\n  <p slot=\"end\" *ngIf=\"(groups$ | async) && (groups$ | async).length === 1\">\n    {{ currentGroup$ | async | groupLabel | translate }}\n  </p>\n  <ion-select\n    *ngIf=\"(groups$ | async) && (groups$ | async).length > 1\"\n    slot=\"end\"\n    [value]=\"currentGroup$ | async\"\n    (ionChange)=\"onChange($event)\"\n    interface=\"popover\"\n  >\n    <ion-select-option *ngFor=\"let group of groups$ | async\" [value]=\"group\">\n      <ion-text>\n        {{ group | groupLabel | translate }}\n      </ion-text>\n    </ion-select-option>\n  </ion-select>\n</ion-item>\n","import { DeeplinkService } from '@airgap/angular-core'\nimport { AirGapMarketWallet, generateId, IACMessageDefinitionObjectV3, IACMessageType, IAirGapTransaction } from '@airgap/coinlib-core'\nimport { Injectable } from '@angular/core'\nimport { Router } from '@angular/router'\nimport { AirGapMarketWalletGroup, InteractionSetting } from 'src/app/models/AirGapMarketWalletGroup'\nimport { DataService, DataServiceKey } from '../data/data.service'\nimport { OperationsProvider } from '../operations/operations'\nimport { ErrorCategory, handleErrorSentry } from '../sentry-error-handler/sentry-error-handler'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InteractionService {\n  constructor(\n    private readonly dataService: DataService,\n    private readonly deeplinkService: DeeplinkService,\n    private readonly operationsProvider: OperationsProvider,\n    private readonly router: Router\n  ) { }\n\n  public startInteraction(\n    group: AirGapMarketWalletGroup,\n    wallet: AirGapMarketWallet,\n    interactionData: unknown,\n    type: IACMessageType,\n    airGapTxs?: IAirGapTransaction[],\n    isRelay: boolean = false,\n    generatedId?: number\n  ) {\n    const interactionSetting = group.interactionSetting\n\n    switch (interactionSetting) {\n      case InteractionSetting.UNDETERMINED:\n        this.goToInteractionSelectionPage(group, wallet, airGapTxs, interactionData, type, isRelay, generatedId)\n        break\n      case InteractionSetting.ALWAYS_ASK:\n        this.goToInteractionSelectionPage(group, wallet, airGapTxs, interactionData, type, isRelay, generatedId)\n        break\n      case InteractionSetting.SAME_DEVICE:\n        this.sameDeviceSign(wallet, interactionData as IACMessageDefinitionObjectV3[], type, isRelay, generatedId)\n        break\n      case InteractionSetting.OFFLINE_DEVICE:\n        this.offlineDeviceSign(wallet, airGapTxs, interactionData as IACMessageDefinitionObjectV3[], type, isRelay, generatedId)\n        break\n      case InteractionSetting.LEDGER:\n        this.ledgerSign(wallet, airGapTxs, interactionData)\n        break\n      default:\n    }\n  }\n\n  private goToInteractionSelectionPage(\n    group: AirGapMarketWalletGroup,\n    wallet: AirGapMarketWallet,\n    airGapTxs: IAirGapTransaction[],\n    interactionData: unknown,\n    type: IACMessageType,\n    isRelay: boolean = false,\n    generatedId?: number\n  ): void {\n    const info = {\n      group,\n      wallet,\n      airGapTxs,\n      data: interactionData,\n      type,\n      isRelay,\n      generatedId,\n    }\n    this.dataService.setData(DataServiceKey.INTERACTION, info)\n    this.router.navigateByUrl('/interaction-selection/' + DataServiceKey.INTERACTION).catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n\n  public async offlineDeviceSign(\n    wallet: AirGapMarketWallet,\n    airGapTxs: IAirGapTransaction[],\n    interactionData: IACMessageDefinitionObjectV3[],\n    type: IACMessageType,\n    isRelay: boolean = false,\n    generatedId?: number\n  ) {\n    const dataQR = await this.prepareQRData(wallet, interactionData, type, isRelay, generatedId)\n    const info = {\n      wallet,\n      airGapTxs,\n      data: dataQR,\n      interactionData\n    }\n    this.dataService.setData(DataServiceKey.TRANSACTION, info)\n    this.router.navigateByUrl('/transaction-qr/' + DataServiceKey.TRANSACTION).catch((err) => console.error(err))\n  }\n\n  public async sameDeviceSign(\n    wallet: AirGapMarketWallet,\n    interactionData: IACMessageDefinitionObjectV3[],\n    type: IACMessageType,\n    isRelay: boolean = false,\n    generatedId?: number\n  ) {\n    const dataQR = await this.prepareQRData(wallet, interactionData, type, isRelay, generatedId)\n    this.deeplinkService\n      .sameDeviceDeeplink(dataQR)\n      .then(() => {\n        this.router.navigateByUrl('/tabs/portfolio').catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n      })\n      .catch(handleErrorSentry(ErrorCategory.DEEPLINK_PROVIDER))\n  }\n\n  public ledgerSign(wallet: AirGapMarketWallet, airGapTxs: IAirGapTransaction[], data: any) {\n    const info = {\n      wallet: wallet,\n      airGapTxs: airGapTxs,\n      data\n    }\n    this.dataService.setData(DataServiceKey.TRANSACTION, info)\n    this.router.navigateByUrl('/ledger-sign/' + DataServiceKey.TRANSACTION).catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n\n  private async prepareQRData(\n    wallet: AirGapMarketWallet,\n    interactionData: IACMessageDefinitionObjectV3[],\n    type: IACMessageType,\n    isRelay: boolean = false,\n    generatedId?: number\n  ): Promise<IACMessageDefinitionObjectV3[]> {\n    if (isRelay) {\n      return interactionData\n    }\n    generatedId = generatedId ? generatedId : generateId(8)\n    return this.operationsProvider.prepareSignRequest(wallet, interactionData, type, generatedId).catch((error) => {\n      console.warn(`Could not serialize transaction: ${error}`)\n      // TODO: Show error (toast)\n\n      return interactionData // Fallback\n    })\n  }\n}\n","import { ToastController, LoadingController } from '@ionic/angular'\nimport { DataService, DataServiceKey } from 'src/app/services/data/data.service'\nimport { AirGapMarketWallet, IACMessageType } from '@airgap/coinlib-core'\n\nimport { Action } from '@airgap/coinlib-core/actions/Action'\nimport { handleErrorSentry, ErrorCategory } from 'src/app/services/sentry-error-handler/sentry-error-handler'\nimport { OperationsProvider } from 'src/app/services/operations/operations'\nimport { AccountProvider } from 'src/app/services/account/account.provider'\n\nexport interface AirGapDelegatorActionContext {\n  wallet: AirGapMarketWallet\n  type: any\n  data?: any\n  toastController: ToastController\n  loadingController: LoadingController\n  operationsProvider: OperationsProvider\n  dataService: DataService\n  accountService: AccountProvider\n}\n\nexport class AirGapDelegatorAction extends Action<void, AirGapDelegatorActionContext> {\n  private loader: HTMLIonLoadingElement | undefined\n\n  public constructor(readonly context: AirGapDelegatorActionContext) {\n    super(context)\n  }\n\n  protected async perform(): Promise<void> {\n    this.loader = await this.context.loadingController.create({\n      message: 'Preparing transaction...'\n    })\n\n    await this.loader.present().catch(handleErrorSentry(ErrorCategory.IONIC_LOADER))\n\n    try {\n      const { airGapTxs, unsignedTx } = await this.context.operationsProvider.prepareDelegatorAction(\n        this.context.wallet,\n        this.context.type,\n        this.context.data\n      )\n\n      const info = {\n        wallet: this.context.wallet,\n        airGapTxs,\n        data: unsignedTx,\n        type: IACMessageType.TransactionSignRequest\n      }\n\n      this.context.dataService.setData(DataServiceKey.INTERACTION, info)\n      this.context.accountService.startInteraction(this.context.wallet, unsignedTx, IACMessageType.TransactionSignRequest, airGapTxs)\n    } catch (error) {\n      handleErrorSentry(ErrorCategory.OTHER)(`${this.identifier}-${error}`)\n\n      const toast: HTMLIonToastElement = await this.context.toastController.create({\n        message: error.message,\n        duration: 3000,\n        position: 'bottom'\n      })\n      toast.present().catch(handleErrorSentry(ErrorCategory.IONIC_TOAST))\n    } finally {\n      this.dismissLoader()\n    }\n  }\n\n  private dismissLoader() {\n    if (this.loader) {\n      this.loader.dismiss().catch(handleErrorSentry(ErrorCategory.IONIC_LOADER))\n    }\n  }\n}\n","export class Deferred<T> {\n  public readonly promise: Promise<T>\n\n  private state: 'pending' | 'resolved' | 'rejected'\n\n  private _resolve: (value?: T) => void\n  private _reject: (reason?: any) => void\n\n  public constructor() {\n    this.promise = new Promise<T>((resolve, reject) => {\n      this._resolve = resolve\n      this._reject = reject\n    })\n    this.state = 'pending'\n  }\n\n  public resolve(value?: T) {\n    if (this.state === 'pending') {\n      this.state = 'resolved'\n      this._resolve(value)\n    }\n  }\n\n  public reject(reason?: any) {\n    if (this.state === 'pending') {\n      this.state = 'rejected'\n      this._reject(reason)\n    }\n  }\n}\n","import { TezosContractMetadata } from '@airgap/coinlib-core/protocols/tezos/types/contract/TezosContractMetadata'\nimport { TezosFATokenMetadata } from '@airgap/coinlib-core/protocols/tezos/types/fa/TezosFATokenMetadata'\nimport { ContractNotFoundError, InterfaceUnknownError, TezosFAFormError, TezosFAFormErrorType, TokenInterface, TokenMetadataMissingError, TokenVagueError, UnknownError } from './tezos-fa-form.types'\n\nexport function contractNotFoundError(): ContractNotFoundError {\n  return { type: TezosFAFormErrorType.CONTRACT_NOT_FOUND }\n}\n\nexport function interfaceUnknownError(tokenInterfaces: TokenInterface[] = Object.values(TokenInterface)): InterfaceUnknownError {\n  return { type: TezosFAFormErrorType.INTERFACE_UNKNOWN, tokenInterfaces }\n}\n\nexport function tokenMetadataMissingError(): TokenMetadataMissingError {\n  return { type: TezosFAFormErrorType.TOKEN_METADATA_MISSING }\n}\n\nexport function tokenVaugeError(tokenMetadataRegistry: Record<number, TezosFATokenMetadata>): TokenVagueError {\n  const tokens = Object.entries(tokenMetadataRegistry).map(([tokenID, tokenMetadata]) => ({\n    id: parseInt(tokenID),\n    name: tokenMetadata.name\n  }))\n  return { type: TezosFAFormErrorType.TOKEN_VAGUE, tokens }\n}\n\nexport function unknownError(error?: any): UnknownError {\n  return { type: TezosFAFormErrorType.UNKNOWN, error }\n}\n\nexport function isTezosFAFormError(error: unknown): error is TezosFAFormError {\n  return typeof error === 'object' && Object.values(TezosFAFormErrorType).includes(error['type'])\n}\n\nexport function hasTokenInterface(metadata: TezosContractMetadata, tokenInterface: TokenInterface): boolean {\n  const targetTzip = getTzipStandard(tokenInterface)\n  if (targetTzip === undefined) {\n    return false\n  }\n\n  return metadata.interfaces?.some((value: string) => {\n    const tzip = getTzipStandard(value)\n    if (tzip === undefined) {\n      return false\n    }\n\n    return tzip === targetTzip\n  }) ?? false\n}\n\nexport function getTzipStandard(value: string): number | undefined {\n  if (!value.toLowerCase().startsWith('tzip-')) {\n    return undefined\n  }\n\n  const tzip = parseInt(value.split('-')[1], 10)\n  return !isNaN(tzip) ? tzip : undefined\n}","import { Component, Input } from '@angular/core'\nimport { UIIconText } from 'src/app/models/widgets/display/UIIconText'\n\n@Component({\n  selector: 'widget-icon-text',\n  templateUrl: 'widget-icon-text.html',\n  styleUrls: ['widget-icon-text.scss']\n})\nexport class WidgetIconText {\n  @Input()\n  public widget: UIIconText\n}\n","<ion-item lines=\"none\" class=\"ion-no-padding ion-no-margin\">\n  <ion-avatar slot=\"start\" class=\"content--align__center-center border--container\">\n    <ion-icon [name]=\"widget.iconName\"></ion-icon>\n  </ion-avatar>\n  <ion-label class=\"ion-text-wrap\">\n    <h2 class=\"font--weight__bold\" ion-text color=\"black\" *ngIf=\"widget.text\">{{ widget.text | translate }}</h2>\n    <h2 class=\"font--weight__bold\" ion-text color=\"black\" *ngIf=\"widget.textHTML\" [innerHTML]=\"widget.textHTML | translate\"></h2>\n    <h3 *ngIf=\"widget.description\">{{ widget.description | translate }}</h3>\n    <h3 *ngIf=\"widget.descriptionHTML\" [innerHTML]=\"widget.descriptionHTML | translate\"></h3>\n  </ion-label>\n</ion-item>\n","import { Injectable } from '@angular/core'\nimport { ActivatedRouteSnapshot, CanActivate, Router } from '@angular/router'\nimport { DataServiceKey } from '../data/data.service'\n\n@Injectable()\nexport class ServiceKeyGuard implements CanActivate {\n  constructor(public readonly router: Router) {}\n  public canActivate(route: ActivatedRouteSnapshot): boolean {\n    const serviceID = route.params.id\n\n    if (!Object.values(DataServiceKey).includes(serviceID)) {\n      window.alert(\"The service you're trying to access is invalid\")\n      this.router.navigateByUrl('/')\n    }\n    return Object.values(DataServiceKey).includes(serviceID)\n  }\n}\n","import { UIWidget, UIWidgetType, UIWidgetConfig } from '../UIWidget'\n\nexport interface UIIconTextConfig extends UIWidgetConfig {\n  iconName: string\n  text?: string\n  textHTML?: string\n\n  description?: string\n  descriptionHTML?: string\n}\n\nexport class UIIconText extends UIWidget {\n  public readonly type = UIWidgetType.ICON_TEXT\n  public readonly iconName: string\n\n  public text?: string\n  public textHTML?: string\n\n  public description?: string\n  public descriptionHTML?: string\n\n  constructor(config: UIIconTextConfig) {\n    super(config)\n\n    this.iconName = config.iconName\n\n    this.text = config.text\n    this.textHTML = config.textHTML\n\n    this.description = config.description\n    this.descriptionHTML = config.descriptionHTML\n  }\n\n  protected onFormGroupSet() {\n    console.log('set')\n  }\n}\n","import { BeaconMessageType, BeaconRequestOutputMessage, SigningType } from '@airgap/beacon-sdk'\nimport {\n  AirGapMarketWallet,\n  AirGapWalletStatus,\n  EthereumProtocol,\n  EthereumProtocolOptions,\n  generateId,\n  IACMessageType,\n  IAirGapTransaction,\n  MainProtocolSymbols\n} from '@airgap/coinlib-core'\nimport { RawEthereumTransaction } from '@airgap/coinlib-core/serializer/types'\nimport { Component, OnInit } from '@angular/core'\nimport { AlertController, ModalController, ToastController } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\nimport WalletConnect from '@walletconnect/client'\nimport BigNumber from 'bignumber.js'\nimport { Subscription } from 'rxjs'\nimport { AccountProvider } from 'src/app/services/account/account.provider'\nimport { BeaconService } from 'src/app/services/beacon/beacon.service'\nimport { ErrorCategory, handleErrorSentry } from 'src/app/services/sentry-error-handler/sentry-error-handler'\nimport { saveWalletConnectSession } from 'src/app/services/walletconnect/helpers'\n\nenum Methods {\n  SESSION_REQUEST = 'session_request',\n  ETH_SENDTRANSACTION = 'eth_sendTransaction',\n  PERSONAL_SIGN_REQUEST = 'personal_sign',\n  ETH_SIGN_TYPED_DATA = 'eth_signTypedData'\n}\n\ninterface JSONRPC<T = unknown> {\n  id: number\n  jsonrpc: string\n  method: Methods\n  params: T[]\n}\n\ninterface EthTx {\n  from: string\n  to: string\n  data: string\n  gasLimit: string\n  gasPrice: string\n  value: string\n  nonce: string\n}\n\ninterface SessionRequest {\n  peerId: string\n  peerMeta: {\n    name: string\n    description: string\n    icons: string[]\n    url: string\n  }\n}\n\n@Component({\n  selector: 'app-walletconnect',\n  templateUrl: './walletconnect.page.html',\n  styleUrls: ['./walletconnect.page.scss']\n})\nexport class WalletconnectPage implements OnInit {\n  public title: string = ''\n  public requesterName: string = ''\n  public description: string = ''\n  public url: string = ''\n  public icon: string = ''\n  public beaconRequest: any\n  public request: JSONRPC\n  public selectableWallets: AirGapMarketWallet[] = []\n  public airGapTransactions: IAirGapTransaction[] | undefined\n  public rawTransaction: RawEthereumTransaction\n  public readonly requestMethod: typeof Methods = Methods\n\n  private subscription: Subscription\n  private selectedWallet: AirGapMarketWallet | undefined\n  private responseHandler: (() => Promise<void>) | undefined\n  private readonly connector: WalletConnect | undefined\n\n  constructor(\n    private readonly modalController: ModalController,\n    private readonly accountService: AccountProvider,\n    private readonly alertCtrl: AlertController,\n    private readonly beaconService: BeaconService,\n    private readonly translateService: TranslateService,\n    private readonly toastController: ToastController\n  ) {}\n\n  public get address(): string {\n    if (this.selectedWallet !== undefined) {\n      return this.selectedWallet.receivingPublicAddress\n    }\n    return ''\n  }\n\n  public async ngOnInit(): Promise<void> {\n    this.subscription = this.accountService.allWallets$.asObservable().subscribe((wallets: AirGapMarketWallet[]) => {\n      this.selectableWallets = wallets.filter(\n        (wallet: AirGapMarketWallet) =>\n          (wallet.protocol.identifier === MainProtocolSymbols.ETH || wallet.protocol.identifier === MainProtocolSymbols.RBTC) &&\n          wallet.status === AirGapWalletStatus.ACTIVE\n      )\n      if (this.selectableWallets.length > 0) {\n        this.selectedWallet = this.selectableWallets[0]\n      }\n    })\n    if (this.request && this.request.method === Methods.SESSION_REQUEST) {\n      this.title = this.translateService.instant('walletconnect.connection_request')\n      await this.permissionRequest(this.request as JSONRPC<SessionRequest>)\n    }\n\n    if (this.request && this.request.method === Methods.ETH_SENDTRANSACTION) {\n      this.title = this.translateService.instant('walletconnect.new_transaction')\n      await this.operationRequest(this.request as JSONRPC<EthTx>)\n    }\n\n    if (this.request && this.request.method === Methods.PERSONAL_SIGN_REQUEST) {\n      this.title = this.translateService.instant('walletconnect.sign_request')\n      await this.signRequest(this.request as JSONRPC<string>)\n    }\n\n    if (this.request && this.request.method === Methods.ETH_SIGN_TYPED_DATA) {\n      this.title = this.translateService.instant('walletconnect.sign_typed_data')\n      await this.notSupportedAlert()\n    }\n  }\n\n  public async updateRawTransaction(rawTransaction: RawEthereumTransaction) {\n    this.rawTransaction = { ...this.rawTransaction, gasPrice: rawTransaction.gasPrice, gasLimit: rawTransaction.gasLimit }\n\n    const ethereumProtocol = new EthereumProtocol()\n    this.airGapTransactions = await ethereumProtocol.getTransactionDetails({\n      publicKey: this.selectedWallet.publicKey,\n      transaction: this.rawTransaction\n    })\n\n    this.responseHandler = async () => {\n      this.accountService.startInteraction(\n        this.selectedWallet,\n        this.rawTransaction,\n        IACMessageType.TransactionSignRequest,\n        this.airGapTransactions\n      )\n    }\n    const toast = await this.toastController.create({\n      message: `Updated Transaction Details`,\n      duration: 2000,\n      position: 'bottom'\n    })\n\n    toast.present()\n  }\n\n  public async done(): Promise<void> {\n    if (this.responseHandler) {\n      await this.responseHandler()\n    }\n    await this.dismissModal()\n  }\n\n  private async signRequest(request: JSONRPC<string>) {\n    const message = request.params[0]\n    const address = request.params[1]\n\n    if (!this.selectedWallet) {\n      throw new Error('no wallet found!')\n    }\n    const requestId = new BigNumber(request.id).toString()\n    const generatedId = generateId(8)\n    const protocol = new EthereumProtocol()\n\n    this.beaconRequest = {\n      type: BeaconMessageType.SignPayloadRequest,\n      signingType: 'raw' as SigningType,\n      payload: message,\n      sourceAddress: address,\n      id: requestId,\n      senderId: '',\n      appMetadata: { senderId: '', name: '' },\n      version: '2'\n    } as BeaconRequestOutputMessage\n\n    this.beaconService.addVaultRequest(this.beaconRequest, protocol)\n    this.responseHandler = async () => {\n      this.accountService.startInteraction(\n        this.selectedWallet,\n        this.beaconRequest,\n        IACMessageType.MessageSignRequest,\n        undefined,\n        false,\n        generatedId\n      )\n    }\n  }\n\n  private async permissionRequest(request: JSONRPC<SessionRequest>): Promise<void> {\n    this.description = request.params[0].peerMeta.description ? request.params[0].peerMeta.description : ''\n    this.url = request.params[0].peerMeta.url ? request.params[0].peerMeta.url : ''\n    this.icon = request.params[0].peerMeta.icons ? request.params[0].peerMeta.icons[0] : ''\n    this.requesterName = request.params[0].peerMeta.name ? request.params[0].peerMeta.name : ''\n\n    if (!this.selectedWallet) {\n      throw new Error('no wallet found!')\n    }\n\n    this.responseHandler = async (): Promise<void> => {\n      // Approve Session\n      const approveData = {\n        chainId: 1,\n        accounts: [this.address]\n      }\n      if (this.connector) {\n        this.connector.approveSession(approveData)\n        saveWalletConnectSession(this.connector.peerId, this.connector.session)\n      }\n    }\n  }\n\n  private async operationRequest(request: JSONRPC<EthTx>): Promise<void> {\n    const ethereumProtocol: EthereumProtocol = new EthereumProtocol()\n\n    if (!this.selectedWallet) {\n      throw new Error('no wallet found!')\n    }\n\n    const options: EthereumProtocolOptions = new EthereumProtocolOptions()\n    const gasPrice = await options.nodeClient.getGasPrice()\n    const txCount = await options.nodeClient.fetchTransactionCount(this.selectedWallet.receivingPublicAddress)\n    const protocol = new EthereumProtocol()\n    const eth = request.params[0]\n\n    this.rawTransaction = {\n      nonce: eth.nonce ? eth.nonce : `0x${new BigNumber(txCount).toString(16)}`,\n      gasPrice: eth.gasPrice ? eth.gasPrice : `0x${new BigNumber(gasPrice).toString(16)}`,\n      gasLimit: `0x${(300000).toString(16)}`,\n      to: eth.to,\n      value: eth.value,\n      chainId: 1,\n      data: eth.data\n    }\n\n    const walletConnectRequest = {\n      transaction: this.rawTransaction,\n      id: request.id\n    }\n\n    this.beaconService.addVaultRequest(walletConnectRequest, protocol)\n\n    this.airGapTransactions = await ethereumProtocol.getTransactionDetails({\n      publicKey: this.selectedWallet.publicKey,\n      transaction: this.rawTransaction\n    })\n\n    this.responseHandler = async () => {\n      this.accountService.startInteraction(\n        this.selectedWallet,\n        this.rawTransaction,\n        IACMessageType.TransactionSignRequest,\n        this.airGapTransactions\n      )\n    }\n  }\n\n  public async dismissModal(): Promise<void> {\n    this.modalController.dismiss().catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n\n  public async dismiss(): Promise<void> {\n    this.dismissModal()\n    this.rejectRequest(this.request.id)\n  }\n\n  public async rejectRequest(id: number) {\n    this.connector.rejectRequest({\n      id: id,\n      error: {\n        message: 'USER_REJECTION' // optional\n      }\n    })\n  }\n\n  private async notSupportedAlert() {\n    const alert: HTMLIonAlertElement = await this.alertCtrl.create({\n      header: this.translateService.instant('walletconnect.alert.title'),\n      message: this.translateService.instant('walletconnect.alert.message'),\n      backdropDismiss: false,\n      buttons: [\n        {\n          text: 'ok',\n          role: 'cancel',\n          handler: () => {\n            this.dismiss()\n          }\n        }\n      ]\n    })\n    alert.present().catch(handleErrorSentry(ErrorCategory.IONIC_ALERT))\n  }\n\n  async setWallet(wallet: AirGapMarketWallet) {\n    this.selectedWallet = wallet\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe()\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-toolbar>\n      <ion-title>{{ title }}</ion-title>\n    </ion-toolbar>\n  </ion-grid>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ng-container *ngIf=\"request.method === requestMethod.SESSION_REQUEST\">\n      <permission-request\n        [address]=\"address\"\n        [requesterName]=\"requesterName\"\n        [icon]=\"icon\"\n        [targetProtocolSymbol]=\"'eth'\"\n        (walletSetEmitter)=\"setWallet($event)\"\n      ></permission-request>\n    </ng-container>\n\n    <div *ngIf=\"request.method === requestMethod.ETH_SENDTRANSACTION\" class=\"ion-padding-bottom ion-margin-bottom\">\n      <div *ngFor=\"let airGapTransaction of airGapTransactions\">\n        <walletconnect-from-to\n          [rawTransaction]=\"rawTransaction\"\n          [airGapTransaction]=\"airGapTransaction\"\n          (onRawTransactionUpdate)=\"updateRawTransaction($event)\"\n        ></walletconnect-from-to>\n      </div>\n    </div>\n\n    <div *ngIf=\"request.method === requestMethod.PERSONAL_SIGN_REQUEST ||request.method === requestMethod.ETH_SIGN_TYPED_DATA\">\n      <ion-row class=\"rawdata--container\">\n        <ion-col class=\"ion-no-padding\">\n          <pre class=\"ion-no-margin\">{{ beaconRequest | json }}</pre>\n        </ion-col>\n      </ion-row>\n    </div>\n  </ion-grid>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button shape=\"round\" color=\"secondary\" (click)=\"dismiss()\">{{ 'beacon-request.cancel_label' | translate }}</ion-button>\n\n    <ion-button shape=\"round\" color=\"primary\" (click)=\"done()\">\n      <ng-container *ngIf=\"request.method !== requestMethod.SESSION_REQUEST\">\n        {{ 'beacon-request.continue_label' | translate }}\n      </ng-container>\n      <ng-container *ngIf=\"request.method === requestMethod.SESSION_REQUEST\">{{ 'beacon-request.connect_label' | translate }}</ng-container>\n    </ion-button>\n  </ion-fab>\n</ion-content>\n","import { Component, EventEmitter, Input, Output } from '@angular/core'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\nimport { AirGapMarketWallet } from '@airgap/coinlib-core'\nimport { BigNumber } from 'bignumber.js'\n\nimport { DecimalValidator } from '../../validators/DecimalValidator'\n\n@Component({\n  selector: 'amount',\n  templateUrl: './amount.component.html',\n  styleUrls: ['./amount.component.scss']\n})\nexport class AmountComponent {\n  public delegationForm: FormGroup\n  public amount: number = 0\n  public sendMaxAmount: boolean = false\n  public amountControl\n  @Input()\n  public wallet?: AirGapMarketWallet\n\n  @Input()\n  public capMaxAmount: BigNumber\n\n  @Input()\n  public disabled: boolean = false\n\n  @Output()\n  public readonly amountEmitter: EventEmitter<BigNumber> = new EventEmitter<BigNumber>()\n\n  constructor(public formBuilder: FormBuilder) {\n    this.delegationForm = this.formBuilder.group({\n      amount: [this.amount, Validators.compose([Validators.required])]\n    })\n    this.onChanges()\n  }\n\n  public IonViewDidEnter() {\n    this.delegationForm = this.formBuilder.group({\n      amount: [this.amount, Validators.compose([Validators.required, DecimalValidator.validate(this.wallet.protocol.decimals)])]\n    })\n  }\n  public toggleMaxAmount() {\n    this.sendMaxAmount = !this.sendMaxAmount\n    if (this.sendMaxAmount) {\n      this.setMaxAmount()\n    }\n  }\n\n  public onChanges(): void {\n    this.delegationForm.valueChanges.subscribe((val: any) => {\n      if (val && val.amount) {\n        this.amountEmitter.emit(new BigNumber(val.amount).shiftedBy(this.wallet.protocol.decimals))\n      }\n    })\n  }\n\n  private setMaxAmount() {\n    let amount\n    if (this.capMaxAmount) {\n      amount = this.capMaxAmount.shiftedBy(-1 * this.wallet.protocol.decimals).toNumber()\n    } else {\n      amount = this.wallet.currentBalance.shiftedBy(-1 * this.wallet.protocol.decimals).toNumber()\n    }\n    this.delegationForm.controls.amount.setValue(amount, {\n      emitEvent: true\n    })\n  }\n}\n","<form *ngIf=\"wallet\" [formGroup]=\"delegationForm\" class=\"ion-padding-bottom\">\n  <ion-row class=\"ion-padding-horizontal padding-top ion-align-items-center amount__container\">\n    <ion-col size=\"9\" class=\"amount--container__input ion-no-padding\">\n      <ion-item clasS=\"ion-no-padding\" lines=\"none\" [disabled]=\"disabled\">\n        <ion-label color=\"blackLight\" class=\"ion-no-margin\" position=\"stacked\">Amount</ion-label>\n        <ion-input type=\"number\" formControlName=\"amount\" id=\"amount-input\" placeholder=\"0.0\"></ion-input>\n      </ion-item>\n      <ion-text class=\"ion-no-margin\" color=\"blackLight\">\n        <p class=\"ion-no-margin\">${{ delegationForm.get('amount').value * wallet.currentMarketPrice.toNumber() | number: '1.2-2' }}</p>\n      </ion-text>\n    </ion-col>\n    <ion-col size=\"3\" class=\"ion-no-padding\">\n      <ion-toolbar>\n        <ion-buttons slot=\"end\">\n          <ion-button\n            shape=\"round\"\n            [fill]=\"sendMaxAmount ? 'solid' : 'outline'\"\n            size=\"small\"\n            color=\"secondary\"\n            (click)=\"toggleMaxAmount()\"\n            [disabled]=\"disabled\"\n          >\n            {{ 'transaction-prepare.fee.max_label' | translate }}\n          </ion-button>\n        </ion-buttons>\n      </ion-toolbar>\n    </ion-col>\n  </ion-row>\n  <ion-row class=\"ion-padding-horizontal ion-padding-bottom\">\n    <ion-col size=\"12\" *ngIf=\"!delegationForm.controls['amount'].valid\">\n      <ion-text class=\"ion-no-margin\" color=\"danger\">\n        <p class=\"ion-no-margin\">\n          {{ 'transaction-prepare.error.amount_label' | translate }}\n        </p>\n      </ion-text>\n    </ion-col>\n  </ion-row>\n</form>\n","import { Component, Input } from '@angular/core'\nimport { UIAccountExtendedDetails } from 'src/app/models/widgets/display/UIAccountExtendedDetails'\n\n@Component({\n  selector: 'widget-account-extended-details',\n  templateUrl: 'widget-account-extended-details.html',\n  styleUrls: ['widget-account-extended-details.scss']\n})\nexport class WidgetAccountExtendedDetails {\n  @Input()\n  public readonly widget: UIAccountExtendedDetails\n}\n","<ng-container *ngFor=\"let item of widget.items\">\n  <ion-row class=\"ion-padding-horizontal ion-padding-top\">\n    <ion-col>\n      <ion-text color=\"blackLight\">\n        <h3 class=\"typography--mono ion-no-margin\">\n          {{ item.label | translate }}\n        </h3>\n      </ion-text>\n    </ion-col>\n    <ion-col>\n      <p class=\"ion-text-end ion-no-margin\">\n        <strong>\n          {{ item.text }}\n        </strong>\n      </p>\n    </ion-col>\n  </ion-row>\n</ng-container>\n","import { NgModule } from '@angular/core'\nimport { PreloadAllModules, RouterModule, Routes } from '@angular/router'\n\nimport { ProtocolGuard } from './services/guard/protocol.guard'\nimport { ServiceKeyGuard } from './services/guard/serviceKey.guard'\nimport { TransactionHashGuard } from './services/guard/transactionHash.guard'\nimport { DataResolverService } from './services/resolver/data-resolver.service'\n\nconst routes: Routes = [\n  { path: '', loadChildren: () => import('./pages/tabs/tabs.module').then((m) => m.TabsPageModule) },\n  { path: 'about', loadChildren: () => import('./pages/about/about.module').then((m) => m.AboutPageModule) },\n  {\n    path: 'account-add',\n    loadChildren: () => import('./pages/account-add/account-add.module').then((m) => m.AccountAddPageModule)\n  },\n  {\n    path: 'account-import-interaction-selection/:id',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ServiceKeyGuard],\n    loadChildren: () =>\n      import('./pages/account-import-interaction-selection/account-import-interaction-selection.module').then(\n        (m) => m.AccountImportInteractionSelectionPageModule\n      )\n  },\n  {\n    path: 'account-import-onboarding/:id/:protocolID',\n    canActivate: [ServiceKeyGuard],\n    loadChildren: () =>\n      import('./pages/account-import-onboarding/account-import-onboarding.module').then((m) => m.AccountImportOnboardingPageModule)\n  },\n  {\n    path: 'account-import-ledger-onboarding/:id/:protocolID',\n    canActivate: [ProtocolGuard, ServiceKeyGuard],\n\n    loadChildren: () =>\n      import('./pages/account-import-ledger-onboarding/account-import-ledger-onboarding.module').then(\n        (m) => m.AccountImportLedgerOnboardingPageModule\n      )\n  },\n  {\n    path: 'select-wallet/:id',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ServiceKeyGuard],\n    loadChildren: () => import('./pages/select-wallet/select-wallet.module').then((m) => m.SelectWalletPageModule)\n  },\n  {\n    path: 'account-import/:id',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ServiceKeyGuard],\n    loadChildren: () => import('./pages/account-import/account-import.module').then((m) => m.AccountImportPageModule)\n  },\n  {\n    path: 'account-transaction-list/:id/:publicKey/:protocolID/:addressIndex',\n    canActivate: [ProtocolGuard, ServiceKeyGuard],\n\n    loadChildren: () =>\n      import('./pages/account-transaction-list/account-transaction-list.module').then((m) => m.AccountTransactionListPageModule)\n  },\n  {\n    path: 'transaction-detail/:id/:hash',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ServiceKeyGuard, TransactionHashGuard],\n    loadChildren: () => import('./pages/transaction-detail/transaction-detail.module').then((m) => m.TransactionDetailPageModule)\n  },\n  {\n    path: 'sub-account-add/:id/:publicKey/:protocolID/:addressIndex/:subProtocolType',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ProtocolGuard, ServiceKeyGuard],\n\n    loadChildren: () => import('./pages/sub-account-add/sub-account-add.module').then((m) => m.SubAccountAddPageModule)\n  },\n  {\n    path: 'sub-account-add-generic/:id/:protocolID/:networkID/:genericSubProtocolType',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ProtocolGuard, ServiceKeyGuard],\n    loadChildren: () => import('./pages/sub-account-add-generic/sub-account-add-generic.module').then((m) => m.SubAccountAddGenericPageModule)\n  },\n  {\n    path: 'sub-account-select/:id',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ServiceKeyGuard],\n    loadChildren: () => import('./pages/sub-account-select/sub-account-select.module').then((m) => m.SubAccountSelectPageModule)\n  },\n  {\n    path: 'sub-account-import/:id/:protocolID/:networkID',\n    canActivate: [ProtocolGuard, ServiceKeyGuard],\n\n    loadChildren: () => import('./pages/sub-account-import/sub-account-import.module').then((m) => m.SubAccountImportPageModule)\n  },\n  {\n    path: 'account-address/:id/:publicKey/:protocolID/:addressIndex',\n    canActivate: [ProtocolGuard, ServiceKeyGuard],\n\n    loadChildren: () => import('./pages/account-address/account-address.module').then((m) => m.AccountAddressPageModule)\n  },\n  {\n    path: 'transaction-prepare/:id/:publicKey/:protocolID/:addressIndex/:address/:amount/:forceMigration',\n    canActivate: [ProtocolGuard, ServiceKeyGuard],\n\n    loadChildren: () => import('./pages/transaction-prepare/transaction-prepare.module').then((m) => m.TransactionPreparePageModule)\n  },\n  {\n    path: 'interaction-selection/:id',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ServiceKeyGuard],\n    loadChildren: () => import('./pages/interaction-selection/interaction-selection.module').then((m) => m.InteractionSelectionPageModule)\n  },\n  {\n    path: 'transaction-qr/:id',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ServiceKeyGuard],\n    loadChildren: () => import('./pages/transaction-qr/transaction-qr.module').then((m) => m.TransactionQrPageModule)\n  },\n  {\n    path: 'scan-address/:id',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ServiceKeyGuard],\n    loadChildren: () => import('./pages/scan-address/scan-address.module').then((m) => m.ScanAddressPageModule)\n  },\n  {\n    path: 'exchange-confirm/:id',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ServiceKeyGuard],\n    loadChildren: () => import('./pages/exchange-confirm/exchange-confirm.module').then((m) => m.ExchangeConfirmPageModule)\n  },\n  {\n    path: 'transaction-confirm/:id',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ServiceKeyGuard],\n    loadChildren: () => import('./pages/transaction-confirm/transaction-confirm.module').then((m) => m.TransactionConfirmPageModule)\n  },\n  {\n    path: 'delegation-detail/:id/:publicKey/:protocolID/:addressIndex',\n    canActivate: [ProtocolGuard, ServiceKeyGuard],\n\n    loadChildren: () => import('./pages/delegation-detail/delegation-detail.module').then((m) => m.DelegationDetailPageModule)\n  },\n  {\n    path: 'dapp-settings',\n    loadChildren: () => import('./pages/dapp-settings/dapp-settings.module').then((m) => m.SettingsBeaconPageModule)\n  },\n  {\n    path: 'delegation-list/:id',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ServiceKeyGuard],\n    loadChildren: () => import('./pages/delegation-list/delegation-list.module').then((m) => m.DelegationListPageModule)\n  },\n  {\n    path: 'exchange-select',\n    loadChildren: () => import('./pages/exchange-select/exchange-select.module').then((m) => m.ExchangeSelectPageModule)\n  },\n  {\n    path: 'exchange-custom',\n    loadChildren: () => import('./pages/exchange-custom/exchange-custom.module').then((m) => m.ExchangeCustomPageModule)\n  },\n  {\n    path: 'ledger-sign/:id',\n    resolve: {\n      special: DataResolverService\n    },\n    canActivate: [ServiceKeyGuard],\n    loadChildren: () => import('./pages/ledger-sign/ledger-sign.module').then((m) => m.LedgerSignPageModule)\n  },\n  {\n    path: 'dapp-permission-list',\n    loadChildren: () => import('./pages/dapp-permission-list/dapp-permission-list.module').then((m) => m.DappPermissionListPageModule)\n  },\n  {\n    path: 'error',\n    loadChildren: () => import('./pages/error/error.module').then((m) => m.ErrorPageModule)\n  },\n  {\n    path: 'walletconnect',\n    loadChildren: () => import('./pages/walletconnect/walletconnect.module').then((m) => m.WalletconnectPageModule)\n  },\n  {\n    path: 'qr-settings',\n    loadChildren: () => import('./pages/qr-settings/qr-settings.module').then((m) => m.QrSettingsPageModule)\n  },\n  {\n    path: 'health-check',\n    loadChildren: () => import('./pages/health-check/health-check.module').then((m) => m.HealthCheckPageModule)\n  },\n  {\n    path: 'account-activate/:id/:protocolID',\n    loadChildren: () => import('./pages/account-activate/account-activate.module').then((m) => m.AccountActivatePageModule)\n  },\n  {\n    path: 'dapp-confirm',\n    loadChildren: () => import('./pages/dapp-confirm/dapp-confirm.module').then((m) => m.DappConfirmPageModule)\n  },\n\n  {\n    path: 'interaction-selection-settings',\n    loadChildren: () =>\n      import('./pages/interaction-selection-settings/interaction-selection-settings.module').then(\n        (m) => m.InteractionSelectionSettingsPageModule\n      )\n  }\n]\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules, relativeLinkResolution: 'corrected' })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n","import {\n  BeaconMessageType,\n  BroadcastRequestOutput,\n  NetworkType as BeaconNetworkType,\n  OperationRequestOutput,\n  PermissionRequestOutput,\n  PermissionResponseInput,\n  PermissionScope,\n  SigningType,\n  SignPayloadRequestOutput\n} from '@airgap/beacon-sdk'\nimport { Component, OnInit } from '@angular/core'\nimport { Router } from '@angular/router'\nimport { AlertController, ModalController, ToastController } from '@ionic/angular'\nimport {\n  AirGapMarketWallet,\n  AirGapWalletStatus,\n  IACMessageDefinitionObjectV3,\n  IACMessageType,\n  IAirGapTransaction,\n  ICoinProtocol,\n  TezosCryptoClient,\n  TezosProtocol\n} from '@airgap/coinlib-core'\nimport { MainProtocolSymbols } from '@airgap/coinlib-core'\nimport { TezosWrappedOperation } from '@airgap/coinlib-core/protocols/tezos/types/TezosWrappedOperation'\nimport { ProtocolNetwork } from '@airgap/coinlib-core/utils/ProtocolNetwork'\nimport { AccountProvider } from 'src/app/services/account/account.provider'\nimport { BeaconService } from 'src/app/services/beacon/beacon.service'\nimport { DataService, DataServiceKey } from 'src/app/services/data/data.service'\nimport { ErrorCategory, handleErrorSentry } from 'src/app/services/sentry-error-handler/sentry-error-handler'\nimport { ShortenStringPipe } from 'src/app/pipes/shorten-string/shorten-string.pipe'\nimport { TranslateService } from '@ngx-translate/core'\nimport { CheckboxInput } from 'src/app/components/permission-request/permission-request.component'\nimport { generateId } from '@airgap/coinlib-core'\nimport { Subscription } from 'rxjs'\nimport BigNumber from 'bignumber.js'\n\nexport function isUnknownObject(x: unknown): x is { [key in PropertyKey]: unknown } {\n  return x !== null && typeof x === 'object'\n}\n\n@Component({\n  selector: 'page-beacon-request',\n  templateUrl: './beacon-request.page.html',\n  styleUrls: ['./beacon-request.page.scss']\n})\nexport class BeaconRequestPage implements OnInit {\n  public title: string = ''\n  public request: PermissionRequestOutput | OperationRequestOutput | SignPayloadRequestOutput | BroadcastRequestOutput | undefined\n  public network: ProtocolNetwork | undefined\n  public requesterName: string = ''\n  public inputs: CheckboxInput[] = []\n  public transactions: IAirGapTransaction[] | undefined | any\n  public wrappedOperation: TezosWrappedOperation | undefined\n  public selectableWallets: AirGapMarketWallet[] = []\n  private selectedWallet: AirGapMarketWallet | undefined\n\n  public modalRef: HTMLIonModalElement | undefined\n\n  public blake2bHash: string | undefined\n  private subscription: Subscription\n\n  private responseHandler: (() => Promise<void>) | undefined\n  private readonly beaconService: BeaconService | undefined\n\n  constructor(\n    private readonly modalController: ModalController,\n    private readonly accountService: AccountProvider,\n    private readonly dataService: DataService,\n    private readonly router: Router,\n    private readonly alertController: AlertController,\n    private readonly shortenStringPipe: ShortenStringPipe,\n    private readonly translateService: TranslateService,\n    private readonly toastController: ToastController\n  ) {\n    this.subscription = this.accountService.allWallets$.asObservable().subscribe((wallets: AirGapMarketWallet[]) => {\n      this.selectableWallets = wallets.filter(\n        (wallet: AirGapMarketWallet) =>\n          wallet.protocol.identifier === MainProtocolSymbols.XTZ && wallet.status === AirGapWalletStatus.ACTIVE\n      )\n    })\n  }\n\n  public get address(): string {\n    if (this.selectedWallet !== undefined) {\n      return this.selectedWallet.receivingPublicAddress\n    }\n    return ''\n  }\n\n  public async ngOnInit(): Promise<void> {\n    this.modalRef = await this.modalController.getTop()\n\n    this.requesterName = this.request.appMetadata.name\n    this.network = await this.getNetworkFromRequest(this.request)\n    if (this.request && this.request.type === BeaconMessageType.PermissionRequest) {\n      this.title = 'beacon-request.title.permission-request'\n      await this.permissionRequest(this.request)\n    }\n\n    if (this.request && this.request.type === BeaconMessageType.SignPayloadRequest) {\n      this.title = 'beacon-request.title.sign-payload-request'\n      await this.signRequest(this.request)\n    }\n\n    if (this.request && this.request.type === BeaconMessageType.OperationRequest) {\n      this.title = 'beacon-request.title.operation-request'\n      await this.operationRequest(this.request)\n    }\n\n    if (this.request && this.request.type === BeaconMessageType.BroadcastRequest) {\n      this.title = 'beacon-request.title.broadcast-request'\n      await this.broadcastRequest(this.request)\n    }\n  }\n\n  public async getNetworkFromRequest(\n    request: PermissionRequestOutput | OperationRequestOutput | SignPayloadRequestOutput | BroadcastRequestOutput | undefined\n  ): Promise<ProtocolNetwork | undefined> {\n    if (!request || request.type === BeaconMessageType.SignPayloadRequest) {\n      return undefined\n    }\n    const protocol: ICoinProtocol = await this.beaconService.getProtocolBasedOnBeaconNetwork(request.network)\n\n    return protocol.options.network\n  }\n\n  public async cancel(): Promise<void> {\n    await this.beaconService.sendAbortedError(this.request)\n    await this.dismiss()\n  }\n\n  public async dismiss(): Promise<boolean | void> {\n    return this.modalRef.dismiss().catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n\n  public async done(): Promise<void> {\n    if (this.responseHandler) {\n      await this.responseHandler()\n    }\n    await this.dismiss()\n  }\n\n  private async displayErrorPage(error: Error & { data?: unknown }): Promise<void> {\n    await this.beaconService.displayErrorPage(error)\n\n    setTimeout(async () => {\n      await this.dismiss() // TODO: This causes flickering because it's \"behind\" the error modal.\n    }, 100)\n  }\n\n  private async permissionRequest(request: PermissionRequestOutput): Promise<void> {\n    if (this.selectableWallets.length > 0) {\n      this.selectedWallet = this.selectableWallets[0]\n    }\n    if (!this.selectedWallet) {\n      await this.beaconService.sendAccountNotFound(request)\n      return\n    }\n\n    this.inputs = [\n      {\n        name: 'sign',\n        type: 'checkbox',\n        label: 'beacon-request.permission.sign-transactions',\n        value: PermissionScope.SIGN,\n        icon: 'create',\n        checked: request.scopes.indexOf(PermissionScope.SIGN) >= 0\n      },\n\n      {\n        name: 'operation_request',\n        type: 'checkbox',\n        label: 'beacon-request.permission.operation-request',\n        value: PermissionScope.OPERATION_REQUEST,\n        icon: 'color-wand',\n        checked: request.scopes.indexOf(PermissionScope.OPERATION_REQUEST) >= 0\n      },\n\n      {\n        name: 'threshold',\n        type: 'checkbox',\n        label: 'beacon-request.permission.threshold',\n        value: PermissionScope.THRESHOLD,\n        icon: 'code-working',\n        checked: request.scopes.indexOf(PermissionScope.THRESHOLD) >= 0\n      }\n    ]\n\n    this.responseHandler = async (): Promise<void> => {\n      const scopes: PermissionScope[] = this.inputs.filter((input) => input.checked).map((input) => input.value)\n\n      const response: PermissionResponseInput = {\n        id: request.id,\n        type: BeaconMessageType.PermissionResponse,\n        publicKey: this.selectedWallet.publicKey,\n        network: request.network,\n        scopes\n      }\n\n      await this.beaconService.respond(response, request)\n    }\n  }\n\n  public async changeAccount(): Promise<void> {\n    return new Promise(async () => {\n      if (this.selectableWallets.length === 1) {\n        return\n      }\n      const alert = await this.alertController.create({\n        header: this.translateService.instant('beacon-request.select-account.alert'),\n        inputs: this.selectableWallets.map((wallet) => ({\n          label: this.shortenStringPipe.transform(wallet.receivingPublicAddress),\n          type: 'radio',\n          value: wallet,\n          checked: wallet.receivingPublicAddress === this.address\n        })),\n        buttons: [\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: () => {\n              this.dismiss()\n            }\n          },\n          {\n            text: 'Ok',\n            handler: (wallet) => {\n              this.selectedWallet = wallet\n            }\n          }\n        ]\n      })\n\n      await alert.present()\n    })\n  }\n\n  private async signRequest(request: SignPayloadRequestOutput): Promise<void> {\n    const tezosProtocol: TezosProtocol = new TezosProtocol()\n    const selectedWallet: AirGapMarketWallet = this.selectableWallets.find(\n      (wallet: AirGapMarketWallet) =>\n        wallet.protocol.identifier === MainProtocolSymbols.XTZ && wallet.receivingPublicAddress === request.sourceAddress\n    )\n\n    if (!selectedWallet) {\n      await this.beaconService.sendAccountNotFound(request)\n      return\n    }\n\n    // TODO: Move check to service\n    if (request.signingType === SigningType.OPERATION) {\n      if (!request.payload.startsWith('03')) {\n        const error = new Error('When using signing type \"OPERATION\", the payload must start with prefix \"03\"')\n        error.stack = undefined\n        return this.displayErrorPage(error)\n      }\n    } else if (request.signingType === SigningType.MICHELINE) {\n      if (!request.payload.startsWith('05')) {\n        const error = new Error('When using signing type \"MICHELINE\", the payload must start with prefix \"05\"')\n        error.stack = undefined\n        return this.displayErrorPage(error)\n      }\n    }\n\n    try {\n      const cryptoClient = new TezosCryptoClient()\n      this.blake2bHash = await cryptoClient.blake2bLedgerHash(request.payload)\n    } catch {}\n\n    const generatedId = generateId(8)\n    await this.beaconService.addVaultRequest(request, tezosProtocol)\n\n    const clonedRequest = { ...request }\n    clonedRequest.id = new BigNumber(generatedId).toString() // TODO: Remove?\n\n    this.responseHandler = async () => {\n      this.accountService.startInteraction(\n        selectedWallet,\n        clonedRequest,\n        IACMessageType.MessageSignRequest,\n        undefined,\n        false,\n        generatedId\n      )\n    }\n  }\n\n  private async operationRequest(request: OperationRequestOutput): Promise<void> {\n    let tezosProtocol: TezosProtocol = new TezosProtocol()\n\n    const selectedWallet: AirGapMarketWallet = this.selectableWallets.find(\n      (wallet: AirGapMarketWallet) =>\n        wallet.protocol.identifier === MainProtocolSymbols.XTZ && wallet.receivingPublicAddress === request.sourceAddress\n    )\n\n    if (!selectedWallet) {\n      await this.beaconService.sendAccountNotFound(request)\n      return\n    }\n\n    if (request.network.type !== BeaconNetworkType.MAINNET) {\n      tezosProtocol = await this.beaconService.getProtocolBasedOnBeaconNetwork(request.network)\n    }\n\n    try {\n      this.wrappedOperation = await tezosProtocol.prepareOperations(selectedWallet.publicKey, request.operationDetails as any, false) // don't override parameters\n    } catch (error) {\n      await this.dismiss()\n      this.beaconService.sendInvalidTransaction(request, error)\n      return\n    }\n    const forgedTransaction = await tezosProtocol.forgeAndWrapOperations(this.wrappedOperation)\n\n    const generatedId = generateId(8)\n    await this.beaconService.addVaultRequest(request, tezosProtocol)\n\n    this.transactions = await tezosProtocol.getAirGapTxFromWrappedOperations({\n      branch: '',\n      contents: this.wrappedOperation.contents\n    })\n\n    this.responseHandler = async () => {\n      const airGapTxs = await tezosProtocol.getTransactionDetails({ publicKey: selectedWallet.publicKey, transaction: forgedTransaction })\n\n      this.accountService.startInteraction(\n        selectedWallet,\n        forgedTransaction,\n        IACMessageType.TransactionSignRequest,\n        airGapTxs,\n        false,\n        generatedId\n      )\n    }\n  }\n  public async updateWrappedOperation(wrappedOperation: TezosWrappedOperation) {\n    this.request = { ...this.request, operationDetails: wrappedOperation.contents } as OperationRequestOutput\n    await this.operationRequest(this.request)\n    const toast = await this.toastController.create({\n      message: `Updated Operation Details`,\n      duration: 2000,\n      position: 'bottom'\n    })\n    toast.present()\n  }\n\n  private async broadcastRequest(request: BroadcastRequestOutput): Promise<void> {\n    let tezosProtocol: TezosProtocol = new TezosProtocol()\n    const signedTx: string = request.signedTransaction\n\n    if (request.network.type !== BeaconNetworkType.MAINNET) {\n      tezosProtocol = await this.beaconService.getProtocolBasedOnBeaconNetwork(request.network)\n    }\n\n    const generatedId = generateId(8)\n    await this.beaconService.addVaultRequest(request, tezosProtocol)\n\n    this.transactions = await tezosProtocol.getTransactionDetailsFromSigned({\n      accountIdentifier: '',\n      transaction: signedTx\n    })\n\n    const messageDefinitionObject: IACMessageDefinitionObjectV3 = {\n      id: generatedId,\n      type: IACMessageType.MessageSignResponse,\n      protocol: MainProtocolSymbols.XTZ,\n      payload: {\n        accountIdentifier: '',\n        transaction: signedTx // wait for SDK to correctly serialize\n      }\n    }\n\n    this.responseHandler = async () => {\n      const info = {\n        messageDefinitionObjects: [messageDefinitionObject]\n      }\n\n      this.dataService.setData(DataServiceKey.TRANSACTION, info)\n      this.router.navigateByUrl(`/transaction-confirm/${DataServiceKey.TRANSACTION}`).catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n    }\n  }\n\n  async setWallet(wallet: AirGapMarketWallet) {\n    this.selectedWallet = wallet\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe()\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-toolbar>\n      <ion-buttons slot=\"start\">\n        <ion-back-button defaultHref=\"/\"></ion-back-button>\n      </ion-buttons>\n      <ion-title>{{ title | translate }}</ion-title>\n    </ion-toolbar>\n  </ion-grid>\n</ion-header>\n\n<ion-content class=\"ion-padding-horizontal ion-padding-bottom\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ng-container *ngIf=\"request\">\n      <ng-container *ngIf=\"request.type != 'permission_request'\">\n        <ion-card class=\"ion-margin-bottom\">\n          <ion-item lines=\"none\">\n            <ion-avatar slot=\"start\">\n              <airgap-identicon [address]=\"requesterName\"></airgap-identicon>\n            </ion-avatar>\n            <ion-label class=\"ion-margin-start\">\n              <p>{{ 'beacon-request.request-by-dapp_label' | translate }}</p>\n              <h3>{{requesterName}}</h3>\n            </ion-label>\n            <img src=\"assets/img/beacon_logo.svg\" slot=\"end\" class=\"by-beacon__img\" />\n          </ion-item>\n        </ion-card>\n      </ng-container>\n\n      <ng-container *ngIf=\"request.type === 'permission_request'\">\n        <permission-request\n          [address]=\"address\"\n          [requesterName]=\"requesterName\"\n          [inputs]=\"inputs\"\n          [network]=\"network\"\n          [targetProtocolSymbol]=\"'xtz'\"\n          (walletSetEmitter)=\"setWallet($event)\"\n        ></permission-request>\n      </ng-container>\n\n      <ion-row *ngIf=\"request.type === 'broadcast_request'\">\n        <ng-container *ngFor=\"let transaction of transactions\">\n          <airgap-from-to [transaction]=\"transaction\"></airgap-from-to>\n        </ng-container>\n      </ion-row>\n\n      <div *ngIf=\"request.type === 'sign_payload_request'\" class=\"ion-padding-top\">\n        <ion-row class=\"rawdata--container ion-padding-bottom\" *ngIf=\"request && request.payload\">\n          <ion-col class=\"ion-no-padding\">\n            <p>{{ 'beacon-request.sign-data_label' | translate }}</p>\n            <pre class=\"ion-no-margin\">{{ request.payload | json }}</pre>\n          </ion-col>\n        </ion-row>\n        <ion-row class=\"rawdata--container\" *ngIf=\"blake2bHash\">\n          <ion-col class=\"ion-no-padding\">\n            <p>{{ 'beacon-request.blake2b_hash' | translate }}</p>\n            <pre class=\"ion-no-margin\">{{ blake2bHash }}</pre>\n          </ion-col>\n        </ion-row>\n      </div>\n\n      <div *ngIf=\"request.type === 'operation_request'\" class=\"ion-padding-top\">\n        <beacon-from-to\n          [transactions]=\"transactions\"\n          [wrappedOperation]=\"wrappedOperation\"\n          (onWrappedOperationUpdate)=\"updateWrappedOperation($event)\"\n        ></beacon-from-to>\n\n        <ng-container *ngIf=\"!transactions || (transactions && transactions.length === 0)\">\n          <ion-row class=\"ion-padding-horizontal\">\n            <p>Preparing operation...</p>\n            <ion-progress-bar type=\"indeterminate\" value=\"0.5\"></ion-progress-bar>\n          </ion-row>\n        </ng-container>\n      </div>\n    </ng-container>\n  </ion-grid>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button shape=\"round\" color=\"secondary\" (click)=\"cancel()\">{{ 'beacon-request.cancel_label' | translate }}</ion-button>\n\n    <ion-button shape=\"round\" color=\"primary\" (click)=\"done()\">\n      <ng-container *ngIf=\"request.type !== 'permission_request'\">{{ 'beacon-request.continue_label' | translate }}</ng-container>\n      <ng-container *ngIf=\"request.type === 'permission_request'\">{{ 'beacon-request.connect_label' | translate }}</ng-container>\n    </ion-button>\n  </ion-fab>\n</ion-content>\n","import { Component, Input } from '@angular/core'\nimport { UIAlert } from 'src/app/models/widgets/display/UIAlert'\n\n@Component({\n  selector: 'widget-alert',\n  templateUrl: 'widget-alert.html',\n  styleUrls: ['widget-alert.scss']\n})\nexport class WidgetAlert {\n  @Input()\n  public readonly widget: UIAlert\n}\n","<ion-item\n  lines=\"none\"\n  [detail]=\"widget.detail\"\n  class=\"ion-margin-vertical\"\n  [color]=\"widget.color\"\n  (click)=\"widget.onClick ? widget.onClick() : undefined\"\n>\n  <ion-icon [name]=\"widget.icon\" slot=\"start\" color=\"dark\"></ion-icon>\n  <ion-label color=\"dark\" class=\"ion-text-wrap\">\n    <h3><strong>{{ widget.title | translate }}</strong></h3>\n    <p [innerHTML]=\"widget.description | translate\"></p>\n    <div *ngIf=\"widget.actions\">\n      <ion-button color=\"light\" *ngFor=\"let action of widget.actions\" (click)=\"action.action()\">\n        {{ action.text | translate }}\n      </ion-button>\n    </div>\n  </ion-label>\n</ion-item>\n","import { ProtocolService } from '@airgap/angular-core'\nimport { animate, style, transition, trigger } from '@angular/animations'\nimport { Component, EventEmitter, Input, Output } from '@angular/core'\nimport { AlertController, ModalController } from '@ionic/angular'\nimport { AirGapMarketWallet, ICoinProtocol } from '@airgap/coinlib-core'\nimport { ProtocolSymbols } from '@airgap/coinlib-core'\nimport { BigNumber } from 'bignumber.js'\n\nimport { ProtocolSelectPage } from '../../pages/protocol-select/protocol-select'\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\n\n@Component({\n  selector: 'swap',\n  templateUrl: 'swap.html',\n  styleUrls: ['./swap.scss'],\n  animations: [\n    trigger('expandWalletAnimation', [\n      transition(':enter', [\n        style({ transform: 'translateY(-20%)', opacity: 0 }),\n        animate('500ms', style({ transform: 'translateY(0)', opacity: 1 }))\n      ]),\n      transition(':leave', [\n        style({ transform: 'translateY(0)', opacity: 1 }),\n        animate('500ms', style({ transform: 'translateY(-20%)', opacity: 0 }))\n      ])\n    ])\n  ]\n})\nexport class SwapComponent {\n  public expandWalletSelection: boolean = false\n\n  @Input()\n  public readonly currentlyNotSupported: boolean = false\n\n  @Input()\n  public readonly swapSell: boolean = true\n\n  @Input()\n  public readonly selectedWallet: AirGapMarketWallet\n\n  @Input()\n  public readonly supportedWallets: AirGapMarketWallet[]\n\n  @Input()\n  public readonly selectedProtocol: ICoinProtocol\n\n  @Input()\n  public readonly supportedProtocols: ProtocolSymbols[] = []\n\n  @Input()\n  public readonly minExchangeAmount: BigNumber\n\n  @Input()\n  public exchangeAmount: BigNumber\n\n  protected _amount: string\n\n  @Output()\n  private readonly protocolSetEmitter: EventEmitter<ICoinProtocol> = new EventEmitter()\n\n  @Output()\n  private readonly walletSetEmitter: EventEmitter<AirGapMarketWallet> = new EventEmitter()\n\n  @Output()\n  private readonly amountSetEmitter: EventEmitter<string> = new EventEmitter()\n\n  constructor(\n    public alertCtrl: AlertController,\n    public modalController: ModalController,\n    private readonly protocolService: ProtocolService\n  ) {}\n\n  public amountSet(amount: string): void {\n    this._amount = amount\n    this.amountSetEmitter.emit(amount)\n  }\n\n  public walletSet(wallet: AirGapMarketWallet): void {\n    this.walletSetEmitter.emit(wallet)\n    this.expandWalletSelection = false\n  }\n\n  public async doRadio(): Promise<void> {\n    const protocols: ICoinProtocol[] = (\n      await Promise.all(\n        this.supportedProtocols.map(async (supportedProtocol: ProtocolSymbols) =>\n          this.protocolService.getProtocol(supportedProtocol).catch(() => undefined)\n        )\n      )\n    ).filter((protocol: ICoinProtocol | undefined) => protocol !== undefined)\n\n    const modal: HTMLIonModalElement = await this.modalController.create({\n      component: ProtocolSelectPage,\n      componentProps: {\n        selectedProtocol: this.selectedProtocol.identifier,\n        protocols\n      }\n    })\n\n    modal\n      .onDidDismiss()\n      .then(async (protocolIdentifier: any) => {\n        if (protocolIdentifier && protocolIdentifier.data) {\n          this.protocolSetEmitter.emit(await this.protocolService.getProtocol(protocolIdentifier.data))\n        }\n      })\n      .catch(handleErrorSentry(ErrorCategory.IONIC_MODAL))\n\n    modal.present().catch(handleErrorSentry(ErrorCategory.IONIC_MODAL))\n  }\n}\n","<ion-row class=\"amount__container border--vertical ion-no-padding ion-align-items-stretch \">\n  <ion-col class=\"ion-padding\" size=\"8\">\n    <ion-item class=\"ion-no-padding\" lines=\"none\">\n      <ion-label class=\"ion-no-margin\" position=\"stacked\" color=\"blackLight\">\n        {{ (swapSell ? 'swap.sell_label' : 'swap.buy_label') | translate }}\n        <span\n          *ngIf=\"minExchangeAmount\"\n          [innerHTML]=\"'swap.min-amount_label' | translate: { minExchangeAmount: minExchangeAmount.toString() }\"\n        ></span>\n      </ion-label>\n      <ion-input\n        *ngIf=\"swapSell\"\n        type=\"number\"\n        id=\"buy-input\"\n        (input)=\"amountSet($event.target.value)\"\n        placeholder=\"0.0\"\n        [disabled]=\"currentlyNotSupported\"\n      ></ion-input>\n      <ion-input\n        *ngIf=\"!swapSell\"\n        [disabled]=\"true\"\n        type=\"number\"\n        id=\"sell-input\"\n        [(ngModel)]=\"exchangeAmount\"\n        placeholder=\"0.0\"\n      ></ion-input>\n    </ion-item>\n    <ion-text color=\"blackLight\">\n      <p class=\"ion-no-margin\">\n        ${{ exchangeAmount?.multipliedBy(selectedWallet?.currentMarketPrice)?.toNumber() | number: '1.2-2' }}\n      </p>\n    </ion-text>\n    <ion-row class=\"ion-padding-top\" *ngIf=\"swapSell && !exchangeAmount?.isZero() && exchangeAmount?.isLessThan(minExchangeAmount)\">\n      <ion-text no-margin color=\"danger\">\n        <p\n          class=\"ion-no-margin\"\n          color=\"danger\"\n          [innerHTML]=\"'swap.min-amount-error_label' | translate: { minExchangeAmount: minExchangeAmount.toString() }\"\n        ></p>\n      </ion-text>\n    </ion-row>\n\n    <ion-row class=\"ion-padding-top\" *ngIf=\"currentlyNotSupported\">\n      <ion-text no-margin color=\"danger\">\n        <p class=\"ion-no-margin\" color=\"danger\">\n          {{ 'swap.currently_not_supported' | translate }}\n        </p>\n      </ion-text>\n    </ion-row>\n\n    <ion-row\n      class=\"ion-padding-top\"\n      *ngIf=\"swapSell && exchangeAmount?.isGreaterThan(selectedWallet.currentBalance.shiftedBy(-1 * selectedWallet.protocol.decimals))\"\n    >\n      <ion-text color=\"danger\">\n        <p\n          class=\"ion-no-margin\"\n          [innerHTML]=\"\n            'swap.amount-higher-than-balance-error_label'\n              | translate: { accountBalance: selectedWallet.currentBalance.shiftedBy(-1 * selectedWallet.protocol.decimals) }\n          \"\n        ></p>\n      </ion-text>\n    </ion-row>\n  </ion-col>\n  <ion-col (click)=\"doRadio()\" size=\"4\" class=\"coin__selection ion-padding\">\n    <ion-row><img [src]=\"'./assets/symbols/' + selectedProtocol?.symbol?.toLowerCase() + '.svg'\" /></ion-row>\n    <ion-row>\n      <h5>\n        {{ selectedProtocol?.symbol }}\n        <ion-icon name=\"chevron-down-outline\"></ion-icon>\n      </h5>\n    </ion-row>\n  </ion-col>\n</ion-row>\n<ion-list class=\"ion-no-margin ion-padding-vertical\" [@expandWalletAnimation]>\n  <portfolio-item\n    [wallet]=\"selectedWallet\"\n    tappable\n    [hideDelegationBadge]=\"true\"\n    [isExpendable]=\"supportedWallets?.length > 1\"\n    [hideFiatAmounts]=\"true\"\n    (click)=\"supportedWallets?.length > 1 ? (expandWalletSelection = !expandWalletSelection) : {}\"\n    [isExtended]=\"expandWalletSelection\"\n  ></portfolio-item>\n  <ng-container *ngIf=\"expandWalletSelection\">\n    <ion-list lines=\"none\" margin-top [@expandWalletAnimation]>\n      <ng-container *ngFor=\"let wallet of supportedWallets\">\n        <portfolio-item\n          *ngIf=\"selectedWallet !== wallet\"\n          (click)=\"walletSet(wallet)\"\n          [wallet]=\"wallet\"\n          tappable\n          [hideFiatAmounts]=\"true\"\n          [isExpendable]=\"false\"\n        ></portfolio-item>\n      </ng-container>\n    </ion-list>\n  </ng-container>\n</ion-list>\n","import {\n  AppConfig,\n  APP_CONFIG,\n  BaseIACService,\n  ClipboardService,\n  DeeplinkService,\n  IACMessageTransport,\n  ProtocolService,\n  RelayMessage,\n  UiEventElementsService\n} from '@airgap/angular-core'\nimport { BeaconMessageType, SigningType, SignPayloadResponseInput } from '@airgap/beacon-sdk'\nimport { Inject, Injectable } from '@angular/core'\nimport {\n  AccountShareResponse,\n  AirGapMarketWallet,\n  AirGapWalletStatus,\n  IACMessageDefinitionObject,\n  IACMessageType,\n  MainProtocolSymbols,\n  MessageSignResponse,\n  ProtocolSymbols\n} from '@airgap/coinlib-core'\nimport { Router } from '@angular/router'\n\nimport { AccountSync } from '../../types/AccountSync'\nimport { AccountProvider } from '../account/account.provider'\nimport { BeaconService } from '../beacon/beacon.service'\nimport { DataService, DataServiceKey } from '../data/data.service'\nimport { PriceService } from '../price/price.service'\nimport { ErrorCategory, handleErrorSentry } from '../sentry-error-handler/sentry-error-handler'\nimport { WalletStorageKey, WalletStorageService } from '../storage/storage'\nimport { WalletconnectService } from '../walletconnect/walletconnect.service'\n\nimport { AddressHandler } from './custom-handlers/address-handler'\nimport { BeaconHandler } from './custom-handlers/beacon-handler'\nimport { WalletConnectHandler } from './custom-handlers/walletconnect-handler'\nimport { transportToInteractionSetting } from 'src/app/models/AirGapMarketWalletGroup'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IACService extends BaseIACService {\n  constructor(\n    uiEventElementsService: UiEventElementsService,\n    public beaconService: BeaconService,\n    public readonly deeplinkService: DeeplinkService,\n    accountProvider: AccountProvider,\n    public walletConnectService: WalletconnectService,\n    private readonly dataService: DataService,\n    protected readonly clipboard: ClipboardService,\n    private readonly protocolService: ProtocolService,\n    private readonly storageSerivce: WalletStorageService,\n    private readonly priceService: PriceService,\n    private readonly router: Router,\n    @Inject(APP_CONFIG) appConfig: AppConfig\n  ) {\n    super(\n      uiEventElementsService,\n      clipboard,\n      Promise.resolve(),\n      [\n        new BeaconHandler(beaconService),\n        new WalletConnectHandler(walletConnectService),\n        new AddressHandler(accountProvider, dataService, router) // Address handler is flexible because of regex, so it should be last.\n      ],\n      deeplinkService,\n      appConfig\n    )\n\n    this.serializerMessageHandlers[IACMessageType.AccountShareResponse as any] = this.handleWalletSync.bind(this)\n    this.serializerMessageHandlers[IACMessageType.TransactionSignResponse as any] = this.handleSignedTransaction.bind(this)\n    this.serializerMessageHandlers[IACMessageType.MessageSignResponse as any] = this.handleMessageSignResponse.bind(this)\n  }\n\n  public async relay(data: RelayMessage): Promise<void> {\n    const info = {\n      data: (data as any).messages, // TODO: Fix types\n      isRelay: true\n    }\n    this.dataService.setData(DataServiceKey.INTERACTION, info)\n    this.router.navigateByUrl('/interaction-selection/' + DataServiceKey.INTERACTION).catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n\n  public async handleWalletSync(deserializedSyncs: IACMessageDefinitionObject[], transport: IACMessageTransport): Promise<boolean> {\n    this.storageSerivce.set(WalletStorageKey.DEEP_LINK, true).catch(handleErrorSentry(ErrorCategory.STORAGE))\n\n    const accountSyncs: AccountSync[] = await Promise.all(\n      deserializedSyncs.map(async (deserializedSync: IACMessageDefinitionObject) => {\n        const accountShare: AccountShareResponse = deserializedSync.payload as AccountShareResponse\n        const protocol = await this.protocolService.getProtocol(deserializedSync.protocol)\n        const wallet: AirGapMarketWallet = new AirGapMarketWallet(\n          protocol,\n          accountShare.publicKey,\n          accountShare.isExtendedPublicKey,\n          accountShare.derivationPath,\n          accountShare.masterFingerprint || /* backwards compatibility */ '',\n          accountShare.isActive === undefined\n            ? /* backwards compatibility */ AirGapWalletStatus.ACTIVE\n            : accountShare.isActive\n            ? AirGapWalletStatus.ACTIVE\n            : AirGapWalletStatus.HIDDEN,\n          this.priceService\n        )\n\n        return {\n          wallet,\n          groupId: accountShare.groupId,\n          groupLabel: accountShare.groupLabel,\n          interactionSetting: transportToInteractionSetting(transport)\n        }\n      })\n    )\n\n    if (this.router) {\n      this.dataService.setData(DataServiceKey.SYNC_ACCOUNTS, accountSyncs)\n      this.router.navigateByUrl(`/account-import/${DataServiceKey.SYNC_ACCOUNTS}`).catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n\n      return true\n    }\n\n    return false\n  }\n\n  public async handleSignedTransaction(messageDefinitionObjects: IACMessageDefinitionObject[]): Promise<boolean> {\n    if (this.router) {\n      const info = {\n        messageDefinitionObjects: messageDefinitionObjects\n      }\n      this.dataService.setData(DataServiceKey.TRANSACTION, info)\n      this.router.navigateByUrl(`/transaction-confirm/${DataServiceKey.TRANSACTION}`).catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n\n      return true\n    }\n\n    return false\n  }\n\n  private async handleMessageSignResponse(deserializedMessages: IACMessageDefinitionObject[]): Promise<boolean> {\n    const cachedRequest = await this.beaconService.getVaultRequest()\n\n    const messageSignResponse = deserializedMessages[0].payload as MessageSignResponse\n    const protocol: ProtocolSymbols = deserializedMessages[0].protocol\n    const response: SignPayloadResponseInput = {\n      type: BeaconMessageType.SignPayloadResponse,\n      id: cachedRequest[0]?.id,\n      signature: messageSignResponse.signature,\n      signingType: SigningType.RAW\n    }\n    if (protocol === MainProtocolSymbols.XTZ) {\n      await this.beaconService.respond(response, cachedRequest[0])\n    } else if (protocol === MainProtocolSymbols.ETH || protocol === MainProtocolSymbols.RBTC) {\n      await this.walletConnectService.approveRequest(response.id, response.signature)\n    }\n    return false\n  }\n}\n","import { Component, Input } from '@angular/core'\nimport { UIRewardList } from 'src/app/models/widgets/display/UIRewardList'\n\n@Component({\n  selector: 'widget-reward-list',\n  templateUrl: 'widget-reward-list.html',\n  styleUrls: ['widget-reward-list.scss']\n})\nexport class WidgetRewardList {\n  @Input()\n  public widget: UIRewardList\n}\n","<ion-card class=\"ion-padding\">\n  <ion-row class=\"ion-justify-content-center ion-padding-bottom\">\n    <ion-col size=\"2\">\n      <strong>{{ widget.indexColLabel | translate }}</strong>\n    </ion-col>\n    <ion-col>\n      <strong>{{ widget.amountColLabel | translate }}</strong>\n    </ion-col>\n    <ion-col>\n      <strong>{{ widget.payoutColLabel | translate }}</strong>\n    </ion-col>\n  </ion-row>\n  <ion-row class=\"ion-justify-content-center ion-padding-bottom\" *ngFor=\"let reward of widget.rewards\">\n    <ion-col size=\"2\">{{ reward.index }}</ion-col>\n    <ion-col>{{ reward.amount }}</ion-col>\n    <ion-col>{{ reward.timestamp | date: 'dd.LL.yy' }}</ion-col>\n  </ion-row>\n</ion-card>\n","import { TimeInterval } from '@airgap/coinlib-core/wallet/AirGapMarketWallet'\nimport { Injectable } from '@angular/core'\nimport { BehaviorSubject, Observable } from 'rxjs'\n\n@Injectable()\nexport class DrawChartService {\n  public chartSubject: BehaviorSubject<TimeInterval> = new BehaviorSubject<TimeInterval>(TimeInterval.HOURS)\n\n  public getChartObservable(): Observable<TimeInterval> {\n    return this.chartSubject.asObservable()\n  }\n\n  public drawChart(interval?: TimeInterval): void {\n    this.chartSubject.next(interval || TimeInterval.HOURS)\n  }\n}\n","import { ClipboardService } from '@airgap/angular-core'\nimport { Component, AfterViewInit } from '@angular/core'\nimport { ModalController } from '@ionic/angular'\n\n@Component({\n  selector: 'app-error',\n  templateUrl: './error.page.html',\n  styleUrls: ['./error.page.scss']\n})\nexport class ErrorPage implements AfterViewInit {\n  public title: string | undefined\n  public message: string | undefined\n  public data: unknown\n  public parsedData: string\n\n  constructor(private readonly clipboardService: ClipboardService, private readonly modalController: ModalController) {}\n\n  ngAfterViewInit() {\n    this.parsedData = typeof this.data === 'object' ? JSON.stringify(this.data, null, 2) : this.data + ''\n  }\n\n  public async dismiss(): Promise<void> {\n    await this.modalController.dismiss(true)\n  }\n\n  public async copyToClipboard(): Promise<void> {\n    this.clipboardService.copyAndShowToast(this.parsedData)\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-title>{{ title }}</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <p class=\"ion-margin-bottom\">{{ message }}</p>\n\n  <ion-button (click)=\"copyToClipboard()\">Copy Error To Clipboard</ion-button>\n\n  <pre *ngIf=\"data\">{{ parsedData }}</pre>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button shape=\"round\" color=\"primary\" (click)=\"dismiss()\">Close</ion-button>\n  </ion-fab>\n</ion-content>\n","// tslint:disable: max-classes-per-file\nimport Transport from '@ledgerhq/hw-transport'\nimport { DeviceModel } from '@ledgerhq/hw-transport/node_modules/@ledgerhq/devices'\nimport { EventEmitter } from 'events'\n\nimport {\n  ExchangeMessageReply,\n  GetDevicesMessageReply,\n  LedgerElectronBridge,\n  LedgerProcessMessageType,\n  OpenMessageReply,\n  SendMessageReply\n} from './bridge/LedgerElectronBridge'\nimport { LedgerConnection, LedgerConnectionDetails, LedgerConnectionType } from './LedgerConnection'\n\nclass TransportElectron implements Transport {\n  exchangeTimeout = 30000\n  unresponsiveTimeout = 15000\n  deviceModel: DeviceModel | null | undefined = null\n  _events = new EventEmitter()\n  _appAPIlock: string | null = null\n\n  constructor(private readonly id: string, private readonly bridge: LedgerElectronBridge) {}\n\n  public async send(cla: number, ins: number, p1: number, p2: number, data?: Buffer, _statusList?: readonly number[]): Promise<Buffer> {\n    const { response }: SendMessageReply = await this.bridge.sendToLedger(\n      LedgerProcessMessageType.SEND,\n      {\n        transportId: this.id,\n        cla,\n        ins,\n        p1,\n        p2,\n        hexData: data ? data.toString('hex') : undefined\n      },\n      `${this.id}_${cla}_${ins}_${new Date().getTime().toString()}`\n    )\n\n    return Buffer.isBuffer(response) ? response : Buffer.from(response, 'hex')\n  }\n\n  public async close(): Promise<void> {\n    await this.bridge.sendToLedger(\n      LedgerProcessMessageType.CLOSE,\n      {\n        transportId: this.id\n      },\n      this.id\n    )\n  }\n\n  public async decorateAppAPIMethods(self: any, methods: string[], scrambleKey: string): Promise<void> {\n    return this.bridge.sendToLedger(\n      LedgerProcessMessageType.DECORATE_APP,\n      {\n        transportId: this.id,\n        self,\n        methods,\n        scrambleKey\n      },\n      `${this.id}_decorateAppAPIMethods_${new Date().getTime().toString()}`\n    )\n  }\n\n  public async setScrambleKey(key: string): Promise<void> {\n    return this.bridge.sendToLedger(\n      LedgerProcessMessageType.SET_SCRAMBLE_KEY,\n      {\n        transportId: this.id,\n        key\n      },\n      `${this.id}_setScrambleKey_${new Date().getTime().toString()}`\n    )\n  }\n\n  public async exchange(apdu: Buffer): Promise<Buffer> {\n    const { response }: ExchangeMessageReply = await this.bridge.sendToLedger(\n      LedgerProcessMessageType.EXCHANGE,\n      {\n        transportId: this.id,\n        apdu: apdu.toString('hex')\n      },\n      `${this.id}_exchange_${new Date().getTime().toString()}`\n    )\n\n    return Buffer.isBuffer(response) ? response : Buffer.from(response, 'hex')\n  }\n\n  public async setExchangeTimeout(exchangeTimeout: number): Promise<void> {\n    return this.bridge.sendToLedger(\n      LedgerProcessMessageType.SET_EXCHANGE_TIMEOUT,\n      {\n        transportId: this.id,\n        timeout: exchangeTimeout\n      },\n      `${this.id}_setExchangeTimeout_${new Date().getTime().toString()}`\n    )\n  }\n\n  public on(_eventName: string, _cb: any): void {\n    // not needed\n    throw new Error('Method not implemented.')\n  }\n\n  public off(_eventName: string, _cb: any): void {\n    // not needed\n    throw new Error('Method not implemented.')\n  }\n\n  public emit(event: string, ...args: any): void {\n    this._events.emit(event, ...args)\n  }\n\n  public setDebugMode(): void {\n    // not needed\n    throw new Error('Method not implemented.')\n  }\n  public setExchangeUnresponsiveTimeout(unresponsiveTimeout: number): void {\n    this.unresponsiveTimeout = unresponsiveTimeout\n  }\n  public exchangeBusyPromise: Promise<void> | null | undefined\n\n  public exchangeAtomicImpl = async (_f: () => Promise<Buffer | void>): Promise<Buffer | void> => {\n    throw new Error('Method not implemented.')\n  }\n\n  public decorateAppAPIMethod<R, A extends any[]>(\n    _methodName: string,\n    _f: (...args: A) => Promise<R>,\n    _ctx: any,\n    _scrambleKey: string\n  ): (...args: A) => Promise<R> {\n    throw new Error('Method not implemented.')\n  }\n}\n\nexport class LedgerConnectionElectron implements LedgerConnection {\n  private static get bridge(): LedgerElectronBridge {\n    return LedgerElectronBridge.getInstance()\n  }\n\n  public static async getConnectedDevices(connectionType: LedgerConnectionType): Promise<LedgerConnectionDetails[]> {\n    const { devices }: GetDevicesMessageReply = await LedgerConnectionElectron.bridge.sendToLedger(\n      LedgerProcessMessageType.GET_DEVICES,\n      {\n        connectionType\n      },\n      connectionType\n    )\n\n    return devices\n  }\n\n  public static async open(connectionType?: LedgerConnectionType, descriptor?: string): Promise<LedgerConnectionElectron> {\n    const { transportId }: OpenMessageReply = await LedgerConnectionElectron.bridge.sendToLedger(\n      LedgerProcessMessageType.OPEN,\n      {\n        connectionType,\n        descriptor\n      },\n      `${connectionType}_${descriptor}`\n    )\n\n    const transport = new TransportElectron(transportId, LedgerConnectionElectron.bridge)\n\n    return new LedgerConnectionElectron(connectionType, transport)\n  }\n\n  private constructor(readonly type: LedgerConnectionType, readonly transport: TransportElectron) {}\n}\n","import { ActionReducer, MetaReducer } from '@ngrx/store'\nimport { environment } from 'src/environments/environment'\n\nexport interface State {}\n\nexport const reducers = {}\n\nfunction logger(reducer: ActionReducer<State>): ActionReducer<State> {\n  return (state, action) => {\n    const newState = reducer(state, action)\n    console.groupCollapsed(action.type)\n    console.log('previous state', state)\n    console.log('action', action)\n    console.log('next state', newState)\n    console.groupEnd()\n\n    return newState\n  }\n}\nexport const metaReducers: MetaReducer<State>[] = !environment.production ? [logger] : []\n","import { AppMetadata } from '@airgap/beacon-sdk'\nimport { Component, EventEmitter, Input, Output } from '@angular/core'\n\n@Component({\n  selector: 'dapp-peer',\n  templateUrl: './dapp-peer.component.html',\n  styleUrls: ['./dapp-peer.component.scss']\n})\nexport class DappPeerComponent {\n  @Output()\n  public readonly removePeerEmitter: EventEmitter<AppMetadata> = new EventEmitter<AppMetadata>()\n\n  @Input()\n  public peer: AppMetadata | undefined\n\n  public remove() {\n    this.removePeerEmitter.emit(this.peer)\n  }\n}\n","<ion-item>\n  <ng-container>\n    <ion-item lines=\"none\" class=\"ion-no-padding\">\n      <ion-label>\n        <h2>\n          <span class=\"font--weight__med\">{{ peer.name }}</span>\n        </h2>\n\n        <p class=\"typography--mono\">Dapp Id: {{ peer.senderId }}</p>\n      </ion-label>\n    </ion-item>\n    <ion-item-option color=\"danger\" slot=\"end\" (click)=\"remove()\">Delete</ion-item-option>\n  </ng-container>\n</ion-item>\n","import { Component } from '@angular/core'\nimport { ModalController, NavParams } from '@ionic/angular'\nimport { ICoinProtocol } from '@airgap/coinlib-core'\n\n@Component({\n  selector: 'page-protocol-select',\n  templateUrl: 'protocol-select.html'\n})\nexport class ProtocolSelectPage {\n  public searchTerm: string = ''\n\n  public selectedProtocol: string\n  public protocols: ICoinProtocol[]\n  public filteredProtocols: ICoinProtocol[]\n\n  constructor(public navParams: NavParams, public viewCtrl: ModalController) {\n    this.selectedProtocol = this.navParams.get('selectedProtocol')\n    this.protocols = this.navParams.get('protocols')\n    this.searchTermChanged()\n  }\n\n  public async dismiss(): Promise<void> {\n    await this.viewCtrl.dismiss()\n  }\n\n  public async onModelChange(): Promise<void> {\n    await this.viewCtrl.dismiss(this.selectedProtocol)\n  }\n\n  public searchTermChanged(): void {\n    this.filteredProtocols = this.filterProtocols()\n  }\n\n  private filterProtocols(): ICoinProtocol[] {\n    const lowerCaseSearchTerm: string = this.searchTerm.toLowerCase()\n\n    return this.protocols.filter(\n      (protocol: ICoinProtocol) =>\n        protocol.name.toLowerCase().includes(lowerCaseSearchTerm) || protocol.symbol.toLowerCase().includes(lowerCaseSearchTerm)\n    )\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-toolbar>\n      <ion-buttons slot=\"start\">\n        <ion-back-button defaultHref=\"/\"></ion-back-button>\n      </ion-buttons>\n      <ion-title>{{ 'protocol-select.title' | translate }}</ion-title>\n      <ion-buttons slot=\"end\">\n        <ion-button (click)=\"dismiss()\" fill=\"clear\" color=\"secondary\">\n          <ion-icon name=\"close\" slot=\"icon-only\"></ion-icon>\n        </ion-button>\n      </ion-buttons>\n    </ion-toolbar>\n    <ion-toolbar>\n      <ion-searchbar mode=\"md\" [(ngModel)]=\"searchTerm\" (ionChange)=\"searchTermChanged()\"></ion-searchbar>\n    </ion-toolbar>\n  </ion-grid>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-list lines=\"none\">\n      <ion-radio-group ngDefaultControl [(ngModel)]=\"selectedProtocol\" (ngModelChange)=\"onModelChange()\" lines=\"none\">\n        <currency-item *ngFor=\"let protocol of filteredProtocols\" [protocol]=\"protocol\" [radioList]=\"true\"></currency-item>\n      </ion-radio-group>\n    </ion-list>\n  </ion-grid>\n</ion-content>\n","import { Injectable } from '@angular/core'\nimport { Platform } from '@ionic/angular'\nimport { AirGapMarketWallet, ICoinProtocol, MainProtocolSymbols, ProtocolSymbols } from '@airgap/coinlib-core'\n\nimport { LedgerApp } from '../../ledger/app/LedgerApp'\nimport { KusamaLedgerApp } from '../../ledger/app/substrate/KusamaLedgerApp'\nimport { PolkadotLedgerApp } from '../../ledger/app/substrate/PolkadotLedgerApp'\nimport { LedgerConnection, LedgerConnectionDetails, LedgerConnectionType } from '../../ledger/connection/LedgerConnection'\nimport { ReturnCode } from '../../ledger/ReturnCode'\nimport { isType } from '../../utils/utils'\nimport { PriceService } from '../price/price.service'\nimport { LedgerConnectionProvider } from './ledger-connection-provider'\nimport { TezosLedgerApp } from 'src/app/ledger/app/tezos/TezosLedgerApp'\n\nconst MAX_RETRIES = 1\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LedgerService {\n  private readonly supportedApps: Map<string, (connection: LedgerConnection) => LedgerApp> = new Map([\n    [MainProtocolSymbols.KUSAMA, (connection: LedgerConnection): LedgerApp => new KusamaLedgerApp(connection)],\n    [MainProtocolSymbols.POLKADOT, (connection: LedgerConnection): LedgerApp => new PolkadotLedgerApp(connection)],\n    [MainProtocolSymbols.XTZ, (connection: LedgerConnection): LedgerApp => new TezosLedgerApp(connection)]\n  ] as [string, (connection: LedgerConnection) => LedgerApp][])\n\n  private readonly openConnections: Map<string, LedgerConnection> = new Map()\n  private readonly runningApps: Map<string, LedgerApp> = new Map()\n\n  constructor(\n    private readonly platform: Platform,\n    private readonly connectionProvider: LedgerConnectionProvider,\n    private readonly priceService: PriceService\n  ) {}\n\n  public getSupportedProtocols(): string[] {\n    return Array.from(this.supportedApps.keys())\n  }\n\n  public isProtocolSupported(protocol: ICoinProtocol | ProtocolSymbols): boolean {\n    const identifier: ProtocolSymbols = typeof protocol === 'string' ? protocol : protocol.identifier\n\n    return this.getSupportedProtocols().includes(identifier)\n  }\n\n  public async getConnectedDevices(protocolIdentifier: string): Promise<LedgerConnectionDetails[]> {\n    const devices: [LedgerConnectionDetails[], LedgerConnectionDetails[]] = await Promise.all([\n      this.connectionProvider.getConnectedDevices(protocolIdentifier, LedgerConnectionType.USB),\n      this.connectionProvider.getConnectedDevices(protocolIdentifier, LedgerConnectionType.BLE)\n    ])\n\n    return devices.reduce((flatten: LedgerConnectionDetails[], toFlatten: LedgerConnectionDetails[]) => flatten.concat(toFlatten), [])\n  }\n\n  public async openConnection(protocolIdentifier: string, ledgerConnection?: LedgerConnectionDetails): Promise<void> {\n    await this.openLedgerConnection(protocolIdentifier, ledgerConnection)\n  }\n\n  public async closeConnection(ledgerConnection?: LedgerConnectionDetails): Promise<void> {\n    if (!ledgerConnection) {\n      return this.closeAllLedgerConnections()\n    } else {\n      return this.closeLedgerConnection(ledgerConnection)\n    }\n  }\n\n  public async importWallet(protocolIdentifier: string, ledgerConnection?: LedgerConnectionDetails): Promise<AirGapMarketWallet> {\n    return this.withApp(protocolIdentifier, (app: LedgerApp) => app.importWallet(this.priceService), ledgerConnection)\n  }\n\n  public async signTransaction(protocolIdentifier: string, transaction: any, ledgerConnection?: LedgerConnectionDetails): Promise<string> {\n    return this.withApp(protocolIdentifier, (app: LedgerApp) => app.signTransaction(transaction), ledgerConnection)\n  }\n\n  private async withApp<T>(\n    identifier: string,\n    action: (app: LedgerApp) => Promise<T>,\n    ledgerConnection?: LedgerConnectionDetails,\n    actionTry: number = 0\n  ): Promise<T> {\n    const appKey: string = this.getAppKey(identifier, ledgerConnection)\n\n    let app: LedgerApp | undefined = this.runningApps.get(appKey)\n    if (!app) {\n      app = await this.openLedgerApp(identifier, ledgerConnection)\n      app.init()\n\n      this.runningApps.set(appKey, app)\n    }\n\n    return action(app)\n      .catch(async (error: unknown) => {\n        if (this.isDisconnectedDeviceError(error) && actionTry < MAX_RETRIES) {\n          await this.closeLedgerConnection(ledgerConnection)\n\n          return this.withApp(identifier, action, ledgerConnection, actionTry + 1)\n        } else {\n          return Promise.reject(this.getError(error))\n        }\n      })\n      .finally(() => this.closeLedgerConnection(ledgerConnection))\n  }\n\n  private async openLedgerConnection(protocolIdentifier: string, ledgerConnection?: LedgerConnectionDetails): Promise<LedgerConnection> {\n    const connectionKey: string = this.getConnectionKey(ledgerConnection)\n\n    let connection: LedgerConnection | null\n    if (!this.openConnections.has(connectionKey)) {\n      connection = await this.connectionProvider.open(protocolIdentifier, ledgerConnection)\n\n      if (connection === null) {\n        return Promise.reject(`Platforms ${this.platform.platforms().join(', ')} not supported.`)\n      }\n\n      this.openConnections.set(connectionKey, connection)\n    } else {\n      connection = this.openConnections.get(connectionKey)\n    }\n\n    return connection\n  }\n\n  private async closeAllLedgerConnections(): Promise<void> {\n    await Promise.all(Array.from(this.openConnections.values()).map((connection: LedgerConnection) => connection.transport.close()))\n    this.openConnections.clear()\n    this.runningApps.clear()\n  }\n\n  private async closeLedgerConnection(ledgerConnection?: LedgerConnectionDetails): Promise<void> {\n    const connectionKey: string = this.getConnectionKey(ledgerConnection)\n    const connection: LedgerConnection | undefined = this.openConnections.get(connectionKey)\n    if (connection) {\n      try {\n        await connection.transport.close()\n      } catch (error) {\n        console.warn(`Could not close Ledger connection: ${error}`)\n      } finally {\n        this.openConnections.delete(connectionKey)\n        Array.from(this.runningApps.keys())\n          .filter((key: string) => key.includes(connectionKey))\n          .forEach((key: string) => this.runningApps.delete(key))\n      }\n    }\n  }\n\n  private async openLedgerApp(identifier: string, ledgerConnection?: LedgerConnectionDetails): Promise<LedgerApp> {\n    const appFactory: (connection: LedgerConnection) => LedgerApp = this.supportedApps.get(identifier)\n\n    if (!appFactory) {\n      return Promise.reject(`${identifier} Ledger app is not supported`)\n    }\n\n    const connectionKey: string = this.getConnectionKey(ledgerConnection)\n    let connection: LedgerConnection | undefined = this.openConnections.get(connectionKey)\n    if (!connection) {\n      connection = await this.openLedgerConnection(identifier, ledgerConnection)\n    }\n\n    return appFactory(connection)\n  }\n\n  private getConnectionKey(ledgerConnection?: LedgerConnectionDetails): string {\n    return ledgerConnection ? `${ledgerConnection.type}_${ledgerConnection.descriptor}` : 'defaultConnection'\n  }\n\n  private getAppKey(identifier: string, ledgerConnection?: LedgerConnectionDetails): string {\n    return `${identifier}_${this.getConnectionKey(ledgerConnection)}`\n  }\n\n  private isDisconnectedDeviceError(error: unknown): boolean {\n    return (\n      isType<{ name: string }>(error, 'name') && (error.name === 'DisconnectedDevice' || error.name === 'DisconnectedDeviceDuringOperation')\n    )\n  }\n\n  private getError(error: unknown): string | unknown {\n    function getErrorFromStatusCode(statusCode: number): string | null {\n      switch (statusCode) {\n        case ReturnCode.CLA_NOT_SUPPORTED:\n          return \"Could not detect the app. Make sure it's open.\"\n        default:\n          return null\n      }\n    }\n\n    if (isType<{ statusCode: number }>(error, 'statusCode')) {\n      const errorMessage: string | null = getErrorFromStatusCode(error.statusCode)\n      if (errorMessage) {\n        return errorMessage\n      }\n    }\n\n    if (isType<{ message: string }>(error, 'message')) {\n      return error.message\n    }\n\n    return error\n  }\n}\n","import { IACMessageTransport } from '@airgap/angular-core'\nimport { AirGapMarketWallet } from '@airgap/coinlib-core'\nimport { AirGapWalletStatus } from '@airgap/coinlib-core/wallet/AirGapWallet'\n\nexport interface SerializedAirGapMarketWalletGroup {\n  id: string\n  label: string\n  status: AirGapWalletStatus\n  interactionSetting: InteractionSetting\n  wallets: [string, string][]\n}\n\nexport enum InteractionSetting {\n  UNDETERMINED = 'undetermined',\n  ALWAYS_ASK = 'always',\n  SAME_DEVICE = 'same_device',\n  OFFLINE_DEVICE = 'offline_device',\n  LEDGER = 'ledger'\n}\n\nexport const transportToInteractionSetting = (transport: IACMessageTransport): InteractionSetting => {\n  switch (transport) {\n    case IACMessageTransport.DEEPLINK:\n      return InteractionSetting.SAME_DEVICE\n    case IACMessageTransport.QR_SCANNER:\n      return InteractionSetting.OFFLINE_DEVICE\n    case IACMessageTransport.PASTE:\n      return InteractionSetting.UNDETERMINED\n  }\n}\n\nexport class AirGapMarketWalletGroup {\n  private _label: string | null\n  public get label(): string {\n    return this._label\n  }\n\n  private _interactionSetting: InteractionSetting\n\n  public get interactionSetting(): InteractionSetting {\n    return this._interactionSetting\n  }\n\n  public set interactionSetting(setting: InteractionSetting) {\n    this._interactionSetting = setting\n  }\n\n  private _status: AirGapWalletStatus\n  public get status(): AirGapWalletStatus {\n    return this._status\n  }\n\n  constructor(\n    public readonly id: string | undefined,\n    label: string | undefined,\n    interactionSetting: InteractionSetting | undefined,\n    public readonly wallets: AirGapMarketWallet[],\n    public readonly transient: boolean = false\n  ) {\n    this.updateLabel(label)\n    this.updateInteractionSetting(interactionSetting)\n    this.updateStatus()\n  }\n\n  public updateLabel(label: string): void {\n    this._label = label\n  }\n\n  public updateStatus(): void {\n    this._status = this.resolveStatus()\n  }\n\n  public updateInteractionSetting(interactionSetting: InteractionSetting): void {\n    this._interactionSetting = interactionSetting ? interactionSetting : InteractionSetting.UNDETERMINED\n  }\n\n  private resolveStatus(): AirGapWalletStatus {\n    const status: Record<AirGapWalletStatus, number> = {\n      active: 0,\n      hidden: 0,\n      deleted: 0\n    }\n\n    for (const wallet of this.wallets) {\n      status[wallet.status]++\n    }\n\n    if (status.active > 0) {\n      return AirGapWalletStatus.ACTIVE\n    } else if (status.hidden > 0) {\n      return AirGapWalletStatus.HIDDEN\n    } else {\n      return AirGapWalletStatus.DELETED\n    }\n  }\n\n  public toJSON(): SerializedAirGapMarketWalletGroup {\n    return {\n      id: this.id,\n      label: this.label,\n      status: this.status,\n      interactionSetting: this.interactionSetting,\n      wallets: this.wallets.map((wallet: AirGapMarketWallet) => [wallet.protocol.identifier, wallet.publicKey])\n    }\n  }\n\n  public includesWallet(wallet: AirGapMarketWallet) {\n    return this.wallets.includes(wallet)\n  }\n}\n","import Transport from '@ledgerhq/hw-transport'\n\nexport enum LedgerConnectionType {\n  USB = 'USB',\n  BLE = 'BLE'\n}\n\nexport interface LedgerConnectionDetails {\n  descriptor: string\n  type: LedgerConnectionType\n}\n\nexport interface LedgerConnection {\n  type: LedgerConnectionType\n  transport: Transport\n}\n","import { MainProtocolSymbols } from '@airgap/coinlib-core'\nimport Transport from '@ledgerhq/hw-transport'\nimport TransportU2F from '@ledgerhq/hw-transport-u2f'\nimport TransportWebHID from '@ledgerhq/hw-transport-webhid'\nimport TransportWebUSB from '@ledgerhq/hw-transport-webusb'\n\nimport { LedgerConnection, LedgerConnectionDetails, LedgerConnectionType } from './LedgerConnection'\n\ntype TransportType = typeof TransportU2F | typeof TransportWebHID | typeof TransportWebUSB\n\nfunction getPrioritizedUSBTransportTypes(protocolIdentifier: string): TransportType[] {\n  switch (protocolIdentifier) {\n    case MainProtocolSymbols.XTZ:\n      return [TransportWebHID, TransportWebUSB]\n    default:\n      return [TransportWebUSB, TransportU2F]\n  }\n}\n\nfunction getPrioritizedBLETransportTypes(_protocolIdentifier: string): TransportType[] {\n  return [TransportU2F]\n}\n\nfunction getPrioritizedTransportTypes(protocolIdentifier: string, connectionType: LedgerConnectionType): TransportType[] {\n  switch (connectionType) {\n    case LedgerConnectionType.USB:\n      return getPrioritizedUSBTransportTypes(protocolIdentifier)\n    case LedgerConnectionType.BLE:\n      return getPrioritizedBLETransportTypes(protocolIdentifier)\n    default:\n      return []\n  }\n}\n\nasync function getSupportedTransportType(protocolIdentifier: string, connectionType: LedgerConnectionType): Promise<TransportType | null> {\n  const transportTypes: TransportType[] = getPrioritizedTransportTypes(protocolIdentifier, connectionType)\n  const areSupported: boolean[] = await Promise.all(transportTypes.map((transport: TransportType) => transport.isSupported()))\n  const firstSupportedIndex: number = areSupported.indexOf(true)\n\n  return firstSupportedIndex > -1 ? transportTypes[firstSupportedIndex] : null\n}\n\nexport class LedgerConnectionBrowser implements LedgerConnection {\n  public static async getConnectedDevices(\n    protocolIdentifier: string,\n    connectionType: LedgerConnectionType\n  ): Promise<LedgerConnectionDetails[]> {\n    const supportedTransportType: TransportType = await getSupportedTransportType(protocolIdentifier, connectionType)\n\n    return supportedTransportType\n      ? (supportedTransportType.list() as Promise<readonly string[]>)\n          .then((descriptors: readonly string[]) => {\n            return descriptors.map((descriptor: string) => ({\n              descriptor,\n              type: connectionType\n            }))\n          })\n          .catch(() => [])\n      : []\n  }\n\n  public static async open(\n    protocolIdentifier: string,\n    connectionType: LedgerConnectionType = LedgerConnectionType.USB,\n    descriptor?: string\n  ): Promise<LedgerConnectionBrowser> {\n    const supportedTransportType: TransportType = await getSupportedTransportType(protocolIdentifier, connectionType)\n\n    if (supportedTransportType) {\n      const transport: Transport = await (descriptor ? supportedTransportType.open(descriptor) : supportedTransportType.create())\n\n      return new LedgerConnectionBrowser(connectionType, transport)\n    } else {\n      return Promise.reject(`Connection type ${connectionType} is not supported`)\n    }\n  }\n\n  private constructor(readonly type: LedgerConnectionType, readonly transport: Transport) {}\n}\n","import '@angular/compiler'\n\nimport { enableProdMode } from '@angular/core'\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic'\n\nimport { AppModule } from './app/app.module'\nimport { environment } from './environments/environment'\n\nif (environment.production) {\n  enableProdMode()\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.log(err))\n","import { Component, Input, Output, EventEmitter } from '@angular/core'\nimport { IAirGapTransaction, MainProtocolSymbols, TezosWrappedOperation } from '@airgap/coinlib-core'\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms'\nimport { FeeConverterPipe, ProtocolService } from '@airgap/angular-core'\n\n@Component({\n  selector: 'beacon-from-to',\n  templateUrl: './from-to.component.html',\n  styleUrls: ['./from-to.component.scss']\n})\nexport class FromToComponent {\n  public formGroup: FormGroup | undefined\n\n  @Input()\n  public transactions: IAirGapTransaction[] | undefined\n\n  @Input()\n  public wrappedOperation: TezosWrappedOperation | undefined\n\n  @Output()\n  public readonly onWrappedOperationUpdate: EventEmitter<TezosWrappedOperation> = new EventEmitter<TezosWrappedOperation>()\n\n  constructor(\n    private readonly formBuilder: FormBuilder,\n    private readonly protocolService: ProtocolService,\n    private readonly feeConverterPipe: FeeConverterPipe\n  ) {}\n\n  public advanced: boolean = false\n\n  public get operationControls(): FormArray | undefined {\n    if (this.formGroup === undefined) {\n      return undefined\n    }\n    return this.formGroup.controls.operations as FormArray\n  }\n\n  public async initForms() {\n    if (this.wrappedOperation === undefined) {\n      return\n    }\n\n    const protocol = await this.protocolService.getProtocol(MainProtocolSymbols.XTZ)\n\n    const formGroups = await Promise.all(\n      this.wrappedOperation.contents.map(async (operation: any) => {\n        const feeValue = await this.feeConverterPipe.transform(operation.fee, { protocol, dropSymbol: true })\n        const feeControl = this.formBuilder.control(feeValue, [\n          Validators.required,\n          Validators.pattern(`^[0-9]+(\\.[0-9]{1,${protocol.feeDecimals}})*$`)\n        ])\n        const gasLimitControl = this.formBuilder.control(operation.gas_limit, [Validators.required, Validators.min(0)])\n        const storageLimitControl = this.formBuilder.control(operation.storage_limit, [Validators.required, Validators.min(0)])\n        return this.formBuilder.group({\n          fee: feeControl,\n          gasLimit: gasLimitControl,\n          storageLimit: storageLimitControl\n        })\n      })\n    )\n    this.formGroup = this.formBuilder.group({\n      operations: this.formBuilder.array(formGroups)\n    })\n  }\n\n  public async updateOperationGroup() {\n    if (this.wrappedOperation === undefined) {\n      return\n    }\n    const protocol = await this.protocolService.getProtocol(MainProtocolSymbols.XTZ)\n\n    this.wrappedOperation.contents = await Promise.all(\n      this.wrappedOperation.contents.map(async (operation, index) => {\n        const group = (this.formGroup.controls.operations as FormArray).controls[index] as FormGroup\n        const fee = await this.feeConverterPipe.transform(group.controls.fee.value, { protocol, dropSymbol: true, reverse: true })\n\n        return {\n          ...operation,\n          fee,\n          gas_limit: String(group.controls.gasLimit.value),\n          storage_limit: String(group.controls.storageLimit.value)\n        }\n      })\n    )\n    this.onWrappedOperationUpdate.emit(this.wrappedOperation)\n    this.advanced = false\n  }\n}\n","<ng-container *ngFor=\"let transaction of transactions\">\n  <airgap-from-to [transaction]=\"transaction\"></airgap-from-to>\n</ng-container>\n\n<ng-container *ngIf=\"wrappedOperation !== undefined\">\n  <ion-row class=\"rawdata--container ion-padding-bottom ion-margin-bottom\">\n    <ion-col class=\"ion-no-padding\">\n      <ion-item class=\"ion-no-padding\" lines=\"none\">\n        <ion-label>Change Fees</ion-label>\n        <ion-toggle [(ngModel)]=\"advanced\" slot=\"end\" (ngModelChange)=\"initForms()\"></ion-toggle>\n      </ion-item>\n\n      <ng-container *ngIf=\"advanced && formGroup !== undefined && operationControls !== undefined\">\n        <ng-container *ngFor=\"let wrappedOperation of operationControls.controls; let i = index\">\n          <h6 *ngIf=\"operationControls && operationControls.length > 1\">\n            <span class=\"style__strong color__primary\">Operation #{{ i + 1 }}</span>\n          </h6>\n          <form [formGroup]=\"wrappedOperation\" class=\"ion-padding-bottom\">\n            <ion-row class=\"padding-top\">\n              <ion-col size=\"4\">\n                <ion-item mode=\"md\" color=\"light\">\n                  <ion-label class=\"ion-no-margin\" position=\"stacked\">Fee</ion-label>\n                  <ion-input type=\"text\" formControlName=\"fee\" id=\"fee\"></ion-input>\n                </ion-item>\n              </ion-col>\n              <ion-col size=\"4\">\n                <ion-item mode=\"md\" color=\"light\">\n                  <ion-label class=\"ion-no-margin\" position=\"stacked\">Gas Limit</ion-label>\n                  <ion-input mode=\"md\" type=\"number\" formControlName=\"gasLimit\" id=\"gas_limit\"></ion-input>\n                </ion-item>\n              </ion-col>\n              <ion-col size=\"4\">\n                <ion-item mode=\"md\" color=\"light\">\n                  <ion-label class=\"ion-no-margin\" position=\"stacked\">Storage Limit</ion-label>\n                  <ion-input mode=\"md\" type=\"number\" formControlName=\"storageLimit\" id=\"storage_limit\"></ion-input>\n                </ion-item>\n              </ion-col>\n            </ion-row>\n          </form>\n        </ng-container>\n\n        <ion-button color=\"primary\" (click)=\"updateOperationGroup()\" [disabled]=\"formGroup.invalid\">Update</ion-button>\n      </ng-container>\n    </ion-col>\n  </ion-row>\n</ng-container>\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}