{"version":3,"sources":["./src/app/pages/select-wallet/select-wallet.module.ts","./src/app/pages/select-wallet/select-wallet.ts","./src/app/pages/select-wallet/select-wallet.html"],"names":[],"mappings":"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","file":"pages-select-wallet-select-wallet-module.js","sourcesContent":["import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { ZXingScannerModule } from '@zxing/ngx-scanner'\n\nimport { ComponentsModule } from '../../components/components.module'\n\nimport { SelectWalletPage } from './select-wallet'\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    TranslateModule,\n    ComponentsModule,\n    ZXingScannerModule,\n    RouterModule.forChild([{ path: '', component: SelectWalletPage }])\n  ],\n  declarations: [SelectWalletPage]\n})\nexport class SelectWalletPageModule {}\n","import { AirGapMarketWallet, ProtocolSymbols } from '@airgap/coinlib-core'\nimport { Component } from '@angular/core'\nimport { ActivatedRoute, Router } from '@angular/router'\n\nimport { AccountProvider } from '../../services/account/account.provider'\nimport { DataServiceKey } from '../../services/data/data.service'\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\n\n@Component({\n  selector: 'page-select-wallet',\n  templateUrl: 'select-wallet.html'\n})\nexport class SelectWalletPage {\n  public compatibleWallets: AirGapMarketWallet[] = []\n  public incompatibleWallets: AirGapMarketWallet[] = []\n\n  public descriptionKey: string\n\n  private actionType: 'scanned-address' | 'fund-account' | 'broadcast'\n  private targetIdentifier: ProtocolSymbols | undefined\n  private address: string | undefined\n  private callback: ((wallet: AirGapMarketWallet) => void) | undefined\n\n  constructor(public accountProvider: AccountProvider, private readonly router: Router, private readonly route: ActivatedRoute) {}\n\n  public async ionViewWillEnter() {\n    if (this.route.snapshot.data.special) {\n      const info = this.route.snapshot.data.special\n      this.actionType = info.actionType || 'scanned-address'\n      this.targetIdentifier = info.targetIdentifier\n      this.address = info.address\n      this.compatibleWallets = info.compatibleWallets\n      this.incompatibleWallets = info.incompatibleWallets\n      this.callback = info.callback\n\n      const descriptionTarget = this.targetIdentifier !== undefined ? `.${this.targetIdentifier}` : ''\n      this.descriptionKey = `select-wallet.${this.actionType}${descriptionTarget}.text`\n    }\n  }\n\n  public onSelected(wallet: AirGapMarketWallet) {\n    if (this.callback !== undefined) {\n      this.callback(wallet)\n    } else if (this.address !== undefined) {\n      this.openPreparePage(wallet)\n    } else {\n      throw new Error('Unknown behaviour')\n    }\n  }\n\n  private openPreparePage(wallet: AirGapMarketWallet) {\n    const info = {\n      wallet,\n      address: this.address\n    }\n    this.router\n      .navigateByUrl(\n        `/transaction-prepare/${DataServiceKey.TRANSACTION}/${info.wallet.publicKey}/${info.wallet.protocol.identifier}/${\n          info.wallet.addressIndex\n        }/${info.address}/${0}/${'not_forced'}`\n      )\n      .catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-toolbar>\n      <ion-buttons slot=\"start\">\n        <ion-back-button defaultHref=\"/\"></ion-back-button>\n      </ion-buttons>\n      <ion-title>{{ 'select-wallet.title' | translate }}</ion-title>\n    </ion-toolbar>\n  </ion-grid>\n</ion-header>\n\n<ion-content>\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <p [innerHTML]=\"descriptionKey | translate\" class=\"ion-padding-horizontal\"></p>\n    <ion-text color=\"primary\">\n      <p class=\"font--weight__bold ion-padding-horizontal\">\n        {{ 'select-wallet.compatible_label' | translate }}\n      </p>\n    </ion-text>\n    <ion-list lines=\"none\" class=\"ion-margin-top\" *ngFor=\"let wallet of compatibleWallets\">\n      <portfolio-item [wallet]=\"wallet\" tappable (click)=\"onSelected(wallet)\"></portfolio-item>\n    </ion-list>\n\n    <ion-text color=\"primary\">\n      <p class=\"font--weight__bold ion-padding-horizontal\">\n        {{ 'select-wallet.incompatible_label' | translate }}\n      </p>\n    </ion-text>\n    <ion-list lines=\"none\" class=\"ion-margin-top\" *ngFor=\"let wallet of incompatibleWallets\">\n      <portfolio-item [wallet]=\"wallet\" tappable (click)=\"onSelected(wallet)\"></portfolio-item>\n    </ion-list>\n  </ion-grid>\n</ion-content>\n"],"sourceRoot":"webpack:///"}