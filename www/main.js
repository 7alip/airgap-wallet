(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "+A10":
/*!************************************************************!*\
  !*** ./src/app/models/widgets/display/UIAccountSummary.ts ***!
  \************************************************************/
/*! exports provided: UIAccountSummary */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIAccountSummary", function() { return UIAccountSummary; });
/* harmony import */ var _UIWidget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIWidget */ "Ochd");

class UIAccountSummary extends _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidget"] {
    constructor(config) {
        super(config);
        this.type = _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidgetType"].ACCOUNT_SUMMARY;
        this.address = config.address;
        this.logo = config.logo;
        this.header = typeof config.header === 'string' ? [config.header, ''] : config.header;
        this.description = typeof config.description === 'string' ? [config.description, ''] : config.description;
    }
    onInvalidLogo() {
        this.logo = undefined;
    }
}


/***/ }),

/***/ "/6A1":
/*!*********************************************************!*\
  !*** ./src/app/pages/dapp-confirm/dapp-confirm.page.ts ***!
  \*********************************************************/
/*! exports provided: DappConfirmPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DappConfirmPage", function() { return DappConfirmPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "ofXK");








class DappConfirmPage {
    constructor(modalController) {
        this.modalController = modalController;
    }
    approveRequest() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.connector.approveRequest({
                id: new bignumber_js__WEBPACK_IMPORTED_MODULE_2___default.a(this.id).toNumber(),
                result: this.result
            });
            this.dismissModal();
        });
    }
    rejectRequest() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.connector.rejectRequest({
                id: new bignumber_js__WEBPACK_IMPORTED_MODULE_2___default.a(this.id).toNumber(),
                error: {
                    message: 'USER_REJECTION' // optional
                }
            });
            this.dismissModal();
        });
    }
    dismissModal() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.modalController.dismiss().catch(Object(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__["handleErrorSentry"])(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__["ErrorCategory"].NAVIGATION));
        });
    }
}
DappConfirmPage.ɵfac = function DappConfirmPage_Factory(t) { return new (t || DappConfirmPage)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"])); };
DappConfirmPage.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({ type: DappConfirmPage, selectors: [["app-dapp-confirm"]], decls: 20, vars: 9, consts: [[1, "ion-padding"], ["color", "secondary", 1, "font--weight__bold"], [1, "rawdata--container"], [1, "ion-no-padding"], [1, "ion-no-margin"], ["vertical", "bottom", "horizontal", "end", "slot", "fixed"], ["shape", "round", "color", "secondary", 3, "click"], ["shape", "round", "color", "primary", 3, "click"]], template: function DappConfirmPage_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "ion-header");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](1, "ion-toolbar");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](2, "ion-title");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](4, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](5, "ion-content", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](6, "ion-text", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](7, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](9, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](10, "ion-row", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](11, "ion-col", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](12, "pre", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](13);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](14, "json");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](15, "ion-fab", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](16, "ion-button", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function DappConfirmPage_Template_ion_button_click_16_listener() { return ctx.rejectRequest(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](17, "Cancel");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](18, "ion-button", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function DappConfirmPage_Template_ion_button_click_18_listener() { return ctx.approveRequest(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](19, "Confirm");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](4, 3, "dapp-confirm.title"));
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](9, 5, "dapp-confirm.text"));
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"]("  ", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](14, 7, ctx.result), "\n      ");
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonHeader"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonToolbar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonTitle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonContent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonFab"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonButton"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["JsonPipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkYXBwLWNvbmZpcm0ucGFnZS5zY3NzIn0= */"] });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/7alip/code/rsk/wallets/airgap/airgap-wallet/src/main.ts */"zUnb");


/***/ }),

/***/ "0CrI":
/*!*************************************************************!*\
  !*** ./src/app/components/widget-account/widget-account.ts ***!
  \*************************************************************/
/*! exports provided: WidgetAccount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidgetAccount", function() { return WidgetAccount; });
/* harmony import */ var src_app_models_widgets_display_UIAccount__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/models/widgets/display/UIAccount */ "ZBbp");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../pipes/shorten-string/shorten-string.pipe */ "iLEx");






function WidgetAccount_img_2_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "img", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("error", function WidgetAccount_img_2_Template_img_error_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r7.widget.onInvalidLogo(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("src", ctx_r0.widget.logo, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeUrl"]);
} }
function WidgetAccount_airgap_identicon_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "airgap-identicon", 9);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("address", ctx_r1.widget.address);
} }
function WidgetAccount_h2_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "h2", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r2.widget.name);
} }
function WidgetAccount_h2_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "h2", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "shortenString");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r3.widget.address));
} }
function WidgetAccount_p_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "p", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r4.widget.address);
} }
function WidgetAccount_p_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "p", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "shortenString");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r5.widget.address));
} }
function WidgetAccount_h3_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "h3");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r6.widget.description);
} }
class WidgetAccount {
}
WidgetAccount.ɵfac = function WidgetAccount_Factory(t) { return new (t || WidgetAccount)(); };
WidgetAccount.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: WidgetAccount, selectors: [["widget-account"]], inputs: { widget: "widget" }, decls: 11, vars: 7, consts: [["lines", "none", 1, "ion-no-padding", "ion-no-margin"], ["slot", "start"], [3, "src", "error", 4, "ngIf"], [3, "address", 4, "ngIf"], ["class", "font--weight__bold", "ion-text", "", "color", "black", 4, "ngIf"], ["color", "blackLight"], ["class", "typography--mono", 4, "ngIf"], [4, "ngIf"], [3, "src", "error"], [3, "address"], ["ion-text", "", "color", "black", 1, "font--weight__bold"], [1, "typography--mono"]], template: function WidgetAccount_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "ion-item", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "ion-avatar", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, WidgetAccount_img_2_Template, 1, 1, "img", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, WidgetAccount_airgap_identicon_3_Template, 1, 1, "airgap-identicon", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "ion-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, WidgetAccount_h2_5_Template, 2, 1, "h2", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, WidgetAccount_h2_6_Template, 3, 3, "h2", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "ion-text", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](8, WidgetAccount_p_8_Template, 2, 1, "p", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, WidgetAccount_p_9_Template, 3, 3, "p", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](10, WidgetAccount_h3_10_Template, 2, 1, "h3", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.widget.logo);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.widget.logo);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.widget.hasName);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.widget.hasName);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.widget.hasName && !ctx.widget.shortenAddress);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.widget.hasName && ctx.widget.shortenAddress);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.widget.description);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonAvatar"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonText"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_4__["IdenticonComponent"]], pipes: [_pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_5__["ShortenStringPipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ3aWRnZXQtYWNjb3VudC5zY3NzIn0= */"] });


/***/ }),

/***/ "0HKr":
/*!*****************************************************!*\
  !*** ./src/app/components/chart/chart.component.ts ***!
  \*****************************************************/
/*! exports provided: ChartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartComponent", function() { return ChartComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "wd/R");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var ng2_charts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-charts */ "LPYB");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @airgap/coinlib-core/wallet/AirGapMarketWallet */ "wEhd");
/* harmony import */ var _airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _services_draw_chart_draw_chart_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../services/draw-chart/draw-chart.service */ "xnpP");
/* harmony import */ var _services_market_data_market_data_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../../services/market-data/market-data.service */ "DUVq");
/* harmony import */ var src_app_services_account_account_provider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/account/account.provider */ "57MG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "ofXK");

















const _c0 = ["baseChart"];
function ChartComponent_span_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](1, "+");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} }
class ChartComponent {
    constructor(drawChartProvider, marketDataProvider, accountProvider) {
        this.drawChartProvider = drawChartProvider;
        this.marketDataProvider = marketDataProvider;
        this.accountProvider = accountProvider;
        this.timeInterval = _airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_4__["TimeInterval"];
        this.currentTimeInterval = undefined;
        this.chartType = 'line';
        this.chartLabels = [];
        this.chartOptions = {};
        this.chartColors = [];
        this.chartDatasets = [{ data: [], label: 'Price' }];
    }
    ngOnInit() {
        this.chartOptions = {
            layout: {
                padding: {
                    left: 0,
                    right: 0,
                    top: 0,
                    bottom: 0
                }
            },
            animation: {
                duration: 1250 // general animation time
            },
            hover: {
                animationDuration: 250 // duration of animations when hovering an item
            },
            responsiveAnimationDuration: 0,
            legend: {
                display: false
            },
            responsive: true,
            scaleFontColor: 'white',
            type: 'line',
            scales: {
                yAxes: [
                    {
                        display: false,
                        gridLines: {
                            display: false
                        }
                    }
                ],
                xAxes: [
                    {
                        display: false,
                        gridLines: {
                            display: false
                        }
                    }
                ]
            },
            elements: {
                point: {
                    radius: 1
                },
                line: {
                    tension: 0 // disables bezier curves
                }
            },
            tooltips: {
                mode: 'x-axis',
                intersect: false,
                displayColors: false,
                callbacks: {
                    title: function (data) {
                        return moment__WEBPACK_IMPORTED_MODULE_1__["unix"](data[0].label).format('DD.MM.YYYY');
                    },
                    label: function (data) {
                        if (Number(data.value) % 1 !== 0) {
                            let value = parseFloat(data.value).toFixed(2);
                            return `$${value}`;
                        }
                        else {
                            return data.value;
                        }
                    }
                }
            },
            annotation: {
                annotations: [
                    {
                        type: 'line',
                        mode: 'vertical',
                        scaleID: 'x-axis-0',
                        borderColor: 'orange',
                        borderWidth: 2,
                        label: {
                            enabled: true,
                            fontColor: 'orange',
                            content: 'LineAnno'
                        }
                    }
                ]
            }
        };
        this.subscription = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["combineLatest"])([this.drawChartProvider.getChartObservable(), this.accountProvider.wallets$.asObservable()])
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__["distinctUntilChanged"])())
            .subscribe(([data, wallets]) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            var _a;
            this.activeWallets = (_a = wallets.filter((wallet) => wallet.status === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_8__["AirGapWalletStatus"].ACTIVE &&
                wallet.protocol.identifier !== _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_8__["SubProtocolSymbols"].XTZ_USD &&
                wallet.protocol.options.network.type === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_8__["NetworkType"].MAINNET)) !== null && _a !== void 0 ? _a : [];
            this.drawChart(data);
        }));
    }
    drawChart(timeInterval) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.chartLabels = [];
            this.chartDatasets = [{ data: [], label: '$' }];
            this.currentTimeInterval = timeInterval;
            this.marketDataProvider.fetchAllValues(this.currentTimeInterval, this.activeWallets).then((rawData) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                this.chartDatasets[0].data = rawData.map((obj) => obj.usdValue);
                for (const value of rawData) {
                    // x-axis labeling
                    this.chartLabels.push(value.timestamp.toString());
                }
                this.percentageChange = this.displayPercentageChange(rawData.map((obj) => obj.usdValue));
            }));
        });
    }
    setLabel24h() {
        this.currentTimeInterval = _airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_4__["TimeInterval"].HOURS;
    }
    displayPercentageChange(rawData) {
        const firstValue = rawData.find((value) => value > 0);
        if (firstValue !== undefined) {
            const lastValue = rawData.slice(-1)[0];
            const percentageChange = ((lastValue - firstValue) / firstValue) * 100;
            return Number(parseFloat(String(Math.round(percentageChange * 100) / 100)).toFixed(2));
        }
        return 0;
    }
    ngAfterViewInit() {
        this.chartDatasets = [{ data: [], label: '$' }];
        this.chartLabels = [];
        if (this.chart) {
            const ctx = this.chart.ctx;
            const color1 = '26E8CD'; // rgb(122, 141, 169)
            const gradientStroke1 = ctx.createLinearGradient(0, 10, 0, 0);
            gradientStroke1.addColorStop(0, `#${color1}`);
            const gradientFill1 = ctx.createLinearGradient(0, 100, 0, 0);
            gradientFill1.addColorStop(1, 'rgba(38,232,205,0.34)');
            gradientFill1.addColorStop(0, 'rgba(38,232,205,0.04) ');
            this.chartColors[0] = {
                backgroundColor: gradientFill1,
                borderColor: gradientStroke1,
                pointBackgroundColor: gradientStroke1,
                pointBorderColor: gradientStroke1,
                pointHoverBackgroundColor: gradientStroke1,
                pointHoverBorderColor: gradientStroke1
            };
        }
    }
    ngOnDestroy() {
        this.subscription.unsubscribe();
    }
}
ChartComponent.ɵfac = function ChartComponent_Factory(t) { return new (t || ChartComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_services_draw_chart_draw_chart_service__WEBPACK_IMPORTED_MODULE_5__["DrawChartService"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_services_market_data_market_data_service__WEBPACK_IMPORTED_MODULE_6__["MarketDataService"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](src_app_services_account_account_provider__WEBPACK_IMPORTED_MODULE_7__["AccountProvider"])); };
ChartComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: ChartComponent, selectors: [["chart"]], viewQuery: function ChartComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵviewQuery"](_c0, 3);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵloadQuery"]()) && (ctx.chart = _t.first);
    } }, inputs: { total: "total" }, decls: 20, vars: 16, consts: [[1, "ion-padding-horizontal", "ion-align-items-end", "ion-justify-content-center"], [1, "ion-no-margin"], [3, "color"], [4, "ngIf"], ["baseChart", "", "width", "700", "height", "200px", 3, "chartType", "datasets", "labels", "colors", "options", "legend"], ["baseChart", "base-chart"], [1, "ion-padding-horizontal", "ion-padding-bottom", "ion-align-items-end", "ion-justify-content-center"], ["size", "small", "fill", "clear", 3, "color", "click"]], template: function ChartComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "ion-row", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](1, "h1", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](3, "number");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](4, "ion-row", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](5, "ion-text", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](6, "small");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](7, ChartComponent_span_7_Template, 2, 0, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](8, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](10, "div");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelement"](11, "canvas", 4, 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](13, "ion-row", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](14, "ion-button", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("click", function ChartComponent_Template_ion_button_click_14_listener() { return ctx.drawChart(ctx.timeInterval.HOURS); });
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](15, " 24h ");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](16, "ion-button", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("click", function ChartComponent_Template_ion_button_click_16_listener() { return ctx.drawChart(ctx.timeInterval.DAYS); });
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](17, " 7d ");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](18, "ion-button", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("click", function ChartComponent_Template_ion_button_click_18_listener() { return ctx.drawChart(ctx.timeInterval.MONTH); });
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](19, " 30d ");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"]("$", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind2"](3, 13, ctx.total, "1.2-2"), "");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("color", ctx.percentageChange >= 0 ? "primary" : "danger");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.percentageChange >= 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"]("", ctx.percentageChange, "%");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("chartType", ctx.chartType)("datasets", ctx.chartDatasets)("labels", ctx.chartLabels)("colors", ctx.chartColors)("options", ctx.chartOptions)("legend", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("color", ctx.currentTimeInterval !== ctx.timeInterval.HOURS && ctx.chartDatasets[0].data.length > 0 ? "primary" : "secondary");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("color", ctx.currentTimeInterval !== ctx.timeInterval.DAYS && ctx.chartDatasets[0].data.length > 0 ? "primary" : "secondary");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("color", ctx.currentTimeInterval !== ctx.timeInterval.MONTH && ctx.chartDatasets[0].data.length > 0 ? "primary" : "secondary");
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_11__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_11__["IonText"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgIf"], ng2_charts__WEBPACK_IMPORTED_MODULE_2__["BaseChartDirective"], _ionic_angular__WEBPACK_IMPORTED_MODULE_11__["IonButton"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_12__["DecimalPipe"]], encapsulation: 2 });


/***/ }),

/***/ 1:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "1Mpf":
/*!*******************************************************!*\
  !*** ./src/app/components/empty-state/empty-state.ts ***!
  \*******************************************************/
/*! exports provided: EmptyStateComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmptyStateComponent", function() { return EmptyStateComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");



class EmptyStateComponent {
    constructor() {
        this.fullHeight = true;
    }
}
EmptyStateComponent.ɵfac = function EmptyStateComponent_Factory(t) { return new (t || EmptyStateComponent)(); };
EmptyStateComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: EmptyStateComponent, selectors: [["empty-state"]], inputs: { imageName: "imageName", text: "text", fullHeight: "fullHeight" }, decls: 3, vars: 3, consts: [[1, "ion-padding-horizontal", "ion-align-items-end", "ion-justify-content-center", 3, "ngClass"], [3, "src"], [1, "ion-text-center", 3, "innerHTML"]], template: function EmptyStateComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ion-row", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "img", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx.fullHeight ? "height__full" : "height__content");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate1"]("src", "./assets/img/", ctx.imageName, "", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx.text, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonRow"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"]], styles: ["ion-row[_ngcontent-%COMP%] {\n  font-weight: 100;\n  font-size: 1.4rem;\n}\n\n.height__full[_ngcontent-%COMP%] {\n  height: 60vh;\n}\n\n.height__full[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  height: 40vh;\n}\n\n.height__content[_ngcontent-%COMP%] {\n  height: 50vh;\n}\n\n.height__content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  height: 30vh;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2VtcHR5LXN0YXRlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxZQUFBO0FBRUY7O0FBREU7RUFDRSxZQUFBO0FBR0o7O0FBQUE7RUFDRSxZQUFBO0FBR0Y7O0FBRkU7RUFDRSxZQUFBO0FBSUoiLCJmaWxlIjoiZW1wdHktc3RhdGUuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1yb3cge1xuICBmb250LXdlaWdodDogMTAwO1xuICBmb250LXNpemU6IDEuNHJlbTtcbn1cbi5oZWlnaHRfX2Z1bGwge1xuICBoZWlnaHQ6IDYwdmg7XG4gIGltZyB7XG4gICAgaGVpZ2h0OiA0MHZoO1xuICB9XG59XG4uaGVpZ2h0X19jb250ZW50IHtcbiAgaGVpZ2h0OiA1MHZoO1xuICBpbWcge1xuICAgIGhlaWdodDogMzB2aDtcbiAgfVxufVxuIl19 */"] });


/***/ }),

/***/ "1UBK":
/*!*******************************************************!*\
  !*** ./src/app/pipes/group-label/group-label.pipe.ts ***!
  \*******************************************************/
/*! exports provided: GroupLabelPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GroupLabelPipe", function() { return GroupLabelPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");

class GroupLabelPipe {
    transform(group) {
        if (group === 'all') {
            return 'group-label.all';
        }
        if (group.label === undefined) {
            return 'group-label.ungrouped';
        }
        return group.label;
    }
}
GroupLabelPipe.ɵfac = function GroupLabelPipe_Factory(t) { return new (t || GroupLabelPipe)(); };
GroupLabelPipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "groupLabel", type: GroupLabelPipe, pure: true });


/***/ }),

/***/ "1y+R":
/*!***********************************************!*\
  !*** ./src/app/services/data/data.service.ts ***!
  \***********************************************/
/*! exports provided: DataServiceKey, DataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataServiceKey", function() { return DataServiceKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataService", function() { return DataService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _storage_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../storage/storage */ "AFs5");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");





var DataServiceKey;
(function (DataServiceKey) {
    DataServiceKey["SYNC_ACCOUNTS"] = "sync-accounts";
    DataServiceKey["ACCOUNTS"] = "accounts";
    DataServiceKey["PROTOCOL"] = "protocol";
    DataServiceKey["DETAIL"] = "detail";
    DataServiceKey["INTERACTION"] = "interaction";
    DataServiceKey["EXCHANGE"] = "exchange";
    DataServiceKey["TRANSACTION"] = "transaction";
    DataServiceKey["SCAN"] = "scan";
    DataServiceKey["WALLET"] = "wallet";
})(DataServiceKey || (DataServiceKey = {}));
class DataService {
    constructor(storage) {
        this.storage = storage;
        this.data = [];
        this.accountSyncs$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](null);
    }
    getAccountSyncs() {
        return this.accountSyncs$.asObservable();
    }
    setData(id, data) {
        if (id === DataServiceKey.SYNC_ACCOUNTS) {
            this.accountSyncs$.next(data);
        }
        this.data[id] = data;
    }
    getData(id) {
        return this.data[id];
    }
    get(key) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.storage.getCache(key);
        });
    }
    set(key, value) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.storage.setCache(key, value);
        });
    }
}
DataService.ɵfac = function DataService_Factory(t) { return new (t || DataService)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_storage_storage__WEBPACK_IMPORTED_MODULE_1__["WalletStorageService"])); };
DataService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({ token: DataService, factory: DataService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ 2:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "2Eq5":
/*!*****************************************************************************!*\
  !*** ./src/app/components/widget-account-summary/widget-account-summary.ts ***!
  \*****************************************************************************/
/*! exports provided: WidgetAccountSummary */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidgetAccountSummary", function() { return WidgetAccountSummary; });
/* harmony import */ var src_app_models_widgets_display_UIAccountSummary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/models/widgets/display/UIAccountSummary */ "+A10");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @airgap/angular-core */ "138U");





function WidgetAccountSummary_img_2_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "img", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("error", function WidgetAccountSummary_img_2_Template_img_error_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r2.widget.onInvalidLogo(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("src", ctx_r0.widget.logo, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeUrl"]);
} }
function WidgetAccountSummary_airgap_identicon_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "airgap-identicon", 15);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("address", ctx_r1.widget.address);
} }
class WidgetAccountSummary {
}
WidgetAccountSummary.ɵfac = function WidgetAccountSummary_Factory(t) { return new (t || WidgetAccountSummary)(); };
WidgetAccountSummary.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: WidgetAccountSummary, selectors: [["widget-account-summary"]], inputs: { widget: "widget" }, decls: 22, vars: 6, consts: [["lines", "none", 1, "ion-no-padding", "ion-no-margin"], ["slot", "start"], [3, "src", "error", 4, "ngIf"], [3, "address", 4, "ngIf"], ["color", "black"], [1, "ion-no-padding"], ["size", "9", 1, "ion-no-padding"], [1, "font--weight__bold"], ["size", "3", 1, "ion-text-end", "ion-no-padding"], [1, "ion-no-margin"], ["size", "4", 1, "ion-no-padding"], ["color", "blackLight"], [1, "ion-no-margin", "typography--mono"], ["size", "8", 1, "ion-text-end", "ion-no-padding"], [3, "src", "error"], [3, "address"]], template: function WidgetAccountSummary_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "ion-item", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "ion-avatar", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, WidgetAccountSummary_img_2_Template, 1, 1, "img", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, WidgetAccountSummary_airgap_identicon_3_Template, 1, 1, "airgap-identicon", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "ion-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "ion-text", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "ion-row", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "ion-col", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "h2", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "ion-col", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "p", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](12);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](13, "ion-row", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "ion-col", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](15, "ion-text", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "p", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](17);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "ion-col", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "ion-text", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](20, "p", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](21);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.widget.logo);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.widget.logo);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx.widget.header[0], " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx.widget.header[1], " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx.widget.description[0], " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx.widget.description[1], " ");
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonAvatar"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonCol"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_4__["IdenticonComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ3aWRnZXQtYWNjb3VudC1zdW1tYXJ5LnNjc3MifQ== */"] });


/***/ }),

/***/ 3:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 4:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "4HDb":
/*!***********************************************************************!*\
  !*** ./src/app/extensions/delegation/MoonbeamDelegationExtensions.ts ***!
  \***********************************************************************/
/*! exports provided: MoonbeamDelegationExtensions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoonbeamDelegationExtensions", function() { return MoonbeamDelegationExtensions; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_moonbeam_data_staking_MoonbeamStakingActionType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/substrate/moonbeam/data/staking/MoonbeamStakingActionType */ "NHrY");
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_moonbeam_data_staking_MoonbeamStakingActionType__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_substrate_moonbeam_data_staking_MoonbeamStakingActionType__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var src_app_models_widgets_display_UIAlert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/models/widgets/display/UIAlert */ "CZvy");
/* harmony import */ var _models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../models/widgets/display/UIIconText */ "tZEG");
/* harmony import */ var _validators_DecimalValidator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../validators/DecimalValidator */ "fUHw");
/* harmony import */ var _ProtocolDelegationExtensions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ProtocolDelegationExtensions */ "VWe/");








var ArgumentName;
(function (ArgumentName) {
    ArgumentName["COLLATOR"] = "collator";
    ArgumentName["AMOUNT"] = "amount";
    ArgumentName["AMOUNT_CONTROL"] = "amountControl";
    ArgumentName["CANDIDATE"] = "candidate";
    ArgumentName["MORE"] = "more";
    ArgumentName["MORE_CONTROL"] = "moreControl";
    ArgumentName["LESS"] = "less";
    ArgumentName["LESS_CONTROL"] = "lessControl";
})(ArgumentName || (ArgumentName = {}));
class MoonbeamDelegationExtensions extends _ProtocolDelegationExtensions__WEBPACK_IMPORTED_MODULE_7__["ProtocolDelegationExtensions"] {
    constructor(formBuilder, decimalPipe, amountConverterPipe, translateService) {
        super();
        this.formBuilder = formBuilder;
        this.decimalPipe = decimalPipe;
        this.amountConverterPipe = amountConverterPipe;
        this.translateService = translateService;
        this.delegateeLabel = 'delegation-detail-moonbeam.delegatee-label';
        this.delegateeLabelPlural = 'delegation-detail-moonbeam.delegatee-label-plural';
        this.supportsMultipleDelegations = true;
    }
    static create(formBuilder, decimalPipe, amountConverterPipe, translateService) {
        return new MoonbeamDelegationExtensions(formBuilder, decimalPipe, amountConverterPipe, translateService);
    }
    airGapDelegatee(_protocol) {
        return undefined;
    }
    getExtraDelegationDetailsFromAddress(protocol, delegator, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const delegationsDetails = yield Promise.all(delegatees.map((validator) => protocol.getDelegationDetailsFromAddress(delegator, [validator])));
            return Promise.all(delegationsDetails.map((details) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const [nominator, collator] = yield Promise.all([
                    this.getExtraNominatorDetails(protocol, details.delegator, details.delegatees[0].address),
                    this.getExtraCollatorDetails(protocol, details.delegatees[0])
                ]);
                return {
                    delegator: nominator,
                    delegatees: [collator],
                    alerts: nominator.alerts
                };
            })));
        });
    }
    getExtraNominatorDetails(protocol, delegatorDetails, collator) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const nominationDetails = yield protocol.options.accountController.getNominationDetails(delegatorDetails.address, collator);
            const results = yield Promise.all([
                this.createDelegateAction(protocol, nominationDetails, collator),
                this.createUndelegateAction(protocol, nominationDetails, collator),
                this.createDisplayDetails(protocol, nominationDetails),
                this.createNominationAlerts(protocol, nominationDetails)
            ]);
            const delegateAction = results[0];
            const undelegateAction = results[1];
            const displayDetails = results[2];
            const alerts = results[3];
            const undelegateAllAction = this.createUndelegateAllAction(nominationDetails.nominatorDetails);
            return Object.assign(Object.assign({}, delegatorDetails), { mainActions: [delegateAction, undelegateAction].filter((action) => !!action), secondaryActions: [undelegateAllAction].filter((action) => !!action), displayDetails,
                alerts });
        });
    }
    getExtraCollatorDetails(protocol, delegateeDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const collatorDetails = yield protocol.options.accountController.getCollatorDetails(delegateeDetails.address);
            const ownBond = new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](collatorDetails.ownStakingBalance);
            const totalBond = new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](collatorDetails.totalStakingBalance);
            const displayDetails = yield this.createCollatorDisplayDetails(protocol, collatorDetails);
            return Object.assign(Object.assign({}, delegateeDetails), { usageDetails: {
                    usage: ownBond.div(totalBond),
                    current: ownBond,
                    total: totalBond
                }, displayDetails });
        });
    }
    createCollatorDisplayDetails(_protocol, collatorDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const details = [];
            details.push(new _models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_5__["UIIconText"]({
                iconName: 'logo-usd',
                text: `${this.decimalPipe.transform(new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](collatorDetails.commission).times(100).toString())}%`,
                description: 'delegation-detail-moonbeam.commission_label'
            }));
            details.push(new _models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_5__["UIIconText"]({
                iconName: 'people-outline',
                text: `${collatorDetails.nominators}`,
                description: 'delegation-detail-moonbeam.nominators_label'
            }));
            return details;
        });
    }
    createDelegateAction(protocol, nominationDetails, collator) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const { nominatorDetails } = nominationDetails;
            const maxDelegationAmount = yield protocol
                .estimateMaxDelegationValueFromAddress(nominatorDetails.address)
                .then((value) => new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](value));
            const minDelegationAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](yield protocol.getMinDelegationAmount(nominationDetails.nominatorDetails.address));
            const delegatedAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](nominationDetails.bond);
            const delegatedFormatted = yield this.amountConverterPipe.transform(delegatedAmount, {
                protocol,
                maxDigits: protocol.decimals
            });
            const maxDelegationFormatted = yield this.amountConverterPipe.transform(maxDelegationAmount, {
                protocol,
                maxDigits: protocol.decimals
            });
            const hasDelegated = delegatedAmount.gt(0);
            const canDelegate = maxDelegationAmount.gt(minDelegationAmount);
            const baseDescription = hasDelegated
                ? this.translateService.instant('delegation-detail-moonbeam.delegate.has-delegated_text', { delegated: delegatedFormatted })
                : this.translateService.instant('delegation-detail-moonbeam.delegate.not-delegated_text');
            const extraDescription = canDelegate
                ? ` ${this.translateService.instant(hasDelegated
                    ? 'delegation-detail-moonbeam.delegate.can-delegate-has-delegated_text'
                    : 'delegation-detail-moonbeam.delegate.can-delegate-not-delegated_text', { maxDelegation: maxDelegationFormatted })}`
                : '';
            return this.createMainDelegatorAction(protocol, nominatorDetails.availableActions, collator, [hasDelegated ? _airgap_coinlib_core_protocols_substrate_moonbeam_data_staking_MoonbeamStakingActionType__WEBPACK_IMPORTED_MODULE_1__["MoonbeamStakingActionType"].BOND_MORE : _airgap_coinlib_core_protocols_substrate_moonbeam_data_staking_MoonbeamStakingActionType__WEBPACK_IMPORTED_MODULE_1__["MoonbeamStakingActionType"].NOMINATE], 'delegation-detail-moonbeam.delegate.label', maxDelegationAmount, minDelegationAmount, baseDescription + extraDescription);
        });
    }
    createUndelegateAction(protocol, nominationDetails, collator) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const { nominatorDetails } = nominationDetails;
            const delegatedAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](nominationDetails.bond);
            const delegatedAmountFormatted = yield this.amountConverterPipe.transform(delegatedAmount, {
                protocol
            });
            const description = this.translateService.instant('delegation-detail-moonbeam.undelegate.text', { delegated: delegatedAmountFormatted });
            return this.createMainDelegatorAction(protocol, nominatorDetails.availableActions, collator, [_airgap_coinlib_core_protocols_substrate_moonbeam_data_staking_MoonbeamStakingActionType__WEBPACK_IMPORTED_MODULE_1__["MoonbeamStakingActionType"].BOND_LESS, _airgap_coinlib_core_protocols_substrate_moonbeam_data_staking_MoonbeamStakingActionType__WEBPACK_IMPORTED_MODULE_1__["MoonbeamStakingActionType"].CANCEL_NOMINATION], 'delegation-detail-moonbeam.undelegate.label', delegatedAmount, new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](1), description);
        });
    }
    createUndelegateAllAction(nominatorDetails) {
        const isNominating = nominatorDetails.delegatees.length > 0;
        return isNominating
            ? {
                type: _airgap_coinlib_core_protocols_substrate_moonbeam_data_staking_MoonbeamStakingActionType__WEBPACK_IMPORTED_MODULE_1__["MoonbeamStakingActionType"].CANCEL_ALL_NOMINATIONS,
                label: 'delegation-detail-moonbeam.undelegate-all.label',
                iconName: 'close-outline'
            }
            : null;
    }
    createMainDelegatorAction(protocol, availableActions, collator, types, label, maxAmount, minAmount, description) {
        const action = availableActions.find((action) => types.includes(action.type));
        if (action && maxAmount.gte(minAmount)) {
            const maxAmountFormatted = maxAmount.shiftedBy(-protocol.decimals).decimalPlaces(protocol.decimals).toFixed();
            const minAmountFormatted = minAmount.shiftedBy(-protocol.decimals).decimalPlaces(protocol.decimals).toFixed();
            const { address: collatorArgName, amount: amountArgName, amountControl: amountControlArgName } = this.resolveMainArgumentNames(action.type);
            let controls = {
                [collatorArgName]: collator
            };
            const inputWidgets = [];
            if (amountArgName && amountControlArgName) {
                controls = Object.assign(controls, {
                    [amountArgName]: maxAmount.toFixed(),
                    [amountControlArgName]: [
                        maxAmountFormatted,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([
                            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
                            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].min(new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](minAmountFormatted).toNumber()),
                            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].max(new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](maxAmountFormatted).toNumber()),
                            _validators_DecimalValidator__WEBPACK_IMPORTED_MODULE_6__["DecimalValidator"].validate(protocol.decimals)
                        ])
                    ]
                });
                inputWidgets.push(this.createAmountWidget(amountControlArgName, maxAmountFormatted, minAmountFormatted, {
                    onValueChanged: (value) => {
                        form.patchValue({ [amountArgName]: new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](value).shiftedBy(protocol.decimals).toFixed() });
                    }
                }));
            }
            const form = this.formBuilder.group(controls);
            return {
                type: action.type,
                form,
                label,
                description,
                args: inputWidgets
            };
        }
        return null;
    }
    resolveMainArgumentNames(mainAction) {
        switch (mainAction) {
            case _airgap_coinlib_core_protocols_substrate_moonbeam_data_staking_MoonbeamStakingActionType__WEBPACK_IMPORTED_MODULE_1__["MoonbeamStakingActionType"].NOMINATE:
                return {
                    address: ArgumentName.COLLATOR,
                    amount: ArgumentName.AMOUNT,
                    amountControl: ArgumentName.AMOUNT_CONTROL
                };
            case _airgap_coinlib_core_protocols_substrate_moonbeam_data_staking_MoonbeamStakingActionType__WEBPACK_IMPORTED_MODULE_1__["MoonbeamStakingActionType"].BOND_MORE:
                return {
                    address: ArgumentName.CANDIDATE,
                    amount: ArgumentName.MORE,
                    amountControl: ArgumentName.MORE_CONTROL
                };
            case _airgap_coinlib_core_protocols_substrate_moonbeam_data_staking_MoonbeamStakingActionType__WEBPACK_IMPORTED_MODULE_1__["MoonbeamStakingActionType"].CANCEL_NOMINATION:
                return {
                    address: ArgumentName.COLLATOR
                };
            case _airgap_coinlib_core_protocols_substrate_moonbeam_data_staking_MoonbeamStakingActionType__WEBPACK_IMPORTED_MODULE_1__["MoonbeamStakingActionType"].BOND_LESS:
                return {
                    address: ArgumentName.CANDIDATE,
                    amount: ArgumentName.LESS,
                    amountControl: ArgumentName.LESS_CONTROL
                };
            default:
                return {
                    address: ArgumentName.COLLATOR,
                    amount: ArgumentName.AMOUNT,
                    amountControl: ArgumentName.AMOUNT_CONTROL
                };
        }
    }
    createDisplayDetails(protocol, nominationDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const details = [];
            const bond = new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](nominationDetails.bond);
            const maxCollators = yield protocol.options.nodeClient.getMaxCollatorsPerNominator();
            if (nominationDetails.nominatorDetails.status) {
                details.push(new _models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_5__["UIIconText"]({
                    iconName: 'information-outline',
                    text: this.getStatusDescription(nominationDetails.nominatorDetails),
                    description: 'delegation-detail-moonbeam.nominator-status.label'
                }));
            }
            if (bond.gt(0)) {
                details.push(new _models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_5__["UIIconText"]({
                    iconName: 'logo-usd',
                    text: yield this.amountConverterPipe.transform(bond, {
                        protocol
                    }),
                    description: 'delegation-detail-moonbeam.currently-delegated_label'
                }));
            }
            if (maxCollators) {
                details.push(new _models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_5__["UIIconText"]({
                    iconName: 'people-outline',
                    text: `${nominationDetails.nominatorDetails.delegatees.length}/${maxCollators.toString()}`,
                    description: 'delegation-detail-moonbeam.collators_label'
                }));
            }
            return details;
        });
    }
    createNominationAlerts(protocol, nominationDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const alerts = [];
            const maxNominators = yield protocol.options.nodeClient.getMaxNominatorsPerCollator();
            if (maxNominators && maxNominators.lt(nominationDetails.collatorDetails.nominators) && new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](nominationDetails.bond).lte(nominationDetails.collatorDetails.minEligibleBalance)) {
                alerts.push(new src_app_models_widgets_display_UIAlert__WEBPACK_IMPORTED_MODULE_4__["UIAlert"]({
                    title: 'delegation-detail-moonbeam.alert.collator-oversubscribed.title',
                    description: this.translateService.instant('delegation-detail-moonbeam.alert.collator-oversubscribed.description', {
                        maxNominators: maxNominators.toString(),
                        minStakingAmount: yield this.amountConverterPipe.transform(nominationDetails.collatorDetails.minEligibleBalance, {
                            protocol,
                            maxDigits: protocol.decimals
                        })
                    }),
                    icon: 'alert-circle-outline',
                    color: 'warning'
                }));
            }
            return alerts;
        });
    }
    getStatusDescription(nominatorDetails) {
        switch (nominatorDetails.status) {
            case 'Active':
                return 'delegation-detail-moonbeam.nominator-status.active_label';
            case 'Leaving':
                return 'delegation-detail-moonbeam.nominator-status.leaving_label';
            default:
                return 'delegation-detail-moonbeam.nominator-status.unknown_label';
        }
    }
}


/***/ }),

/***/ 5:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "57MG":
/*!******************************************************!*\
  !*** ./src/app/services/account/account.provider.ts ***!
  \******************************************************/
/*! exports provided: AccountProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountProvider", function() { return AccountProvider; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/tezos/TezosProtocolOptions */ "Bf+m");
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @airgap/coinlib-core/wallet/AirGapWallet */ "7pxb");
/* harmony import */ var _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _models_actions_DelegateAlertAction__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../models/actions/DelegateAlertAction */ "ip4s");
/* harmony import */ var _models_actions_TipUsAction__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../models/actions/TipUsAction */ "aT1g");
/* harmony import */ var _models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../models/AirGapMarketWalletGroup */ "z4jU");
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/utils */ "oCjk");
/* harmony import */ var _data_data_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../data/data.service */ "1y+R");
/* harmony import */ var _draw_chart_draw_chart_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../draw-chart/draw-chart.service */ "xnpP");
/* harmony import */ var _interaction_interaction_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../interaction/interaction.service */ "rYTG");
/* harmony import */ var _operations_operations__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../operations/operations */ "nxqh");
/* harmony import */ var _price_price_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../price/price.service */ "QMTT");
/* harmony import */ var _push_push__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../push/push */ "LuFN");
/* harmony import */ var _sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _storage_storage__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../storage/storage */ "AFs5");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/core */ "fXoL");
































var NotificationKind;
(function (NotificationKind) {
    NotificationKind["CTA_Tip"] = "cta_tip";
    NotificationKind["CTA_Delegate"] = "cta_delegate";
})(NotificationKind || (NotificationKind = {}));
class AccountProvider {
    constructor(storageProvider, pushProvider, drawChartProvider, popoverController, uiEventService, alertController, toastController, loadingController, opertaionsProvider, dataService, router, interactionService, priceService, protocolService) {
        this.storageProvider = storageProvider;
        this.pushProvider = pushProvider;
        this.drawChartProvider = drawChartProvider;
        this.popoverController = popoverController;
        this.uiEventService = uiEventService;
        this.alertController = alertController;
        this.toastController = toastController;
        this.loadingController = loadingController;
        this.opertaionsProvider = opertaionsProvider;
        this.dataService = dataService;
        this.router = router;
        this.interactionService = interactionService;
        this.priceService = priceService;
        this.protocolService = protocolService;
        this.activeGroup$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["ReplaySubject"](1);
        this.walletGroups = new Map();
        this.walletsHaveLoaded = new rxjs__WEBPACK_IMPORTED_MODULE_7__["ReplaySubject"](1);
        this.refreshPageSubject = new rxjs__WEBPACK_IMPORTED_MODULE_7__["Subject"]();
        this.walletGroups$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["ReplaySubject"](1);
        this.wallets$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["ReplaySubject"](1);
        this.allWallets$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["ReplaySubject"](1);
        this.subWallets$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["ReplaySubject"](1);
        this.usedProtocols$ = new rxjs__WEBPACK_IMPORTED_MODULE_7__["ReplaySubject"](1);
        this.walletChangedBehaviour = new rxjs__WEBPACK_IMPORTED_MODULE_7__["Subject"]();
        this.loadWalletsFromStorage()
            .then(() => {
            this.walletsHaveLoaded.next(true);
        })
            .catch(console.error);
        this.wallets$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["map"])((wallets) => wallets.filter((wallet) => 'subProtocolType' in wallet.protocol))).subscribe(this.subWallets$);
        this.wallets$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["map"])((wallets) => this.getProtocolsFromWallets(wallets))).subscribe(this.usedProtocols$);
        this.pushProvider.notificationCallback = (notification) => {
            // We need a timeout because otherwise routing might fail
            const env = {
                popoverController: this.popoverController,
                loadingController: this.loadingController,
                uiEventService: this.uiEventService,
                alertController: this.alertController,
                toastController: this.toastController,
                operationsProvider: this.opertaionsProvider,
                dataService: this.dataService,
                accountService: this,
                router: this.router
            };
            if (notification && Object(_utils_utils__WEBPACK_IMPORTED_MODULE_12__["isType"])(notification.data)) {
                const tippingInfo = notification.data;
                if (tippingInfo.kind === NotificationKind.CTA_Tip) {
                    const originWallet = this.getWalletList().find((wallet) => wallet.addresses.some((address) => address === tippingInfo.fromAddress));
                    setTimeout(() => {
                        const tipAction = new _models_actions_TipUsAction__WEBPACK_IMPORTED_MODULE_10__["AirGapTipUsAction"](Object.assign({ wallet: originWallet, tipAddress: tippingInfo.toAddress, amount: tippingInfo.amount, alertTitle: tippingInfo.alertTitle, alertDescription: tippingInfo.alertDescription }, env));
                        tipAction.start();
                    }, 3500);
                }
                if (tippingInfo.kind === NotificationKind.CTA_Delegate) {
                    const originWallet = this.getWalletList().find((wallet) => wallet.addresses.some((address) => address === tippingInfo.fromAddress));
                    setTimeout(() => {
                        const delegateAlertAction = new _models_actions_DelegateAlertAction__WEBPACK_IMPORTED_MODULE_9__["DelegateAlertAction"](Object.assign({ wallet: originWallet, delegate: tippingInfo.toAddress, alertTitle: tippingInfo.alertTitle, alertDescription: tippingInfo.alertDescription }, env));
                        delegateAlertAction.start();
                    }, 3500);
                }
            }
        };
    }
    get walletChangedObservable() {
        return this.walletChangedBehaviour.asObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["auditTime"])(50));
    }
    get allWalletGroups() {
        return Array.from(this.walletGroups.values());
    }
    get allWallets() {
        return this.allWalletGroups.reduce((wallets, group) => wallets.concat(group.wallets), []);
    }
    startInteraction(wallet, interactionData, type, airGapTxs, isRelay = false, generatedId) {
        const group = this.walletGroupByWallet(wallet);
        this.interactionService.startInteraction(group, wallet, interactionData, type, airGapTxs, isRelay, generatedId);
    }
    getActiveWalletGroupObservable() {
        return this.activeGroup$.asObservable();
    }
    getWalletGroupsObservable() {
        return this.walletGroups$.asObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["map"])((groups) => this.sortGroupsByLabel(groups)));
    }
    triggerWalletChanged() {
        this.walletChangedBehaviour.next();
    }
    getProtocolsFromWallets(wallets) {
        const protocols = new Map();
        wallets.forEach((wallet) => {
            if (!protocols.has(wallet.protocol.identifier)) {
                protocols.set(wallet.protocol.identifier, wallet.protocol);
            }
        });
        return Array.from(protocols.values());
    }
    hasInactiveWallets(protocol) {
        return this.allWallets.some((wallet) => wallet.protocol.identifier === protocol.identifier && wallet.status !== _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_4__["AirGapWalletStatus"].ACTIVE);
    }
    loadWalletsFromStorage() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const [rawGroups, rawWallets] = yield Promise.all([this.storageProvider.get(_storage_storage__WEBPACK_IMPORTED_MODULE_20__["WalletStorageKey"].WALLET_GROUPS), this.storageProvider.get(_storage_storage__WEBPACK_IMPORTED_MODULE_20__["WalletStorageKey"].WALLET)]);
            const groups = rawGroups || [];
            let wallets = rawWallets || [];
            // migrating double-serialization
            if (!(rawWallets instanceof Array)) {
                try {
                    wallets = JSON.parse(rawWallets);
                }
                catch (e) {
                    wallets = [];
                }
            }
            // "wallets" can be undefined here
            if (!wallets) {
                wallets = [];
            }
            const walletMap = wallets.reduce((obj, next) => Object.assign(obj, { [this.createWalletIdentifier(next.protocolIdentifier, next.publicKey)]: next }), {});
            const walletInitPromises = [];
            // read groups
            yield Promise.all(groups.map((group) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const wallets = (yield Promise.all(group.wallets.map(([protocolIdentifier, publicKey]) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    const walletIdentifier = this.createWalletIdentifier(protocolIdentifier, publicKey);
                    const serializedWallet = walletMap[walletIdentifier];
                    if (serializedWallet === undefined) {
                        return undefined;
                    }
                    walletMap[walletIdentifier] = undefined;
                    const airGapWallet = yield this.readSerializedWallet(serializedWallet);
                    walletInitPromises.push(this.initializeWallet(airGapWallet));
                    return airGapWallet;
                })))).filter((wallet) => wallet !== undefined);
                const walletGroup = new _models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_11__["AirGapMarketWalletGroup"](group.id, group.label, group.interactionSetting, wallets);
                this.walletGroups.set(walletGroup.id, walletGroup);
            })));
            // read ungrouped wallets
            const ungroupedWallets = yield Promise.all(Object.values(walletMap)
                .filter((serializedWallet) => serializedWallet !== undefined)
                .map((serializedWallet) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const airGapWallet = yield this.readSerializedWallet(serializedWallet);
                walletInitPromises.push(this.initializeWallet(airGapWallet));
                return airGapWallet;
            })));
            if (ungroupedWallets.length > 0) {
                const others = new _models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_11__["AirGapMarketWalletGroup"](undefined, undefined, undefined, ungroupedWallets, true);
                this.walletGroups.set(others.id, others);
            }
            Promise.all(walletInitPromises).then(() => {
                this.triggerWalletChanged();
            });
            /* Use for Testing of Skeleton
            await new Promise(resolve => {
              setTimeout(() => {
                resolve()
              }, 2000)
            })
            */
            if (this.allWallets.length > 0) {
                this.pushProvider.setupPush();
            }
            this.setActiveGroup(this.allWalletGroups.length > 1 ? 'all' : this.allWalletGroups[0]);
            this.walletGroups$.next(this.allWalletGroups);
            this.pushProvider.registerWallets(this.allWallets);
        });
    }
    readSerializedWallet(serializedWallet) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const protocol = yield this.protocolService.getProtocol(serializedWallet.protocolIdentifier, serializedWallet.networkIdentifier);
            const airGapWallet = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["AirGapMarketWallet"](protocol, serializedWallet.publicKey, serializedWallet.isExtendedPublicKey, serializedWallet.derivationPath, serializedWallet.masterFingerprint || '', serializedWallet.status || _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_4__["AirGapWalletStatus"].ACTIVE, this.priceService, serializedWallet.addressIndex);
            // add derived addresses
            airGapWallet.addresses = serializedWallet.addresses;
            return airGapWallet;
        });
    }
    initializeWallet(airGapWallet) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return new Promise((resolve) => {
                // if we have no addresses, derive using webworker and sync, else just sync
                if (airGapWallet.addresses.length === 0 || (airGapWallet.isExtendedPublicKey && airGapWallet.addresses.length < 20)) {
                    const airGapWorker = new Worker('./assets/workers/airgap-coin-lib.js');
                    airGapWorker.onmessage = (event) => {
                        airGapWallet.addresses = event.data.addresses;
                        airGapWallet
                            .synchronize()
                            .then(() => {
                            resolve();
                        })
                            .catch((error) => {
                            console.error(error);
                            resolve();
                        });
                    };
                    airGapWorker.postMessage({
                        protocolIdentifier: airGapWallet.protocol.identifier,
                        publicKey: airGapWallet.publicKey,
                        isExtendedPublicKey: airGapWallet.isExtendedPublicKey,
                        derivationPath: airGapWallet.derivationPath,
                        addressIndex: airGapWallet.addressIndex
                    });
                }
                else {
                    airGapWallet
                        .synchronize()
                        .then(() => {
                        resolve();
                    })
                        .catch((error) => {
                        console.error(error);
                        resolve();
                    });
                }
            });
        });
    }
    getWalletList() {
        return this.allWallets;
    }
    setActiveGroup(groupToSet) {
        if (groupToSet === 'all') {
            this.activeGroup$.next(groupToSet);
            this.wallets$.next(this.allWallets);
        }
        else if (groupToSet !== undefined && this.walletGroups.has(groupToSet.id)) {
            const group = this.walletGroups.get(groupToSet.id);
            const wallets = group.wallets;
            this.activeGroup$.next(group);
            this.wallets$.next(wallets);
        }
        else {
            this.wallets$.next([]);
        }
        this.allWallets$.next(this.allWallets);
    }
    addWallets(walletAddInfos) {
        var _a;
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let existingWallets = [];
            for (let walletAddInfo of walletAddInfos) {
                const defaultOptions = {
                    override: false,
                    updateState: true
                };
                const resolvedOptions = Object.assign(Object.assign({}, defaultOptions), ((_a = walletAddInfo.options) !== null && _a !== void 0 ? _a : {}));
                const alreadyExists = this.walletExists(walletAddInfo.walletToAdd);
                if (alreadyExists) {
                    existingWallets.push(walletAddInfo.walletToAdd);
                    if (!resolvedOptions.override) {
                        throw new Error('wallet already exists');
                    }
                }
                yield this.addWallet(walletAddInfo, resolvedOptions);
            }
            const activeNewWallets = walletAddInfos
                .filter((walletAddInfo) => walletAddInfo.walletToAdd.status === _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_4__["AirGapWalletStatus"].ACTIVE &&
                !existingWallets.some((wallet) => this.isSameWallet(wallet, walletAddInfo.walletToAdd) && wallet.status === walletAddInfo.walletToAdd.status))
                .map((walletAddInfo) => walletAddInfo.walletToAdd);
            yield this.registerToPushBackend(activeNewWallets);
            this.drawChartProvider.drawChart();
        });
    }
    addWallet(walletAddInfo, resolvedOptions) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.assertWalletGroupExists(walletAddInfo.groupId, walletAddInfo.groupLabel);
            this.assertWalletGroupUpdated(walletAddInfo.groupId, walletAddInfo.groupLabel);
            const walletGroup = this.walletGroups.get(walletAddInfo.groupId);
            this.addToGroup(walletGroup, walletAddInfo.walletToAdd);
            if (resolvedOptions.updateState) {
                this.setActiveGroup(walletGroup);
                this.walletGroups$.next(this.allWalletGroups);
                return this.persist();
            }
        });
    }
    assertWalletGroupExists(groupId, groupLabel) {
        if (!this.walletGroups.has(groupId)) {
            this.walletGroups.set(groupId, new _models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_11__["AirGapMarketWalletGroup"](groupId, groupLabel, undefined, []));
        }
    }
    assertWalletGroupUpdated(groupId, groupLabel) {
        const walletGroup = this.walletGroups.get(groupId);
        if (walletGroup.label !== undefined && walletGroup.label !== groupLabel && groupLabel !== undefined) {
            walletGroup.updateLabel(groupLabel);
        }
    }
    addToGroup(group, wallet) {
        const [oldGroupId, oldIndex] = this.findWalletGroupIdAndIndex(wallet);
        if (oldGroupId !== group.id && oldIndex > -1) {
            this.walletGroups.get(oldGroupId).wallets.splice(oldIndex, 1);
        }
        if (oldGroupId === group.id && oldIndex > -1) {
            group.wallets[oldIndex] = wallet;
        }
        else {
            group.wallets.push(wallet);
        }
        group.updateStatus();
    }
    activateWallet(walletToActivate, groupId, options = {}) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const defaultOptions = {
                updateState: true
            };
            const resolvedOptions = Object.assign(Object.assign({}, defaultOptions), options);
            const walletGroup = this.walletGroups.get(groupId);
            const index = walletGroup.wallets.findIndex((wallet) => this.isSameWallet(wallet, walletToActivate));
            if (index === -1) {
                return;
            }
            walletGroup.wallets[index].status = _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_4__["AirGapWalletStatus"].ACTIVE;
            walletGroup.updateStatus();
            if (resolvedOptions.updateState) {
                this.setActiveGroup(walletGroup);
                this.walletGroups$.next(this.allWalletGroups);
                this.drawChartProvider.drawChart();
                return this.persist();
            }
        });
    }
    removeWallet(walletToRemove, options = {}) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const defaultOptions = {
                updateState: true
            };
            const resolvedOptions = Object.assign(Object.assign({}, defaultOptions), options);
            let group;
            const [groupId, index] = this.findWalletGroupIdAndIndex(walletToRemove);
            if (this.walletGroups.has(groupId) && index > -1) {
                group = this.walletGroups.get(groupId);
                group.wallets[index].status = _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_4__["AirGapWalletStatus"].DELETED;
                group.updateStatus();
            }
            this.unregisterFromPushBackend(walletToRemove);
            if (resolvedOptions.updateState) {
                const activeGroup = group !== undefined && group.status === _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_4__["AirGapWalletStatus"].ACTIVE
                    ? group
                    : this.allWalletGroups.length > 1
                        ? 'all'
                        : this.allWalletGroups[0];
                this.setActiveGroup(activeGroup);
                this.walletGroups$.next(this.allWalletGroups);
                this.drawChartProvider.drawChart();
                return this.persist();
            }
        });
    }
    registerToPushBackend(wallets) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.pushProvider.setupPush();
            this.pushProvider.registerWallets(wallets).catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_19__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_19__["ErrorCategory"].PUSH));
        });
    }
    unregisterFromPushBackend(wallet) {
        this.pushProvider.unregisterWallets([wallet]).catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_19__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_19__["ErrorCategory"].PUSH));
    }
    setWalletNetwork(wallet, network) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield wallet.setProtocol(new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocol"](new _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_3__["TezosProtocolOptions"](network)));
            yield this.persist();
            this.triggerWalletChanged();
        });
    }
    updateWalletGroup(walletGroup) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.walletGroups.set(walletGroup.id, walletGroup);
            return this.persist();
        });
    }
    walletGroupByWallet(wallet) {
        return this.allWalletGroups.find((group) => group.includesWallet(wallet));
    }
    setInteractionSettingForWalletGroupByWallet(wallet, interactionSetting) {
        const group = this.walletGroupByWallet(wallet);
        group.interactionSetting = interactionSetting;
        this.updateWalletGroup(group);
    }
    persist() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield Promise.all([
                this.storageProvider.set(_storage_storage__WEBPACK_IMPORTED_MODULE_20__["WalletStorageKey"].WALLET_GROUPS, this.allWalletGroups
                    .filter((group) => !group.transient)
                    .map((group) => group.toJSON())),
                this.storageProvider.set(_storage_storage__WEBPACK_IMPORTED_MODULE_20__["WalletStorageKey"].WALLET, this.allWallets.map((wallet) => wallet.toJSON()))
            ]);
        });
    }
    getAccountIdentifier(wallet) {
        return wallet.addressIndex
            ? `${wallet.protocol.identifier}-${wallet.publicKey}-${wallet.protocol.options.network.identifier}-${wallet.addressIndex}`
            : `${wallet.protocol.identifier}-${wallet.publicKey}-${wallet.protocol.options.network.identifier}`;
    }
    walletBySerializerAccountIdentifier(accountIdentifier, protocolIdentifier) {
        return this.allWallets.find((wallet) => wallet.publicKey.endsWith(accountIdentifier) && wallet.protocol.identifier === protocolIdentifier);
    }
    walletByPublicKeyAndProtocolAndAddressIndex(publicKey, protocolIdentifier, addressIndex) {
        return this.allWallets.find((wallet) => wallet.publicKey === publicKey && wallet.protocol.identifier === protocolIdentifier && wallet.addressIndex === addressIndex);
    }
    walletExists(testWallet) {
        return this.allWallets.some((wallet) => this.isSameWallet(wallet, testWallet) && wallet.status === testWallet.status);
    }
    isSameWallet(wallet1, wallet2) {
        if (!(wallet1 instanceof _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["AirGapMarketWallet"]) || !(wallet2 instanceof _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["AirGapMarketWallet"])) {
            return false;
        }
        return (wallet1.publicKey === wallet2.publicKey &&
            wallet1.protocol.identifier === wallet2.protocol.identifier &&
            wallet1.addressIndex === wallet2.addressIndex);
    }
    isSameGroup(group, other) {
        if (typeof group === 'string' && typeof other === 'string') {
            return group === other;
        }
        else if (typeof group === 'string') {
            return false;
        }
        else if (typeof other === 'string') {
            return false;
        }
        else {
            return group.id === other.id;
        }
    }
    findWalletGroup(testWallet) {
        for (const group of this.walletGroups.values()) {
            const index = group.wallets.findIndex((wallet) => this.isSameWallet(wallet, testWallet));
            if (index !== -1) {
                return group;
            }
        }
        return undefined;
    }
    findWalletGroupIdAndIndex(testWallet) {
        for (const group of this.walletGroups.values()) {
            const index = group.wallets.findIndex((wallet) => this.isSameWallet(wallet, testWallet));
            if (index !== -1) {
                return [group.id, index];
            }
        }
        return [undefined, -1];
    }
    getKnownViewingKeys() {
        return this.allWallets
            .filter((wallet) => wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ_SHIELDED)
            .map((wallet) => wallet.publicKey);
    }
    getCompatibleAndIncompatibleWalletsForAddress(address) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.usedProtocols$
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["take"])(1), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["map"])((protocols) => {
                const compatibleProtocols = new Map();
                protocols.forEach((protocol) => {
                    const match = address.match(protocol.addressValidationPattern);
                    if (match && match.length > 0) {
                        compatibleProtocols.set(protocol.identifier, protocol);
                    }
                });
                const compatibleWallets = [];
                const incompatibleWallets = [];
                this.allWallets.forEach((wallet) => {
                    if (compatibleProtocols.has(wallet.protocol.identifier)) {
                        compatibleWallets.push(wallet);
                    }
                    else {
                        incompatibleWallets.push(wallet);
                    }
                });
                return {
                    compatibleWallets,
                    incompatibleWallets
                };
            }))
                .toPromise();
        });
    }
    sortGroupsByLabel(groups) {
        const othersIndex = groups.findIndex((group) => group.id === undefined);
        const others = othersIndex > -1 ? groups[othersIndex] : undefined;
        const userDefinedGroups = othersIndex > -1 ? groups.slice(0, othersIndex).concat(groups.slice(othersIndex + 1)) : groups;
        const sorted = userDefinedGroups.sort((a, b) => a.label.localeCompare(b.label));
        return others !== undefined ? [...sorted, others] : sorted;
    }
    createWalletIdentifier(protocolIdentifier, publicKey) {
        return `${protocolIdentifier}_${publicKey}`;
    }
}
AccountProvider.ɵfac = function AccountProvider_Factory(t) { return new (t || AccountProvider)(_angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_storage_storage__WEBPACK_IMPORTED_MODULE_20__["WalletStorageService"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_push_push__WEBPACK_IMPORTED_MODULE_18__["PushProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_draw_chart_draw_chart_service__WEBPACK_IMPORTED_MODULE_14__["DrawChartService"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_6__["PopoverController"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UiEventService"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_6__["AlertController"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_6__["ToastController"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_6__["LoadingController"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_operations_operations__WEBPACK_IMPORTED_MODULE_16__["OperationsProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_data_data_service__WEBPACK_IMPORTED_MODULE_13__["DataService"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_interaction_interaction_service__WEBPACK_IMPORTED_MODULE_15__["InteractionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_price_price_service__WEBPACK_IMPORTED_MODULE_17__["PriceService"]), _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"])); };
AccountProvider.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_21__["ɵɵdefineInjectable"]({ token: AccountProvider, factory: AccountProvider.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "5T1b":
/*!**************************************!*\
  !*** ./src/app/ledger/ReturnCode.ts ***!
  \**************************************/
/*! exports provided: ReturnCode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReturnCode", function() { return ReturnCode; });
var ReturnCode;
(function (ReturnCode) {
    ReturnCode[ReturnCode["COMMAND_NOT_ALLOWED"] = 27014] = "COMMAND_NOT_ALLOWED";
    ReturnCode[ReturnCode["INS_NOT_SUPPORTED"] = 27904] = "INS_NOT_SUPPORTED";
    ReturnCode[ReturnCode["CLA_NOT_SUPPORTED"] = 28160] = "CLA_NOT_SUPPORTED";
    ReturnCode[ReturnCode["UNKNOWN"] = 28416] = "UNKNOWN";
    ReturnCode[ReturnCode["SUCCESS"] = 36864] = "SUCCESS";
})(ReturnCode || (ReturnCode = {}));


/***/ }),

/***/ "5n3a":
/*!***************************************************************!*\
  !*** ./src/app/components/card-actionable/card-actionable.ts ***!
  \***************************************************************/
/*! exports provided: CardActionableComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardActionableComponent", function() { return CardActionableComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");



function CardActionableComponent_ion_col_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ion-col", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "img", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate1"]("src", "./assets/img/", ctx_r0.imageName, "", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
function CardActionableComponent_ion_col_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ion-col", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "img", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate1"]("src", "./assets/img/", ctx_r1.imageName, "", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
class CardActionableComponent {
    constructor() {
        this.imageLeft = true;
    }
}
CardActionableComponent.ɵfac = function CardActionableComponent_Factory(t) { return new (t || CardActionableComponent)(); };
CardActionableComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CardActionableComponent, selectors: [["card-actionable"]], inputs: { imageLeft: "imageLeft", imageName: "imageName", heading: "heading", text: "text" }, decls: 9, vars: 5, consts: [[3, "ngClass"], [1, "ion-align-items-center", "ion-padding-horizontal"], ["size", "4", 4, "ngIf"], ["size", "8"], ["ion-text", "", "color", "white", 1, "ion-no-padding", 3, "innerHTML"], ["name", "arrow-forward-outline"], ["color", "white"], [1, "ion-padding-top", 3, "innerHTML"], ["size", "4"], [3, "src"]], template: function CardActionableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ion-card", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "ion-row", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, CardActionableComponent_ion_col_2_Template, 2, 1, "ion-col", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "ion-col", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "ion-card-title", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "ion-icon", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "ion-text", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "p", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, CardActionableComponent_ion_col_8_Template, 2, 1, "ion-col", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx.imageLeft ? "background--color__gradient--reverse" : "background--color__gradient");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.imageLeft);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx.heading, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx.text, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.imageLeft);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonCard"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonRow"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonCardTitle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonIcon"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonText"]], styles: [".background--color__gradient--reverse[_ngcontent-%COMP%] {\n  background: linear-gradient(90deg, var(--ion-color-primary), 55%, var(--ion-color-secondaryLight));\n}\n\n.background--color__gradient[_ngcontent-%COMP%] {\n  background: linear-gradient(90deg, var(--ion-color-secondaryLight), 45%, var(--ion-color-primary));\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2NhcmQtYWN0aW9uYWJsZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0dBQUE7QUFDRjs7QUFDQTtFQUNFLGtHQUFBO0FBRUYiLCJmaWxlIjoiY2FyZC1hY3Rpb25hYmxlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYmFja2dyb3VuZC0tY29sb3JfX2dyYWRpZW50LS1yZXZlcnNlIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSksIDU1JSwgdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeUxpZ2h0KSk7XG59XG4uYmFja2dyb3VuZC0tY29sb3JfX2dyYWRpZW50IHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5TGlnaHQpLCA0NSUsIHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KSk7XG59XG4iXX0= */"] });


/***/ }),

/***/ 6:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "6PSE":
/*!*************************************************************************************!*\
  !*** ./src/app/components/interaction-selection/interaction-selection.component.ts ***!
  \*************************************************************************************/
/*! exports provided: InteractionSelectionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InteractionSelectionComponent", function() { return InteractionSelectionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var src_app_models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/models/AirGapMarketWalletGroup */ "z4jU");
/* harmony import */ var src_app_services_account_account_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/account/account.provider */ "57MG");
/* harmony import */ var src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");













function InteractionSelectionComponent_h3_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](0, "h3", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](1, "translate");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](1, 1, "interaction-selection-settings.same-device_heading"), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵsanitizeHtml"]);
} }
function InteractionSelectionComponent_h3_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](0, "h3", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](1, "translate");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](1, 1, "interaction-selection-settings.offline-device_heading"), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵsanitizeHtml"]);
} }
function InteractionSelectionComponent_ion_item_21_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "ion-item");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](1, "ion-label", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](4, "ion-radio", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](3, 2, "interaction-selection-settings.selector.same-device"));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("value", ctx_r2.interactionSetting.SAME_DEVICE);
} }
function InteractionSelectionComponent_ion_item_27_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "ion-item");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](1, "ion-label", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](4, "ion-radio", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](3, 2, "interaction-selection-settings.selector.ledger"));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("value", ctx_r3.interactionSetting.LEDGER);
} }
class InteractionSelectionComponent {
    constructor(modalController, accountService, platform, router) {
        this.modalController = modalController;
        this.accountService = accountService;
        this.platform = platform;
        this.router = router;
        this.interactionSetting = src_app_models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_3__["InteractionSetting"];
        this.onlyOneGroupPresent = false;
        this.dismissOnly = false;
        this.isMobile = false;
    }
    ngOnInit() {
        this.selectedSetting = this.selectedSetting
            ? this.selectedSetting
            : this.walletGroup.interactionSetting && this.walletGroup.interactionSetting !== src_app_models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_3__["InteractionSetting"].UNDETERMINED
                ? this.walletGroup.interactionSetting
                : src_app_models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_3__["InteractionSetting"].ALWAYS_ASK;
        this.onSelectedSettingChange(this.selectedSetting);
        this.isMobile = this.platform.is('mobile');
    }
    onSelectedSettingChange(selectedSetting) {
        this.walletGroup.interactionSetting = selectedSetting;
        this.accountService.updateWalletGroup(this.walletGroup);
    }
    dismiss() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.onlyOneGroupPresent && !this.dismissOnly) {
                this.router.navigateByUrl('/tabs/settings', { replaceUrl: true }).catch(Object(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_5__["handleErrorSentry"])(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_5__["ErrorCategory"].NAVIGATION));
            }
            this.modalController.dismiss().catch(Object(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_5__["handleErrorSentry"])(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_5__["ErrorCategory"].NAVIGATION));
        });
    }
}
InteractionSelectionComponent.ɵfac = function InteractionSelectionComponent_Factory(t) { return new (t || InteractionSelectionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"]), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](src_app_services_account_account_provider__WEBPACK_IMPORTED_MODULE_4__["AccountProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"]), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"])); };
InteractionSelectionComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({ type: InteractionSelectionComponent, selectors: [["app-interaction-selection"]], decls: 35, vars: 25, consts: [[1, "ion-no-border"], ["slot", "end"], ["color", "secondary", 3, "click"], ["name", "close-outline"], [1, "ion-padding"], [3, "innerHTML", 4, "ngIf"], ["lines", "none", 1, "ion-padding-vertical"], [3, "ngModel", "ngModelChange"], ["color", "secondary"], ["slot", "end", 1, "ion-no-margin", 3, "value"], [4, "ngIf"], ["vertical", "bottom", "horizontal", "end", "slot", "fixed"], ["color", "primary", "shape", "round", 3, "click"], [3, "innerHTML"]], template: function InteractionSelectionComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "ion-header", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](1, "ion-toolbar");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](2, "ion-title");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](4, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](5, "ion-buttons", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](6, "ion-button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function InteractionSelectionComponent_Template_ion_button_click_6_listener() { return ctx.dismiss(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](7, "ion-icon", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](8, "ion-content", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](9, InteractionSelectionComponent_h3_9_Template, 2, 3, "h3", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](10, InteractionSelectionComponent_h3_10_Template, 2, 3, "h3", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](11, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](12);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](13, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](14, "ion-list", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](15, "ion-radio-group", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("ngModelChange", function InteractionSelectionComponent_Template_ion_radio_group_ngModelChange_15_listener($event) { return ctx.onSelectedSettingChange($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](16, "ion-item");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](17, "ion-label", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](18);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](19, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](20, "ion-radio", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](21, InteractionSelectionComponent_ion_item_21_Template, 5, 4, "ion-item", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](22, "ion-item");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](23, "ion-label", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](24);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](25, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](26, "ion-radio", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](27, InteractionSelectionComponent_ion_item_27_Template, 5, 4, "ion-item", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](28, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](29);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](30, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](31, "ion-fab", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](32, "ion-button", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function InteractionSelectionComponent_Template_ion_button_click_32_listener() { return ctx.dismiss(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](33);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](34, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](4, 13, "interaction-selection-settings.title"));
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.selectedSetting === ctx.interactionSetting.SAME_DEVICE);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.selectedSetting === ctx.interactionSetting.OFFLINE_DEVICE);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](13, 15, "interaction-selection-settings.text"));
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngModel", ctx.selectedSetting);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](19, 17, "interaction-selection-settings.selector.always"));
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("value", ctx.interactionSetting.ALWAYS_ASK);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.isMobile);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](25, 19, "interaction-selection-settings.selector.offline-device"));
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("value", ctx.interactionSetting.OFFLINE_DEVICE);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !ctx.isMobile);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](30, 21, "interaction-selection-settings.description"));
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](34, 23, "interaction-selection-settings.confirm_label"), " ");
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonHeader"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonToolbar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonTitle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonButtons"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonButton"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonIcon"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonContent"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonList"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonRadioGroup"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["SelectValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_8__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_8__["NgModel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonRadio"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["RadioValueAccessor"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonFab"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__["TranslatePipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpbnRlcmFjdGlvbi1zZWxlY3Rpb24uY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ "6odL":
/*!*****************************************!*\
  !*** ./src/app/ledger/app/LedgerApp.ts ***!
  \*****************************************/
/*! exports provided: LedgerApp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LedgerApp", function() { return LedgerApp; });
const BYTES_DERIVATION_JUNCTION = 4;
const MASK_HARD_DERIVATION = 0x80000000;
const MASK_SOFT_DERIVATION = 0x00000000;
class LedgerApp {
    constructor(connection) {
        this.connection = connection;
    }
    init() {
        // by default do nothing
    }
    derivationPathToArray(derivationPath) {
        if (!derivationPath.startsWith('m/')) {
            throw new Error('Invalid derivation path: the path should start with `m/`');
        }
        return derivationPath
            .split('/')
            .slice(1) // ignore the `m` prefix
            .map((junction) => {
            const isHard = !!junction.match(/\d+[\'|h]/);
            const indexRaw = isHard ? junction.slice(0, -1) : junction;
            const index = parseInt(indexRaw, 10);
            if (isNaN(index)) {
                throw new Error(`Invalid derivation path: index ${indexRaw} is not a number`);
            }
            else {
                const mask = isHard ? MASK_HARD_DERIVATION : MASK_SOFT_DERIVATION;
                const masked = (BigInt(mask) | BigInt(index)).toString();
                return parseInt(masked, 10);
            }
        });
    }
    derivationPathToBuffer(derivationPath) {
        const deriveJunctions = this.derivationPathToArray(derivationPath);
        const buffer = Buffer.alloc(deriveJunctions.length * BYTES_DERIVATION_JUNCTION);
        deriveJunctions.forEach((junction, index) => {
            buffer.writeUInt32LE(junction, index * BYTES_DERIVATION_JUNCTION);
        });
        return buffer;
    }
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/node-libs-browser/node_modules/buffer/index.js */ "HDXh").Buffer))

/***/ }),

/***/ "6qOO":
/*!********************************************************************!*\
  !*** ./src/app/extensions/delegation/TezosDelegationExtensions.ts ***!
  \********************************************************************/
/*! exports provided: TezosDelegationExtensions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TezosDelegationExtensions", function() { return TezosDelegationExtensions; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core/utils/ProtocolNetwork */ "14cC");
/* harmony import */ var _airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment */ "wd/R");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var src_app_models_widgets_display_UIAccountSummary__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/models/widgets/display/UIAccountSummary */ "+A10");
/* harmony import */ var src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/models/widgets/display/UIIconText */ "tZEG");
/* harmony import */ var src_app_models_widgets_display_UIRewardList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/models/widgets/display/UIRewardList */ "76Ou");
/* harmony import */ var _ProtocolDelegationExtensions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ProtocolDelegationExtensions */ "VWe/");









class TezosDelegationExtensions extends _ProtocolDelegationExtensions__WEBPACK_IMPORTED_MODULE_8__["ProtocolDelegationExtensions"] {
    constructor(coinlibService, decimalPipe, amountConverterPipe, shortenStringPipe, translateService, addressService, formBuilder) {
        super();
        this.coinlibService = coinlibService;
        this.decimalPipe = decimalPipe;
        this.amountConverterPipe = amountConverterPipe;
        this.shortenStringPipe = shortenStringPipe;
        this.translateService = translateService;
        this.addressService = addressService;
        this.formBuilder = formBuilder;
        this.delegateeLabel = 'delegation-detail-tezos.delegatee-label';
        this.delegateeLabelPlural = 'delegation-detail-tezos.delegatee-label-plural';
        this.supportsMultipleDelegations = false;
    }
    static create(coinlibService, decimalPipe, amountConverter, shortenStringPipe, translateService, addressService, formBuilder) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!TezosDelegationExtensions.instance) {
                TezosDelegationExtensions.instance = new TezosDelegationExtensions(coinlibService, decimalPipe, amountConverter, shortenStringPipe, translateService, addressService, formBuilder);
            }
            return TezosDelegationExtensions.instance;
        });
    }
    airGapDelegatee(protocol) {
        if (protocol.options.network.type !== _airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_2__["NetworkType"].MAINNET) {
            return 'tz1aWXP237BLwNHJcCD4b3DutCevhqq2T1Z9';
        }
        return 'tz1MJx9vhaNRSimcuXPK2rW4fLccQnDAnVKJ';
    }
    getExtraDelegationDetailsFromAddress(protocol, delegator, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const delegationDetails = yield protocol.getDelegationDetailsFromAddress(delegator, delegatees);
            const extraDetails = yield this.getExtraDelegationDetails(protocol, delegationDetails.delegator, delegationDetails.delegatees[0]);
            return [extraDetails];
        });
    }
    createDelegateesSummary(_protocol, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const knownBakers = yield this.getKnownBakers();
            return [
                ...Object.entries(knownBakers).map(([address, baker]) => (Object.assign({ address }, baker))),
                ...delegatees.filter((baker) => !Object.keys(knownBakers).includes(baker)).map((baker) => ({ address: baker }))
            ]
                .sort((a, b) => {
                const aAlias = a.alias || '';
                const bAlias = b.alias || '';
                return aAlias.localeCompare(bAlias);
            })
                .map((details) => new src_app_models_widgets_display_UIAccountSummary__WEBPACK_IMPORTED_MODULE_5__["UIAccountSummary"]({
                address: details.address,
                logo: details.logo ? details.logo : undefined,
                header: [
                    details.alias || '',
                    details.fee ? `${this.decimalPipe.transform(new bignumber_js__WEBPACK_IMPORTED_MODULE_3___default.a(details.fee).times(100).toString())}%` : ''
                ],
                description: this.shortenStringPipe.transform(details.address)
            }));
        });
    }
    getExtraDelegationDetails(protocol, delegatorDetails, delegateeDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const [delegator, delegatee] = yield Promise.all([
                this.getExtraDelegatorDetails(delegatorDetails, delegateeDetails),
                this.getExtraBakerDetails(protocol, delegateeDetails)
            ]);
            return { delegator, delegatees: [delegatee] };
        });
    }
    getExtraBakerDetails(protocol, bakerDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const [bakerInfo, delegateeDetails, knownBakers] = yield Promise.all([
                protocol.bakerInfo(bakerDetails.address),
                protocol.getDelegateeDetails(bakerDetails.address),
                this.getKnownBakers()
            ]);
            const knownBaker = knownBakers[bakerDetails.address];
            const name = knownBaker
                ? knownBaker.alias
                : (yield this.addressService.getAlias(bakerDetails.address, protocol)) ||
                    this.translateService.instant('delegation-detail-tezos.unknown');
            const bakerTotalUsage = knownBaker && knownBaker.stakingCapacity
                ? knownBaker.stakingCapacity.shiftedBy(protocol.decimals)
                : new bignumber_js__WEBPACK_IMPORTED_MODULE_3___default.a(bakerInfo.bakerCapacity).multipliedBy(0.7);
            const bakerCurrentUsage = bignumber_js__WEBPACK_IMPORTED_MODULE_3___default.a.minimum(new bignumber_js__WEBPACK_IMPORTED_MODULE_3___default.a(bakerInfo.stakingBalance), bakerTotalUsage);
            const bakerUsage = bakerCurrentUsage.dividedBy(bakerTotalUsage);
            let status;
            if (delegateeDetails.status && bakerUsage.lt(1)) {
                status = 'delegation-detail-tezos.status.accepts-delegation';
            }
            else if (delegateeDetails.status === 'Active') {
                status = 'delegation-detail-tezos.status.reached-full-capacity';
            }
            else {
                status = 'delegation-detail-tezos.status.deactivated';
            }
            const displayDetails = this.createDelegateeDisplayDetails(protocol, knownBaker);
            return {
                name,
                status,
                address: bakerDetails.address,
                logo: knownBaker ? knownBaker.logo : undefined,
                usageDetails: {
                    usage: bakerUsage,
                    current: bakerCurrentUsage,
                    total: bakerTotalUsage
                },
                displayDetails
            };
        });
    }
    getExtraDelegatorDetails(delegatorDetails, bakerDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const delegateAction = this.createDelegateAction(delegatorDetails.availableActions, bakerDetails.address);
            const undelegateAction = this.createUndelegateAction(delegatorDetails.availableActions);
            return Object.assign(Object.assign({}, delegatorDetails), { mainActions: delegateAction ? [delegateAction] : undefined, secondaryActions: undelegateAction ? [undelegateAction] : undefined });
        });
    }
    getRewardDisplayDetails(protocol, delegator) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const delegatorExtraInfo = yield protocol.getDelegationInfo(delegator);
            return this.createDelegatorDisplayRewards(protocol, delegator, delegatorExtraInfo).catch(() => undefined);
        });
    }
    createDelegateeDisplayDetails(protocol, baker) {
        return [
            new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_6__["UIIconText"]({
                iconName: 'logo-usd',
                text: baker && baker.fee ? `${this.decimalPipe.transform(baker.fee.multipliedBy(100).toString())}%` : 'delegation-detail-tezos.unknown',
                description: 'delegation-detail-tezos.fee_label'
            }),
            new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_6__["UIIconText"]({
                iconName: 'sync-outline',
                textHTML: baker !== undefined && baker.payoutPeriod !== undefined && baker.payoutDelay !== undefined
                    ? this.getDetailedPayoutScheduleText(protocol, baker)
                    : 'delegation-detail-tezos.unknown',
                description: 'delegation-detail-tezos.payout-schedule_label'
            })
        ];
    }
    createDelegateAction(availableActions, bakerAddress) {
        return this.createDelegatorAction(availableActions, [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["TezosDelegatorAction"].DELEGATE, _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["TezosDelegatorAction"].CHANGE_BAKER], 'delegation-detail-tezos.delegate_label', this.formBuilder.group({ delegate: bakerAddress }));
    }
    createUndelegateAction(availableActions) {
        const action = this.createDelegatorAction(availableActions, [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["TezosDelegatorAction"].UNDELEGATE], 'delegation-detail-tezos.undelegate_label');
        if (action) {
            action.iconName = 'close-outline';
        }
        return action;
    }
    createDelegatorAction(availableActions, types, label, form) {
        const action = availableActions.find((action) => types.includes(action.type));
        return action
            ? {
                type: action.type,
                label,
                form: form
            }
            : null;
    }
    createDelegatorDisplayRewards(protocol, address, delegatorExtraInfo) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!delegatorExtraInfo.isDelegated || !delegatorExtraInfo.value) {
                return undefined;
            }
            const rewardInfo = yield protocol.getDelegationRewards(delegatorExtraInfo.value, address);
            return new src_app_models_widgets_display_UIRewardList__WEBPACK_IMPORTED_MODULE_7__["UIRewardList"]({
                rewards: yield Promise.all(rewardInfo.map((info) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    return {
                        index: info.cycle,
                        amount: yield this.amountConverterPipe.transform(new bignumber_js__WEBPACK_IMPORTED_MODULE_3___default.a(info.reward), {
                            protocol
                        }),
                        collected: info.payout < new Date(),
                        timestamp: info.payout.getTime()
                    };
                }))),
                indexColLabel: 'delegation-detail-tezos.rewards.index-col_label',
                amountColLabel: 'delegation-detail-tezos.rewards.amount-col_label',
                payoutColLabel: 'delegation-detail-tezos.rewards.payout-col_label'
            });
        });
    }
    getKnownBakers() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.knownBakers === undefined) {
                this.knownBakers = yield this.coinlibService.getKnownTezosBakers();
            }
            return this.knownBakers;
        });
    }
    getDetailedPayoutScheduleText(protocol, baker) {
        if (baker.payoutDelay === 1 && baker.payoutPeriod === 1) {
            return this.translateService.instant('delegation-detail-tezos.payout-schedule-every-cycle-last-rewards_text', {
                payoutTime: this.getFormattedCycleDuration(protocol)
            });
        }
        else if (baker.payoutPeriod === 1) {
            return this.translateService.instant('delegation-detail-tezos.payout-schedule-every-cycle-delayed-rewards_text', {
                payoutTime: this.getFormattedCycleDuration(protocol),
                payoutDelay: baker.payoutDelay
            });
        }
        else {
            return this.translateService.instant('delegation-detail-tezos.payout-schedule-every-n-cycle_text', {
                payoutTime: this.getFormattedCycleDuration(protocol, baker.payoutPeriod),
                cycles: baker.payoutPeriod
            });
        }
    }
    getFormattedCycleDuration(protocol, cycleNumber = 1) {
        const cycleDuration = moment__WEBPACK_IMPORTED_MODULE_4__["duration"](cycleNumber * protocol.minCycleDuration);
        return cycleDuration.locale(this.translateService.currentLang).humanize();
    }
}


/***/ }),

/***/ 7:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "76Ou":
/*!********************************************************!*\
  !*** ./src/app/models/widgets/display/UIRewardList.ts ***!
  \********************************************************/
/*! exports provided: UIRewardList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIRewardList", function() { return UIRewardList; });
/* harmony import */ var _UIWidget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIWidget */ "Ochd");

class UIRewardList extends _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidget"] {
    constructor(config) {
        super(config);
        this.type = _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidgetType"].REWARD_LIST;
        this.rewards = config.rewards;
        this.indexColLabel = config.indexColLabel;
        this.amountColLabel = config.amountColLabel;
        this.payoutColLabel = config.payoutColLabel;
    }
}


/***/ }),

/***/ 8:
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "8761":
/*!******************************************************************!*\
  !*** ./src/app/components/tezos-fa-form/tezos-fa-form.facade.ts ***!
  \******************************************************************/
/*! exports provided: TEZOS_FA_FORM_FACADE, TezosFAFormNgRxFacade */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TEZOS_FA_FORM_FACADE", function() { return TEZOS_FA_FORM_FACADE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TezosFAFormNgRxFacade", function() { return TezosFAFormNgRxFacade; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _tezos_fa_form_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tezos-fa-form.store */ "EX6Z");







const TEZOS_FA_FORM_FACADE = new _angular_core__WEBPACK_IMPORTED_MODULE_2__["InjectionToken"]('TezosFAFormFacade');
class TezosFAFormNgRxFacade {
    constructor(store, clipboardService) {
        this.store = store;
        this.clipboardService = clipboardService;
        this.tokenInterface$ = this.store.select((state) => state.tokenInterface);
        this.tokenID$ = this.store.select((state) => state.tokenID);
        this.tokenInterfaces$ = this.store.select((state) => state.tokenInterfaces);
        this.tokens$ = this.store.select((state) => state.tokens);
        this.networks$ = this.store.select((state) => state.networks);
        this.protocol$ = this.store.select((state) => state.protocol);
        this.errorDescription$ = this.store.select((state) => state.errorDescription);
    }
    onInit() {
        this.store.onInit();
    }
    onTokenDetailsInput(details) {
        this.store.onTokenDetailsInput(details);
    }
    getFromClipboard() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                return this.clipboardService.paste();
            }
            catch (error) {
                console.error('Error: ' + error);
                return undefined;
            }
        });
    }
}
TezosFAFormNgRxFacade.ɵfac = function TezosFAFormNgRxFacade_Factory(t) { return new (t || TezosFAFormNgRxFacade)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_tezos_fa_form_store__WEBPACK_IMPORTED_MODULE_3__["TezosFAFormStore"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ClipboardService"])); };
TezosFAFormNgRxFacade.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: TezosFAFormNgRxFacade, factory: TezosFAFormNgRxFacade.ɵfac });


/***/ }),

/***/ "8xAc":
/*!*****************************************************************!*\
  !*** ./src/app/services/walletconnect/walletconnect.service.ts ***!
  \*****************************************************************/
/*! exports provided: WalletconnectService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WalletconnectService", function() { return WalletconnectService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _walletconnect_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @walletconnect/client */ "4Hp+");
/* harmony import */ var src_app_pages_dapp_confirm_dapp_confirm_page__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/pages/dapp-confirm/dapp-confirm.page */ "/6A1");
/* harmony import */ var _pages_walletconnect_walletconnect_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../pages/walletconnect/walletconnect.page */ "tkru");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./helpers */ "GP4y");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash */ "LvDl");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var src_app_pages_error_error_page__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/pages/error/error.page */ "xuQ1");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ "fXoL");














class WalletconnectService {
    constructor(modalController, loadingController, translateService, uiEventService) {
        this.modalController = modalController;
        this.loadingController = loadingController;
        this.translateService = translateService;
        this.uiEventService = uiEventService;
    }
    initWalletConnect() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const allSessions = yield Object(_helpers__WEBPACK_IMPORTED_MODULE_6__["getAllValidWalletConnectSessions"])();
            if (Object(lodash__WEBPACK_IMPORTED_MODULE_7__["isEmpty"])(allSessions)) {
                return;
            }
            Object(lodash__WEBPACK_IMPORTED_MODULE_7__["mapValues"])(allSessions, (session) => {
                const walletConnector = new _walletconnect_client__WEBPACK_IMPORTED_MODULE_3__["default"]({ clientMeta: _helpers__WEBPACK_IMPORTED_MODULE_6__["clientMeta"], session });
                this.subscribeToEvents(walletConnector);
            });
        });
    }
    connect(uri) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let connector = new _walletconnect_client__WEBPACK_IMPORTED_MODULE_3__["default"]({
                uri,
                clientMeta: _helpers__WEBPACK_IMPORTED_MODULE_6__["clientMeta"]
            });
            if (!connector.connected) {
                yield connector.createSession();
            }
            this.subscribeToEvents(connector);
            this.presentLoading();
            this.timeout = setTimeout(() => {
                this.showTimeoutAlert();
            }, 1008);
        });
    }
    presentLoading() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.loading = yield this.loadingController.create({
                message: this.translateService.instant('walletconnect.wait'),
                backdropDismiss: true
            });
            yield this.loading.present();
        });
    }
    subscribeToEvents(connector) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!connector) {
                return;
            }
            connector.on('session_request', (error, payload) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                var _a;
                clearTimeout(this.timeout);
                this.loading.dismiss();
                if (error) {
                    const modal = yield this.modalController.create({
                        component: src_app_pages_error_error_page__WEBPACK_IMPORTED_MODULE_8__["ErrorPage"],
                        componentProps: {
                            title: (_a = error.message) !== null && _a !== void 0 ? _a : 'Error',
                            message: this.translateService.instant('walletconnect.error'),
                            data: undefined
                        }
                    });
                    return modal.present();
                }
                this.presentModal(payload, connector);
            }));
            connector.on('call_request', (error, payload) => {
                if (error) {
                    throw error;
                }
                this.activeConnector = connector;
                this.presentModal(payload, connector);
            });
        });
    }
    showTimeoutAlert() {
        var _a;
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            (_a = this.loading) === null || _a === void 0 ? void 0 : _a.dismiss();
            yield this.uiEventService.showTranslatedAlert({
                header: 'walletconnect.timeout.title',
                message: 'walletconnect.timeout.message',
                buttons: [
                    {
                        text: 'ok',
                        role: 'cancel',
                        cssClass: 'secondary'
                    }
                ],
                backdropDismiss: false
            });
        });
    }
    approveRequest(id, result) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.presentConfirmationModal(id, result);
        });
    }
    presentConfirmationModal(id, result) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const modal = yield this.modalController.create({
                component: src_app_pages_dapp_confirm_dapp_confirm_page__WEBPACK_IMPORTED_MODULE_4__["DappConfirmPage"],
                componentProps: {
                    connector: this.activeConnector,
                    id: id,
                    result: result
                }
            });
            return modal.present();
        });
    }
    presentModal(request, connector) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const modal = yield this.modalController.create({
                component: _pages_walletconnect_walletconnect_page__WEBPACK_IMPORTED_MODULE_5__["WalletconnectPage"],
                componentProps: {
                    request,
                    connector: connector,
                    walletConnectService: this
                }
            });
            return modal.present();
        });
    }
}
WalletconnectService.ɵfac = function WalletconnectService_Factory(t) { return new (t || WalletconnectService)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["LoadingController"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵinject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_2__["TranslateService"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_9__["UiEventService"])); };
WalletconnectService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineInjectable"]({ token: WalletconnectService, factory: WalletconnectService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ 9:
/*!************************!*\
  !*** buffer (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "9nui":
/*!*****************************************************!*\
  !*** ./src/app/services/caching/caching.service.ts ***!
  \*****************************************************/
/*! exports provided: CachingServiceKey, CachingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CachingServiceKey", function() { return CachingServiceKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CachingService", function() { return CachingService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _storage_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../storage/storage */ "AFs5");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");




var CachingServiceKey;
(function (CachingServiceKey) {
    CachingServiceKey["PRICEDATA"] = "pricedata";
    CachingServiceKey["TRANSACTIONS"] = "transactions";
    CachingServiceKey["VALIDATORS"] = "validators";
    CachingServiceKey["DELEGATIONS"] = "delegations";
    CachingServiceKey["BALANCE"] = "balance";
})(CachingServiceKey || (CachingServiceKey = {}));
class CachingService {
    constructor(storage) {
        this.storage = storage;
    }
    cachePriceData(marketSymbols, value, timeInterval) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const uniqueId = `${marketSymbols.sort().join()}_${timeInterval}_${CachingServiceKey.PRICEDATA}`;
            return this.set(uniqueId, { value, timestamp: Date.now() });
        });
    }
    getPriceData(marketSymbols, timeInterval) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const uniqueId = `${marketSymbols.sort().join()}_${timeInterval}_${CachingServiceKey.PRICEDATA}`;
            return this.get(uniqueId);
        });
    }
    cacheWalletData(wallet, value, key) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const uniqueId = `${wallet.publicKey}_${wallet.protocol.identifier}_${key}`;
            return this.set(uniqueId, { value, timestamp: Date.now() });
        });
    }
    getWalletData(wallet, key) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const uniqueId = `${wallet.publicKey}_${wallet.protocol.identifier}_${key}`;
            return this.get(uniqueId);
        });
    }
    set(key, value) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.storage.setCache(key, value);
        });
    }
    get(key) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.storage.getCache(key);
        });
    }
}
CachingService.ɵfac = function CachingService_Factory(t) { return new (t || CachingService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_storage_storage__WEBPACK_IMPORTED_MODULE_1__["WalletStorageService"])); };
CachingService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: CachingService, factory: CachingService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "AD7y":
/*!*******************************************!*\
  !*** ./src/app/models/ElectronProcess.ts ***!
  \*******************************************/
/*! exports provided: ElectronProcess */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ElectronProcess", function() { return ElectronProcess; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _Deferred__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Deferred */ "ryp6");


let ipcRenderer;
function initElectronDeps(electron) {
    ipcRenderer = electron.ipcRenderer;
}
var ElectronProcessMessage;
(function (ElectronProcessMessage) {
    ElectronProcessMessage["SPAWN"] = "spawn-process";
    ElectronProcessMessage["SPAWN_REPLY"] = "spawn-process-reply";
    ElectronProcessMessage["SEND"] = "send-to-child";
    ElectronProcessMessage["SEND_REPLY"] = "send-to-child-reply";
})(ElectronProcessMessage || (ElectronProcessMessage = {}));
class ElectronProcess {
    constructor(name) {
        this.name = name;
        this.pid = null;
        this.ipcDeferred = new Map();
        if (window.require) {
            const electron = window.require('electron');
            initElectronDeps(electron);
            this.initMessageListeners();
        }
        else {
            throw new Error('ElectronProcess can be used only within Electron.');
        }
    }
    send(requestId, messageType, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.pid) {
                const spawnDeferred = this.getSpawnDeferred();
                this.pid = yield spawnDeferred.promise;
            }
            const sendDeferredId = `${requestId}_${new Date().getTime().toString()}`;
            const sendDeferred = new _Deferred__WEBPACK_IMPORTED_MODULE_1__["Deferred"]();
            this.ipcDeferred.set(sendDeferredId, sendDeferred);
            ipcRenderer.send(ElectronProcessMessage.SEND, sendDeferredId, this.name, messageType, data);
            return sendDeferred.promise;
        });
    }
    initMessageListeners() {
        ipcRenderer.on(ElectronProcessMessage.SPAWN_REPLY, (_event, deferredId, pid) => {
            this.pid = pid;
            this.resolveDeferred(deferredId, pid);
        });
        ipcRenderer.on(ElectronProcessMessage.SEND_REPLY, (_event, deferredId, data) => {
            this.resolveDeferred(deferredId, data);
        });
    }
    getSpawnDeferred() {
        const deferredId = `${ElectronProcessMessage.SPAWN}`;
        let deferred = this.ipcDeferred.get(deferredId);
        if (!deferred) {
            deferred = new _Deferred__WEBPACK_IMPORTED_MODULE_1__["Deferred"]();
            this.ipcDeferred.set(deferredId, deferred);
            ipcRenderer.send(ElectronProcessMessage.SPAWN, deferredId, this.name);
        }
        return deferred;
    }
    resolveDeferred(deferredId, result) {
        const deferred = this.ipcDeferred.get(deferredId);
        if (!deferred) {
            return;
        }
        if (result.error) {
            const error = result.error.message ? new Error(result.error.message) : result.error;
            deferred.reject(error);
        }
        else {
            deferred.resolve(result);
        }
        this.ipcDeferred.delete(deferredId);
    }
}


/***/ }),

/***/ "AFs5":
/*!*********************************************!*\
  !*** ./src/app/services/storage/storage.ts ***!
  \*********************************************/
/*! exports provided: WalletStorageKey, WalletStorageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WalletStorageKey", function() { return WalletStorageKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WalletStorageService", function() { return WalletStorageService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "e8h1");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");





var WalletStorageKey;
(function (WalletStorageKey) {
    WalletStorageKey["INTRODUCTION"] = "introduction";
    WalletStorageKey["WALLET_INTRODUCTION"] = "walletIntroduction";
    WalletStorageKey["CAMERA_PERMISSION_ASKED"] = "cameraPermissionAsked";
    WalletStorageKey["DEEP_LINK"] = "deepLink";
    WalletStorageKey["PUSH_INTRODUCTION"] = "pushIntroduction";
    WalletStorageKey["EXCHANGE_INTEGRATION"] = "exchangeIntroduction";
    WalletStorageKey["WALLET"] = "wallets";
    WalletStorageKey["WALLET_GROUPS"] = "walletGroups";
    WalletStorageKey["LAST_TX_BROADCAST"] = "lastTxBroadcast";
    WalletStorageKey["USER_ID"] = "user_id";
    WalletStorageKey["PENDING_EXCHANGE_TRANSACTIONS"] = "PENDING_EXCHANGE_TRANSACTIONS";
    WalletStorageKey["BEACON_REQUESTS"] = "BEACON_REQUESTS";
    WalletStorageKey["PENDING_REQUEST"] = "PENDING_REQUEST";
    WalletStorageKey["GENERIC_SUBPROTOCOLS"] = "GENERIC_SUBPROTOCOLS";
})(WalletStorageKey || (WalletStorageKey = {}));
const defaultValues = {
    [WalletStorageKey.INTRODUCTION]: false,
    [WalletStorageKey.WALLET_INTRODUCTION]: false,
    [WalletStorageKey.CAMERA_PERMISSION_ASKED]: false,
    [WalletStorageKey.DEEP_LINK]: false,
    [WalletStorageKey.PUSH_INTRODUCTION]: false,
    [WalletStorageKey.EXCHANGE_INTEGRATION]: false,
    [WalletStorageKey.WALLET]: undefined,
    [WalletStorageKey.WALLET_GROUPS]: undefined,
    [WalletStorageKey.LAST_TX_BROADCAST]: undefined,
    [WalletStorageKey.USER_ID]: undefined,
    [WalletStorageKey.PENDING_EXCHANGE_TRANSACTIONS]: [],
    [WalletStorageKey.BEACON_REQUESTS]: [],
    [WalletStorageKey.PENDING_REQUEST]: [],
    [WalletStorageKey.GENERIC_SUBPROTOCOLS]: {}
};
class WalletStorageService extends _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["BaseStorage"] {
    constructor(storage) {
        super(storage, defaultValues);
    }
    getCache(key) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.storage.ready();
            return this.storage.get(`cache-${key}`);
        });
    }
    setCache(key, value) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.storage.ready();
            return this.storage.set(`cache-${key}`, value);
        });
    }
}
WalletStorageService.ɵfac = function WalletStorageService_Factory(t) { return new (t || WalletStorageService)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"])); };
WalletStorageService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({ token: WalletStorageService, factory: WalletStorageService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "AytR":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
const environment = {
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "Bpmc":
/*!*******************************************************!*\
  !*** ./src/app/capacitor-plugins/injection-tokens.ts ***!
  \*******************************************************/
/*! exports provided: BROWSER_PLUGIN, PUSH_NOTIFICATIONS_PLUGIN, SHARE_PLUGIN, SAPLING_PLUGIN */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BROWSER_PLUGIN", function() { return BROWSER_PLUGIN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PUSH_NOTIFICATIONS_PLUGIN", function() { return PUSH_NOTIFICATIONS_PLUGIN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHARE_PLUGIN", function() { return SHARE_PLUGIN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SAPLING_PLUGIN", function() { return SAPLING_PLUGIN; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");

const BROWSER_PLUGIN = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('BrowserPlugin');
const PUSH_NOTIFICATIONS_PLUGIN = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('PushNotificationsPlugin');
const SHARE_PLUGIN = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('SharePlugin');
const SAPLING_PLUGIN = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('SaplingPlugin');


/***/ }),

/***/ "Bx04":
/*!***********************************************************!*\
  !*** ./src/app/components/currency-item/currency-item.ts ***!
  \***********************************************************/
/*! exports provided: CurrencyItemComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrencyItemComponent", function() { return CurrencyItemComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");





function CurrencyItemComponent_ion_item_0_span_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.protocol.symbol);
} }
function CurrencyItemComponent_ion_item_0_ion_radio_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "ion-radio", 5);
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx_r2.protocol.identifier);
} }
function CurrencyItemComponent_ion_item_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ion-item", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "airgap-currency-symbol", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, CurrencyItemComponent_ion_item_0_span_7_Template, 2, 1, "span", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, CurrencyItemComponent_ion_item_0_ion_radio_8_Template, 1, 1, "ion-radio", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("symbol", ctx_r0.protocol.symbol);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 4, ctx_r0.protocol.name));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.showSymbol);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.radioList);
} }
class CurrencyItemComponent {
    constructor() {
        this.radioList = false;
        this.showSymbol = true;
    }
}
CurrencyItemComponent.ɵfac = function CurrencyItemComponent_Factory(t) { return new (t || CurrencyItemComponent)(); };
CurrencyItemComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CurrencyItemComponent, selectors: [["currency-item"]], inputs: { protocol: "protocol", radioList: "radioList", showSymbol: "showSymbol" }, decls: 1, vars: 1, consts: [["class", "ion-no-padding", "lines", "none", 4, "ngIf"], ["lines", "none", 1, "ion-no-padding"], ["slot", "start", 1, "item__image", 3, "symbol"], [4, "ngIf"], ["slot", "end", 3, "value", 4, "ngIf"], ["slot", "end", 3, "value"]], template: function CurrencyItemComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, CurrencyItemComponent_ion_item_0_Template, 9, 6, "ion-item", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.protocol);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonItem"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_3__["CurrencySymbolComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonRadio"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["RadioValueAccessor"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslatePipe"]], styles: [".item__image[_ngcontent-%COMP%] {\n  width: 32px;\n  height: 32px;\n}\n\nspan[_ngcontent-%COMP%] {\n  margin-left: 5px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2N1cnJlbmN5LWl0ZW0uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxnQkFBQTtBQUVGIiwiZmlsZSI6ImN1cnJlbmN5LWl0ZW0uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pdGVtX19pbWFnZSB7XG4gIHdpZHRoOiAzMnB4O1xuICBoZWlnaHQ6IDMycHg7XG59XG5zcGFuIHtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbn1cbiJdfQ== */"] });


/***/ }),

/***/ "CZvy":
/*!***************************************************!*\
  !*** ./src/app/models/widgets/display/UIAlert.ts ***!
  \***************************************************/
/*! exports provided: UIAlert */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIAlert", function() { return UIAlert; });
/* harmony import */ var _UIWidget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIWidget */ "Ochd");

class UIAlert extends _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidget"] {
    constructor(config) {
        super(config);
        this.type = _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidgetType"].ALERT;
        this.title = config.title;
        this.description = config.description;
        this.icon = config.icon;
        this.color = config.color;
        this.detail = config.detail !== undefined ? config.detail : false;
        this.actions = config.actions;
        this.onClick = config.onClick;
    }
}


/***/ }),

/***/ "D44Q":
/*!***************************************************************!*\
  !*** ./src/app/pages/beacon-request/beacon-request.module.ts ***!
  \***************************************************************/
/*! exports provided: BeaconRequestPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BeaconRequestPageModule", function() { return BeaconRequestPageModule; });
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var ngx_moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-moment */ "QUrN");
/* harmony import */ var src_app_components_components_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/components/components.module */ "j1ZV");
/* harmony import */ var src_app_pipes_pipes_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/pipes/pipes.module */ "iTUp");
/* harmony import */ var _beacon_request_routing_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./beacon-request-routing.module */ "ZDkh");
/* harmony import */ var _beacon_request_page__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./beacon-request.page */ "veta");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ "fXoL");











class BeaconRequestPageModule {
}
BeaconRequestPageModule.ɵfac = function BeaconRequestPageModule_Factory(t) { return new (t || BeaconRequestPageModule)(); };
BeaconRequestPageModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineNgModule"]({ type: BeaconRequestPageModule });
BeaconRequestPageModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineInjector"]({ imports: [[
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
            src_app_components_components_module__WEBPACK_IMPORTED_MODULE_6__["ComponentsModule"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateModule"],
            src_app_pipes_pipes_module__WEBPACK_IMPORTED_MODULE_7__["PipesModule"],
            ngx_moment__WEBPACK_IMPORTED_MODULE_5__["MomentModule"],
            _beacon_request_routing_module__WEBPACK_IMPORTED_MODULE_8__["BeaconRequestPageRoutingModule"],
            _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["AirGapAngularCoreModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵsetNgModuleScope"](BeaconRequestPageModule, { declarations: [_beacon_request_page__WEBPACK_IMPORTED_MODULE_9__["BeaconRequestPage"]], imports: [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
        _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
        src_app_components_components_module__WEBPACK_IMPORTED_MODULE_6__["ComponentsModule"],
        _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateModule"],
        src_app_pipes_pipes_module__WEBPACK_IMPORTED_MODULE_7__["PipesModule"],
        ngx_moment__WEBPACK_IMPORTED_MODULE_5__["MomentModule"],
        _beacon_request_routing_module__WEBPACK_IMPORTED_MODULE_8__["BeaconRequestPageRoutingModule"],
        _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["AirGapAngularCoreModule"]] }); })();


/***/ }),

/***/ "DUVq":
/*!*************************************************************!*\
  !*** ./src/app/services/market-data/market-data.service.ts ***!
  \*************************************************************/
/*! exports provided: MarketDataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MarketDataService", function() { return MarketDataService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _price_price_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../price/price.service */ "QMTT");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");





class MarketDataService {
    constructor(priceService) {
        this.priceService = priceService;
    }
    fetchAllValues(interval, wallets) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return new Promise((resolve) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                if (wallets.length === 0) {
                    return resolve([
                        {
                            timestamp: 0,
                            usdValue: 0
                        }
                    ]);
                }
                const marketSymbols = Array.from(new Set(wallets.map((wallet) => wallet.protocol.marketSymbol)));
                const cryptoPrices = yield this.priceService.fetchPriceData(marketSymbols, interval);
                const relevantTimestamps = Array.from(new Set(cryptoPrices.map((priceObject) => priceObject.time)));
                const balanceByTimestampAllWallets = yield Promise.all(wallets.map((wallet) => this.walletBalancesAtTimestamps(wallet, relevantTimestamps)));
                const valuesByTimestampAllWallets = balanceByTimestampAllWallets.map((balanceByTimestampSingleWallet) => {
                    return balanceByTimestampSingleWallet.map((balanceObject, index) => {
                        const cryptoPricesByProtocol = cryptoPrices.filter((price) => price.baseCurrencySymbol === balanceObject.marketSymbol.toUpperCase());
                        return {
                            usdValue: cryptoPricesByProtocol[index] ? balanceObject.balance * cryptoPricesByProtocol[index].price : 0,
                            timestamp: balanceObject.timestamp
                        };
                    });
                });
                const aggregatedValuesByTimestamp = valuesByTimestampAllWallets.reduce((valuesByTimestamp, next) => next.map((valueAtTimestamp, i) => {
                    return {
                        usdValue: new bignumber_js__WEBPACK_IMPORTED_MODULE_1___default.a(valuesByTimestamp[i].usdValue).plus(valueAtTimestamp.usdValue).toNumber(),
                        timestamp: valueAtTimestamp.timestamp
                    };
                }));
                resolve(aggregatedValuesByTimestamp);
            }));
        });
    }
    walletBalancesAtTimestamps(wallet, timestamps) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!timestamps.length) {
                return [];
            }
            let balance = yield this.priceService.fetchBalance(wallet);
            const transactionResult = yield this.priceService.fetchTransactions(wallet).catch((error) => {
                console.error(error);
                return {
                    transactions: []
                };
            });
            const relevantTransactions = transactionResult.transactions.filter((transaction) => transaction.timestamp && timestamps.length && transaction.timestamp > new bignumber_js__WEBPACK_IMPORTED_MODULE_1___default.a(timestamps[0]).div(1000).toNumber());
            return timestamps
                .reverse()
                .map((timestamp, index, array) => {
                // check if there was a tx in between consecutive timestamps
                const newTransactions = relevantTransactions.filter((transaction) => transaction.timestamp && transaction.timestamp < new bignumber_js__WEBPACK_IMPORTED_MODULE_1___default.a(timestamp).div(1000).toNumber() && array[index + 1]
                    ? transaction.timestamp > new bignumber_js__WEBPACK_IMPORTED_MODULE_1___default.a(array[index + 1]).div(1000).toNumber()
                    : false);
                if (!newTransactions.length) {
                    return {
                        timestamp: new bignumber_js__WEBPACK_IMPORTED_MODULE_1___default.a(timestamp).dividedBy(1000).toNumber(),
                        marketSymbol: wallet.protocol.marketSymbol,
                        balance: balance.shiftedBy(wallet.protocol.decimals * -1).toNumber()
                    };
                }
                else {
                    balance = balance.minus(newTransactions
                        .map((transaction) => {
                        const selfTx = transaction.to[0] === transaction.from[0];
                        if (selfTx) {
                            return new bignumber_js__WEBPACK_IMPORTED_MODULE_1___default.a(0);
                        }
                        else if (transaction.isInbound) {
                            return new bignumber_js__WEBPACK_IMPORTED_MODULE_1___default.a(transaction.amount);
                        }
                        else {
                            return new bignumber_js__WEBPACK_IMPORTED_MODULE_1___default.a(transaction.amount).plus(transaction.fee).times(-1);
                        }
                    })
                        .reduce((a, b) => a.plus(b)));
                    return {
                        timestamp: new bignumber_js__WEBPACK_IMPORTED_MODULE_1___default.a(timestamp).dividedBy(1000).toNumber(),
                        marketSymbol: wallet.protocol.marketSymbol,
                        balance: balance.shiftedBy(wallet.protocol.decimals * -1).toNumber()
                    };
                }
            })
                .sort((a, b) => (a.timestamp > b.timestamp ? 0 : b.timestamp > a.timestamp ? -1 : 1));
        });
    }
}
MarketDataService.ɵfac = function MarketDataService_Factory(t) { return new (t || MarketDataService)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_price_price_service__WEBPACK_IMPORTED_MODULE_2__["PriceService"])); };
MarketDataService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({ token: MarketDataService, factory: MarketDataService.ɵfac });


/***/ }),

/***/ "ECOn":
/*!*******************************************************************!*\
  !*** ./src/app/components/widget-input-text/widget-input-text.ts ***!
  \*******************************************************************/
/*! exports provided: WidgetInputText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidgetInputText", function() { return WidgetInputText; });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var src_app_models_widgets_input_UIInputText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/models/widgets/input/UIInputText */ "ocf9");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");







function WidgetInputText_ion_text_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-text", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "p", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](3, 1, ctx_r0.widget.extraLabel));
} }
function WidgetInputText_ion_col_9_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-col", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-toolbar");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-buttons", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "ion-button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function WidgetInputText_ion_col_9_Template_ion_button_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](); return ctx_r3.widget.toggleValue(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](5, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("fill", ctx_r1.widget.isValueFixed ? "solid" : "outline");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](5, 2, ctx_r1.widget.toggleFixedValueButton), " ");
} }
function WidgetInputText_ion_row_10_ion_col_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-col", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-text", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "p", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](4, 1, ctx_r5.widget.errorLabel));
} }
function WidgetInputText_ion_row_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-row", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, WidgetInputText_ion_row_10_ion_col_1_Template, 5, 3, "ion-col", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r2.widget.formControl.invalid);
} }
class WidgetInputText {
}
WidgetInputText.ɵfac = function WidgetInputText_Factory(t) { return new (t || WidgetInputText)(); };
WidgetInputText.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: WidgetInputText, selectors: [["widget-input-text"]], inputs: { widget: "widget", widgetForm: "widgetForm" }, decls: 11, vars: 10, consts: [[3, "formGroup"], [1, "ion-padding-horizontal", "padding-top", "ion-align-items-center", "value__container"], ["size", "9", 1, "value--container__input", "ion-no-padding"], ["lines", "none", 1, "ion-no-padding"], ["color", "blackLight", "position", "stacked", 1, "ion-no-margin"], [3, "type", "placeholder", "formControlName"], ["class", "ion-no-margin", "color", "blackLight", 4, "ngIf"], ["size", "3", "class", "ion-no-padding", 4, "ngIf"], ["class", "ion-padding-horizontal ion-padding-bottom", 4, "ngIf"], ["color", "blackLight", 1, "ion-no-margin"], [1, "ion-no-margin"], ["size", "3", 1, "ion-no-padding"], ["slot", "end"], ["shape", "round", "size", "small", "color", "secondary", 3, "fill", "click"], [1, "ion-padding-horizontal", "ion-padding-bottom"], ["size", "12", 4, "ngIf"], ["size", "12"], ["color", "danger", 1, "ion-no-margin"]], template: function WidgetInputText_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-row", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-col", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "ion-item", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "ion-label", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](6, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](7, "ion-input", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](8, WidgetInputText_ion_text_8_Template, 4, 3, "ion-text", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](9, WidgetInputText_ion_col_9_Template, 6, 4, "ion-col", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](10, WidgetInputText_ion_row_10_Template, 2, 1, "ion-row", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("formGroup", ctx.widgetForm);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](6, 8, ctx.widget.label));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("type", ctx.widget.inputType)("placeholder", ctx.widget.placeholder)("formControlName", ctx.widget.id);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.widget.extraLabel || ctx.widget.createExtraLabel);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.widget.fixedValue || ctx.widget.getFixedValue);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.widget.formControl && ctx.widget.errorLabel);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_0__["ɵangular_packages_forms_forms_ba"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__["FormGroupDirective"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonInput"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["TextValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__["FormControlName"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonToolbar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonButtons"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonButton"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslatePipe"]], styles: [".value__container[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%] {\n  border-bottom-color: transparent !important;\n  box-shadow: none !important;\n}\n.value__container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%] {\n  font-size: 1.4em;\n  font-weight: bold;\n  margin: 0;\n  --padding-top: 12px;\n  --padding-bottom: 12px;\n}\n.value__container[_ngcontent-%COMP%]   .value--container__input[_ngcontent-%COMP%], .value__container[_ngcontent-%COMP%]   .value--container__input[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%] {\n  padding-right: 0;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3dpZGdldC1pbnB1dC10ZXh0LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSwyQ0FBQTtFQUNBLDJCQUFBO0FBQUo7QUFFRTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxTQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQkFBQTtBQUFKO0FBRUU7O0VBRUUsZ0JBQUE7QUFBSiIsImZpbGUiOiJ3aWRnZXQtaW5wdXQtdGV4dC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnZhbHVlX19jb250YWluZXIge1xuICAuaXRlbS1pbm5lciB7XG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbiAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gIH1cbiAgaW9uLWlucHV0IHtcbiAgICBmb250LXNpemU6IDEuNGVtO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIG1hcmdpbjogMDtcbiAgICAtLXBhZGRpbmctdG9wOiAxMnB4O1xuICAgIC0tcGFkZGluZy1ib3R0b206IDEycHg7XG4gIH1cbiAgLnZhbHVlLS1jb250YWluZXJfX2lucHV0LFxuICAudmFsdWUtLWNvbnRhaW5lcl9faW5wdXQgLml0ZW0taW5uZXIge1xuICAgIHBhZGRpbmctcmlnaHQ6IDA7XG4gIH1cbn1cbiJdfQ== */"] });


/***/ }),

/***/ "EK3o":
/*!*******************************************************************!*\
  !*** ./src/app/services/sapling-native/sapling-native.service.ts ***!
  \*******************************************************************/
/*! exports provided: SaplingNativeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaplingNativeService", function() { return SaplingNativeService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _capacitor_plugins_injection_tokens__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../capacitor-plugins/injection-tokens */ "Bpmc");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");





class SaplingNativeService {
    constructor(sapling, platform) {
        this.sapling = sapling;
        this.platform = platform;
    }
    createExternalMethodProvider() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const isSupported = this.platform.is('capacitor') && !this.platform.is('electron') && (yield this.sapling.isSupported()).isSupported;
            return isSupported
                ? {
                    initParameters: this.initParameters(this.sapling),
                    withProvingContext: this.withProvingContext(this.sapling),
                    prepareSpendDescription: this.prepareSpendDescription(this.sapling),
                    preparePartialOutputDescription: this.preparePartialOutputDescription(this.sapling),
                    createBindingSignature: this.createBindingSignature(this.sapling)
                }
                : undefined;
        });
    }
    initParameters(saplingPlugin) {
        return (_spendParams, _outputParams) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return saplingPlugin.initParameters();
        });
    }
    withProvingContext(saplingPlugin) {
        return (action) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const { context } = yield saplingPlugin.initProvingContext();
            const transaction = yield action(parseInt(context));
            yield saplingPlugin.dropProvingContext({ context });
            return transaction;
        });
    }
    prepareSpendDescription(saplingPlugin) {
        return (context, spendingKey, address, rcm, ar, value, root, merklePath) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const { spendDescription: spendDescriptionHex } = yield saplingPlugin.prepareSpendDescription({
                context: context.toString(),
                spendingKey: spendingKey.toString('hex'),
                address: address.toString('hex'),
                rcm,
                ar: ar.toString('hex'),
                value,
                root,
                merklePath
            });
            const spendDescription = Buffer.from(spendDescriptionHex, 'hex');
            return {
                cv: spendDescription.slice(0, 32) /* 32 bytes */,
                rt: spendDescription.slice(32, 64) /* 32 bytes */,
                nf: spendDescription.slice(64, 96) /* 32 bytes */,
                rk: spendDescription.slice(96, 128) /* 32 bytes */,
                proof: spendDescription.slice(128, 320) /* 48 + 96 + 48 bytes */
            };
        });
    }
    preparePartialOutputDescription(saplingPlugin) {
        return (context, address, rcm, esk, value) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const { outputDescription: outputDescriptionHex } = yield saplingPlugin.preparePartialOutputDescription({
                context: context.toString(),
                address: address.toString('hex'),
                rcm: rcm.toString('hex'),
                esk: esk.toString('hex'),
                value
            });
            const outputDescription = Buffer.from(outputDescriptionHex, 'hex');
            return {
                cv: outputDescription.slice(0, 32) /* 32 bytes */,
                cm: outputDescription.slice(32, 64) /* 32 bytes */,
                proof: outputDescription.slice(64, 256) /* 48 + 96 + 48 bytes */
            };
        });
    }
    createBindingSignature(saplingPlugin) {
        return (context, balance, sighash) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const { bindingSignature } = yield saplingPlugin.createBindingSignature({
                context: context.toString(),
                balance,
                sighash: sighash.toString('hex')
            });
            return Buffer.from(bindingSignature, 'hex');
        });
    }
}
SaplingNativeService.ɵfac = function SaplingNativeService_Factory(t) { return new (t || SaplingNativeService)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_capacitor_plugins_injection_tokens__WEBPACK_IMPORTED_MODULE_2__["SAPLING_PLUGIN"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"])); };
SaplingNativeService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({ token: SaplingNativeService, factory: SaplingNativeService.ɵfac, providedIn: 'root' });

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/node-libs-browser/node_modules/buffer/index.js */ "HDXh").Buffer))

/***/ }),

/***/ "EX6Z":
/*!*****************************************************************!*\
  !*** ./src/app/components/tezos-fa-form/tezos-fa-form.store.ts ***!
  \*****************************************************************/
/*! exports provided: TezosFAFormStore */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TezosFAFormStore", function() { return TezosFAFormStore; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_contract_TezosContract__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/tezos/contract/TezosContract */ "D3HU");
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_contract_TezosContract__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_tezos_contract_TezosContract__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/tezos/TezosProtocolOptions */ "Bf+m");
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _ngrx_component_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngrx/component-store */ "ufcJ");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var src_app_types_GenericProtocolSymbols__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/types/GenericProtocolSymbols */ "lwXz");
/* harmony import */ var _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./tezos-fa-form.types */ "UsL9");
/* harmony import */ var _tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./tezos-fa-form.utils */ "sAqu");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ "fXoL");













const initialState = {
    tokenInterface: { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].IDLE, value: undefined },
    tokenID: { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].IDLE, value: undefined },
    tokenInterfaces: [],
    tokens: [],
    networks: [],
    protocol: { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].IDLE, value: undefined },
    errorDescription: undefined
};
class TezosFAFormStore extends _ngrx_component_store__WEBPACK_IMPORTED_MODULE_5__["ComponentStore"] {
    constructor(protocolService, filesystemService) {
        super(initialState);
        this.protocolService = protocolService;
        this.filesystemService = filesystemService;
        this.contractMetadata = {};
        this.tokenMetadata = {};
        this.onInit = this.effect(() => {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_6__["from"])(this.initAsync()).pipe(Object(_ngrx_component_store__WEBPACK_IMPORTED_MODULE_5__["tapResponse"])((partialState) => this.updateWithValue(partialState), (error) => this.updateWithError(error)));
        });
        this.onTokenDetailsInput = this.effect((details$) => {
            return details$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["withLatestFrom"])(this.state$), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["switchMap"])(([details, state]) => {
                return this.fetchTokenDetails(state, details).pipe(Object(_ngrx_component_store__WEBPACK_IMPORTED_MODULE_5__["tapResponse"])((partialState) => this.updateWithValue(partialState), (error) => this.updateWithError(error)));
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["repeat"])());
        });
        this.updateWithValue = this.updater((state, partialState) => {
            return Object.assign(Object.assign(Object.assign({}, state), partialState), { errorDescription: undefined });
        });
        this.updateWithError = this.updater((state, error) => {
            const tezosFAFormError = Object(_tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__["isTezosFAFormError"])(error) ? error : Object(_tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__["unknownError"])(error);
            if (tezosFAFormError.type === _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TezosFAFormErrorType"].UNKNOWN && tezosFAFormError.error) {
                console.error(error);
            }
            return Object.assign(Object.assign({}, state), { tokenInterface: tezosFAFormError.type === _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TezosFAFormErrorType"].INTERFACE_UNKNOWN
                    ? { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].ERROR, value: undefined }
                    : tezosFAFormError.type === _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TezosFAFormErrorType"].CONTRACT_NOT_FOUND
                        ? { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].IDLE, value: undefined }
                        : state.tokenInterface, tokenID: tezosFAFormError.type === _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TezosFAFormErrorType"].CONTRACT_NOT_FOUND
                    ? { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].IDLE, value: undefined }
                    : state.tokenID, tokenInterfaces: tezosFAFormError.type === _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TezosFAFormErrorType"].INTERFACE_UNKNOWN
                    ? tezosFAFormError.tokenInterfaces
                    : tezosFAFormError.type === _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TezosFAFormErrorType"].CONTRACT_NOT_FOUND
                        ? []
                        : state.tokenInterfaces, tokens: tezosFAFormError.type === _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TezosFAFormErrorType"].TOKEN_VAGUE
                    ? tezosFAFormError.tokens
                    : tezosFAFormError.type === _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TezosFAFormErrorType"].CONTRACT_NOT_FOUND
                        ? []
                        : state.tokens, protocol: { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].ERROR, value: state.protocol.value }, errorDescription: `tezos-fa-form.error.${tezosFAFormError.type}` });
        });
    }
    selectFromState(key) {
        return this.select((state) => state[key]);
    }
    initAsync() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const networks = yield this.protocolService.getNetworksForProtocol(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ);
            return {
                networks: networks
            };
        });
    }
    fetchTokenDetails(state, inputDetails) {
        return new rxjs__WEBPACK_IMPORTED_MODULE_6__["Observable"]((subscriber) => {
            new Promise((resolve, reject) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                try {
                    this.emitLoading(subscriber);
                    const alreadySupported = yield this.alreadySupported(inputDetails.address, inputDetails.networkIdentifier, inputDetails.tokenID);
                    if (alreadySupported) {
                        const handledAlreadySupported = yield this.handleAlreadySupported(alreadySupported, inputDetails.tokenID);
                        yield this.tapProtocol(handledAlreadySupported);
                        this.emitProtocol(handledAlreadySupported, inputDetails.tokenInterface, inputDetails.tokenID, subscriber);
                        resolve();
                        return;
                    }
                    const network = state.networks.find((network) => network.identifier === inputDetails.networkIdentifier);
                    let contract;
                    if (network && network instanceof _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["TezosProtocolNetwork"]) {
                        contract = yield this.getContract(inputDetails.address, network);
                    }
                    this.emitContract(contract, subscriber);
                    const tokenInterface = yield this.getTokenInterface(contract, inputDetails.tokenInterface);
                    this.emitTokenInterface(tokenInterface, subscriber);
                    let protocol;
                    switch (tokenInterface) {
                        case _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TokenInterface"].FA1p2:
                            protocol = yield this.getFA1p2TokenDetails(contract);
                            break;
                        case _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TokenInterface"].FA2:
                            protocol = yield this.getFA2TokenDetails(contract, inputDetails.tokenID);
                            break;
                        default:
                            throw Object(_tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__["interfaceUnknownError"])();
                    }
                    this.emitProtocol(protocol, inputDetails.tokenInterface, inputDetails.tokenID, subscriber);
                }
                catch (error) {
                    reject(error);
                }
            }))
                .catch((error) => {
                subscriber.error(error);
            })
                .finally(() => {
                subscriber.complete();
            });
        });
    }
    alreadySupported(address, networkIdentifier, tokenID) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const subProtocols = yield this.protocolService.getSubProtocols(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ);
            const alreadySupportedProtocols = subProtocols.filter((protocol) => {
                return protocol.contractAddress === address && protocol.options.network.identifier === networkIdentifier;
            });
            const alreadySupportedToken = alreadySupportedProtocols.find((protocol) => {
                return protocol instanceof _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2Protocol"] && protocol.defaultTokenID === tokenID;
            });
            return alreadySupportedToken !== null && alreadySupportedToken !== void 0 ? alreadySupportedToken : alreadySupportedProtocols[0];
        });
    }
    handleAlreadySupported(protocol, tokenID) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (protocol instanceof _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2Protocol"]) {
                return this.handleFA2AlreadySupported(protocol, tokenID);
            }
            else {
                return protocol;
            }
        });
    }
    handleFA2AlreadySupported(protocol, customTokenID) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (customTokenID !== undefined && protocol.defaultTokenID === customTokenID) {
                return protocol;
            }
            try {
                return this.createFA2Protocol(protocol, customTokenID);
            }
            catch (error) {
                if (Object(_tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__["isTezosFAFormError"])(error) && (error.type === _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TezosFAFormErrorType"].TOKEN_METADATA_MISSING)) {
                    return protocol;
                }
                else {
                    throw error;
                }
            }
        });
    }
    getContract(address, network) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const contract = new _airgap_coinlib_core_protocols_tezos_contract_TezosContract__WEBPACK_IMPORTED_MODULE_3__["TezosContract"](address, network.extras.network, Object(_airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["nodeUrl"])(network.extras.network), Object(_airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["indexerApi"])(network.extras.network), Object(_airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["indexerNetwork"])(network.extras.network), Object(_airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["indexerApiKey"])(network.extras.network));
            try {
                // get contract's balance to verify if the address and network are valid
                yield contract.balance();
                return contract;
            }
            catch (_a) {
                return undefined;
            }
        });
    }
    getTokenInterface(contract, tokenInterface) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!tokenInterface) {
                const metadata = yield this.getContractMetadata(contract);
                if (!metadata) {
                    return undefined;
                }
                if (Object(_tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__["hasTokenInterface"])(metadata, _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TokenInterface"].FA1p2)) {
                    return _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TokenInterface"].FA1p2;
                }
                else if (Object(_tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__["hasTokenInterface"])(metadata, _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TokenInterface"].FA2)) {
                    return _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TokenInterface"].FA2;
                }
            }
            return tokenInterface;
        });
    }
    getFA1p2TokenDetails(contract) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const genericFA1p2Protocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA1p2Protocol"](new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFAProtocolOptions"](Object(_airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["tezosProtocolNetwork"])(contract.network), new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFAProtocolConfig"](contract.address, Object(src_app_types_GenericProtocolSymbols__WEBPACK_IMPORTED_MODULE_8__["faProtocolSymbol"])('1.2', contract.address))));
            const tokenMetadata = yield this.getFA1p2TokenMetadata(genericFA1p2Protocol);
            if (!tokenMetadata) {
                throw Object(_tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__["tokenMetadataMissingError"])();
            }
            yield this.tapTokenMetadata(tokenMetadata);
            return new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA1p2Protocol"](new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFAProtocolOptions"](genericFA1p2Protocol.options.network, new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFAProtocolConfig"](genericFA1p2Protocol.options.config.contractAddress, Object(src_app_types_GenericProtocolSymbols__WEBPACK_IMPORTED_MODULE_8__["faProtocolSymbol"])('1.2', contract.address), tokenMetadata.symbol, tokenMetadata.name, tokenMetadata.symbol, genericFA1p2Protocol.options.config.feeDefaults, tokenMetadata.decimals)));
        });
    }
    getFA2TokenDetails(contract, customTokenID) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const genericFA2Protocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2Protocol"](new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2ProtocolOptions"](Object(_airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["tezosProtocolNetwork"])(contract.network), new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2ProtocolConfig"](contract.address, Object(src_app_types_GenericProtocolSymbols__WEBPACK_IMPORTED_MODULE_8__["faProtocolSymbol"])('2', contract.address, customTokenID), undefined, undefined, undefined, undefined, undefined, customTokenID)));
            return this.createFA2Protocol(genericFA2Protocol, customTokenID);
        });
    }
    createFA2Protocol(baseProtocol, customTokenID) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const tokenMetadataRegistry = yield this.getFA2TokenMetadata(baseProtocol);
            if (!tokenMetadataRegistry) {
                throw Object(_tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__["tokenMetadataMissingError"])();
            }
            const tokenMetadataRegistryEntries = Object.entries(tokenMetadataRegistry);
            const [tokenID, tokenMetadata] = customTokenID !== undefined
                ? [customTokenID, tokenMetadataRegistry[customTokenID]]
                : tokenMetadataRegistryEntries.length === 1
                    ? [parseInt(tokenMetadataRegistryEntries[0][0]), tokenMetadataRegistryEntries[0][1]]
                    : [undefined, undefined];
            if (tokenID === undefined) {
                throw Object(_tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__["tokenVaugeError"])(tokenMetadataRegistry);
            }
            if (tokenMetadata === undefined) {
                throw Object(_tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__["tokenMetadataMissingError"])();
            }
            yield this.tapTokenMetadata(tokenMetadata);
            return new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2Protocol"](new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2ProtocolOptions"](baseProtocol.options.network, new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2ProtocolConfig"](baseProtocol.options.config.contractAddress, Object(src_app_types_GenericProtocolSymbols__WEBPACK_IMPORTED_MODULE_8__["faProtocolSymbol"])('2', baseProtocol.contractAddress, tokenID), tokenMetadata.symbol, tokenMetadata.name, tokenMetadata.symbol, baseProtocol.options.config.feeDefaults, tokenMetadata.decimals, tokenID)));
        });
    }
    emitLoading(subscriber) {
        subscriber.next({
            tokenID: { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].LOADING, value: undefined },
            tokenInterface: { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].LOADING, value: undefined },
            protocol: { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].LOADING, value: undefined }
        });
    }
    emitProtocol(protocol, tokenInterface, tokenID, subscriber) {
        subscriber.next(Object.assign(Object.assign({ tokenID: tokenID !== undefined
                ? { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].SUCCESS, value: tokenID }
                : protocol instanceof _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2Protocol"]
                    ? { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].SUCCESS, value: protocol.defaultTokenID }
                    : { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].SUCCESS, value: 0 }, tokenInterface: {
                status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].SUCCESS,
                value: protocol instanceof _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA1p2Protocol"]
                    ? _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TokenInterface"].FA1p2
                    : protocol instanceof _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2Protocol"]
                        ? _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_9__["TokenInterface"].FA2
                        : undefined
            }, protocol: { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].SUCCESS, value: protocol } }, (tokenInterface === undefined ? { tokenInterfaces: [] } : {})), (tokenID === undefined ? { tokens: [] } : {})));
    }
    emitContract(contract, _subscriber) {
        if (!contract) {
            throw Object(_tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__["contractNotFoundError"])();
        }
    }
    emitTokenInterface(tokenInterface, subscriber) {
        if (!tokenInterface) {
            throw Object(_tezos_fa_form_utils__WEBPACK_IMPORTED_MODULE_10__["interfaceUnknownError"])();
        }
        subscriber.next({
            tokenInterface: { status: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].SUCCESS, value: tokenInterface }
        });
    }
    getContractMetadata(contract) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.contractMetadata[contract.address]) {
                this.contractMetadata[contract.address] = yield contract.metadata();
            }
            return this.contractMetadata[contract.address];
        });
    }
    getFA1p2TokenMetadata(protocol) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const tokenMetadata = yield this.getFATokenMetadata(protocol);
            return tokenMetadata[0];
        });
    }
    getFA2TokenMetadata(protocol) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const allTokenMetadata = yield protocol.getAllTokenMetadata();
            if (!allTokenMetadata) {
                return undefined;
            }
            yield Promise.all(Object.entries(allTokenMetadata).map(([tokenID, tokenMetadata]) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                var _a;
                this.tokenMetadata[protocol.contractAddress] = Object.assign((_a = this.tokenMetadata[protocol.contractAddress]) !== null && _a !== void 0 ? _a : {}, {
                    [tokenID]: tokenMetadata
                });
            })));
            return this.tokenMetadata[protocol.contractAddress];
        });
    }
    getFATokenMetadata(protocol, tokenID) {
        var _a;
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            tokenID = tokenID !== null && tokenID !== void 0 ? tokenID : ('defaultTokenID' in protocol ? protocol.defaultTokenID : 0);
            if (!this.tokenMetadata[protocol.contractAddress] || !this.tokenMetadata[protocol.contractAddress][tokenID]) {
                this.tokenMetadata[protocol.contractAddress] = Object.assign((_a = this.tokenMetadata[protocol.contractAddress]) !== null && _a !== void 0 ? _a : {}, {
                    [tokenID]: yield protocol.getTokenMetadata()
                });
            }
            return this.tokenMetadata[protocol.contractAddress];
        });
    }
    tapProtocol(protocol) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let tokenMetadata;
            if (protocol instanceof _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA1p2Protocol"]) {
                tokenMetadata = yield protocol.getTokenMetadata();
            }
            else if (protocol instanceof _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2Protocol"]) {
                tokenMetadata = yield protocol.getTokenMetadata();
            }
            if (tokenMetadata) {
                yield this.tapTokenMetadata(tokenMetadata);
            }
        });
    }
    tapTokenMetadata(tokenMetadata) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const symbol = tokenMetadata.symbol;
            const thumbnailUri = tokenMetadata.thumbnailUri;
            if (symbol && typeof thumbnailUri === 'string') {
                yield this.filesystemService.writeLazyImage(`/images/symbols/${symbol.toLowerCase()}`, thumbnailUri.trim());
            }
        });
    }
}
TezosFAFormStore.ɵfac = function TezosFAFormStore_Factory(t) { return new (t || TezosFAFormStore)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["FilesystemService"])); };
TezosFAFormStore.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineInjectable"]({ token: TezosFAFormStore, factory: TezosFAFormStore.ɵfac });


/***/ }),

/***/ "F07p":
/*!*************************************************************!*\
  !*** ./src/app/components/portfolio-item/portfolio-item.ts ***!
  \*************************************************************/
/*! exports provided: PortfolioItemComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PortfolioItemComponent", function() { return PortfolioItemComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core/utils/ProtocolNetwork */ "14cC");
/* harmony import */ var _airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _helpers_delegation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../helpers/delegation */ "VE8E");
/* harmony import */ var _services_account_account_provider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/account/account.provider */ "57MG");
/* harmony import */ var _services_operations_operations__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/operations/operations */ "nxqh");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../pipes/shorten-string/shorten-string.pipe */ "iLEx");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _pipes_crypto_to_fiat_crypto_to_fiat_pipe__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../pipes/crypto-to-fiat/crypto-to-fiat.pipe */ "onrW");

















function PortfolioItemComponent_ion_item_0_airgap_identicon_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](0, "airgap-identicon", 15);
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("address", ctx_r3.wallet.receivingPublicAddress);
} }
function PortfolioItemComponent_ion_item_0_airgap_currency_symbol_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](0, "airgap-currency-symbol", 16);
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("symbol", ctx_r4.wallet.protocol.symbol);
} }
function PortfolioItemComponent_ion_item_0_airgap_currency_symbol_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](0, "airgap-currency-symbol", 17);
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("symbol", ctx_r5.wallet.protocol.symbol);
} }
const _c0 = function (a0, a1) { return { "porfolio-item__margin": a0, "font-size__regular": a1 }; };
function PortfolioItemComponent_ion_item_0_h2_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "h2", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpureFunction2"](2, _c0, !ctx_r6.isDelegated, ctx_r6.numberOfDecimalsInBalance > ctx_r6.smallFontDecimalThreshold));
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate1"](" ", ctx_r6.balance, " ");
} }
function PortfolioItemComponent_ion_item_0_ng_template_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](1, "ion-skeleton-text", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} }
function PortfolioItemComponent_ion_item_0_ng_container_9_h3_2_ion_badge_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "ion-badge", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipeBind1"](2, 1, "portfolio-item.active"));
} }
function PortfolioItemComponent_ion_item_0_ng_container_9_h3_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "h3", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](1, PortfolioItemComponent_ion_item_0_ng_container_9_h3_2_ion_badge_1_Template, 3, 3, "ion-badge", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipe"](3, "shortenString");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx_r16.isActive);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipeBind1"](3, 2, ctx_r16.wallet.receivingPublicAddress), " ");
} }
function PortfolioItemComponent_ion_item_0_ng_container_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](1, "ion-text", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](2, PortfolioItemComponent_ion_item_0_ng_container_9_h3_2_Template, 4, 4, "h3", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]();
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵreference"](14);
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx_r9.wallet.addresses.length > 0)("ngIfElse", _r12);
} }
function PortfolioItemComponent_ion_item_0_ion_badge_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "ion-badge", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate1"](" ", ctx_r10.wallet.protocol.options.network.name, " ");
} }
function PortfolioItemComponent_ion_item_0_ion_badge_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "ion-badge", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipeBind1"](2, 1, ctx_r11.isDelegated) ? "delegated" : "undelegated", " ");
} }
function PortfolioItemComponent_ion_item_0_ng_template_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](1, "h3");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](2, "ion-skeleton-text", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} }
const _c1 = function (a0, a1) { return { protocolIdentifier: a0, currentMarketPrice: a1 }; };
function PortfolioItemComponent_ion_item_0_div_15_ng_container_1_p_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "p", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipe"](2, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipe"](3, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipe"](4, "cryptoToFiat");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate1"](" $", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipeBind2"](2, 1, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipeBind1"](3, 4, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipeBind2"](4, 6, ctx_r24.wallet.currentBalance, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpureFunction2"](9, _c1, ctx_r24.wallet.protocol.identifier, ctx_r24.wallet.currentMarketPrice))), "1.2-2"), " ");
} }
function PortfolioItemComponent_ion_item_0_div_15_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](1, PortfolioItemComponent_ion_item_0_div_15_ng_container_1_p_1_Template, 5, 12, "p", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx_r18.wallet.currentMarketPrice.toNumber() > 0);
} }
function PortfolioItemComponent_ion_item_0_div_15_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](1, "ion-skeleton-text", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} }
function PortfolioItemComponent_ion_item_0_div_15_p_4_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipe"](2, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate1"](" $", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipeBind2"](2, 1, ctx_r25.wallet.currentMarketPrice == null ? null : ctx_r25.wallet.currentMarketPrice.toNumber(), "1.2-4"), " ");
} }
function PortfolioItemComponent_ion_item_0_div_15_p_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](1, "ion-text", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](2, PortfolioItemComponent_ion_item_0_div_15_p_4_span_2_Template, 3, 4, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", (ctx_r21.wallet.currentBalance == null ? null : ctx_r21.wallet.currentBalance.toNumber()) > 0 && (ctx_r21.wallet.currentMarketPrice == null ? null : ctx_r21.wallet.currentMarketPrice.toNumber()) > 0);
} }
function PortfolioItemComponent_ion_item_0_div_15_ng_template_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](1, "ion-skeleton-text", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} }
function PortfolioItemComponent_ion_item_0_div_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](1, PortfolioItemComponent_ion_item_0_div_15_ng_container_1_Template, 2, 1, "ng-container", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](2, PortfolioItemComponent_ion_item_0_div_15_ng_template_2_Template, 2, 0, "ng-template", null, 30, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](4, PortfolioItemComponent_ion_item_0_div_15_p_4_Template, 3, 1, "p", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](5, PortfolioItemComponent_ion_item_0_div_15_ng_template_5_Template, 2, 0, "ng-template", null, 31, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const _r19 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵreference"](3);
    const _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵreference"](6);
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx_r14.wallet.currentBalance && ctx_r14.wallet.currentMarketPrice)("ngIfElse", _r19);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx_r14.wallet.currentBalance)("ngIfElse", _r22);
} }
const _c2 = function (a0) { return { "icon--rotated": a0 }; };
function PortfolioItemComponent_ion_item_0_ion_icon_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](0, "ion-icon", 35);
} if (rf & 2) {
    const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpureFunction1"](1, _c2, ctx_r15.isExtended));
} }
function PortfolioItemComponent_ion_item_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "ion-item", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](1, "ion-avatar", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](2, PortfolioItemComponent_ion_item_0_airgap_identicon_2_Template, 1, 1, "airgap-identicon", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](3, PortfolioItemComponent_ion_item_0_airgap_currency_symbol_3_Template, 1, 1, "airgap-currency-symbol", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](4, PortfolioItemComponent_ion_item_0_airgap_currency_symbol_4_Template, 1, 1, "airgap-currency-symbol", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](5, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](6, PortfolioItemComponent_ion_item_0_h2_6_Template, 2, 5, "h2", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](7, PortfolioItemComponent_ion_item_0_ng_template_7_Template, 2, 0, "ng-template", null, 8, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](9, PortfolioItemComponent_ion_item_0_ng_container_9_Template, 3, 2, "ng-container", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](10, PortfolioItemComponent_ion_item_0_ion_badge_10_Template, 2, 1, "ion-badge", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](11, PortfolioItemComponent_ion_item_0_ion_badge_11_Template, 3, 3, "ion-badge", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipe"](12, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](13, PortfolioItemComponent_ion_item_0_ng_template_13_Template, 3, 0, "ng-template", null, 12, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](15, PortfolioItemComponent_ion_item_0_div_15_Template, 7, 4, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](16, PortfolioItemComponent_ion_item_0_ion_icon_16_Template, 1, 3, "ion-icon", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵreference"](8);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", !ctx_r0.isToken);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx_r0.isToken);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", !ctx_r0.isToken);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx_r0.wallet.currentBalance && ctx_r0.wallet.currentMarketPrice)("ngIfElse", _r7);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", !ctx_r0.isToken);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx_r0.wallet.protocol.options.network.type !== ctx_r0.networkType.MAINNET);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpipeBind1"](12, 10, ctx_r0.isDelegated) !== null && !ctx_r0.hideDelegationBadge);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", !ctx_r0.isExpendable && !ctx_r0.hideFiatAmounts);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx_r0.isExpendable);
} }
function PortfolioItemComponent_ng_template_1_h3_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "h3");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](1, "ion-skeleton-text", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} }
function PortfolioItemComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "ion-item", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](1, "ion-avatar", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](2, "ion-skeleton-text", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](3, "div", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](4, "ion-skeleton-text", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](5, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](6, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](7, "ion-skeleton-text", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](8, PortfolioItemComponent_ng_template_1_h3_8_Template, 2, 0, "h3", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](9, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](10, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](11, "ion-skeleton-text", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](12, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](13, "ion-skeleton-text", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", !ctx_r2.isToken);
} }
class PortfolioItemComponent {
    constructor(operationsProvider, accountProvider, protocolService) {
        this.operationsProvider = operationsProvider;
        this.accountProvider = accountProvider;
        this.protocolService = protocolService;
        this.networkType = _airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_3__["NetworkType"];
        this.isActive = false;
        this.showBalances = true;
        this.isExpendable = false;
        this.isExtended = false;
        this.hideFiatAmounts = false;
        this.hideDelegationBadge = false;
        this.isToken = false;
        this.numberOfDecimalsInBalance = 0;
        this.smallFontDecimalThreshold = 16;
        this.defaultMaxDigits = 15;
    }
    ngOnInit() {
        this.updateBalance();
        this.updateDelegationStatus();
        this.walletChanged = this.accountProvider.walletChangedObservable.subscribe(() => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.updateBalance();
            this.updateDelegationStatus();
        }));
    }
    updateDelegationStatus() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.wallet !== undefined && this.wallet.receivingPublicAddress !== undefined) {
                if (!Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_5__["supportsDelegation"])(this.wallet.protocol)) {
                    this.isDelegated = null;
                }
                else {
                    this.isDelegated = yield this.operationsProvider.getDelegationStatusObservableOfAddress(this.wallet.protocol, this.wallet.receivingPublicAddress);
                }
            }
        });
    }
    updateBalance() {
        if (this.wallet !== undefined && this.wallet.currentBalance !== undefined) {
            const converter = new _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["AmountConverterPipe"](this.protocolService);
            const currentBalance = this.wallet.currentBalance;
            const balanceFormatted = converter.transformValueOnly(currentBalance, this.wallet.protocol, this.digits());
            this.balance = `${balanceFormatted} ${this.wallet.protocol.symbol}`;
            const balanceSplit = balanceFormatted.split('.');
            if (balanceSplit.length == 2) {
                const decimals = balanceSplit.pop();
                this.numberOfDecimalsInBalance = decimals.length;
            }
        }
    }
    digits() {
        if (this.maxDigits === undefined) {
            return Math.min(this.wallet.protocol.decimals + 1, this.defaultMaxDigits);
        }
        else {
            return this.maxDigits == 0 ? this.wallet.protocol.decimals + 1 : this.maxDigits;
        }
    }
    ngOnDestroy() {
        this.walletChanged.unsubscribe();
    }
}
PortfolioItemComponent.ɵfac = function PortfolioItemComponent_Factory(t) { return new (t || PortfolioItemComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](_services_operations_operations__WEBPACK_IMPORTED_MODULE_7__["OperationsProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](_services_account_account_provider__WEBPACK_IMPORTED_MODULE_6__["AccountProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"])); };
PortfolioItemComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineComponent"]({ type: PortfolioItemComponent, selectors: [["portfolio-item"]], inputs: { wallet: "wallet", showBalances: "showBalances", isExpendable: "isExpendable", isExtended: "isExtended", hideFiatAmounts: "hideFiatAmounts", hideDelegationBadge: "hideDelegationBadge", isToken: "isToken", isDelegated: "isDelegated", maxDigits: "maxDigits" }, decls: 3, vars: 2, consts: [["lines", "none", 4, "ngIf", "ngIfElse"], ["skeletonWallet", ""], ["lines", "none"], ["slot", "start"], [3, "address", 4, "ngIf"], [3, "symbol", 4, "ngIf"], ["class", "symbol--icon", 3, "symbol", 4, "ngIf"], ["class", "font--weight__bold", 3, "ngClass", 4, "ngIf", "ngIfElse"], ["syncingHeading", ""], [4, "ngIf"], ["color", "danger", "class", "badge__margin", 4, "ngIf"], ["color", "secondary", 4, "ngIf"], ["syncingHeadingLow", ""], ["slot", "end", 4, "ngIf"], ["slot", "end", "class", "expendable__container", "name", "chevron-down-outline", 3, "ngClass", 4, "ngIf"], [3, "address"], [3, "symbol"], [1, "symbol--icon", 3, "symbol"], [1, "font--weight__bold", 3, "ngClass"], ["animated", "", 2, "width", "80%"], ["color", "blackLight"], ["class", "typography--mono", 4, "ngIf", "ngIfElse"], [1, "typography--mono"], ["slot", "end", "color", "primary", 4, "ngIf"], ["slot", "end", "color", "primary"], ["color", "danger", 1, "badge__margin"], ["color", "secondary"], ["animated", "", 2, "width", "60%"], ["slot", "end"], [4, "ngIf", "ngIfElse"], ["syncingBalance", ""], ["syncingPrice", ""], ["class", "ion-text-right font--weight__bold porfolio-item__margin", 4, "ngIf"], [1, "ion-text-right", "font--weight__bold", "porfolio-item__margin"], ["animated", "", 2, "width", "40px"], ["slot", "end", "name", "chevron-down-outline", 1, "expendable__container", 3, "ngClass"], ["animated", ""], [1, "symbol--icon"], ["animated", "", 2, "width", "50%"]], template: function PortfolioItemComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](0, PortfolioItemComponent_ion_item_0_Template, 17, 12, "ion-item", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](1, PortfolioItemComponent_ng_template_1_Template, 14, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx.wallet)("ngIfElse", _r1);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_9__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonAvatar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonLabel"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["IdenticonComponent"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["CurrencySymbolComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["NgClass"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonSkeletonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonBadge"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonIcon"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_9__["AsyncPipe"], _pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_11__["ShortenStringPipe"], _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__["TranslatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["DecimalPipe"], _pipes_crypto_to_fiat_crypto_to_fiat_pipe__WEBPACK_IMPORTED_MODULE_13__["CryptoToFiatPipe"]], styles: [".expendable__container[_ngcontent-%COMP%] {\n  transition-duration: 0.4s;\n  transition-property: transform;\n}\n.expendable__container.icon--rotated[_ngcontent-%COMP%] {\n  transform: rotate(180deg);\n}\np[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%] {\n  margin: 0;\n}\nion-badge[_ngcontent-%COMP%] {\n  margin: 4px 0 0 0;\n}\n.badge__margin[_ngcontent-%COMP%] {\n  margin: 0px 6px 0px 0px;\n}\n.porfolio-item__margin[_ngcontent-%COMP%] {\n  margin: 2px 0px 6px;\n}\n.symbol--icon[_ngcontent-%COMP%] {\n  position: absolute;\n  height: 24px;\n  width: 24px;\n  left: 40px;\n  top: 40px;\n}\nion-avatar[_ngcontent-%COMP%] {\n  margin: 8px 16px 8px 0;\n  min-height: 48px;\n  min-width: 48px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3BvcnRmb2xpby1pdGVtLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFJRSx5QkFBQTtFQUtBLDhCQUFBO0FBQUY7QUFDRTtFQUNFLHlCQUFBO0FBQ0o7QUFHQTs7RUFFRSxTQUFBO0FBQUY7QUFFQTtFQUNFLGlCQUFBO0FBQ0Y7QUFDQTtFQUNFLHVCQUFBO0FBRUY7QUFDQTtFQUNFLG1CQUFBO0FBRUY7QUFBQTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBQUdGO0FBREE7RUFDRSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtBQUlGIiwiZmlsZSI6InBvcnRmb2xpby1pdGVtLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZXhwZW5kYWJsZV9fY29udGFpbmVyIHtcbiAgLXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjRzO1xuICAtbW96LXRyYW5zaXRpb24tZHVyYXRpb246IDAuNHM7XG4gIC1vLXRyYW5zaXRpb24tZHVyYXRpb246IDAuNHM7XG4gIHRyYW5zaXRpb24tZHVyYXRpb246IDAuNHM7XG5cbiAgLXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5OiAtd2Via2l0LXRyYW5zZm9ybTtcbiAgLW1vei10cmFuc2l0aW9uLXByb3BlcnR5OiAtbW96LXRyYW5zZm9ybTtcbiAgLW8tdHJhbnNpdGlvbi1wcm9wZXJ0eTogLW8tdHJhbnNmb3JtO1xuICB0cmFuc2l0aW9uLXByb3BlcnR5OiB0cmFuc2Zvcm07XG4gICYuaWNvbi0tcm90YXRlZCB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcbiAgfVxufVxuXG5wLFxuaW9uLWxhYmVsIHtcbiAgbWFyZ2luOiAwO1xufVxuaW9uLWJhZGdlIHtcbiAgbWFyZ2luOiA0cHggMCAwIDA7XG59XG4uYmFkZ2VfX21hcmdpbiB7XG4gIG1hcmdpbjogMHB4IDZweCAwcHggMHB4O1xufVxuXG4ucG9yZm9saW8taXRlbV9fbWFyZ2luIHtcbiAgbWFyZ2luOiAycHggMHB4IDZweDtcbn1cbi5zeW1ib2wtLWljb24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGhlaWdodDogMjRweDtcbiAgd2lkdGg6IDI0cHg7XG4gIGxlZnQ6IDQwcHg7XG4gIHRvcDogNDBweDtcbn1cbmlvbi1hdmF0YXIge1xuICBtYXJnaW46IDhweCAxNnB4IDhweCAwO1xuICBtaW4taGVpZ2h0OiA0OHB4O1xuICBtaW4td2lkdGg6IDQ4cHg7XG59XG4iXX0= */"] });


/***/ }),

/***/ "FYRx":
/*!*************************************************************************************!*\
  !*** ./src/app/components/walletconnect-from-to/walletconnect-from-to.component.ts ***!
  \*************************************************************************************/
/*! exports provided: WalletconnectFromToComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WalletconnectFromToComponent", function() { return WalletconnectFromToComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ "TEn/");









function WalletconnectFromToComponent_ng_container_2_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "form", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "ion-row", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "ion-col", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "ion-item", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "ion-label", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6, "Gas Price");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](7, "ion-input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "ion-col", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "ion-item", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "ion-label", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11, "Gas Limit");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](12, "ion-input", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](13, "ion-button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function WalletconnectFromToComponent_ng_container_2_ng_container_7_Template_ion_button_click_13_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2); return ctx_r2.updateRawTransaction(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](14, "Update");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx_r1.formGroup);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r1.formGroup.invalid);
} }
function WalletconnectFromToComponent_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "ion-row", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "ion-col", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "ion-item", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5, "Change Fees");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "ion-toggle", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("ngModelChange", function WalletconnectFromToComponent_ng_container_2_Template_ion_toggle_ngModelChange_6_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r4.advanced = $event; })("ngModelChange", function WalletconnectFromToComponent_ng_container_2_Template_ion_toggle_ngModelChange_6_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r5); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r6.initForms(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, WalletconnectFromToComponent_ng_container_2_ng_container_7_Template, 15, 2, "ng-container", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngModel", ctx_r0.advanced);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.advanced && ctx_r0.formGroup !== undefined);
} }
class WalletconnectFromToComponent {
    constructor(formBuilder) {
        this.formBuilder = formBuilder;
        this.onRawTransactionUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.advanced = false;
    }
    initForms() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const gasLimitValue = this.hexToDecimal(this.rawTransaction.gasLimit);
            const gasPriceValue = new bignumber_js__WEBPACK_IMPORTED_MODULE_3___default.a(this.hexToDecimal(this.rawTransaction.gasPrice)).shiftedBy(-9).toNumber();
            const gasPriceControl = this.formBuilder.control(gasPriceValue, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].min(0)]);
            const gasLimitControl = this.formBuilder.control(gasLimitValue, [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].min(0)]);
            this.formGroup = this.formBuilder.group({
                gasPrice: gasPriceControl,
                gasLimit: gasLimitControl
            });
        });
    }
    hexToDecimal(hex) {
        return parseInt(hex, 16);
    }
    decimalToHex(decimal) {
        return `0x${decimal.toString(16)}`;
    }
    updateRawTransaction() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const gasPriceValue = this.decimalToHex(new bignumber_js__WEBPACK_IMPORTED_MODULE_3___default.a(this.formGroup.controls.gasPrice.value).shiftedBy(9).toNumber());
            this.rawTransaction = Object.assign(Object.assign({}, this.rawTransaction), { gasPrice: gasPriceValue, gasLimit: this.decimalToHex(this.formGroup.controls.gasLimit.value) });
            this.onRawTransactionUpdate.emit(this.rawTransaction);
            this.advanced = false;
        });
    }
}
WalletconnectFromToComponent.ɵfac = function WalletconnectFromToComponent_Factory(t) { return new (t || WalletconnectFromToComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"])); };
WalletconnectFromToComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: WalletconnectFromToComponent, selectors: [["walletconnect-from-to"]], inputs: { airGapTransaction: "airGapTransaction", rawTransaction: "rawTransaction" }, outputs: { onRawTransactionUpdate: "onRawTransactionUpdate" }, decls: 3, vars: 2, consts: [[3, "transaction"], [4, "ngIf"], [1, "rawdata--container", "ion-padding-bottom", "ion-margin-bottom"], [1, "ion-no-padding"], ["lines", "none", 1, "ion-no-padding"], ["slot", "end", 3, "ngModel", "ngModelChange"], [1, "ion-padding-bottom", 3, "formGroup"], [1, "padding-top"], ["size", "6"], ["mode", "md", "color", "light"], ["position", "stacked", 1, "ion-no-margin"], ["type", "text", "formControlName", "gasPrice", "id", "gasPrice"], ["type", "text", "formControlName", "gasLimit", "id", "gasLimit"], ["color", "primary", 3, "disabled", "click"]], template: function WalletconnectFromToComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "airgap-from-to", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, WalletconnectFromToComponent_ng_container_2_Template, 8, 2, "ng-container", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("transaction", ctx.airGapTransaction);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.rawTransaction !== undefined);
    } }, directives: [_airgap_angular_core__WEBPACK_IMPORTED_MODULE_4__["FromToComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonToggle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["BooleanValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgModel"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ɵangular_packages_forms_forms_ba"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroupDirective"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonInput"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["TextValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControlName"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonButton"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ3YWxsZXRjb25uZWN0LWZyb20tdG8uY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ "FqBb":
/*!*********************************************************!*\
  !*** ./src/app/services/exchange/exchange.quipuswap.ts ***!
  \*********************************************************/
/*! exports provided: QuipuswapExchange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuipuswapExchange", function() { return QuipuswapExchange; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_types_TezosOperationType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/tezos/types/TezosOperationType */ "KrWi");
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_types_TezosOperationType__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_tezos_types_TezosOperationType__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _taquito_michelson_encoder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @taquito/michelson-encoder */ "fYiu");
/* harmony import */ var _taquito_taquito__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @taquito/taquito */ "7OIR");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _models_widgets_input_UIOptionButtonGroup__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/widgets/input/UIOptionButtonGroup */ "eVEn");








class QuipuswapTransactionStatusResponse {
    constructor(status) {
        this.status = status;
    }
    isPending() {
        switch (this.status) {
            case 'applied':
            case 'failed':
                return false;
            default:
                return true;
        }
    }
}
const NODE_URL = 'https://tezos-node.prod.gke.papers.tech';
const XTZ_QUIPU_IDENTIFIER = 'tez';
const QUIPUSWAP_FEE = 0.003; // 0.3%
var ControlId;
(function (ControlId) {
    ControlId["SLIPPAGE_TOLERANCE"] = "slippageTolerance";
    ControlId["SLIPPAGE_TOLERANCE_CONTROL"] = "slippageToleranceControl";
})(ControlId || (ControlId = {}));
const DEX_CONTRACTS = {
    // [SubProtocolSymbols.XTZ_BTC]: 'KT1WBLrLE2vG8SedBqiSJFm4VVAZZBytJYHc',
    [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["SubProtocolSymbols"].XTZ_ETHTZ]: 'KT1Evsp2yA19Whm24khvFPcwimK6UaAJu8Zo',
    [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["SubProtocolSymbols"].XTZ_KUSD]: 'KT1K4EwTpbvYN9agJdjpyJm4ZZdhpUNKB3F6',
    [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["SubProtocolSymbols"].XTZ_STKR]: 'KT1BMEEPX7MWzwwadW3NCSZe9XGmFJ7rs7Dr',
    [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["SubProtocolSymbols"].XTZ_USD]: 'KT1WxgZ1ZSfMgmsSDDcUn8Xn577HwnQ7e1Lb',
    [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["SubProtocolSymbols"].XTZ_UUSD]: 'KT1EtjRRCBC2exyCRXz8UfV7jz7svnkqi7di',
    [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["SubProtocolSymbols"].XTZ_YOU]: 'KT1PL1YciLdwMbydt21Ax85iZXXyGSrKT2BE'
};
const FA1p2_ENTRYPOINTS = {
    approve: 'approve'
};
const FA2_ENTRYPOINTS = {
    updateOperators: 'update_operators'
};
const DEX_ENTRYPOINTS = {
    tezToTokenPayment: 'tezToTokenPayment',
    tokenToTezPayment: 'tokenToTezPayment'
};
class QuipuswapExchange {
    constructor(protocolService, formBuilder) {
        this.protocolService = protocolService;
        this.formBuilder = formBuilder;
        this.identifierExchangeToAirGapMap = new Map();
        this.identifierAirGapToExchangeMap = new Map();
        this.dexContracts = new Map();
        this.supportedTokens = Object.keys(DEX_CONTRACTS);
        this.tezos = new _taquito_taquito__WEBPACK_IMPORTED_MODULE_5__["TezosToolkit"](NODE_URL);
        this.slippageTolerance = {
            low: 0.005,
            medium: 0.01,
            high: 0.03 // 3%
        };
        this.initIdentifierMappings(this.supportedTokens);
    }
    get supportedCurrencies() {
        return [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].XTZ, ...this.supportedTokens];
    }
    initIdentifierMappings(protocolIdentifiers) {
        protocolIdentifiers.forEach((identifier) => {
            this.initIdentifierMapping(identifier);
        });
    }
    initIdentifierMapping(protocolIdentifier) {
        let exchangeIdentifier;
        switch (protocolIdentifier) {
            case _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].XTZ:
                exchangeIdentifier = XTZ_QUIPU_IDENTIFIER;
                break;
            default:
                exchangeIdentifier = DEX_CONTRACTS[protocolIdentifier];
        }
        if (exchangeIdentifier !== undefined) {
            this.identifierExchangeToAirGapMap.set(exchangeIdentifier, protocolIdentifier);
            this.identifierAirGapToExchangeMap.set(protocolIdentifier, exchangeIdentifier);
        }
    }
    getAvailableFromCurrencies() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.supportedCurrencies;
        });
    }
    getAvailableToCurrenciesForCurrency(selectedFrom) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const identifier = this.getAirGapIdentifier(selectedFrom);
            if (identifier === undefined) {
                return [];
            }
            if (identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].XTZ) {
                return this.supportedTokens;
            }
            else if (this.isTokenSupported(identifier)) {
                return [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].XTZ];
            }
            else {
                return [];
            }
        });
    }
    getMinAmountForCurrency(fromCurrency, _toCurrency) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const fromProtocol = yield this.getProtocol(fromCurrency);
            if (fromProtocol === undefined) {
                return '0';
            }
            return new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(1).shiftedBy(-fromProtocol.decimals).toFixed();
        });
    }
    getMaxExchangeAmountForCurrency(fromCurrency, toCurrency) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const [fromProtocol, toProtocol] = yield Promise.all([
                this.getProtocol(fromCurrency),
                this.getProtocol(toCurrency)
            ]);
            if (fromProtocol === undefined || toProtocol === undefined) {
                return undefined;
            }
            let maxAmount;
            if (toProtocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].XTZ) {
                maxAmount = yield this.getMaxTezAmount(fromProtocol.identifier);
            }
            else if (this.isTokenSupported(toProtocol.identifier)) {
                maxAmount = yield this.getMaxTokenAmount(toProtocol.identifier);
            }
            return maxAmount.shiftedBy(-toProtocol.decimals).toFixed();
        });
    }
    getExchangeAmount(fromCurrency, toCurrency, amount, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const [fromProtocol, toProtocol] = yield Promise.all([
                this.getProtocol(fromCurrency),
                this.getProtocol(toCurrency)
            ]);
            if (fromProtocol === undefined || toProtocol === undefined) {
                return undefined;
            }
            const shiftedAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(amount).shiftedBy(fromProtocol.decimals);
            const slippageTolerance = this.getSlippageToleranceFromFormData(data);
            let minAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(0);
            if (fromProtocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].XTZ) {
                minAmount = yield this.getMinTezToTokenExchangeAmount(toProtocol.identifier, shiftedAmount, slippageTolerance);
            }
            else if (this.isTokenSupported(fromProtocol.identifier)) {
                minAmount = yield this.getMinTokenToTezExchangeAmount(fromProtocol.identifier, shiftedAmount, slippageTolerance);
            }
            return minAmount.shiftedBy(-toProtocol.decimals).toFixed();
        });
    }
    getMinTezToTokenExchangeAmount(token, mutezAmount, slippageTolerance) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.getMinExchangeAmount(token, mutezAmount, slippageTolerance, { in: 'tez_pool', out: 'token_pool' });
        });
    }
    getMinTokenToTezExchangeAmount(token, tokenAmount, slippageTolerance) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.getMinExchangeAmount(token, tokenAmount, slippageTolerance, { in: 'token_pool', out: 'tez_pool' });
        });
    }
    getMinExchangeAmount(token, amount, slippageTolerance, pools) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const storage = yield this.getDexStorage(token);
            if (storage === undefined) {
                return new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(0);
            }
            const currentInPool = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(storage.storage[pools.in]);
            const currentOutPool = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(storage.storage[pools.out]);
            const constantProduct = currentInPool.multipliedBy(currentOutPool);
            const expectedInPool = currentInPool.plus(amount.multipliedBy(1 - QUIPUSWAP_FEE));
            const expectedOutPool = constantProduct.dividedBy(expectedInPool);
            return currentOutPool.minus(expectedOutPool).multipliedBy(slippageTolerance.minus(1).abs()).integerValue(bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a.ROUND_DOWN);
        });
    }
    validateAddress(_currency, _address) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return { result: false, message: '' };
        });
    }
    estimateFee(fromWallet, toWallet, amount, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const shiftedAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(amount).shiftedBy(fromWallet.protocol.decimals);
            const slippageTolerance = this.getSlippageToleranceFromFormData(data);
            let feeDefaults;
            if (fromWallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].XTZ) {
                feeDefaults = yield this.estimateTezToTokenTransactionFee(fromWallet.publicKey, toWallet.protocol.identifier, shiftedAmount, slippageTolerance);
            }
            else if (this.supportedTokens.includes(fromWallet.protocol.identifier)) {
                feeDefaults = yield this.estimateTokenToTezTransactionFee(fromWallet.publicKey, fromWallet.protocol.identifier, shiftedAmount, slippageTolerance);
            }
            if (feeDefaults === undefined) {
                throw new Error(`Currency ${fromWallet.protocol.identifier} is not supported.`);
            }
            return feeDefaults;
        });
    }
    estimateTezToTokenTransactionFee(publicKey, token, mutezAmount, slippageTolerance) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const tezosProtocol = yield this.getTezosProtocol();
            const minTokenAmount = yield this.getMinTezToTokenExchangeAmount(token, mutezAmount, slippageTolerance);
            const address = yield tezosProtocol.getAddressFromPublicKey(publicKey);
            const operations = yield this.prepareTezToTokenOperations(address.getValue(), address.getValue(), token, mutezAmount, minTokenAmount);
            return tezosProtocol.estimateFeeDefaultsForOperations(publicKey, operations);
        });
    }
    estimateTokenToTezTransactionFee(publicKey, token, tokenAmount, slippageTolerance) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const tezosProtocol = yield this.getTezosProtocol();
            const minTezAmount = yield this.getMinTokenToTezExchangeAmount(token, tokenAmount, slippageTolerance);
            const address = yield tezosProtocol.getAddressFromPublicKey(publicKey);
            const operations = yield this.prepareTokenToTezOperations(address.getValue(), address.getValue(), token, tokenAmount, minTezAmount);
            return tezosProtocol.estimateFeeDefaultsForOperations(publicKey, operations);
        });
    }
    createTransaction(fromWallet, toWallet, amount, fee, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const shiftedAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(amount).shiftedBy(fromWallet.protocol.decimals);
            const shiftedFee = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(fee).shiftedBy(fromWallet.protocol.feeDecimals);
            const slippageTolerance = this.getSlippageToleranceFromFormData(data);
            const recipient = toWallet.receivingPublicAddress;
            let minAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(0);
            let tokenProtocol;
            let transaction;
            if (fromWallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].XTZ) {
                tokenProtocol = toWallet.protocol;
                minAmount = yield this.getMinTezToTokenExchangeAmount(tokenProtocol.identifier, shiftedAmount, slippageTolerance);
                transaction = yield this.createTezToTokenTransaction(fromWallet.publicKey, tokenProtocol, recipient, shiftedAmount, minAmount, shiftedFee);
            }
            else if (this.supportedTokens.includes(fromWallet.protocol.identifier)) {
                tokenProtocol = fromWallet.protocol;
                minAmount = yield this.getMinTokenToTezExchangeAmount(tokenProtocol.identifier, shiftedAmount, slippageTolerance);
                transaction = yield this.createTokenToTezTransaction(fromWallet.publicKey, tokenProtocol, recipient, shiftedAmount, minAmount, shiftedFee);
            }
            if (transaction === undefined) {
                throw new Error(`Currency ${fromWallet.protocol.identifier} is not supported.`);
            }
            return {
                payoutAddress: fromWallet.addresses[0],
                payinAddress: DEX_CONTRACTS[tokenProtocol.identifier],
                amountExpectedFrom: amount,
                amountExpectedTo: minAmount.shiftedBy(-toWallet.protocol.decimals).toFixed(),
                fee,
                transaction: {
                    details: transaction.details,
                    unsigned: {
                        publicKey: fromWallet.publicKey,
                        transaction: transaction.unsigned
                    }
                }
            };
        });
    }
    createTezToTokenTransaction(publicKey, tokenProtocol, recipient, mutezAmount, minTokenAmount, fee) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const tezosProtocol = yield this.getTezosProtocol();
            const address = yield tezosProtocol.getAddressFromPublicKey(publicKey);
            const operations = yield this.prepareTezToTokenOperations(address.getValue(), recipient, tokenProtocol.identifier, mutezAmount, minTokenAmount, fee);
            const wrappedOperations = yield tezosProtocol.prepareOperations(publicKey, operations, false);
            const transaction = yield tezosProtocol.forgeAndWrapOperations(wrappedOperations);
            const details = yield tokenProtocol.getTransactionDetails({ publicKey, transaction });
            return { details, unsigned: transaction };
        });
    }
    prepareTezToTokenOperations(sourceAddress, destinationAddress, token, mutezAmount, minTokenAmount, fee) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const contract = yield this.getDexContract(token);
            if (contract === undefined) {
                throw new Error('Could not create an exchange transaction.');
            }
            const payment = contract.methods[DEX_ENTRYPOINTS.tezToTokenPayment](minTokenAmount.toNumber(), destinationAddress).toTransferParams({ source: sourceAddress, amount: mutezAmount.toNumber(), mutez: true, fee: fee === null || fee === void 0 ? void 0 : fee.toNumber() });
            const paymentOperation = this.prepareTransactionOperation(payment);
            return [paymentOperation];
        });
    }
    createTokenToTezTransaction(publicKey, tokenProtocol, recipient, tokenAmount, minTezAmount, fee) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const tezosProtocol = yield this.getTezosProtocol();
            const address = yield tezosProtocol.getAddressFromPublicKey(publicKey);
            const operations = yield this.prepareTokenToTezOperations(address.getValue(), recipient, tokenProtocol.identifier, tokenAmount, minTezAmount, fee);
            const wrappedOperations = yield tezosProtocol.prepareOperations(publicKey, operations, false);
            const transaction = yield tezosProtocol.forgeAndWrapOperations(wrappedOperations);
            const baseDetails = yield tokenProtocol.getTransactionDetails({ publicKey, transaction });
            const extendedDetails = yield this.getExtendedTokenTransactionDetails(tokenProtocol, baseDetails);
            return {
                details: extendedDetails,
                unsigned: transaction
            };
        });
    }
    prepareTokenToTezOperations(sourceAddress, destinationAddress, token, tokenAmount, minTezAmount, fee) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const dexContract = yield this.getDexContract(token);
            if (dexContract === undefined) {
                throw new Error('Could not create an exchange transaction.');
            }
            const storage = yield this.getDexStorage(dexContract);
            const tokenAddress = storage.storage.token_address;
            const tokenContract = yield this.getContract(tokenAddress);
            if (this.isFA1p2(tokenContract)) {
                return this.prepareFA1p2TokenToTezOperations(dexContract, tokenContract, sourceAddress, destinationAddress, tokenAmount, minTezAmount, fee);
            }
            else if (this.isFA2(tokenContract)) {
                return this.prepareFA2TokenToTezOperations(dexContract, tokenContract, sourceAddress, destinationAddress, tokenAmount, minTezAmount, fee);
            }
            else {
                throw new Error('Unsupported contract type.');
            }
        });
    }
    prepareFA1p2TokenToTezOperations(dexContract, tokenContract, sourceAddress, destinationAddress, tokenAmount, minTezAmount, fee) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const approve = tokenContract.methods[FA1p2_ENTRYPOINTS.approve](dexContract.address, tokenAmount.toNumber()).toTransferParams({ source: sourceAddress, fee: fee === null || fee === void 0 ? void 0 : fee.toNumber() });
            const payment = dexContract.methods[DEX_ENTRYPOINTS.tokenToTezPayment](tokenAmount.toFixed(), minTezAmount.toFixed(), destinationAddress).toTransferParams({ source: sourceAddress });
            const approveOperation = this.prepareTransactionOperation(approve);
            const paymentOperation = this.prepareTransactionOperation(payment);
            return [approveOperation, paymentOperation];
        });
    }
    prepareFA2TokenToTezOperations(dexContract, tokenContract, sourceAddress, destinationAddress, tokenAmount, minTezAmount, fee) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const storage = yield this.getDexStorage(dexContract);
            const tokenId = storage.storage.token_id;
            const addOperator = tokenContract.methods[FA2_ENTRYPOINTS.updateOperators]([
                {
                    add_operator: {
                        owner: sourceAddress,
                        operator: dexContract.address,
                        token_id: tokenId
                    }
                }
            ]).toTransferParams({ source: sourceAddress, fee: fee === null || fee === void 0 ? void 0 : fee.toNumber() });
            const payment = dexContract.methods[DEX_ENTRYPOINTS.tokenToTezPayment](tokenAmount.toFixed(), minTezAmount.toFixed(), destinationAddress).toTransferParams({ source: sourceAddress });
            const removeOperator = tokenContract.methods[FA2_ENTRYPOINTS.updateOperators]([
                {
                    remove_operator: {
                        owner: sourceAddress,
                        operator: dexContract.address,
                        token_id: tokenId
                    }
                }
            ]).toTransferParams({ source: sourceAddress });
            const addOperatorOperation = this.prepareTransactionOperation(addOperator);
            const paymentOperation = this.prepareTransactionOperation(payment);
            const removeOperatorOperation = this.prepareTransactionOperation(removeOperator);
            return [addOperatorOperation, paymentOperation, removeOperatorOperation];
        });
    }
    getExtendedTokenTransactionDetails(tokenProtocol, baseDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return Promise.all(baseDetails.map((details) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                var _a;
                const parameters = (_a = details.extra) === null || _a === void 0 ? void 0 : _a.parameters;
                let extendedDetails = {};
                if ((parameters === null || parameters === void 0 ? void 0 : parameters.entrypoint) === DEX_ENTRYPOINTS.tokenToTezPayment) {
                    extendedDetails = yield this.getDetailsFromTokenToTezPayment(tokenProtocol, parameters);
                }
                return Object.assign(details, extendedDetails);
            })));
        });
    }
    getDetailsFromTokenToTezPayment(tokenProtocol, parameters) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const contract = yield this.getDexContract(tokenProtocol.identifier);
            if (contract === undefined) {
                return {};
            }
            const schema = new _taquito_michelson_encoder__WEBPACK_IMPORTED_MODULE_4__["Schema"](contract.entrypoints.entrypoints[parameters.entrypoint]);
            const data = schema.Execute(parameters.value);
            if (data.amount === undefined) {
                return {};
            }
            return {
                amount: data.amount.toString()
            };
        });
    }
    getStatus(transactionId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const tezosProtocol = yield this.getTezosProtocol();
            try {
                const transactionStatuses = yield tezosProtocol.getTransactionStatuses([transactionId]);
                const transactionStatus = transactionStatuses[0];
                return new QuipuswapTransactionStatusResponse(transactionStatus);
            }
            catch (_a) {
                return new QuipuswapTransactionStatusResponse('not_injected');
            }
        });
    }
    convertExchangeIdentifierToAirGapIdentifier(identifiers) {
        return identifiers
            .map((identifier) => this.exchangeIdentifierToAirGapIdentifier(identifier))
            .filter((identifier) => identifier !== undefined);
    }
    exchangeIdentifierToAirGapIdentifier(identifier) {
        return this.identifierExchangeToAirGapMap.has(identifier) ? this.identifierExchangeToAirGapMap.get(identifier) : undefined;
    }
    convertAirGapIdentifierToExchangeIdentifier(identifiers) {
        return identifiers
            .map((identifier) => this.airGapIdentifierToExchangeIdentifier(identifier))
            .filter((identifier) => identifier !== undefined);
    }
    airGapIdentifierToExchangeIdentifier(identifier) {
        return this.identifierAirGapToExchangeMap.has(identifier) ? this.identifierAirGapToExchangeMap.get(identifier) : undefined;
    }
    getCustomUI() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const defaultSlippageTolerance = 'low';
            const defaultValue = this.slippageTolerance[defaultSlippageTolerance].toString();
            const valueToControlValue = (value) => new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(value).multipliedBy(100).toFixed();
            const controlValueToValue = (controlValue) => new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(controlValue).dividedBy(100).toFixed();
            const form = this.formBuilder.group({
                [ControlId.SLIPPAGE_TOLERANCE]: [defaultValue, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required],
                [ControlId.SLIPPAGE_TOLERANCE_CONTROL]: [valueToControlValue(defaultValue), _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]
            });
            const widgets = [
                new _models_widgets_input_UIOptionButtonGroup__WEBPACK_IMPORTED_MODULE_7__["UIOptionButtonGroup"]({
                    id: ControlId.SLIPPAGE_TOLERANCE,
                    label: 'exchange-quipuswap.slippage-tolerance.label',
                    defaultSelected: defaultValue,
                    optionButtons: Object.entries(this.slippageTolerance).map(([_, value]) => ({
                        value: value.toString(),
                        label: `${valueToControlValue(value)}%`
                    })),
                    customInput: {
                        id: ControlId.SLIPPAGE_TOLERANCE_CONTROL,
                        type: 'number',
                        suffix: '%',
                        formControl: form.controls[ControlId.SLIPPAGE_TOLERANCE_CONTROL],
                        controlValueToValue
                    },
                    formControl: form.controls[ControlId.SLIPPAGE_TOLERANCE]
                })
            ];
            return {
                form,
                widgets
            };
        });
    }
    getAirGapIdentifier(identifier) {
        return Object(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["isProtocolSymbol"])(identifier) ? identifier : this.exchangeIdentifierToAirGapIdentifier(identifier);
    }
    getProtocol(currency) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const identifier = this.getAirGapIdentifier(currency);
            return identifier ? this.protocolService.getProtocol(identifier) : undefined;
        });
    }
    getTezosProtocol() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const tezosProtocol = yield this.protocolService.getProtocol(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].XTZ);
            if (tezosProtocol === undefined) {
                throw new Error(`${_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].XTZ} is not supported.`);
            }
            return tezosProtocol;
        });
    }
    isTokenSupported(identifier) {
        return this.supportedTokens.includes(identifier);
    }
    getContract(address) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.tezos.contract.at(address);
        });
    }
    getDexContract(identifier) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.dexContracts.has(identifier)) {
                const address = DEX_CONTRACTS[identifier];
                const contract = address ? yield this.getContract(address) : undefined;
                if (contract) {
                    this.dexContracts.set(identifier, contract);
                }
            }
            return this.dexContracts.get(identifier);
        });
    }
    getDexStorage(identifierOrContract) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const contract = typeof identifierOrContract === 'string' ? yield this.getDexContract(identifierOrContract) : identifierOrContract;
            return contract === null || contract === void 0 ? void 0 : contract.storage();
        });
    }
    getMaxTezAmount(identifier) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const storage = yield this.getDexStorage(identifier);
            if (storage === undefined) {
                return undefined;
            }
            const tezPool = storage.storage.tez_pool;
            return new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(tezPool).dividedBy(3);
        });
    }
    getMaxTokenAmount(identifier) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const storage = yield this.getDexStorage(identifier);
            if (storage === undefined) {
                return undefined;
            }
            const tokenPool = storage.storage.token_pool;
            return new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(tokenPool).dividedBy(3);
        });
    }
    getSlippageToleranceFromFormData(data) {
        var _a;
        const fromData = data !== null && data !== void 0 ? data : {};
        return new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a((_a = fromData[ControlId.SLIPPAGE_TOLERANCE]) !== null && _a !== void 0 ? _a : this.slippageTolerance.low);
    }
    prepareTransactionOperation(transferParams) {
        var _a;
        return {
            kind: _airgap_coinlib_core_protocols_tezos_types_TezosOperationType__WEBPACK_IMPORTED_MODULE_2__["TezosOperationType"].TRANSACTION,
            source: transferParams.source,
            fee: (_a = transferParams.fee) === null || _a === void 0 ? void 0 : _a.toString(),
            amount: transferParams.amount.toString(),
            destination: transferParams.to,
            parameters: transferParams.parameter
        };
    }
    isFA1p2(contract) {
        return typeof contract.methods.approve === 'function';
    }
    isFA2(contract) {
        return typeof contract.methods.update_operators === 'function';
    }
}


/***/ }),

/***/ "GHcB":
/*!*****************************************************!*\
  !*** ./src/app/services/sapling/sapling.service.ts ***!
  \*****************************************************/
/*! exports provided: SaplingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaplingService", function() { return SaplingService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "tk/3");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "fXoL");









class SaplingService {
    constructor(protocolService, platform, httpClient) {
        this.protocolService = protocolService;
        this.platform = platform;
        this.httpClient = httpClient;
        this.isInitialized = false;
    }
    initSapling() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.isInitialized) {
                const shieldedTezProtocol = (yield this.protocolService.getProtocol(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ_SHIELDED));
                yield shieldedTezProtocol.initParameters(yield this.getSaplingParams('spend'), yield this.getSaplingParams('output'));
                this.isInitialized = true;
            }
        });
    }
    getSaplingParams(type) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.platform.is('hybrid')) {
                // Sapling params are read and used in a native plugin, there's no need to read them in the Ionic part
                return Buffer.alloc(0);
            }
            const params = yield this.httpClient
                .get(`../../../assets/sapling/sapling-${type}.params`, { responseType: 'arraybuffer' })
                .toPromise();
            return Buffer.from(params);
        });
    }
}
SaplingService.ɵfac = function SaplingService_Factory(t) { return new (t || SaplingService)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_4__["Platform"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"])); };
SaplingService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineInjectable"]({ token: SaplingService, factory: SaplingService.ɵfac, providedIn: 'root' });

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/node-libs-browser/node_modules/buffer/index.js */ "HDXh").Buffer))

/***/ }),

/***/ "GP4y":
/*!***************************************************!*\
  !*** ./src/app/services/walletconnect/helpers.ts ***!
  \***************************************************/
/*! exports provided: getAllValidWalletConnectSessions, getAllWalletConnectSessions, saveWalletConnectSession, removeWalletConnectSessions, clientMeta */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAllValidWalletConnectSessions", function() { return getAllValidWalletConnectSessions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAllWalletConnectSessions", function() { return getAllWalletConnectSessions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "saveWalletConnectSession", function() { return saveWalletConnectSession; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeWalletConnectSessions", function() { return removeWalletConnectSessions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clientMeta", function() { return clientMeta; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ "LvDl");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);


const WALLETCONNECT = 'walletconnect';
const getAllValidWalletConnectSessions = () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(void 0, void 0, void 0, function* () {
    const allSessions = yield getAllWalletConnectSessions();
    const now = Date.now();
    return Object(lodash__WEBPACK_IMPORTED_MODULE_1__["pickBy"])(allSessions, (value) => value.connected && now < value.expirationDate);
});
const getAllWalletConnectSessions = () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(void 0, void 0, void 0, function* () {
    const local = localStorage ? yield localStorage.getItem(WALLETCONNECT) : null;
    let sessions = null;
    if (local) {
        try {
            sessions = JSON.parse(local);
        }
        catch (error) {
            throw error;
        }
    }
    return sessions;
});
const saveWalletConnectSession = (peerId, session) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(void 0, void 0, void 0, function* () {
    const allSessions = yield getAllValidWalletConnectSessions();
    const expirationDate = Date.now() + 24 * 60 * 60 * 1000;
    session = Object.assign(Object.assign({}, session), { expirationDate });
    allSessions[peerId] = session;
    yield localStorage.setItem(WALLETCONNECT, JSON.stringify(allSessions));
});
const removeWalletConnectSessions = (sessionIds) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(void 0, void 0, void 0, function* () {
    const allSessions = yield getAllWalletConnectSessions();
    const resultingSessions = Object(lodash__WEBPACK_IMPORTED_MODULE_1__["omit"])(allSessions, sessionIds);
    yield localStorage.setItem(WALLETCONNECT, resultingSessions);
});
const clientMeta = {
    description: 'AirGapped Transactions',
    url: 'https://airgap.it',
    icons: ['https://airgap.it/wp-content/uploads/2018/05/Airgap_Logo_sideways_color.png'],
    name: 'AirGap'
};


/***/ }),

/***/ "GTl0":
/*!*************************************************!*\
  !*** ./src/app/models/widgets/UIInputWidget.ts ***!
  \*************************************************/
/*! exports provided: UIInputWidget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIInputWidget", function() { return UIInputWidget; });
/* harmony import */ var _UIWidget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIWidget */ "Ochd");

class UIInputWidget extends _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidget"] {
    constructor(config) {
        super(config);
        this.validators = config.validators;
        this.setFormControl(config.formControl);
        this.onValueChangedCallback = config.onValueChanged;
    }
    setFormControl(formControl) {
        if (!formControl) {
            return;
        }
        this.formControl = formControl;
        if (this.validators) {
            this.formControl.setValidators(this.validators);
        }
        this.formControl.valueChanges.subscribe((value) => {
            if (value) {
                this.value = value;
                this.onValueChanged();
            }
        });
        if (this.value !== undefined && this.value !== null) {
            this.formControl.patchValue(this.value);
        }
        else if (this.formControl.value !== null) {
            this.value = this.formControl.value;
        }
    }
    onValueChanged() {
        if (this.onValueChangedCallback) {
            this.onValueChangedCallback(this.value, this);
        }
    }
}


/***/ }),

/***/ "GsAe":
/*!*******************************************************!*\
  !*** ./src/app/services/push-backend/push-backend.ts ***!
  \*******************************************************/
/*! exports provided: PushBackendProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PushBackendProvider", function() { return PushBackendProvider; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "tk/3");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");




const TRANSACTION_BACKEND_URL = 'https://tx.airgap.prod.gke.papers.tech/';
class PushBackendProvider {
    constructor(http) {
        this.http = http;
    }
    registerPushMany(pushRequests) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.http
                .post(`${TRANSACTION_BACKEND_URL}api/v1/push_notifications/register/`, pushRequests, { responseType: 'text' })
                .toPromise();
        });
    }
    unregisterPush(protocolIdentifier, address, pushToken) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const body = {
                address,
                identifier: protocolIdentifier,
                pushToken
            };
            return this.http.post(`${TRANSACTION_BACKEND_URL}api/v1/push_notifications/unregister/`, body, { responseType: 'text' }).toPromise();
        });
    }
    getPendingTxs(address, protocolIdentifier) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.http
                .get(`${TRANSACTION_BACKEND_URL}api/v1/txs/pending?address=${address}&protocolIdentifier=${protocolIdentifier}`, {
                headers: { 'Content-Type': 'application/json' }
            })
                .toPromise();
        });
    }
    postPendingTx(transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.http.post(`${TRANSACTION_BACKEND_URL}api/v1/txs/pending`, transaction, { responseType: 'text' }).toPromise();
        });
    }
}
PushBackendProvider.ɵfac = function PushBackendProvider_Factory(t) { return new (t || PushBackendProvider)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"])); };
PushBackendProvider.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: PushBackendProvider, factory: PushBackendProvider.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "HQfb":
/*!*****************************************************************************************!*\
  !*** ./src/app/components/delegate-action-popover/delegate-action-popover.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: DelegateActionPopoverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DelegateActionPopoverComponent", function() { return DelegateActionPopoverComponent; });
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");





const _c0 = function (a0) { return { delegateeLabel: a0 }; };
function DelegateActionPopoverComponent_ion_item_5_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "ion-item", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function DelegateActionPopoverComponent_ion_item_5_Template_ion_item_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r2.changeDelegateeToAirGap(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "ion-icon", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind2"](3, 1, "delegate-action-popover.change-to-airgap-delegatee_label", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](6, _c0, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 4, ctx_r0.delegateeLabel))), " ");
} }
function DelegateActionPopoverComponent_ion_item_6_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "ion-item", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function DelegateActionPopoverComponent_ion_item_6_Template_ion_item_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r6); const action_r4 = ctx.$implicit; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r5.callSecondaryAction(action_r4.type); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "ion-icon", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const action_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("name", action_r4.iconName || "send-outline");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 2, action_r4.confirmLabel || action_r4.label), " ");
} }
const _c1 = function () { return []; };
class DelegateActionPopoverComponent {
    constructor(popoverController, navParams) {
        this.popoverController = popoverController;
        this.navParams = navParams;
        const hideAirGap = this.navParams.get('hideAirGap');
        const delegateeLabel = this.navParams.get('delegateeLabel');
        const secondaryDelegatorActions = this.navParams.get('secondaryDelegatorActions');
        this.hideAirGap = hideAirGap !== undefined ? hideAirGap : true;
        this.delegateeLabel = delegateeLabel !== undefined ? delegateeLabel : 'delegation-detail.default-delegatee-label';
        this.secondaryDelegatorActions = secondaryDelegatorActions !== undefined ? secondaryDelegatorActions : [];
    }
    changeDelegateeToAirGap() {
        this.popoverController.dismiss({ changeToAirGap: true });
    }
    callSecondaryAction(type) {
        this.popoverController.dismiss({ secondaryActionType: type });
    }
}
DelegateActionPopoverComponent.ɵfac = function DelegateActionPopoverComponent_Factory(t) { return new (t || DelegateActionPopoverComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_0__["PopoverController"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_0__["NavParams"])); };
DelegateActionPopoverComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: DelegateActionPopoverComponent, selectors: [["app-delegate-action-popover"]], decls: 7, vars: 6, consts: [["lines", "none", "no-detail", "", 1, "ion-no-padding", "ion-no-margin"], ["button", "", "detail", "false", 3, "click", 4, "ngIf"], ["button", "", "detail", "false", 3, "click", 4, "ngFor", "ngForOf"], ["button", "", "detail", "false", 3, "click"], ["name", "swap-vertical-outline", "color", "dark", "slot", "end"], ["color", "dark", "slot", "end", 3, "name"]], template: function DelegateActionPopoverComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "ion-list", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "ion-list-header");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "ion-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, DelegateActionPopoverComponent_ion_item_5_Template, 5, 8, "ion-item", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, DelegateActionPopoverComponent_ion_item_6_Template, 4, 4, "ion-item", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 3, "delegate-action-popover.delegation-settings_label"));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.hideAirGap);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.secondaryDelegatorActions || _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction0"](5, _c1));
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonList"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonListHeader"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonLabel"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonIcon"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslatePipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkZWxlZ2F0ZS1hY3Rpb24tcG9wb3Zlci5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ "L9w3":
/*!*****************************************************************!*\
  !*** ./src/app/pages/exchange-select/exchange-select.module.ts ***!
  \*****************************************************************/
/*! exports provided: ExchangeSelectPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExchangeSelectPageModule", function() { return ExchangeSelectPageModule; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../../components/components.module */ "j1ZV");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _exchange_select_page__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./exchange-select.page */ "TxTD");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "fXoL");









class ExchangeSelectPageModule {
}
ExchangeSelectPageModule.ɵfac = function ExchangeSelectPageModule_Factory(t) { return new (t || ExchangeSelectPageModule)(); };
ExchangeSelectPageModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineNgModule"]({ type: ExchangeSelectPageModule });
ExchangeSelectPageModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjector"]({ imports: [[
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
            _components_components_module__WEBPACK_IMPORTED_MODULE_1__["ComponentsModule"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__["TranslateModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"].forChild([{ path: '', component: _exchange_select_page__WEBPACK_IMPORTED_MODULE_5__["ExchangeSelectPage"] }])
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵsetNgModuleScope"](ExchangeSelectPageModule, { declarations: [_exchange_select_page__WEBPACK_IMPORTED_MODULE_5__["ExchangeSelectPage"]], imports: [_ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
        _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
        _components_components_module__WEBPACK_IMPORTED_MODULE_1__["ComponentsModule"],
        _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__["TranslateModule"], _angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"]] }); })();


/***/ }),

/***/ "LuFN":
/*!***************************************!*\
  !*** ./src/app/services/push/push.ts ***!
  \***************************************/
/*! exports provided: PushProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PushProvider", function() { return PushProvider; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var src_app_capacitor_plugins_injection_tokens__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/capacitor-plugins/injection-tokens */ "Bpmc");
/* harmony import */ var _pages_introduction_push_introduction_push__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../pages/introduction-push/introduction-push */ "eTKa");
/* harmony import */ var _sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _storage_storage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../storage/storage */ "AFs5");
/* harmony import */ var _push_backend_push_backend__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./../push-backend/push-backend */ "GsAe");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ "fXoL");
















class PushProvider {
    constructor(platform, translate, pushBackendProvider, storageProvider, modalController, toastController, appInfoPlugin, pushNotifications) {
        this.platform = platform;
        this.translate = translate;
        this.pushBackendProvider = pushBackendProvider;
        this.storageProvider = storageProvider;
        this.modalController = modalController;
        this.toastController = toastController;
        this.appInfoPlugin = appInfoPlugin;
        this.pushNotifications = pushNotifications;
        this.registrationId = new rxjs__WEBPACK_IMPORTED_MODULE_4__["ReplaySubject"](1);
        this.registerCalled = false;
        this.notificationCallback = (_notification) => undefined;
        this.initPush();
    }
    initPush() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.platform.ready();
            const isSupported = yield this.isSupported();
            if (!isSupported) {
                return;
            }
            const permissionStatus = yield this.checkPermissions();
            if (permissionStatus.receive === 'granted') {
                yield this.register();
            }
        });
    }
    setupPush() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.platform.ready();
            const isSupported = yield this.isSupported();
            if (!isSupported) {
                return;
            }
            if (this.platform.is('android')) {
                this.register();
            }
            else if (this.platform.is('ios')) {
                // On iOS, show a modal why we need permissions
                const hasShownPushModal = yield this.storageProvider.get(_storage_storage__WEBPACK_IMPORTED_MODULE_9__["WalletStorageKey"].PUSH_INTRODUCTION);
                if (!hasShownPushModal) {
                    yield this.storageProvider.set(_storage_storage__WEBPACK_IMPORTED_MODULE_9__["WalletStorageKey"].PUSH_INTRODUCTION, true);
                    const modal = yield this.modalController.create({
                        component: _pages_introduction_push_introduction_push__WEBPACK_IMPORTED_MODULE_7__["IntroductionPushPage"]
                    });
                    modal.onDidDismiss().then((result) => {
                        if (result.data) {
                            this.register();
                        }
                    });
                    modal.present().catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["ErrorCategory"].IONIC_MODAL));
                }
            }
        });
    }
    registerWallets(wallets) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.registrationId.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["take"])(1)).subscribe((registrationId) => {
                const languageCode = this.translate.getBrowserCultureLang();
                const pushRegisterRequests = wallets.map((wallet) => ({
                    address: wallet.receivingPublicAddress,
                    identifier: wallet.protocol.identifier,
                    pushToken: registrationId,
                    languageCode
                }));
                this.pushBackendProvider.registerPushMany(pushRegisterRequests).catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["ErrorCategory"].PUSH));
                if (!this.registrationId) {
                    console.error('No registration token found');
                    return;
                }
            });
        });
    }
    unregisterWallets(wallets) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.registrationId.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["take"])(1)).subscribe((registrationId) => {
                wallets.forEach((wallet) => {
                    this.unregisterWallet(wallet, registrationId);
                });
            });
        });
    }
    unregisterWallet(wallet, registrationId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.registrationId) {
                console.error('No registration token found');
                return;
            }
            this.pushBackendProvider
                .unregisterPush(wallet.protocol.identifier, wallet.receivingPublicAddress, registrationId)
                .catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["ErrorCategory"].PUSH));
        });
    }
    register() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.registerCalled) {
                return;
            }
            const permissionStatus = yield this.requestPermissions();
            if (permissionStatus.receive !== 'granted') {
                return;
            }
            this.registerCalled = true;
            this.pushNotifications.addListener('pushNotificationReceived', (notification) => {
                console.debug('Received a notification', notification);
                this.toastController
                    .create({
                    message: `${notification.title}: ${notification.body}`,
                    buttons: [
                        {
                            text: 'Ok',
                            role: 'cancel'
                        }
                    ],
                    duration: 3000,
                    position: 'top'
                })
                    .then((toast) => {
                    toast.present().catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["ErrorCategory"].IONIC_TOAST));
                });
                if (this.notificationCallback) {
                    this.notificationCallback(notification);
                }
            });
            this.pushNotifications.addListener('registration', (token) => {
                console.debug('device registered', token);
                this.registrationId.next(token.value);
            });
            this.pushNotifications.addListener('registrationError', (error) => {
                console.error('Error with Push plugin', error);
                Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["ErrorCategory"].PUSH)(error);
            });
            yield this.pushNotifications.register();
        });
    }
    checkPermissions() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.pushNotifications.checkPermissions();
        });
    }
    requestPermissions() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const permissionStatus = yield this.checkPermissions();
            if (permissionStatus.receive === 'granted') {
                return permissionStatus;
            }
            return this.pushNotifications.requestPermissions();
        });
    }
    isSupported() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.platform.is('hybrid')) {
                const info = yield this.appInfoPlugin.get();
                return this.platform.is('ios') || (this.platform.is('android') && info.productFlavor !== 'fdroid');
            }
            else {
                return false;
            }
        });
    }
}
PushProvider.ɵfac = function PushProvider_Factory(t) { return new (t || PushProvider)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateService"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](_push_backend_push_backend__WEBPACK_IMPORTED_MODULE_10__["PushBackendProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](_storage_storage__WEBPACK_IMPORTED_MODULE_9__["WalletStorageService"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["APP_INFO_PLUGIN"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](src_app_capacitor_plugins_injection_tokens__WEBPACK_IMPORTED_MODULE_6__["PUSH_NOTIFICATIONS_PLUGIN"])); };
PushProvider.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineInjectable"]({ token: PushProvider, factory: PushProvider.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "Ochd":
/*!********************************************!*\
  !*** ./src/app/models/widgets/UIWidget.ts ***!
  \********************************************/
/*! exports provided: UIWidgetType, WidgetState, UIWidget */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIWidgetType", function() { return UIWidgetType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidgetState", function() { return WidgetState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIWidget", function() { return UIWidget; });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ "qCKp");

var UIWidgetType;
(function (UIWidgetType) {
    UIWidgetType["ACCOUNT"] = "account";
    UIWidgetType["ACCOUNT_SUMMARY"] = "account_summary";
    UIWidgetType["ACCOUNT_EXTENDED_DETAILS"] = "account_extended_details";
    UIWidgetType["ALERT"] = "alert";
    UIWidgetType["ICON_TEXT"] = "icon_text";
    UIWidgetType["INPUT_TEXT"] = "input_text";
    UIWidgetType["REWARD_LIST"] = "reward_list";
    UIWidgetType["OPTION_BUTTON_GROUP"] = "option_button_group";
})(UIWidgetType || (UIWidgetType = {}));
var WidgetState;
(function (WidgetState) {
    WidgetState[WidgetState["UNKNOWN"] = 0] = "UNKNOWN";
    WidgetState[WidgetState["INIT"] = 1] = "INIT";
    WidgetState[WidgetState["CONTENT_INIT"] = 2] = "CONTENT_INIT";
    WidgetState[WidgetState["VIEW_INIT"] = 3] = "VIEW_INIT";
})(WidgetState || (WidgetState = {}));
class UIWidget {
    constructor(config) {
        this.scheduledActions = new Map();
        this.state$ = new rxjs__WEBPACK_IMPORTED_MODULE_0__["BehaviorSubject"](WidgetState.UNKNOWN);
        this.id = config.id;
        this.isVisible = config.isVisible !== undefined ? config.isVisible : true;
        this.initObservers();
    }
    get state() {
        const state = this.state$.value;
        return state in WidgetState ? state : WidgetState.UNKNOWN;
    }
    set state(value) {
        this.state$.next(value);
    }
    onInit() {
        this.state = WidgetState.INIT;
    }
    afterContentInit() {
        this.state = WidgetState.CONTENT_INIT;
    }
    afterViewInit() {
        this.state = WidgetState.VIEW_INIT;
    }
    reachedState(state) {
        return this.state >= state;
    }
    doAfterReached(state, action, async = false) {
        if (this.reachedState(state)) {
            !async ? action() : setTimeout(action);
        }
        else {
            const toSchedule = !async
                ? action
                : () => {
                    setTimeout(action);
                };
            this.scheduleAction(state, toSchedule);
        }
    }
    scheduleAction(state, action) {
        const actions = this.scheduledActions.get(state) || [];
        actions.push(action);
        this.scheduledActions.set(state, actions);
    }
    invokeScheduled(state) {
        if (this.scheduledActions.has(state)) {
            const actions = this.scheduledActions.get(state);
            this.scheduledActions.delete(state);
            actions.forEach((action) => action());
        }
    }
    initObservers() {
        this.state$.subscribe((state) => {
            this.invokeScheduled(state);
        });
    }
}


/***/ }),

/***/ "Pb0q":
/*!***********************************************************************************!*\
  !*** ./src/app/components/account-edit-popover/account-edit-popover.component.ts ***!
  \***********************************************************************************/
/*! exports provided: AccountEditPopoverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountEditPopoverComponent", function() { return AccountEditPopoverComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var src_app_helpers_delegation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/helpers/delegation */ "VE8E");
/* harmony import */ var src_app_services_browser_browser_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/browser/browser.service */ "jysE");
/* harmony import */ var _services_account_account_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/account/account.provider */ "57MG");
/* harmony import */ var _services_operations_operations__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../services/operations/operations */ "nxqh");
/* harmony import */ var _services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../services/sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "ofXK");



















function AccountEditPopoverComponent_ion_item_13_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-item", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function AccountEditPopoverComponent_ion_item_13_Template_ion_item_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](); return ctx_r2.changeNetwork(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](1, "ion-icon", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](3, 1, "wallet-edit-popover-component.change-network_label"), " ");
} }
function AccountEditPopoverComponent_ion_item_18_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-item", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function AccountEditPopoverComponent_ion_item_18_Template_ion_item_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](); return ctx_r4.importAccountAction.start(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](1, "ion-icon", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("name", ctx_r1.importAccountAction.context.icon);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](3, 2, ctx_r1.importAccountAction.context.name), " ");
} }
class AccountEditPopoverComponent {
    constructor(alertCtrl, navParams, walletsProvider, viewCtrl, clipboardProvider, translateService, operationsProvider, browserService, cdr, protocolService) {
        this.alertCtrl = alertCtrl;
        this.navParams = navParams;
        this.walletsProvider = walletsProvider;
        this.viewCtrl = viewCtrl;
        this.clipboardProvider = clipboardProvider;
        this.translateService = translateService;
        this.operationsProvider = operationsProvider;
        this.browserService = browserService;
        this.cdr = cdr;
        this.protocolService = protocolService;
        this.isTezosKT = false;
        this.isDelegated = false;
        this.networks = [];
        this.wallet = this.navParams.get('wallet');
        this.importAccountAction = this.navParams.get('importAccountAction');
        this.onDelete = this.navParams.get('onDelete');
        this.initNetworks();
    }
    copyAddressToClipboard() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.clipboardProvider.copyAndShowToast(this.wallet.receivingPublicAddress);
            yield this.dismissPopover();
        });
    }
    openBlockExplorer() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const protocol = this.wallet.protocol;
            const blockexplorer = yield protocol.getBlockExplorerLinkForAddress(this.wallet.addresses[0]);
            yield this.browserService.openUrl(blockexplorer);
        });
    }
    ngOnInit() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // tezos
            if (this.wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__["SubProtocolSymbols"].XTZ_KT) {
                this.isTezosKT = true;
            }
            if (Object(src_app_helpers_delegation__WEBPACK_IMPORTED_MODULE_6__["supportsDelegation"])(this.wallet.protocol)) {
                this.isDelegated = yield this.operationsProvider.getDelegationStatusOfAddress(this.wallet.protocol, this.wallet.receivingPublicAddress);
            }
            // tezos end
        });
    }
    delete() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const alert = yield this.alertCtrl.create({
                header: this.translateService.instant('account-edit-popover-component.header'),
                message: this.translateService.instant('account-edit-popover-component.message'),
                buttons: [
                    {
                        text: this.translateService.instant('account-edit-popover-component.cancel'),
                        role: 'cancel',
                        handler: () => {
                            this.dismissPopover();
                        }
                    },
                    {
                        text: this.translateService.instant('account-edit-popover-component.delete'),
                        handler: () => {
                            this.walletsProvider
                                .removeWallet(this.wallet)
                                .then(() => {
                                this.dismissPopover();
                                if (this.onDelete) {
                                    this.onDelete();
                                }
                                else {
                                    Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_10__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_10__["ErrorCategory"].OTHER)('onDelete not defined');
                                }
                            })
                                .catch(Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_10__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_10__["ErrorCategory"].WALLET_PROVIDER));
                        }
                    }
                ]
            });
            alert.present().catch(Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_10__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_10__["ErrorCategory"].IONIC_ALERT));
        });
    }
    changeNetwork() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const alert = yield this.alertCtrl.create({
                header: 'Network',
                inputs: this.networks.map((network, index) => ({
                    name: network.name,
                    type: 'radio',
                    label: network.name,
                    value: index,
                    checked: this.wallet.protocol.options.network.identifier === network.identifier
                })),
                buttons: [
                    {
                        text: 'Cancel',
                        role: 'cancel',
                        cssClass: 'secondary',
                        handler: () => {
                            console.log('Confirm Cancel');
                        }
                    },
                    {
                        text: 'Ok',
                        handler: (data) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                            yield this.walletsProvider.setWalletNetwork(this.wallet, this.networks[data]);
                            this.cdr.detectChanges();
                            yield this.dismissPopover();
                        })
                    }
                ]
            });
            yield alert.present();
        });
    }
    dismissPopover() {
        return this.viewCtrl.dismiss().catch(Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_10__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_10__["ErrorCategory"].NAVIGATION));
    }
    initNetworks() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // if (this.wallet.protocol.identifier === MainProtocolSymbols.XTZ) {
            this.networks = yield this.protocolService.getNetworksForProtocol(this.wallet.protocol.identifier);
            // }
        });
    }
}
AccountEditPopoverComponent.ɵfac = function AccountEditPopoverComponent_Factory(t) { return new (t || AccountEditPopoverComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["NavParams"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_services_account_account_provider__WEBPACK_IMPORTED_MODULE_8__["AccountProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["PopoverController"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ClipboardService"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateService"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_services_operations_operations__WEBPACK_IMPORTED_MODULE_9__["OperationsProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](src_app_services_browser_browser_service__WEBPACK_IMPORTED_MODULE_7__["BrowserService"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"])); };
AccountEditPopoverComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: AccountEditPopoverComponent, selectors: [["ng-component"]], decls: 19, vars: 14, consts: [["lines", "none", "no-detail", "", 1, "ion-no-padding", "ion-no-margin"], ["button", "", "detail", "false", 3, "click"], ["name", "clipboard-outline", "color", "dark", "slot", "end"], ["id", "blockexplorer", "button", "", "detail", "false", 3, "click"], ["name", "open-outline", "color", "dark", "slot", "end"], ["id", "network", "button", "", "detail", "false", 3, "click", 4, "ngIf"], ["id", "delete", "button", "", "detail", "false", 3, "click"], ["name", "trash-outline", "color", "dark", "slot", "end"], ["button", "", "detail", "false", 3, "click", 4, "ngIf"], ["id", "network", "button", "", "detail", "false", 3, "click"], ["name", "globe-outline", "color", "dark", "slot", "end"], ["color", "dark", "slot", "end", 3, "name"]], template: function AccountEditPopoverComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-list", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-list-header");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](4, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "ion-item", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function AccountEditPopoverComponent_Template_ion_item_click_5_listener() { return ctx.copyAddressToClipboard(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](6, "ion-icon", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](8, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](9, "ion-item", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function AccountEditPopoverComponent_Template_ion_item_click_9_listener() { return ctx.openBlockExplorer(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](10, "ion-icon", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](11);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](12, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](13, AccountEditPopoverComponent_ion_item_13_Template, 4, 3, "ion-item", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](14, "ion-item", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function AccountEditPopoverComponent_Template_ion_item_click_14_listener() { return ctx.delete(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](15, "ion-icon", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](16);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](17, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](18, AccountEditPopoverComponent_ion_item_18_Template, 4, 4, "ion-item", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](4, 6, "wallet-edit-popover-component.settings_label"));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](8, 8, "wallet-edit-popover-component.copy-address_label"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](12, 10, "wallet-edit-popover-component.block-explorer_label"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.networks.length > 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](17, 12, "wallet-edit-popover-component.delete_label"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.importAccountAction);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonList"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonListHeader"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonIcon"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgIf"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslatePipe"]], styles: ["ion-list.list-ios[_ngcontent-%COMP%] {\n  margin-bottom: 0;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2FjY291bnQtZWRpdC1wb3BvdmVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0UsZ0JBQUE7QUFBSiIsImZpbGUiOiJhY2NvdW50LWVkaXQtcG9wb3Zlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1saXN0IHtcbiAgJi5saXN0LWlvcyB7XG4gICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgfVxufVxuIl19 */"] });


/***/ }),

/***/ "Q6rr":
/*!***************************************************************************!*\
  !*** ./src/app/components/tezos-delegation-card/tezos-delegation-card.ts ***!
  \***************************************************************************/
/*! exports provided: TezosDelegationCard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TezosDelegationCard", function() { return TezosDelegationCard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _card_actionable_card_actionable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../card-actionable/card-actionable */ "5n3a");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @airgap/angular-core */ "138U");








const _c0 = function (a0) { return { protocol: a0, maxDigits: 3 }; };
const _c1 = function (a0) { return { amount: a0 }; };
function TezosDelegationCard_card_actionable_1_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "card-actionable", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function TezosDelegationCard_card_actionable_1_Template_card_actionable_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.undelegatedClick(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "amountConverter");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "amountConverter");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("imageLeft", false)("imageName", "tezos-coins.svg")("text", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 4, "account-transaction-list.not-delegated_card.text", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](22, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 7, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 9, ctx_r0.delegateAmount, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](20, _c0, ctx_r0.wallet.protocol))))))("heading", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 12, "account-transaction-list.not-delegated_card.heading", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](26, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 15, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 17, ctx_r0.delegateAmount, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](24, _c0, ctx_r0.wallet.protocol))))));
} }
function TezosDelegationCard_card_actionable_2_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "card-actionable", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function TezosDelegationCard_card_actionable_2_Template_card_actionable_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.delegatedClick(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "amountConverter");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "amountConverter");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("imageLeft", true)("imageName", "tezos-baking.svg")("text", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 4, "account-transaction-list.has-delegated_card.text", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](22, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 7, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 9, ctx_r1.delegateAmount, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](20, _c0, ctx_r1.wallet.protocol))))))("heading", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 12, "account-transaction-list.has-delegated_card.heading", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](26, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 15, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 17, ctx_r1.delegateAmount, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](24, _c0, ctx_r1.wallet.protocol))))));
} }
class TezosDelegationCard {
    constructor() {
        this.isDelegated = false;
        this.delegateAmount = 0;
        this.onDelegatedClick = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.onUndelegatedClick = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    delegatedClick() {
        this.onDelegatedClick.emit();
    }
    undelegatedClick() {
        this.onUndelegatedClick.emit();
    }
}
TezosDelegationCard.ɵfac = function TezosDelegationCard_Factory(t) { return new (t || TezosDelegationCard)(); };
TezosDelegationCard.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: TezosDelegationCard, selectors: [["tezos-delegation-card"]], inputs: { wallet: "wallet", isDelegated: "isDelegated", delegateAmount: "delegateAmount" }, outputs: { onDelegatedClick: "onDelegatedClick", onUndelegatedClick: "onUndelegatedClick" }, decls: 3, vars: 2, consts: [["tappable", "", 3, "imageLeft", "imageName", "text", "heading", "click", 4, "ngIf"], ["tappable", "", 3, "imageLeft", "imageName", "text", "heading", "click"]], template: function TezosDelegationCard_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ion-row");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, TezosDelegationCard_card_actionable_1_Template, 7, 28, "card-actionable", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, TezosDelegationCard_card_actionable_2_Template, 7, 28, "card-actionable", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isDelegated);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isDelegated);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonRow"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _card_actionable_card_actionable__WEBPACK_IMPORTED_MODULE_4__["CardActionableComponent"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["AsyncPipe"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_6__["AmountConverterPipe"]], encapsulation: 2 });


/***/ }),

/***/ "QMTT":
/*!*************************************************!*\
  !*** ./src/app/services/price/price.service.ts ***!
  \*************************************************/
/*! exports provided: PriceService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PriceService", function() { return PriceService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../node_modules/axios */ "vDqi");
/* harmony import */ var _node_modules_axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_axios__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core/wallet/AirGapMarketWallet */ "wEhd");
/* harmony import */ var _airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _caching_caching_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../caching/caching.service */ "9nui");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "fXoL");








class PriceService {
    constructor(cachingService) {
        this.cachingService = cachingService;
        this.baseURL = 'https://crypto-prices-api.prod.gke.papers.tech';
        this.pendingMarketPriceRequests = {};
    }
    fetchPriceData(marketSymbols, timeInterval) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const cachedPriceData = yield this.cachingService.getPriceData(marketSymbols, timeInterval);
            if (cachedPriceData &&
                cachedPriceData.value &&
                cachedPriceData.timestamp > Date.now() - 30 * 60 * 1000 &&
                Array.isArray(cachedPriceData.value) &&
                cachedPriceData.value.length > 0) {
                return cachedPriceData.value;
            }
            else {
                const cryptoPricesResponse = yield _node_modules_axios__WEBPACK_IMPORTED_MODULE_2___default.a.get(`${this.baseURL}/api/v3/prices/history-usd?baseCurrencySymbols=${marketSymbols
                    .map((symbol) => symbol.toUpperCase())
                    .join()}&timeInterval=${timeInterval}`);
                yield this.cachingService.cachePriceData(marketSymbols, cryptoPricesResponse.data, timeInterval);
                return cryptoPricesResponse.data;
            }
        });
    }
    getCurrentMarketPrice(protocol, _baseSymbol) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (protocol.marketSymbol.length === 0) {
                return new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(0);
            }
            // TODO change when market data is available for USDtz
            if (protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["SubProtocolSymbols"].XTZ_USD) {
                return new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(1);
            }
            const pendingRequest = this.pendingMarketPriceRequests[protocol.marketSymbol];
            if (pendingRequest) {
                return pendingRequest;
            }
            const promise = new Promise((resolve) => {
                _node_modules_axios__WEBPACK_IMPORTED_MODULE_2___default.a
                    .get(`${this.baseURL}/api/v3/prices/latest-usd?baseCurrencySymbols=${protocol.marketSymbol.toUpperCase()}`)
                    .then((response) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    if (response && response.data && Array.isArray(response.data) && response.data.length > 0) {
                        const cryptoPrices = response.data[0];
                        if (cryptoPrices.price) {
                            resolve(new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(cryptoPrices.price));
                        }
                        else {
                            const price = yield this.fetchFromCoinGecko(protocol);
                            resolve(price);
                        }
                    }
                    else {
                        const price = yield this.fetchFromCoinGecko(protocol);
                        resolve(price);
                    }
                }))
                    .catch(() => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    const price = yield this.fetchFromCoinGecko(protocol);
                    resolve(price);
                }));
            });
            this.pendingMarketPriceRequests[protocol.marketSymbol] = promise;
            promise
                .then(() => {
                this.pendingMarketPriceRequests[protocol.marketSymbol] = undefined;
            })
                .catch();
            return promise;
        });
    }
    fetchTransactions(wallet) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return new Promise((resolve) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const rawTransactions = yield this.cachingService.getWalletData(wallet, _caching_caching_service__WEBPACK_IMPORTED_MODULE_5__["CachingServiceKey"].TRANSACTIONS);
                if (rawTransactions && rawTransactions.timestamp > Date.now() - 30 * 60 * 1000 && rawTransactions.value.transactions) {
                    resolve(rawTransactions.value);
                }
                else {
                    try {
                        const rawTransactions = yield wallet.fetchTransactions(100);
                        yield this.cachingService.cacheWalletData(wallet, rawTransactions, _caching_caching_service__WEBPACK_IMPORTED_MODULE_5__["CachingServiceKey"].TRANSACTIONS);
                        resolve(rawTransactions);
                    }
                    catch (error) {
                        resolve({ transactions: [], cursor: { page: 0 } });
                    }
                }
            }));
        });
    }
    fetchBalance(wallet) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return new Promise((resolve) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const rawBalance = yield this.cachingService.getWalletData(wallet, _caching_caching_service__WEBPACK_IMPORTED_MODULE_5__["CachingServiceKey"].BALANCE);
                if (rawBalance && rawBalance.timestamp > Date.now() - 30 * 60 * 1000 && rawBalance.value) {
                    resolve(new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(rawBalance.value));
                }
                else {
                    const balance = yield wallet.balanceOf();
                    yield this.cachingService.cacheWalletData(wallet, balance, _caching_caching_service__WEBPACK_IMPORTED_MODULE_5__["CachingServiceKey"].BALANCE);
                    resolve(balance);
                }
            }));
        });
    }
    fetchFromCoinGecko(protocol) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return new Promise((resolve, reject) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const symbolMapping = {
                    zrx: '0x',
                    elf: 'aelf',
                    aion: 'aion',
                    akro: 'akropolis',
                    ampl: 'ampleforth',
                    ankr: 'ankr',
                    ant: 'aragon',
                    aoa: 'aurora',
                    brc: 'baer-chain',
                    bal: 'balancer',
                    bnt: 'bancor',
                    band: 'band-protocol',
                    bat: 'basic-attention-token',
                    bnb: 'binancecoin',
                    busd: 'binance-usd',
                    btm: 'bytom',
                    bzrx: 'bzx-protocol',
                    cel: 'celsius-degree-token',
                    cennz: 'centrality',
                    link: 'chainlink',
                    chz: 'chiliz',
                    czrx: 'compound-0x',
                    comp: 'compound-coin',
                    cusdc: 'compound-usd-coin',
                    cvt: 'cybervein',
                    cro: 'crypto-com-chain',
                    crv: 'curve-dao-token',
                    dai: 'dai',
                    mana: 'decentraland',
                    dgtx: 'digitex-futures-exchange',
                    dx: 'dxchain',
                    eng: 'enigma',
                    enj: 'enjincoin',
                    lend: 'ethlend',
                    ftm: 'fantom',
                    fet: 'firstenergy-token',
                    gnt: 'golem',
                    one: 'one',
                    snx: 'havven',
                    hedg: 'hedgetrade',
                    hot: 'hydro-protocol',
                    ht: 'huobi-token',
                    husd: 'husd',
                    rlc: 'iexec-rlc',
                    xin: 'mixin',
                    ino: 'ino-coin',
                    inb: 'insight-chain',
                    ins: 'insolar-old',
                    iost: 'iostoken',
                    iotx: 'iotex',
                    pnk: 'kleros',
                    kcs: 'kucoin-shares',
                    knc: 'kyber-network',
                    leo: 'leo-token',
                    lpt: 'livepeer',
                    lrc: 'loopring',
                    mkr: 'maker',
                    matic: 'matic-network',
                    mln: 'melon',
                    mco: 'monaco',
                    mxc: 'mxc',
                    nec: 'nectar-token',
                    nexo: 'nexo',
                    nmr: 'numeraire',
                    nxm: 'nxm',
                    wnxm: 'wrapped-nxm',
                    ocean: 'ocean-protocol',
                    okb: 'okb',
                    omg: 'omisego',
                    ogn: 'origin-protocol',
                    trac: 'origintrail',
                    pax: 'payperex',
                    qnt: 'quant-network',
                    ren: 'republic-protocol',
                    repv2: 'augur',
                    rsr: 'reserve-rights-token',
                    sai: 'sai',
                    srm: 'serum',
                    agi: 'singularitynet',
                    storj: 'storj',
                    sxp: 'swipe',
                    chsb: 'swissborg',
                    trb: 'tellor',
                    usdt: 'tether',
                    theta: 'theta-token',
                    tusd: 'true-usd',
                    uma: 'uma',
                    ubt: 'unibright',
                    usdc: 'usd-coin',
                    utk: 'utrust',
                    wbtc: 'wrapped-bitcoin',
                    stake: 'xdai-stake',
                    yfi: 'yearn-finance',
                    zb: 'zb-token',
                    zil: 'zilliqa',
                    xchf: 'cryptofranc',
                    rbtc: 'rootstock',
                    rif: 'rif-token',
                    sov: 'sovryn'
                };
                const id = symbolMapping[protocol.marketSymbol.toLowerCase()];
                if (id) {
                    try {
                        const response = yield _node_modules_axios__WEBPACK_IMPORTED_MODULE_2___default.a.get(`https://api.coingecko.com/api/v3/simple/price?ids=${id}&vs_currencies=usd`);
                        const price = response.data !== undefined ? new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(response.data[id].usd) : new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(0);
                        resolve(price);
                    }
                    catch (error) {
                        reject(error);
                    }
                }
                else {
                    resolve(new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(0));
                }
            }));
        });
    }
}
PriceService.ɵfac = function PriceService_Factory(t) { return new (t || PriceService)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵinject"](_caching_caching_service__WEBPACK_IMPORTED_MODULE_5__["CachingService"])); };
PriceService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineInjectable"]({ token: PriceService, factory: PriceService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "Rdbu":
/*!*********************************************************************!*\
  !*** ./src/app/extensions/delegation/CosmosDelegationExtensions.ts ***!
  \*********************************************************************/
/*! exports provided: CosmosDelegationExtensions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CosmosDelegationExtensions", function() { return CosmosDelegationExtensions; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "wd/R");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _airgap_coinlib_core_protocols_cosmos_CosmosProtocol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/cosmos/CosmosProtocol */ "Z7Z5");
/* harmony import */ var _airgap_coinlib_core_protocols_cosmos_CosmosProtocol__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_cosmos_CosmosProtocol__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var src_app_models_widgets_display_UIAccountExtendedDetails__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/models/widgets/display/UIAccountExtendedDetails */ "kq8F");
/* harmony import */ var src_app_models_widgets_display_UIAccountSummary__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/models/widgets/display/UIAccountSummary */ "+A10");
/* harmony import */ var src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/models/widgets/display/UIIconText */ "tZEG");
/* harmony import */ var src_app_validators_DecimalValidator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/validators/DecimalValidator */ "fUHw");
/* harmony import */ var _ProtocolDelegationExtensions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ProtocolDelegationExtensions */ "VWe/");










var ArgumentName;
(function (ArgumentName) {
    ArgumentName["VALIDATOR"] = "validator";
    ArgumentName["AMOUNT"] = "amount";
    ArgumentName["AMOUNT_CONTROL"] = "amountControl";
})(ArgumentName || (ArgumentName = {}));
class CosmosDelegationExtensions extends _ProtocolDelegationExtensions__WEBPACK_IMPORTED_MODULE_9__["ProtocolDelegationExtensions"] {
    constructor(coinlibService, formBuilder, decimalPipe, amountConverterPipe, shortenStringPipe, translateService) {
        super();
        this.coinlibService = coinlibService;
        this.formBuilder = formBuilder;
        this.decimalPipe = decimalPipe;
        this.amountConverterPipe = amountConverterPipe;
        this.shortenStringPipe = shortenStringPipe;
        this.translateService = translateService;
        this.delegateeLabel = 'delegation-detail-cosmos.delegatee-label';
        this.delegateeLabelPlural = 'delegation-detail-cosmos.delegatee-label-plural';
        this.supportsMultipleDelegations = true;
    }
    static create(coinlibService, formBuilder, decimalPipe, amountConverterPipe, shortenStringPipe, translateService) {
        if (!CosmosDelegationExtensions.instance) {
            CosmosDelegationExtensions.instance = new CosmosDelegationExtensions(coinlibService, formBuilder, decimalPipe, amountConverterPipe, shortenStringPipe, translateService);
        }
        return CosmosDelegationExtensions.instance;
    }
    airGapDelegatee(_protocol) {
        return 'cosmosvaloper1n3f5lm7xtlrp05z9ud2xk2cnvk2xnzkm2he6er';
    }
    // TODO: add translations
    getExtraDelegationDetailsFromAddress(protocol, delegator, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const delegationsDetails = yield Promise.all(delegatees.map((validator) => protocol.getDelegationDetailsFromAddress(delegator, [validator])));
            return Promise.all(delegationsDetails.map((details) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const [delegator, validator] = yield Promise.all([
                    this.getExtraDelegatorDetails(protocol, details.delegator, details.delegatees[0].address),
                    this.getExtraValidatorDetails(protocol, details.delegatees[0])
                ]);
                return {
                    delegator,
                    delegatees: [validator]
                };
            })));
        });
    }
    createDelegateesSummary(protocol, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const knownValidators = yield this.getKnownValidators();
            const knownValidatorAddresses = knownValidators.map((validator) => validator.operator_address);
            const unkownValidators = yield Promise.all(delegatees
                .filter((address) => !knownValidatorAddresses.includes(address))
                .map((address) => protocol.fetchValidator(address)));
            const isNullOrUndefined = (value) => value === undefined || value === null;
            return Promise.all([...knownValidators, ...unkownValidators]
                .sort((a, b) => {
                if (!isNullOrUndefined(a.description.moniker) && !isNullOrUndefined(b.description.moniker)) {
                    return a.description.moniker.localeCompare(b.description.moniker);
                }
                else if (isNullOrUndefined(a.description.moniker) && !isNullOrUndefined(b.description.moniker)) {
                    return 1;
                }
                else if (!isNullOrUndefined(a.description.moniker) && isNullOrUndefined(b.description.moniker)) {
                    return -1;
                }
                else if (isNullOrUndefined(a.description.moniker) && isNullOrUndefined(b.description.moniker)) {
                    return a.operator_address.localeCompare(b.operator_address);
                }
                return 0;
            })
                .map((details) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                return new src_app_models_widgets_display_UIAccountSummary__WEBPACK_IMPORTED_MODULE_6__["UIAccountSummary"]({
                    address: details.operator_address,
                    logo: details.logo,
                    header: [
                        details.description.moniker,
                        `${this.decimalPipe.transform(new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(details.commission.commission_rates.rate).times(100).toString())}%`
                    ],
                    description: [
                        this.shortenStringPipe.transform(details.operator_address),
                        yield this.amountConverterPipe.transform(details.tokens, { protocol })
                    ]
                });
            })));
        });
    }
    createAccountExtendedDetails(protocol, address) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const results = yield Promise.all([
                protocol.getAvailableBalanceOfAddresses([address]),
                protocol.fetchTotalDelegatedAmount(address),
                protocol.fetchTotalUnbondingAmount(address),
                protocol.fetchTotalReward(address),
                protocol.fetchUnbondingDelegations(address)
            ]);
            const unbondingDetails = results[4]
                .map((unbonding) => unbonding.entries)
                .reduce((flatten, toFlatten) => flatten.concat(toFlatten), [])
                .map((entry) => {
                const completionTime = moment__WEBPACK_IMPORTED_MODULE_1__(entry.completion_time, 'YYYY-MM-DD hh:mm:ss Z').format('hh:ss MM/DD/YYYY');
                return { balance: entry.balance, completionTime };
            });
            const items = [
                {
                    label: 'account-transaction-detail.available_label',
                    text: `${this.amountConverterPipe.transformValueOnly(results[0], protocol, 0)} ${protocol.symbol}`
                },
                {
                    label: 'account-transaction-detail.delegated_label',
                    text: `${this.amountConverterPipe.transformValueOnly(results[1], protocol, 0)} ${protocol.symbol}`
                },
                {
                    label: 'account-transaction-detail.unbonding_label',
                    text: `${this.amountConverterPipe.transformValueOnly(results[2], protocol, 0)} ${protocol.symbol}`
                },
                {
                    label: 'account-transaction-detail.reward_label',
                    text: `${this.amountConverterPipe.transformValueOnly(results[3], protocol, 0)} ${protocol.symbol}`
                }
            ];
            const unbondingCompletionItems = unbondingDetails.map((unbondingDetail) => {
                return {
                    label: 'account-transaction-detail.unbonding_completion',
                    text: `${this.amountConverterPipe.transformValueOnly(unbondingDetail.balance, protocol, 0)} ${protocol.symbol} - ${unbondingDetail.completionTime}`
                };
            });
            items.splice(3, 0, ...unbondingCompletionItems);
            return new src_app_models_widgets_display_UIAccountExtendedDetails__WEBPACK_IMPORTED_MODULE_5__["UIAccountExtendedDetails"]({
                items
            });
        });
    }
    getExtraValidatorDetails(protocol, validatorDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const results = yield Promise.all([
                protocol.nodeClient.fetchValidator(validatorDetails.address),
                protocol.fetchSelfDelegation(validatorDetails.address),
                this.getKnownValidators()
            ]);
            const allDetails = results[0];
            const selfDelegation = results[1];
            const knownValidators = results[2];
            const knownValidator = knownValidators.find((validator) => validator.operator_address === validatorDetails.address);
            const currentUsage = new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(selfDelegation.delegation.shares);
            const totalUsage = new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(allDetails.tokens);
            const displayDetails = yield this.createValidatorDisplayDetails(protocol, allDetails);
            return Object.assign(Object.assign({}, validatorDetails), { logo: knownValidator ? knownValidator.logo : undefined, usageDetails: {
                    usage: currentUsage.div(totalUsage),
                    current: currentUsage,
                    total: totalUsage
                }, displayDetails });
        });
    }
    createValidatorDisplayDetails(protocol, validatorDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const details = [];
            const votingPower = yield this.fetchVotingPower(protocol, validatorDetails.operator_address);
            const commission = new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(validatorDetails.commission.commission_rates.rate);
            details.push(new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_7__["UIIconText"]({
                iconName: 'logo-usd',
                text: this.decimalPipe.transform(commission.times(100).toString()) + '%',
                description: 'delegation-detail-cosmos.commission_label'
            }), new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_7__["UIIconText"]({
                iconName: 'sync-outline',
                text: this.decimalPipe.transform(votingPower.times(100).toString(), '1.0-2') + '%',
                description: 'delegation-detail-cosmos.voting-power_label'
            }));
            return details;
        });
    }
    fetchVotingPower(protocol, address) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const validators = yield protocol.fetchValidators();
            const validator = validators.find((validator) => validator.operator_address === address);
            const validatedAmount = validator ? new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(validator.delegator_shares) : new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(0);
            const totalDelegatedAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(validators.map((validator) => parseFloat(validator.delegator_shares)).reduce((a, b) => a + b));
            return validatedAmount.div(totalDelegatedAmount);
        });
    }
    getExtraDelegatorDetails(protocol, delegatorDetails, validator) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const [delegations, unbondingDelegations, availableBalance, rewards] = yield Promise.all([
                protocol.fetchDelegations(delegatorDetails.address),
                protocol.fetchUnbondingDelegations(delegatorDetails.address),
                protocol.getAvailableBalanceOfAddresses([delegatorDetails.address]).then((availableBalance) => new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(availableBalance)),
                protocol
                    .fetchRewardForDelegation(delegatorDetails.address, validator)
                    .then((rewards) => new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(rewards))
                    .catch(() => new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(0))
            ]);
            const delegatedAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(delegatorDetails.delegatees.includes(validator)
                ? delegations.find((delegation) => delegation.delegation.validator_address === validator).balance.amount
                : 0);
            const unbondingAmount = unbondingDelegations
                .filter((unbonding) => unbonding.validator_address === validator)
                .map((unbonding) => unbonding.entries)
                .reduce((flatten, toFlatten) => flatten.concat(toFlatten), [])
                .reduce((sum, next) => sum.plus(next.balance), new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(0));
            const delegateAction = yield this.createDelegateAction(protocol, delegatorDetails, validator, availableBalance, delegatedAmount);
            const undelegateAction = yield this.createUndelegateAction(protocol, delegatorDetails, validator, delegatedAmount);
            const extraActions = yield this.createExtraActions(protocol, delegatorDetails.availableActions, validator, rewards);
            const displayDetails = yield this.createDisplayDetails(protocol, delegatedAmount, unbondingAmount, rewards);
            return Object.assign(Object.assign({}, delegatorDetails), { mainActions: [delegateAction, undelegateAction, ...extraActions].filter((action) => !!action), displayDetails });
        });
    }
    createDelegateAction(protocol, delegatorDetails, validator, availableBalance, delegatedAmount) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const requiredFee = new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(protocol.feeDefaults.low).shiftedBy(protocol.feeDecimals);
            const maxDelegationAmount = availableBalance.minus(requiredFee.times(2));
            const delegatedFormatted = yield this.amountConverterPipe.transform(delegatedAmount, { protocol });
            const maxDelegationFormatted = yield this.amountConverterPipe.transform(maxDelegationAmount, { protocol });
            const hasDelegated = delegatedAmount.gt(0);
            const canDelegate = maxDelegationAmount.gt(0);
            const baseDescription = hasDelegated
                ? this.translateService.instant('delegation-detail-cosmos.delegate.has-delegated_text', { delegated: delegatedFormatted })
                : this.translateService.instant('delegation-detail-cosmos.delegate.not-delegated_text');
            const extraDescription = canDelegate
                ? ` ${this.translateService.instant(hasDelegated
                    ? 'delegation-detail-cosmos.delegate.can-delegate-has-delegated_text'
                    : 'delegation-detail-cosmos.delegate.can-delegate-not-delegated_text', { maxDelegation: maxDelegationFormatted })}`
                : '';
            return this.createMainDelegatorAction(protocol, delegatorDetails.availableActions, validator, [_airgap_coinlib_core_protocols_cosmos_CosmosProtocol__WEBPACK_IMPORTED_MODULE_3__["CosmosDelegationActionType"].DELEGATE], 'delegation-detail-cosmos.delegate.label', maxDelegationAmount, new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(1), baseDescription + extraDescription);
        });
    }
    createUndelegateAction(protocol, delegatorDetails, validator, delegatedAmount) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const delegatedAmountFormatted = yield this.amountConverterPipe.transform(delegatedAmount, { protocol });
            const description = this.translateService.instant('delegation-detail-cosmos.undelegate.text', { delegated: delegatedAmountFormatted });
            return this.createMainDelegatorAction(protocol, delegatorDetails.availableActions, validator, [_airgap_coinlib_core_protocols_cosmos_CosmosProtocol__WEBPACK_IMPORTED_MODULE_3__["CosmosDelegationActionType"].UNDELEGATE], 'delegation-detail-cosmos.undelegate.label', delegatedAmount, new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(1), description);
        });
    }
    createMainDelegatorAction(protocol, availableActions, validator, types, label, maxAmount, minAmount, description) {
        const action = availableActions.find((action) => types.includes(action.type));
        if (action && maxAmount.gte(minAmount)) {
            const maxAmountFormatted = maxAmount.shiftedBy(-protocol.decimals).decimalPlaces(protocol.decimals).toFixed();
            const minAmountFormatted = minAmount.shiftedBy(-protocol.decimals).decimalPlaces(protocol.decimals).toFixed();
            const form = this.formBuilder.group({
                [ArgumentName.VALIDATOR]: validator,
                [ArgumentName.AMOUNT]: maxAmount.toString(),
                [ArgumentName.AMOUNT_CONTROL]: [
                    maxAmountFormatted,
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([
                        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
                        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].min(new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(minAmountFormatted).toNumber()),
                        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].max(new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(maxAmountFormatted).toNumber()),
                        src_app_validators_DecimalValidator__WEBPACK_IMPORTED_MODULE_8__["DecimalValidator"].validate(protocol.decimals)
                    ])
                ]
            });
            return {
                type: action.type,
                form,
                label,
                description,
                args: [
                    this.createAmountWidget(ArgumentName.AMOUNT_CONTROL, maxAmountFormatted, minAmountFormatted, {
                        onValueChanged: (value) => {
                            form.patchValue({ [ArgumentName.AMOUNT]: new bignumber_js__WEBPACK_IMPORTED_MODULE_4___default.a(value).shiftedBy(protocol.decimals).toFixed() });
                        }
                    })
                ]
            };
        }
        return null;
    }
    createExtraActions(protocol, availableActions, validator, rewards) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const mainActionTypes = [_airgap_coinlib_core_protocols_cosmos_CosmosProtocol__WEBPACK_IMPORTED_MODULE_3__["CosmosDelegationActionType"].DELEGATE, _airgap_coinlib_core_protocols_cosmos_CosmosProtocol__WEBPACK_IMPORTED_MODULE_3__["CosmosDelegationActionType"].UNDELEGATE];
            const excludedActionTypes = [_airgap_coinlib_core_protocols_cosmos_CosmosProtocol__WEBPACK_IMPORTED_MODULE_3__["CosmosDelegationActionType"].WITHDRAW_ALL_REWARDS];
            return Promise.all(availableActions
                .filter((action) => !mainActionTypes.includes(action.type) && !excludedActionTypes.includes(action.type))
                .map((action) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                let partial = {};
                switch (action.type) {
                    case _airgap_coinlib_core_protocols_cosmos_CosmosProtocol__WEBPACK_IMPORTED_MODULE_3__["CosmosDelegationActionType"].WITHDRAW_VALIDATOR_REWARDS:
                        partial = yield this.createWithdrawRewardsAction(protocol, validator, rewards);
                        break;
                    default:
                        partial = {};
                }
                return Object.assign({ type: action.type, label: action.type, confirmLabel: action.type }, partial);
            })));
        });
    }
    createWithdrawRewardsAction(protocol, validator, rewards) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const form = this.formBuilder.group({
                [ArgumentName.VALIDATOR]: validator
            });
            const rewardsFormatted = yield this.amountConverterPipe.transform(rewards, {
                protocol
            });
            return {
                label: 'delegation-detail-cosmos.rewards.label',
                confirmLabel: 'delegation-detail-cosmos.rewards.button',
                form,
                description: this.translateService.instant('delegation-detail-cosmos.rewards.text', { rewards: rewardsFormatted })
            };
        });
    }
    createDisplayDetails(protocol, delegatedAmount, unbondingAmount, rewards) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const details = [];
            if (delegatedAmount.gt(0)) {
                details.push(new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_7__["UIIconText"]({
                    iconName: 'people-outline',
                    text: yield this.amountConverterPipe.transform(delegatedAmount, {
                        protocol
                    }),
                    description: 'delegation-detail-cosmos.currently-delegated_label'
                }));
            }
            if (unbondingAmount.gt(0)) {
                details.push(new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_7__["UIIconText"]({
                    iconName: 'people-outline',
                    text: yield this.amountConverterPipe.transform(unbondingAmount, {
                        protocol
                    }),
                    description: 'delegation-detail-cosmos.unbonding_label'
                }));
            }
            if (rewards.gt(0)) {
                details.push(new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_7__["UIIconText"]({
                    iconName: 'logo-usd',
                    text: yield this.amountConverterPipe.transform(rewards, {
                        protocol
                    }),
                    description: 'delegation-detail-cosmos.unclaimed-rewards_label'
                }));
            }
            return details;
        });
    }
    getKnownValidators() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.knownValidators === undefined) {
                this.knownValidators = yield this.coinlibService.getKnownCosmosValidators();
            }
            return this.knownValidators;
        });
    }
}


/***/ }),

/***/ "RnhZ":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "K/tc",
	"./af.js": "K/tc",
	"./ar": "jnO4",
	"./ar-dz": "o1bE",
	"./ar-dz.js": "o1bE",
	"./ar-kw": "Qj4J",
	"./ar-kw.js": "Qj4J",
	"./ar-ly": "HP3h",
	"./ar-ly.js": "HP3h",
	"./ar-ma": "CoRJ",
	"./ar-ma.js": "CoRJ",
	"./ar-sa": "gjCT",
	"./ar-sa.js": "gjCT",
	"./ar-tn": "bYM6",
	"./ar-tn.js": "bYM6",
	"./ar.js": "jnO4",
	"./az": "SFxW",
	"./az.js": "SFxW",
	"./be": "H8ED",
	"./be.js": "H8ED",
	"./bg": "hKrs",
	"./bg.js": "hKrs",
	"./bm": "p/rL",
	"./bm.js": "p/rL",
	"./bn": "kEOa",
	"./bn-bd": "loYQ",
	"./bn-bd.js": "loYQ",
	"./bn.js": "kEOa",
	"./bo": "0mo+",
	"./bo.js": "0mo+",
	"./br": "aIdf",
	"./br.js": "aIdf",
	"./bs": "JVSJ",
	"./bs.js": "JVSJ",
	"./ca": "1xZ4",
	"./ca.js": "1xZ4",
	"./cs": "PA2r",
	"./cs.js": "PA2r",
	"./cv": "A+xa",
	"./cv.js": "A+xa",
	"./cy": "l5ep",
	"./cy.js": "l5ep",
	"./da": "DxQv",
	"./da.js": "DxQv",
	"./de": "tGlX",
	"./de-at": "s+uk",
	"./de-at.js": "s+uk",
	"./de-ch": "u3GI",
	"./de-ch.js": "u3GI",
	"./de.js": "tGlX",
	"./dv": "WYrj",
	"./dv.js": "WYrj",
	"./el": "jUeY",
	"./el.js": "jUeY",
	"./en-au": "Dmvi",
	"./en-au.js": "Dmvi",
	"./en-ca": "OIYi",
	"./en-ca.js": "OIYi",
	"./en-gb": "Oaa7",
	"./en-gb.js": "Oaa7",
	"./en-ie": "4dOw",
	"./en-ie.js": "4dOw",
	"./en-il": "czMo",
	"./en-il.js": "czMo",
	"./en-in": "7C5Q",
	"./en-in.js": "7C5Q",
	"./en-nz": "b1Dy",
	"./en-nz.js": "b1Dy",
	"./en-sg": "t+mt",
	"./en-sg.js": "t+mt",
	"./eo": "Zduo",
	"./eo.js": "Zduo",
	"./es": "iYuL",
	"./es-do": "CjzT",
	"./es-do.js": "CjzT",
	"./es-mx": "tbfe",
	"./es-mx.js": "tbfe",
	"./es-us": "Vclq",
	"./es-us.js": "Vclq",
	"./es.js": "iYuL",
	"./et": "7BjC",
	"./et.js": "7BjC",
	"./eu": "D/JM",
	"./eu.js": "D/JM",
	"./fa": "jfSC",
	"./fa.js": "jfSC",
	"./fi": "gekB",
	"./fi.js": "gekB",
	"./fil": "1ppg",
	"./fil.js": "1ppg",
	"./fo": "ByF4",
	"./fo.js": "ByF4",
	"./fr": "nyYc",
	"./fr-ca": "2fjn",
	"./fr-ca.js": "2fjn",
	"./fr-ch": "Dkky",
	"./fr-ch.js": "Dkky",
	"./fr.js": "nyYc",
	"./fy": "cRix",
	"./fy.js": "cRix",
	"./ga": "USCx",
	"./ga.js": "USCx",
	"./gd": "9rRi",
	"./gd.js": "9rRi",
	"./gl": "iEDd",
	"./gl.js": "iEDd",
	"./gom-deva": "qvJo",
	"./gom-deva.js": "qvJo",
	"./gom-latn": "DKr+",
	"./gom-latn.js": "DKr+",
	"./gu": "4MV3",
	"./gu.js": "4MV3",
	"./he": "x6pH",
	"./he.js": "x6pH",
	"./hi": "3E1r",
	"./hi.js": "3E1r",
	"./hr": "S6ln",
	"./hr.js": "S6ln",
	"./hu": "WxRl",
	"./hu.js": "WxRl",
	"./hy-am": "1rYy",
	"./hy-am.js": "1rYy",
	"./id": "UDhR",
	"./id.js": "UDhR",
	"./is": "BVg3",
	"./is.js": "BVg3",
	"./it": "bpih",
	"./it-ch": "bxKX",
	"./it-ch.js": "bxKX",
	"./it.js": "bpih",
	"./ja": "B55N",
	"./ja.js": "B55N",
	"./jv": "tUCv",
	"./jv.js": "tUCv",
	"./ka": "IBtZ",
	"./ka.js": "IBtZ",
	"./kk": "bXm7",
	"./kk.js": "bXm7",
	"./km": "6B0Y",
	"./km.js": "6B0Y",
	"./kn": "PpIw",
	"./kn.js": "PpIw",
	"./ko": "Ivi+",
	"./ko.js": "Ivi+",
	"./ku": "JCF/",
	"./ku.js": "JCF/",
	"./ky": "lgnt",
	"./ky.js": "lgnt",
	"./lb": "RAwQ",
	"./lb.js": "RAwQ",
	"./lo": "sp3z",
	"./lo.js": "sp3z",
	"./lt": "JvlW",
	"./lt.js": "JvlW",
	"./lv": "uXwI",
	"./lv.js": "uXwI",
	"./me": "KTz0",
	"./me.js": "KTz0",
	"./mi": "aIsn",
	"./mi.js": "aIsn",
	"./mk": "aQkU",
	"./mk.js": "aQkU",
	"./ml": "AvvY",
	"./ml.js": "AvvY",
	"./mn": "lYtQ",
	"./mn.js": "lYtQ",
	"./mr": "Ob0Z",
	"./mr.js": "Ob0Z",
	"./ms": "6+QB",
	"./ms-my": "ZAMP",
	"./ms-my.js": "ZAMP",
	"./ms.js": "6+QB",
	"./mt": "G0Uy",
	"./mt.js": "G0Uy",
	"./my": "honF",
	"./my.js": "honF",
	"./nb": "bOMt",
	"./nb.js": "bOMt",
	"./ne": "OjkT",
	"./ne.js": "OjkT",
	"./nl": "+s0g",
	"./nl-be": "2ykv",
	"./nl-be.js": "2ykv",
	"./nl.js": "+s0g",
	"./nn": "uEye",
	"./nn.js": "uEye",
	"./oc-lnc": "Fnuy",
	"./oc-lnc.js": "Fnuy",
	"./pa-in": "8/+R",
	"./pa-in.js": "8/+R",
	"./pl": "jVdC",
	"./pl.js": "jVdC",
	"./pt": "8mBD",
	"./pt-br": "0tRk",
	"./pt-br.js": "0tRk",
	"./pt.js": "8mBD",
	"./ro": "lyxo",
	"./ro.js": "lyxo",
	"./ru": "lXzo",
	"./ru.js": "lXzo",
	"./sd": "Z4QM",
	"./sd.js": "Z4QM",
	"./se": "//9w",
	"./se.js": "//9w",
	"./si": "7aV9",
	"./si.js": "7aV9",
	"./sk": "e+ae",
	"./sk.js": "e+ae",
	"./sl": "gVVK",
	"./sl.js": "gVVK",
	"./sq": "yPMs",
	"./sq.js": "yPMs",
	"./sr": "zx6S",
	"./sr-cyrl": "E+lV",
	"./sr-cyrl.js": "E+lV",
	"./sr.js": "zx6S",
	"./ss": "Ur1D",
	"./ss.js": "Ur1D",
	"./sv": "X709",
	"./sv.js": "X709",
	"./sw": "dNwA",
	"./sw.js": "dNwA",
	"./ta": "PeUW",
	"./ta.js": "PeUW",
	"./te": "XLvN",
	"./te.js": "XLvN",
	"./tet": "V2x9",
	"./tet.js": "V2x9",
	"./tg": "Oxv6",
	"./tg.js": "Oxv6",
	"./th": "EOgW",
	"./th.js": "EOgW",
	"./tk": "Wv91",
	"./tk.js": "Wv91",
	"./tl-ph": "Dzi0",
	"./tl-ph.js": "Dzi0",
	"./tlh": "z3Vd",
	"./tlh.js": "z3Vd",
	"./tr": "DoHr",
	"./tr.js": "DoHr",
	"./tzl": "z1FC",
	"./tzl.js": "z1FC",
	"./tzm": "wQk9",
	"./tzm-latn": "tT3J",
	"./tzm-latn.js": "tT3J",
	"./tzm.js": "wQk9",
	"./ug-cn": "YRex",
	"./ug-cn.js": "YRex",
	"./uk": "raLr",
	"./uk.js": "raLr",
	"./ur": "UpQW",
	"./ur.js": "UpQW",
	"./uz": "Loxo",
	"./uz-latn": "AQ68",
	"./uz-latn.js": "AQ68",
	"./uz.js": "Loxo",
	"./vi": "KSF8",
	"./vi.js": "KSF8",
	"./x-pseudo": "/X5v",
	"./x-pseudo.js": "/X5v",
	"./yo": "fzPg",
	"./yo.js": "fzPg",
	"./zh-cn": "XDpg",
	"./zh-cn.js": "XDpg",
	"./zh-hk": "SatO",
	"./zh-hk.js": "SatO",
	"./zh-mo": "OmwH",
	"./zh-mo.js": "OmwH",
	"./zh-tw": "kOpN",
	"./zh-tw.js": "kOpN"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "RnhZ";

/***/ }),

/***/ "RpFw":
/*!******************************************************************!*\
  !*** ./src/app/ledger/connection/bridge/LedgerElectronBridge.ts ***!
  \******************************************************************/
/*! exports provided: LedgerProcessMessageType, LedgerElectronBridge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LedgerProcessMessageType", function() { return LedgerProcessMessageType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LedgerElectronBridge", function() { return LedgerElectronBridge; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var src_app_models_ElectronProcess__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/models/ElectronProcess */ "AD7y");


var LedgerProcessMessageType;
(function (LedgerProcessMessageType) {
    LedgerProcessMessageType["GET_DEVICES"] = "get-devices";
    LedgerProcessMessageType["GET_DEVICES_REPLY"] = "get-devices-reply";
    LedgerProcessMessageType["OPEN"] = "open";
    LedgerProcessMessageType["OPEN_REPLY"] = "open-reply";
    LedgerProcessMessageType["SEND"] = "send";
    LedgerProcessMessageType["SEND_REPLY"] = "send-reply";
    LedgerProcessMessageType["EXCHANGE"] = "exchange";
    LedgerProcessMessageType["EXCHANGE_REPLY"] = "exchange-reply";
    LedgerProcessMessageType["SET_EXCHANGE_TIMEOUT"] = "set-exchange-timeout";
    LedgerProcessMessageType["CLOSE"] = "close";
    LedgerProcessMessageType["CLOSE_REPLY"] = "close-reply";
    LedgerProcessMessageType["DECORATE_APP"] = "decorate-app";
    LedgerProcessMessageType["SET_SCRAMBLE_KEY"] = "set-scramble-key";
})(LedgerProcessMessageType || (LedgerProcessMessageType = {}));
const LEDGER_PROCESS_NAME = 'ledger';
class LedgerElectronBridge {
    constructor(electronProcess) {
        this.electronProcess = electronProcess;
        this.messagePromises = new Map();
    }
    static getInstance() {
        if (!LedgerElectronBridge.instance) {
            const electronProcess = new src_app_models_ElectronProcess__WEBPACK_IMPORTED_MODULE_1__["ElectronProcess"](LEDGER_PROCESS_NAME);
            LedgerElectronBridge.instance = new LedgerElectronBridge(electronProcess);
        }
        return LedgerElectronBridge.instance;
    }
    sendToLedger(type, data, requestId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const promiseId = requestId ? `${type}_${requestId}` : type;
            let promise = this.messagePromises.get(promiseId);
            if (!promise) {
                promise = this.electronProcess.send(promiseId, type, data).finally(() => this.messagePromises.delete(promiseId));
                this.messagePromises.set(promiseId, promise);
            }
            return promise;
        });
    }
}
LedgerElectronBridge.instance = null;


/***/ }),

/***/ "ScAI":
/*!*******************************************************************************!*\
  !*** ./src/app/components/permission-request/permission-request.component.ts ***!
  \*******************************************************************************/
/*! exports provided: PermissionRequestComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PermissionRequestComponent", function() { return PermissionRequestComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var src_app_pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/pipes/shorten-string/shorten-string.pipe */ "iLEx");
/* harmony import */ var src_app_services_account_account_provider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/account/account.provider */ "57MG");
/* harmony import */ var src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/forms */ "3Pt+");

















function PermissionRequestComponent_airgap_identicon_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "airgap-identicon", 8);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("address", ctx_r0.requesterName);
} }
function PermissionRequestComponent_img_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "img", 18);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("src", ctx_r1.icon, _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵsanitizeUrl"]);
} }
function PermissionRequestComponent_ng_container_26_ion_badge_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-badge", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", ctx_r5.network.rpcUrl, " ");
} }
function PermissionRequestComponent_ng_container_26_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0, 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-badge", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](3, PermissionRequestComponent_ng_container_26_ion_badge_3_Template, 2, 1, "ion-badge", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](ctx_r2.network.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r2.network.type === ctx_r2.networkType.CUSTOM);
} }
function PermissionRequestComponent_ion_item_29_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-item", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-avatar", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](2, "airgap-identicon", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "p", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](6, "shortenString");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "ion-button", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function PermissionRequestComponent_ion_item_29_Template_ion_button_click_7_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](); return ctx_r6.changeAccount(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](9, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("address", ctx_r3.address);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](6, 3, ctx_r3.address));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](9, 5, "beacon-request.select-account.button"), " ");
} }
function PermissionRequestComponent_ng_container_30_ion_item_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-item");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](1, "ion-icon", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "ion-checkbox", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("ngModelChange", function PermissionRequestComponent_ng_container_30_ion_item_7_Template_ion_checkbox_ngModelChange_5_listener($event) { const input_r9 = ctx.$implicit; return input_r9.checked = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const input_r9 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpropertyInterpolate"]("name", input_r9.icon);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](4, 3, input_r9.label));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngModel", input_r9.checked);
} }
function PermissionRequestComponent_ng_container_30_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "p", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "ion-row", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "ion-col", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](6, "ion-list", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](7, PermissionRequestComponent_ng_container_30_ion_item_7_Template, 6, 5, "ion-item", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](3, 2, "beacon-request.request.text"));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngForOf", ctx_r4.inputs);
} }
const _c0 = function (a0) { return { requesterName: a0 }; };
class PermissionRequestComponent {
    constructor(modalController, alertController, shortenStringPipe, translateService, accountService) {
        this.modalController = modalController;
        this.alertController = alertController;
        this.shortenStringPipe = shortenStringPipe;
        this.translateService = translateService;
        this.accountService = accountService;
        this.networkType = _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["NetworkType"];
        this.wallets = [];
        this.address = '';
        this.requesterName = '';
        this.icon = '';
        this.inputs = [];
        this.walletSetEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"]();
    }
    ngOnInit() {
        const allWallets = this.accountService.getWalletList();
        this.wallets = allWallets.filter((wallet) => wallet.protocol.identifier === this.targetProtocolSymbol && wallet.status === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["AirGapWalletStatus"].ACTIVE);
    }
    changeAccount() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.modalRef = yield this.modalController.getTop();
            return new Promise(() => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                if (this.wallets.length === 1) {
                    return;
                }
                const alert = yield this.alertController.create({
                    header: this.translateService.instant('beacon-request.select-account.alert'),
                    inputs: this.wallets.map((wallet) => ({
                        label: this.shortenStringPipe.transform(wallet.receivingPublicAddress),
                        type: 'radio',
                        value: wallet,
                        checked: wallet.receivingPublicAddress === this.address
                    })),
                    buttons: [
                        {
                            text: 'Cancel',
                            role: 'cancel',
                            cssClass: 'secondary',
                            handler: () => {
                                this.dismiss();
                            }
                        },
                        {
                            text: 'Ok',
                            handler: (wallet) => {
                                this.walletSetEmitter.emit(wallet);
                            }
                        }
                    ]
                });
                yield alert.present();
            }));
        });
    }
    dismiss() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.modalRef.dismiss().catch(Object(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["handleErrorSentry"])(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["ErrorCategory"].NAVIGATION));
        });
    }
}
PermissionRequestComponent.ɵfac = function PermissionRequestComponent_Factory(t) { return new (t || PermissionRequestComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](src_app_pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_5__["ShortenStringPipe"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateService"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](src_app_services_account_account_provider__WEBPACK_IMPORTED_MODULE_6__["AccountProvider"])); };
PermissionRequestComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: PermissionRequestComponent, selectors: [["permission-request"]], inputs: { address: "address", network: "network", requesterName: "requesterName", icon: "icon", inputs: "inputs", targetProtocolSymbol: "targetProtocolSymbol" }, outputs: { walletSetEmitter: "walletSetEmitter" }, decls: 31, vars: 16, consts: [[1, "request--container", "ion-padding-top"], ["size", "3", 1, "ion-text-center"], [1, "content--align__center-center"], [3, "address", 4, "ngIf"], [3, "src", 4, "ngIf"], [1, "divider--line"], [1, "ion-text-center"], ["name", "checkmark-circle-outline", "color", "secondary", "size", "large", 1, "ion-margin-top"], [3, "address"], ["size", "6", 1, "ion-text-left"], [1, "ion-no-margin"], ["size", "6", 1, "ion-text-right"], [1, "ion-align-items-center", "ion-padding-top"], ["size", "12"], ["class", "ion-no-padding", "lines", "none", "slot", "start", 4, "ngIf"], [3, "innerHTML"], ["lines", "none", "class", "ion-no-padding", 4, "ngIf"], [4, "ngIf"], [3, "src"], ["lines", "none", "slot", "start", 1, "ion-no-padding"], ["color", "danger", 1, "badge__margin"], ["class", "badge__margin", 4, "ngIf"], [1, "badge__margin"], ["lines", "none", 1, "ion-no-padding"], ["slot", "start"], ["color", "secondary", "shape", "round", "size", "small", "fill", "outline", "slot", "end", 3, "click"], [1, "ion-padding-top"], [1, "ion-no-padding"], ["lines", "none"], [4, "ngFor", "ngForOf"], ["slot", "start", 3, "name"], ["slot", "end", 3, "ngModel", "ngModelChange"]], template: function PermissionRequestComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-row", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-col", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "ion-avatar", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](4, PermissionRequestComponent_airgap_identicon_4_Template, 1, 1, "airgap-identicon", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](5, PermissionRequestComponent_img_5_Template, 1, 1, "img", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](6, "ion-col");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](7, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](8, "ion-col", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](9, "ion-icon", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](10, "ion-col");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](11, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](12, "ion-col", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](13, "ion-avatar", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](14, "airgap-identicon", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](15, "ion-row");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](16, "ion-col", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](17, "h5", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](18);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](19, "ion-col", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](20, "h5", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](21);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](22, "shortenString");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](23, "ion-row", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](24, "ion-col", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](25, "ion-row");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](26, PermissionRequestComponent_ng_container_26_Template, 4, 2, "ng-container", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](27, "h2", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](28, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](29, PermissionRequestComponent_ion_item_29_Template, 10, 7, "ion-item", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](30, PermissionRequestComponent_ng_container_30_Template, 8, 4, "ng-container", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !ctx.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("address", ctx.address);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](ctx.requesterName);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](22, 9, ctx.address));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.network && ctx.network.type !== ctx.networkType.MAINNET);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](28, 11, "beacon-request.request.heading", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction1"](14, _c0, ctx.requesterName)), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵsanitizeHtml"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.wallets.length > 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.inputs && ctx.inputs.length > 0);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonAvatar"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonIcon"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_9__["IdenticonComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonBadge"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonButton"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonList"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgForOf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonCheckbox"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["BooleanValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_10__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_10__["NgModel"]], pipes: [src_app_pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_5__["ShortenStringPipe"], _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslatePipe"]], styles: [".divider--line[_ngcontent-%COMP%] {\n  border-top: 2px solid var(--ion-color-primary);\n  margin-top: 32px;\n}\n\n.request--container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\n  word-break: break-all;\n}\n\n.request--container[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%] {\n  margin: auto;\n}\n\n.badge__margin[_ngcontent-%COMP%] {\n  margin: 0px 6px 0px 0px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Blcm1pc3Npb24tcmVxdWVzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDhDQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFRTtFQUNFLHFCQUFBO0FBQ0o7O0FBQ0U7RUFDRSxZQUFBO0FBQ0o7O0FBRUE7RUFDRSx1QkFBQTtBQUNGIiwiZmlsZSI6InBlcm1pc3Npb24tcmVxdWVzdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaXZpZGVyLS1saW5lIHtcbiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgbWFyZ2luLXRvcDogMzJweDtcbn1cbi5yZXF1ZXN0LS1jb250YWluZXIge1xuICBoNSB7XG4gICAgd29yZC1icmVhazogYnJlYWstYWxsO1xuICB9XG4gIGlvbi1hdmF0YXIge1xuICAgIG1hcmdpbjogYXV0bztcbiAgfVxufVxuLmJhZGdlX19tYXJnaW4ge1xuICBtYXJnaW46IDBweCA2cHggMHB4IDBweDtcbn1cbiJdfQ== */"] });


/***/ }),

/***/ "Scg5":
/*!*********************************************************!*\
  !*** ./src/app/ledger/app/substrate/KusamaLedgerApp.ts ***!
  \*********************************************************/
/*! exports provided: KusamaLedgerApp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KusamaLedgerApp", function() { return KusamaLedgerApp; });
/* harmony import */ var _zondax_ledger_substrate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zondax/ledger-substrate */ "d6od");
/* harmony import */ var _zondax_ledger_substrate__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_zondax_ledger_substrate__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _SubstrateLedgerApp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SubstrateLedgerApp */ "qlYR");



class KusamaLedgerApp extends _SubstrateLedgerApp__WEBPACK_IMPORTED_MODULE_2__["SubstrateLedgerApp"] {
    constructor() {
        super(...arguments);
        this.protocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["KusamaProtocol"]();
    }
    getApp() {
        return Object(_zondax_ledger_substrate__WEBPACK_IMPORTED_MODULE_0__["newKusamaApp"])(this.connection.transport);
    }
}


/***/ }),

/***/ "Sy1n":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_domains_TezosDomains__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/tezos/domains/TezosDomains */ "VYGy");
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_domains_TezosDomains__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_tezos_domains_TezosDomains__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_sapling_TezosSaplingProtocolOptions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/tezos/sapling/TezosSaplingProtocolOptions */ "cHOc");
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_sapling_TezosSaplingProtocolOptions__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_tezos_sapling_TezosSaplingProtocolOptions__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _capacitor_status_bar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @capacitor/status-bar */ "cnT8");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _services_account_account_provider__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./services/account/account.provider */ "57MG");
/* harmony import */ var _services_data_data_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./services/data/data.service */ "1y+R");
/* harmony import */ var _services_iac_iac_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./services/iac/iac.service */ "wTY4");
/* harmony import */ var _services_push_push__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./services/push/push */ "LuFN");
/* harmony import */ var _services_sapling_native_sapling_native_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./services/sapling-native/sapling-native.service */ "EK3o");
/* harmony import */ var _services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./services/sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _services_storage_storage__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./services/storage/storage */ "AFs5");
/* harmony import */ var _services_walletconnect_walletconnect_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./services/walletconnect/walletconnect.service */ "8xAc");
/* harmony import */ var _types_GenericProtocolSymbols__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./types/GenericProtocolSymbols */ "lwXz");
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./utils/utils */ "oCjk");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/common */ "ofXK");

































function AppComponent_ion_split_pane_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "ion-split-pane", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "ion-menu", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](2, "ion-header", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](3, "ion-toolbar");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](4, "ion-title");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](5, "AirGap Wallet");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](6, "ion-content");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](7, "ion-list", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](8, "ion-menu-toggle", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](9, "ion-item", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](10, "ion-icon", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](11, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](13, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](14, "ion-item", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](15, "ion-icon", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](16, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](17);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](18, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](19, "ion-item", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](20, "ion-icon", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](21, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](22);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](23, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](24, "ion-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](25, "ion-icon", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](26, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](27);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](28, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](29, "ion-router-outlet", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](13, 4, "tabs.wallets"));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](18, 6, "tabs.scan"));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](23, 8, "tabs.exchange"));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](28, 10, "tabs.settings"));
} }
function AppComponent_ion_router_outlet_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](0, "ion-router-outlet");
} }
class AppComponent {
    constructor(platform, translate, languageService, iacService, protocolService, storageProvider, accountProvider, addressService, serializerService, pushProvider, walletconnectService, router, dataService, config, ngZone, saplingNativeService, app, appInfo, splashScreen, statusBar) {
        this.platform = platform;
        this.translate = translate;
        this.languageService = languageService;
        this.iacService = iacService;
        this.protocolService = protocolService;
        this.storageProvider = storageProvider;
        this.accountProvider = accountProvider;
        this.addressService = addressService;
        this.serializerService = serializerService;
        this.pushProvider = pushProvider;
        this.walletconnectService = walletconnectService;
        this.router = router;
        this.dataService = dataService;
        this.config = config;
        this.ngZone = ngZone;
        this.saplingNativeService = saplingNativeService;
        this.app = app;
        this.appInfo = appInfo;
        this.splashScreen = splashScreen;
        this.statusBar = statusBar;
        this.isMobile = false;
        this.isElectron = false;
        this.initializeApp().catch(Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__["ErrorCategory"].OTHER));
        this.isMobile = this.platform.is('android') || this.platform.is('ios');
        this.isElectron = this.platform.is('electron');
    }
    initializeApp() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield Promise.all([this.initializeTranslations(), this.platform.ready(), this.initializeProtocols(), this.initializeWalletConnect()]);
            if (this.platform.is('hybrid')) {
                yield Promise.all([
                    this.statusBar.setStyle({ style: _capacitor_status_bar__WEBPACK_IMPORTED_MODULE_7__["Style"].Light }),
                    this.statusBar.setBackgroundColor({ color: '#FFFFFF' }),
                    this.splashScreen.hide(),
                    this.pushProvider.initPush()
                ]);
                this.appInfo
                    .get()
                    .then((appInfo) => {
                    Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__["setSentryRelease"])(`app_${appInfo.versionName}`);
                })
                    .catch(Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__["ErrorCategory"].CORDOVA_PLUGIN));
            }
            let userId = yield this.storageProvider.get(_services_storage_storage__WEBPACK_IMPORTED_MODULE_16__["WalletStorageKey"].USER_ID);
            if (!userId) {
                userId = Object(_utils_utils__WEBPACK_IMPORTED_MODULE_19__["generateGUID"])();
                this.storageProvider.set(_services_storage_storage__WEBPACK_IMPORTED_MODULE_16__["WalletStorageKey"].USER_ID, userId).catch(Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__["ErrorCategory"].STORAGE));
            }
            Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__["setSentryUser"])(userId);
            const url = new URL(location.href);
            if (url.searchParams.get('rawUnsignedTx')) {
                // Wait until wallets are initialized
                // TODO: Use wallet changed observable?
                const sub = this.accountProvider.wallets$.subscribe(() => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    yield this.walletDeeplink();
                    if (sub) {
                        sub.unsubscribe();
                    }
                }));
            }
        });
    }
    ngAfterViewInit() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.platform.ready();
            if (this.platform.is('ios')) {
                this.translate.get(['back-button']).subscribe((translated) => {
                    const back = translated['back-button'];
                    this.config.set('backButtonText', back);
                });
            }
            if (this.platform.is('hybrid')) {
                this.app.addListener('appUrlOpen', (data) => {
                    this.ngZone.run(() => {
                        if (data.url === 'airgap-wallet://' || data.url === 'https://wallet.airgap.it' || data.url === 'https://wallet.airgap.it/') {
                            // Ignore empty deeplinks
                            return;
                        }
                        this.iacService.handleRequest(data.url, _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["IACMessageTransport"].DEEPLINK).catch(Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__["ErrorCategory"].SCHEME_ROUTING));
                    });
                });
            }
        });
    }
    // TODO: Move to provider
    walletDeeplink() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const url = new URL(location.href);
            const publicKey = url.searchParams.get('publicKey');
            const rawUnsignedTx = JSON.parse(url.searchParams.get('rawUnsignedTx'));
            const identifier = url.searchParams.get('identifier');
            const wallet = this.accountProvider.walletByPublicKeyAndProtocolAndAddressIndex(publicKey, identifier);
            const airGapTxs = yield wallet.protocol.getTransactionDetails({
                publicKey: wallet.publicKey,
                transaction: rawUnsignedTx
            });
            const serializedTx = yield this.serializerService.serialize([
                {
                    id: Object(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["generateId"])(8),
                    protocol: wallet.protocol.identifier,
                    type: _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["IACMessageType"].TransactionSignRequest,
                    payload: {
                        publicKey: wallet.publicKey,
                        transaction: rawUnsignedTx,
                        callbackURL: 'airgap-wallet://?d='
                    }
                }
            ]);
            const info = {
                wallet,
                airGapTxs,
                data: serializedTx
            };
            this.dataService.setData(_services_data_data_service__WEBPACK_IMPORTED_MODULE_11__["DataServiceKey"].TRANSACTION, info);
            this.router.navigateByUrl(`/transaction-qr/${_services_data_data_service__WEBPACK_IMPORTED_MODULE_11__["DataServiceKey"].TRANSACTION}`).catch(Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_15__["ErrorCategory"].NAVIGATION));
        });
    }
    initializeTranslations() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.languageService.init({
                supportedLanguages: ['en', 'de', 'zh-cn'],
                defaultLanguage: 'en'
            });
        });
    }
    initializeWalletConnect() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.walletconnectService.initWalletConnect();
        });
    }
    initializeProtocols() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const edonetNetwork = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocolNetwork"]('Edonet', _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["NetworkType"].TESTNET, 'https://tezos-edonet-node.prod.gke.papers.tech', new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezblockBlockExplorer"]('https//edonet.tezblock.io'), new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocolNetworkExtras"](_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosNetwork"].EDONET, 'https://tezos-edonet-conseil.prod.gke.papers.tech', _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosNetwork"].EDONET, 'airgap00391'));
            const edonetProtocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocol"](new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocolOptions"](edonetNetwork));
            const florencenetNetwork = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocolNetwork"]('Florencenet', _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["NetworkType"].TESTNET, 'https://tezos-florencenet-node.prod.gke.papers.tech', new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezblockBlockExplorer"]('https//florencenet.tezblock.io'), new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocolNetworkExtras"](_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosNetwork"].FLORENCENET, 'https://tezos-florencenet-conseil.prod.gke.papers.tech', _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosNetwork"].FLORENCENET, 'airgap00391'));
            const florencenetProtocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocol"](new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocolOptions"](florencenetNetwork));
            const granadanetNetwork = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocolNetwork"]('Granadanet', _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["NetworkType"].TESTNET, 'https://tezos-granadanet-node.prod.gke.papers.tech', new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezblockBlockExplorer"]('https//granadanet.tezblock.io'), new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocolNetworkExtras"](_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosNetwork"].GRANADANET, 'https://tezos-granadanet-conseil.prod.gke.papers.tech', _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosNetwork"].MAINNET, 'airgap00391'));
            const granadanetProtocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocol"](new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocolOptions"](granadanetNetwork));
            const externalMethodProvider = yield this.saplingNativeService.createExternalMethodProvider();
            const shieldedTezProtocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosShieldedTezProtocol"](new _airgap_coinlib_core_protocols_tezos_sapling_TezosSaplingProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["TezosSaplingProtocolOptions"](granadanetNetwork, new _airgap_coinlib_core_protocols_tezos_sapling_TezosSaplingProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["TezosShieldedTezProtocolConfig"](undefined, undefined, undefined, externalMethodProvider)));
            this.protocolService.init({
                extraActiveProtocols: [edonetProtocol, florencenetProtocol, granadanetProtocol, shieldedTezProtocol],
                extraPassiveSubProtocols: [[granadanetProtocol, new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosKtProtocol"](new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocolOptions"](granadanetNetwork))]]
            });
            yield Promise.all([this.getGenericSubProtocols(), this.initializeTezosDomains()]);
        });
    }
    getGenericSubProtocols() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const genericSubProtocols = yield this.storageProvider.get(_services_storage_storage__WEBPACK_IMPORTED_MODULE_16__["WalletStorageKey"].GENERIC_SUBPROTOCOLS);
            const identifiersWithOptions = Object.entries(genericSubProtocols);
            const protocols = identifiersWithOptions
                .map(([protocolNetworkIdentifier, options]) => {
                const [protocolIdentifier,] = protocolNetworkIdentifier.split(':');
                if (protocolIdentifier.startsWith(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ)) {
                    const tezosOptions = options;
                    const tezosProtocolNetwork = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocolNetwork"](tezosOptions.network.name, tezosOptions.network.type, tezosOptions.network.rpcUrl, tezosOptions.network.blockExplorer, new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosProtocolNetworkExtras"](tezosOptions.network.extras.network, tezosOptions.network.extras.conseilUrl, tezosOptions.network.extras.conseilNetwork, tezosOptions.network.extras.conseilApiKey));
                    if (protocolIdentifier.startsWith(Object(_types_GenericProtocolSymbols__WEBPACK_IMPORTED_MODULE_18__["faProtocolSymbol"])('1.2'))) {
                        const faOptions = tezosOptions;
                        return new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA1p2Protocol"](new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFAProtocolOptions"](tezosProtocolNetwork, new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFAProtocolConfig"](faOptions.config.contractAddress, faOptions.config.identifier, faOptions.config.symbol, faOptions.config.name, faOptions.config.marketSymbol, faOptions.config.feeDefaults, faOptions.config.decimals, faOptions.config.tokenMetadataBigMapID)));
                    }
                    else if (protocolIdentifier.startsWith(Object(_types_GenericProtocolSymbols__WEBPACK_IMPORTED_MODULE_18__["faProtocolSymbol"])('2'))) {
                        const fa2Options = tezosOptions;
                        return new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2Protocol"](new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2ProtocolOptions"](tezosProtocolNetwork, new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosFA2ProtocolConfig"](fa2Options.config.contractAddress, fa2Options.config.identifier, fa2Options.config.symbol, fa2Options.config.name, fa2Options.config.marketSymbol, fa2Options.config.feeDefaults, fa2Options.config.decimals, fa2Options.config.defaultTokenID, fa2Options.config.tokenMetadataBigMapID, fa2Options.config.ledgerBigMapID, fa2Options.config.totalSupplyBigMapID)));
                    }
                }
                return undefined;
            })
                .filter((protocol) => protocol !== undefined);
            yield this.protocolService.addActiveSubProtocols(protocols);
        });
    }
    initializeTezosDomains() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const tezosDomainsAddresses = {
                [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosNetwork"].MAINNET]: 'KT1GBZmSxmnKJXGMdMLbugPfLyUPmuLSMwKS',
                [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosNetwork"].EDONET]: 'KT1JJbWfW8CHUY95hG9iq2CEMma1RiKhMHDR',
                [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosNetwork"].FLORENCENET]: 'KT1PfBfkfUuvQRN8zuCAyp5MHjNrQqgevS9p',
                [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosNetwork"].GRANADANET]: 'KT1Ch6PstAQG32uNfQJUSL2bf2WvimvY5umk'
            };
            const tezosNetworks = (yield this.protocolService.getNetworksForProtocol(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ));
            const tezosDomainsWithNetwork = tezosNetworks
                .map((network) => {
                const contractAddress = tezosDomainsAddresses[network.extras.network];
                return contractAddress !== undefined
                    ? [network, new _airgap_coinlib_core_protocols_tezos_domains_TezosDomains__WEBPACK_IMPORTED_MODULE_3__["TezosDomains"](network, contractAddress)]
                    : undefined;
            })
                .filter((tezosDomainsWithNetwork) => tezosDomainsWithNetwork !== undefined);
            yield Promise.all(tezosDomainsWithNetwork.map(([network, tezosDomains]) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const externalAliasResolver = {
                    validateReceiver: (receiver) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () { return (yield tezosDomains.nameToAddress(receiver)) !== undefined; }),
                    resolveAlias: tezosDomains.nameToAddress.bind(tezosDomains),
                    getAlias: tezosDomains.addressToName.bind(tezosDomains)
                };
                const [tezosProtocol, tezosSubProtocols] = yield Promise.all([
                    this.protocolService.getProtocol(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ, network),
                    this.protocolService.getSubProtocols(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ, network)
                ]);
                this.addressService.registerExternalAliasResolver(externalAliasResolver, tezosProtocol);
                tezosSubProtocols.forEach((subProtocol) => {
                    this.addressService.registerExternalAliasResolver(externalAliasResolver, subProtocol);
                });
            })));
        });
    }
}
AppComponent.ɵfac = function AppComponent_Factory(t) { return new (t || AppComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_8__["Platform"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__["TranslateService"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["LanguageService"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_services_iac_iac_service__WEBPACK_IMPORTED_MODULE_12__["IACService"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_services_storage_storage__WEBPACK_IMPORTED_MODULE_16__["WalletStorageService"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_services_account_account_provider__WEBPACK_IMPORTED_MODULE_10__["AccountProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["AddressService"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["SerializerService"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_services_push_push__WEBPACK_IMPORTED_MODULE_13__["PushProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_services_walletconnect_walletconnect_service__WEBPACK_IMPORTED_MODULE_17__["WalletconnectService"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_services_data_data_service__WEBPACK_IMPORTED_MODULE_11__["DataService"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_8__["Config"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["NgZone"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_services_sapling_native_sapling_native_service__WEBPACK_IMPORTED_MODULE_14__["SaplingNativeService"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["APP_PLUGIN"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["APP_INFO_PLUGIN"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["SPLASH_SCREEN_PLUGIN"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["STATUS_BAR_PLUGIN"])); };
AppComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: AppComponent, selectors: [["app-root"]], decls: 3, vars: 2, consts: [["contentId", "tab-menu", 4, "ngIf"], [4, "ngIf"], ["contentId", "tab-menu"], ["contentId", "tab-menu", "type", "overlay"], [1, "ion-no-border"], ["lines", "none"], ["auto-hide", "false"], ["routerLink", "tabs/portfolio", "routerLinkActive", "active-link"], ["slot", "start", "name", "list-outline"], ["routerLink", "tabs/scan", "routerLinkActive", "active-link"], ["slot", "start", "name", "barcode-outline"], ["routerLink", "tabs/exchange", "routerLinkActive", "active-link"], ["slot", "start", "name", "repeat-outline"], ["routerLink", "tabs/settings", "routerLinkActive", "active-link"], ["slot", "start", "name", "settings-outline"], ["id", "tab-menu"]], template: function AppComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "ion-app");
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](1, AppComponent_ion_split_pane_1_Template, 30, 12, "ion-split-pane", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](2, AppComponent_ion_router_outlet_2_Template, 1, 0, "ion-router-outlet", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", !ctx.isMobile);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.isMobile);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonApp"], _angular_common__WEBPACK_IMPORTED_MODULE_20__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonSplitPane"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonMenu"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonHeader"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonToolbar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonTitle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonContent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonList"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonMenuToggle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["RouterLinkDelegate"], _angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterLink"], _angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterLinkActive"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonIcon"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonRouterOutlet"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__["TranslatePipe"]], encapsulation: 2 });


/***/ }),

/***/ "T6L0":
/*!*********************************************************!*\
  !*** ./src/app/services/guard/transactionHash.guard.ts ***!
  \*********************************************************/
/*! exports provided: TransactionHashGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionHashGuard", function() { return TransactionHashGuard; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _data_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/data.service */ "1y+R");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");






class TransactionHashGuard {
    constructor(router, dataService) {
        this.router = router;
        this.dataService = dataService;
    }
    canActivate(route) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const hash = route.params.hash;
            const transaction = yield this.dataService.get(hash);
            if (!transaction) {
                window.alert("The transaction you're trying to access is invalid");
                this.router.navigateByUrl('/');
            }
            return transaction !== null;
        });
    }
}
TransactionHashGuard.ɵfac = function TransactionHashGuard_Factory(t) { return new (t || TransactionHashGuard)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_data_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"])); };
TransactionHashGuard.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({ token: TransactionHashGuard, factory: TransactionHashGuard.ɵfac });


/***/ }),

/***/ "Tr6M":
/*!**************************************!*\
  !*** ./src/app/config/app-config.ts ***!
  \**************************************/
/*! exports provided: appConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "appConfig", function() { return appConfig; });
const appConfig = {
    app: {
        name: 'AirGap Wallet',
        urlScheme: 'airgap-wallet',
        universalLink: 'wallet.airgap.it'
    },
    otherApp: {
        name: 'AirGap Vault',
        urlScheme: 'airgap-vault',
        universalLink: 'vault.airgap.it'
    }
};


/***/ }),

/***/ "TxTD":
/*!***************************************************************!*\
  !*** ./src/app/pages/exchange-select/exchange-select.page.ts ***!
  \***************************************************************/
/*! exports provided: ExchangeSelectPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExchangeSelectPage", function() { return ExchangeSelectPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _services_exchange_exchange__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../services/exchange/exchange */ "dW0/");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");








class ExchangeSelectPage {
    constructor(navParams, viewCtrl, exchangeProvider) {
        this.navParams = navParams;
        this.viewCtrl = viewCtrl;
        this.exchangeProvider = exchangeProvider;
        this.ExchangeEnum = _services_exchange_exchange__WEBPACK_IMPORTED_MODULE_2__["ExchangeEnum"];
        this.selectedExchange = this.navParams.get('activeExchange');
    }
    dismiss() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.viewCtrl.dismiss();
        });
    }
    onModelChange() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.exchangeProvider.setActiveExchange(this.selectedExchange);
            yield this.viewCtrl.dismiss();
        });
    }
}
ExchangeSelectPage.ɵfac = function ExchangeSelectPage_Factory(t) { return new (t || ExchangeSelectPage)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavParams"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_services_exchange_exchange__WEBPACK_IMPORTED_MODULE_2__["ExchangeProvider"])); };
ExchangeSelectPage.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({ type: ExchangeSelectPage, selectors: [["page-exchange-select"]], decls: 27, vars: 7, consts: [[1, "ion-no-border"], ["fixed", "true", 1, "ion-no-padding"], ["slot", "start"], ["defaultHref", "/"], ["slot", "end"], ["fill", "clear", "color", "secondary", 3, "click"], ["name", "close-outline", "slot", "icon-only"], [1, "ion-padding"], ["lines", "none"], ["lines", "none", "name", "selectedExchange", "required", "", 3, "ngModel", "ngModelChange"], ["slot", "end", 3, "value"]], template: function ExchangeSelectPage_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "ion-header", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "ion-grid", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](2, "ion-toolbar");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](3, "ion-buttons", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](4, "ion-back-button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](5, "ion-title");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](7, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](8, "ion-buttons", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](9, "ion-button", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function ExchangeSelectPage_Template_ion_button_click_9_listener() { return ctx.dismiss(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](10, "ion-icon", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](11, "ion-content", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](12, "ion-grid", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](13, "ion-list", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](14, "ion-radio-group", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("ngModelChange", function ExchangeSelectPage_Template_ion_radio_group_ngModelChange_14_listener($event) { return ctx.selectedExchange = $event; })("ngModelChange", function ExchangeSelectPage_Template_ion_radio_group_ngModelChange_14_listener() { return ctx.onModelChange(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](15, "ion-item");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](16, "ion-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](17, "ChangeNow");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](18, "ion-radio", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](19, "ion-item");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](20, "ion-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](21, "Changelly");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](22, "ion-radio", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](23, "ion-item");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](24, "ion-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](25, "Quipuswap");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](26, "ion-radio", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind1"](7, 5, "exchange-select.title"));
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngModel", ctx.selectedExchange);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("value", ctx.ExchangeEnum.CHANGENOW);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("value", ctx.ExchangeEnum.CHANGELLY);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("value", ctx.ExchangeEnum.QUIPUSWAP);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonHeader"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonGrid"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonToolbar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonButtons"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonBackButton"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonBackButtonDelegate"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonTitle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonButton"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonIcon"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonContent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonList"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonRadioGroup"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["SelectValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["RequiredValidator"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgModel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonRadio"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["RadioValueAccessor"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslatePipe"]], encapsulation: 2 });


/***/ }),

/***/ "UsL9":
/*!*****************************************************************!*\
  !*** ./src/app/components/tezos-fa-form/tezos-fa-form.types.ts ***!
  \*****************************************************************/
/*! exports provided: TokenInterface, TezosFAFormErrorType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokenInterface", function() { return TokenInterface; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TezosFAFormErrorType", function() { return TezosFAFormErrorType; });
var TokenInterface;
(function (TokenInterface) {
    TokenInterface["FA1p2"] = "TZIP-007";
    TokenInterface["FA2"] = "TZIP-012";
})(TokenInterface || (TokenInterface = {}));
// error
var TezosFAFormErrorType;
(function (TezosFAFormErrorType) {
    TezosFAFormErrorType["CONTRACT_NOT_FOUND"] = "contract-not-found";
    TezosFAFormErrorType["INTERFACE_UNKNOWN"] = "interface-unknown";
    TezosFAFormErrorType["TOKEN_METADATA_MISSING"] = "token-metadata-missing";
    TezosFAFormErrorType["TOKEN_VAGUE"] = "token-vague";
    TezosFAFormErrorType["UNKNOWN"] = "unknown";
})(TezosFAFormErrorType || (TezosFAFormErrorType = {}));


/***/ }),

/***/ "VE8E":
/*!***************************************!*\
  !*** ./src/app/helpers/delegation.ts ***!
  \***************************************/
/*! exports provided: supportsDelegation, supportsAirGapDelegation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "supportsDelegation", function() { return supportsDelegation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "supportsAirGapDelegation", function() { return supportsAirGapDelegation; });
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_0__);


function supportsDelegation(protocol) {
    const delegateProtocol = protocol;
    // temporary until Tezos subprotocols stop inherit TezosProtocol and implement ICoinDelegateProtocol
    const supportingTezosProtocols = [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_0__["MainProtocolSymbols"].XTZ, _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_0__["SubProtocolSymbols"].XTZ_KT];
    if (delegateProtocol instanceof _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_0__["TezosProtocol"] && !supportingTezosProtocols.includes(delegateProtocol.identifier)) {
        return false;
    }
    return (!!delegateProtocol.getDefaultDelegatee &&
        !!delegateProtocol.getCurrentDelegateesForPublicKey &&
        !!delegateProtocol.getCurrentDelegateesForAddress &&
        !!delegateProtocol.getDelegateeDetails &&
        !!delegateProtocol.isPublicKeyDelegating &&
        !!delegateProtocol.isAddressDelegating &&
        !!delegateProtocol.getDelegationDetailsFromPublicKey &&
        !!delegateProtocol.getDelegationDetailsFromAddress &&
        !!delegateProtocol.prepareDelegatorActionFromPublicKey);
}
function supportsAirGapDelegation(protocol) {
    const delegateProtocol = protocol;
    return (delegateProtocol.delegateeLabel !== undefined &&
        delegateProtocol.delegateeLabelPlural !== undefined &&
        delegateProtocol.supportsMultipleDelegations !== undefined &&
        !!delegateProtocol.getExtraDelegationDetailsFromAddress &&
        !!delegateProtocol.getRewardDisplayDetails &&
        !!delegateProtocol.createDelegateesSummary &&
        !!delegateProtocol.createAccountExtendedDetails &&
        !!delegateProtocol.getRewardDisplayDetails);
}


/***/ }),

/***/ "VJgl":
/*!*********************************************************!*\
  !*** ./src/app/services/exchange/exchange.changelly.ts ***!
  \*********************************************************/
/*! exports provided: ChangellyTransactionStatusResponse, ChangellyExchange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangellyTransactionStatusResponse", function() { return ChangellyTransactionStatusResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangellyExchange", function() { return ChangellyExchange; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_1__);


class ChangellyTransactionStatusResponse {
    constructor(status) {
        this.status = status;
    }
    isPending() {
        switch (this.status) {
            case 'finished':
            case 'failed':
            case 'refunded':
            case 'expired':
                return false;
            default:
                return true;
        }
    }
}
class ChangellyApi {
    constructor(operationsProvider, http, baseURL = 'https://swap.airgap.prod.gke.papers.tech/') {
        this.operationsProvider = operationsProvider;
        this.http = http;
        this.baseURL = baseURL;
        this.identifierExchangeToAirGapMap = new Map();
        this.identifierAirGapToExchangeMap = new Map();
        this.identifierExchangeToAirGapMap.set('rep', 'eth-erc20-repv2');
        this.identifierExchangeToAirGapMap.set('usdt', 'eth-erc20-usdt');
        this.identifierExchangeToAirGapMap.set('rlc', 'eth-erc20-rlc');
        this.identifierExchangeToAirGapMap.set('gno', 'eth-erc20-gno');
        this.identifierExchangeToAirGapMap.set('bat', 'eth-erc20-bat');
        this.identifierExchangeToAirGapMap.set('bnt', 'eth-erc20-bnt');
        this.identifierExchangeToAirGapMap.set('omg', 'eth-erc20-omg');
        this.identifierExchangeToAirGapMap.set('zrx', 'eth-erc20-zrx');
        this.identifierExchangeToAirGapMap.set('storj', 'eth-erc20-storj');
        this.identifierExchangeToAirGapMap.set('nmr', 'eth-erc20-nmr');
        this.identifierExchangeToAirGapMap.set('aion', 'eth-erc20-aion');
        this.identifierExchangeToAirGapMap.set('ant', 'eth-erc20-ant');
        this.identifierExchangeToAirGapMap.set('bnb', 'eth-erc20-bnb');
        this.identifierExchangeToAirGapMap.set('busd', 'eth-erc20-busd');
        this.identifierExchangeToAirGapMap.set('cro', 'eth-erc20-cro');
        this.identifierExchangeToAirGapMap.set('dai', 'eth-erc20-dai');
        this.identifierExchangeToAirGapMap.set('enj', 'eth-erc20-enj');
        this.identifierExchangeToAirGapMap.set('fet', 'eth-erc20-fet');
        this.identifierExchangeToAirGapMap.set('ht', 'eth-erc20-ht');
        this.identifierExchangeToAirGapMap.set('knc', 'eth-erc20-knc');
        this.identifierExchangeToAirGapMap.set('lrc', 'eth-erc20-lrc');
        this.identifierExchangeToAirGapMap.set('mana', 'eth-erc20-mana');
        this.identifierExchangeToAirGapMap.set('mco', 'eth-erc20-mco');
        this.identifierExchangeToAirGapMap.set('mkr', 'eth-erc20-mkr');
        this.identifierExchangeToAirGapMap.set('pax', 'eth-erc20-pax');
        this.identifierExchangeToAirGapMap.set('paxg', 'eth-erc20-paxg');
        this.identifierExchangeToAirGapMap.set('tusd', 'eth-erc20-tusd');
        this.identifierExchangeToAirGapMap.set('usdc', 'eth-erc20-usdc');
        this.identifierExchangeToAirGapMap.set('vet', 'eth-erc20-ven');
        this.identifierAirGapToExchangeMap.set('eth-erc20-repv2', 'rep');
        this.identifierAirGapToExchangeMap.set('eth-erc20-usdt', 'usdt');
        this.identifierAirGapToExchangeMap.set('eth-erc20-rlc', 'rlc');
        this.identifierAirGapToExchangeMap.set('eth-erc20-gno', 'gno');
        this.identifierAirGapToExchangeMap.set('eth-erc20-bat', 'bat');
        this.identifierAirGapToExchangeMap.set('eth-erc20-bnt', 'bnt');
        this.identifierAirGapToExchangeMap.set('eth-erc20-omg', 'omg');
        this.identifierAirGapToExchangeMap.set('eth-erc20-zrx', 'zrx');
        this.identifierAirGapToExchangeMap.set('eth-erc20-storj', 'storj');
        this.identifierAirGapToExchangeMap.set('eth-erc20-nmr', 'nmr');
        this.identifierAirGapToExchangeMap.set('eth-erc20-aion', 'aion');
        this.identifierAirGapToExchangeMap.set('eth-erc20-ant', 'ant');
        this.identifierAirGapToExchangeMap.set('eth-erc20-bnb', 'bnb');
        this.identifierAirGapToExchangeMap.set('eth-erc20-busd', 'busd');
        this.identifierAirGapToExchangeMap.set('eth-erc20-cro', 'cro');
        this.identifierAirGapToExchangeMap.set('eth-erc20-dai', 'dai');
        this.identifierAirGapToExchangeMap.set('eth-erc20-enj', 'enj');
        this.identifierAirGapToExchangeMap.set('eth-erc20-fet', 'fet');
        this.identifierAirGapToExchangeMap.set('eth-erc20-ht', 'ht');
        this.identifierAirGapToExchangeMap.set('eth-erc20-knc', 'knc');
        this.identifierAirGapToExchangeMap.set('eth-erc20-lrc', 'lrc');
        this.identifierAirGapToExchangeMap.set('eth-erc20-mana', 'mana');
        this.identifierAirGapToExchangeMap.set('eth-erc20-mco', 'mco');
        this.identifierAirGapToExchangeMap.set('eth-erc20-mkr', 'mkr');
        this.identifierAirGapToExchangeMap.set('eth-erc20-pax', 'pax');
        this.identifierAirGapToExchangeMap.set('eth-erc20-paxg', 'paxg');
        this.identifierAirGapToExchangeMap.set('eth-erc20-tusd', 'tusd');
        this.identifierAirGapToExchangeMap.set('eth-erc20-usdc', 'usdc');
        this.identifierAirGapToExchangeMap.set('eth-erc20-ven', 'vet');
    }
    makeJsonRpcCall(method, params) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const wrapper = {
                id: Math.random().toString(36).substring(6),
                jsonrpc: '2.0',
                method,
                params
            };
            const response = yield this.http.post(this.baseURL, wrapper).toPromise();
            if (response.result) {
                return response.result;
            }
            else {
                throw new Error(JSON.stringify(response.error));
            }
        });
    }
    convertExchangeIdentifierToAirGapIdentifier(identifiers) {
        return identifiers.map((identifier) => {
            return this.identifierExchangeToAirGapMap.has(identifier)
                ? this.identifierExchangeToAirGapMap.get(identifier)
                : identifier;
        });
    }
    convertAirGapIdentifierToExchangeIdentifier(identifiers) {
        return identifiers.map((identifier) => {
            return this.identifierAirGapToExchangeMap.has(identifier) ? this.identifierAirGapToExchangeMap.get(identifier) : identifier;
        });
    }
    getAvailableFromCurrencies() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const method = 'getCurrencies';
            const params = {};
            const result = yield this.makeJsonRpcCall(method, params);
            return this.convertExchangeIdentifierToAirGapIdentifier(result);
        });
    }
    getMinAmountForCurrency(fromCurrency, toCurrency) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const transformedFromCurrency = this.convertAirGapIdentifierToExchangeIdentifier([fromCurrency])[0];
            const transformedToCurrency = this.convertAirGapIdentifierToExchangeIdentifier([toCurrency])[0];
            const method = 'getMinAmount';
            return this.makeJsonRpcCall(method, {
                from: transformedFromCurrency,
                to: transformedToCurrency
            });
        });
    }
    getMaxExchangeAmountForCurrency(_fromCurrency, _toCurrency) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return undefined;
        });
    }
    getExchangeAmount(fromCurrency, toCurrency, amount, _data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const transformedFromCurrency = this.convertAirGapIdentifierToExchangeIdentifier([fromCurrency])[0];
            const transformedToCurrency = this.convertAirGapIdentifierToExchangeIdentifier([toCurrency])[0];
            const method = 'getExchangeAmount';
            return this.makeJsonRpcCall(method, {
                from: transformedFromCurrency,
                to: transformedToCurrency,
                amount
            });
        });
    }
    validateAddress(currency, address) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const transformedCurrency = this.convertAirGapIdentifierToExchangeIdentifier([currency])[0];
            const method = 'validateAddress';
            return this.makeJsonRpcCall(method, {
                currency: transformedCurrency,
                address
            });
        });
    }
    estimateFee(fromWallet, _toWallet, amount, _data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const shiftedAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_1__["BigNumber"](amount).shiftedBy(fromWallet.protocol.decimals);
            const isAmountValid = !shiftedAmount.isNaN() && shiftedAmount.gt(0);
            return isAmountValid ? this.operationsProvider.estimateFees(fromWallet, fromWallet.addresses[0], shiftedAmount) : undefined;
        });
    }
    createTransaction(fromWallet, toWallet, amount, fee, _data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const transformedFromCurrency = this.convertAirGapIdentifierToExchangeIdentifier([
                fromWallet.protocol.identifier
            ])[0];
            const transformedToCurrency = this.convertAirGapIdentifierToExchangeIdentifier([toWallet.protocol.identifier])[0];
            const method = 'createTransaction';
            const response = yield this.makeJsonRpcCall(method, {
                from: transformedFromCurrency,
                to: transformedToCurrency,
                address: toWallet.receivingPublicAddress,
                amount
            });
            return {
                id: response.id,
                payoutAddress: response.payoutAddress,
                payinAddress: response.payinAddress,
                amountExpectedFrom: response.amountExpectedFrom,
                amountExpectedTo: response.amountExpectedTo,
                fee,
                exchangeResult: response,
                memo: response.payinExtraId
            };
        });
    }
    getStatus(transactionId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const method = 'getStatus';
            const statusString = yield this.makeJsonRpcCall(method, {
                id: transactionId
            });
            return new ChangellyTransactionStatusResponse(statusString);
        });
    }
    getCustomUI() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return { widgets: [] };
        });
    }
}
class ChangellyExchange extends ChangellyApi {
    constructor(operationsProvider, http) {
        super(operationsProvider, http);
    }
    getAvailableToCurrenciesForCurrency(selectedFrom) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const availableCurrencies = yield this.getAvailableFromCurrencies();
            return availableCurrencies.filter((availableCurrency) => availableCurrency !== selectedFrom);
        });
    }
}


/***/ }),

/***/ "VWe/":
/*!***********************************************************************!*\
  !*** ./src/app/extensions/delegation/ProtocolDelegationExtensions.ts ***!
  \***********************************************************************/
/*! exports provided: ProtocolDelegationExtensions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProtocolDelegationExtensions", function() { return ProtocolDelegationExtensions; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var src_app_models_widgets_display_UIAccountExtendedDetails__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/models/widgets/display/UIAccountExtendedDetails */ "kq8F");
/* harmony import */ var src_app_models_widgets_display_UIAccountSummary__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/models/widgets/display/UIAccountSummary */ "+A10");
/* harmony import */ var src_app_models_widgets_input_UIInputText__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/models/widgets/input/UIInputText */ "ocf9");





class ProtocolDelegationExtensions {
    static load(protocol, extensionFactory) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const alreadyLoaded = this.extensionProperitesWithType
                .map(([propertyKey, _]) => this.hasProperty(protocol, propertyKey))
                .some((hasProperty) => hasProperty);
            if (!alreadyLoaded) {
                const extensions = yield extensionFactory();
                this.extend(protocol, extensions, ...this.extensionProperitesWithType);
            }
        });
    }
    static hasProperty(target, propertyKey) {
        return target.prototype[propertyKey] !== undefined;
    }
    static extend(target, extensions, ...keys) {
        for (let [key, type] of keys) {
            let extendMethod;
            switch (type) {
                case 'property':
                    extendMethod = this.extendWithProperty;
                    break;
                case 'function':
                    extendMethod = this.extendWithFunction;
                    break;
            }
            extendMethod(target, extensions, key);
        }
    }
    static extendWithProperty(target, owner, propertyKey) {
        if (delete target.prototype[propertyKey] && owner[propertyKey] !== undefined) {
            Object.defineProperty(target.prototype, propertyKey, {
                value: owner[propertyKey],
                enumerable: false,
                writable: false,
                configurable: false
            });
        }
    }
    static extendWithFunction(target, owner, propertyKey) {
        if (owner[propertyKey] !== undefined) {
            target.prototype[propertyKey] = function (...args) {
                return owner[propertyKey](this, ...args);
            };
        }
    }
    getRewardDisplayDetails(_protocol, _delegator, _delegatees) {
        return undefined; // by default display no rewards
    }
    createDelegateesSummary(protocol, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const delegateesDetails = yield Promise.all(delegatees.map((delegatee) => protocol.getDelegateeDetails(delegatee)));
            return delegateesDetails.map((details) => new src_app_models_widgets_display_UIAccountSummary__WEBPACK_IMPORTED_MODULE_3__["UIAccountSummary"]({
                address: details.address,
                header: [details.name, ''],
                description: [details.address, '']
            }));
        });
    }
    createAccountExtendedDetails(_protocol, _address) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // default implementation provides no details
            return new src_app_models_widgets_display_UIAccountExtendedDetails__WEBPACK_IMPORTED_MODULE_2__["UIAccountExtendedDetails"]({
                items: []
            });
        });
    }
    createAmountWidget(id, maxValue, minValue, config = {}) {
        return new src_app_models_widgets_input_UIInputText__WEBPACK_IMPORTED_MODULE_4__["UIInputText"](Object.assign({ id, inputType: 'number', label: 'delegation-detail.amount_label', placeholder: '0.00', defaultValue: maxValue || minValue, toggleFixedValueButton: maxValue !== undefined ? 'delegation-detail.max-amount_button' : undefined, fixedValue: maxValue, errorLabel: 'delegation-detail.invalid-value_error', createExtraLabel: (value, wallet) => {
                if (wallet) {
                    const marketPrice = new bignumber_js__WEBPACK_IMPORTED_MODULE_1___default.a(value || 0).multipliedBy(wallet.currentMarketPrice);
                    return `$${marketPrice.toFixed(2)}`;
                }
                else {
                    return '';
                }
            } }, config));
    }
}
ProtocolDelegationExtensions.extensionProperitesWithType = [
    ['delegateeLabel', 'property'],
    ['airGapDelegatee', 'function'],
    ['delegateeLabelPlural', 'property'],
    ['supportsMultipleDelegations', 'property'],
    ['getExtraDelegationDetailsFromAddress', 'function'],
    ['createDelegateesSummary', 'function'],
    ['getRewardDisplayDetails', 'function'],
    ['createAccountExtendedDetails', 'function']
];


/***/ }),

/***/ "Xl7a":
/*!***********************************************************!*\
  !*** ./src/app/services/extensions/extensions.service.ts ***!
  \***********************************************************/
/*! exports provided: ExtensionsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExtensionsService", function() { return ExtensionsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var src_app_extensions_delegation_CosmosDelegationExtensions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/extensions/delegation/CosmosDelegationExtensions */ "Rdbu");
/* harmony import */ var src_app_extensions_delegation_ProtocolDelegationExtensions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/extensions/delegation/ProtocolDelegationExtensions */ "VWe/");
/* harmony import */ var src_app_extensions_delegation_SubstrateDelegationExtensions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/extensions/delegation/SubstrateDelegationExtensions */ "kKSy");
/* harmony import */ var src_app_extensions_delegation_TezosDelegationExtensions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/extensions/delegation/TezosDelegationExtensions */ "6qOO");
/* harmony import */ var src_app_pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/pipes/shorten-string/shorten-string.pipe */ "iLEx");
/* harmony import */ var _coinlib_coinlib_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../coinlib/coinlib.service */ "kB1F");
/* harmony import */ var src_app_extensions_delegation_MoonbeamDelegationExtensions__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/extensions/delegation/MoonbeamDelegationExtensions */ "4HDb");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ "fXoL");




















class ExtensionsService {
    constructor(formBuilder, decimalPipe, amountConverterPipe, shortenStringPipe, translateService, coinlibService, addressService) {
        this.formBuilder = formBuilder;
        this.decimalPipe = decimalPipe;
        this.amountConverterPipe = amountConverterPipe;
        this.shortenStringPipe = shortenStringPipe;
        this.translateService = translateService;
        this.coinlibService = coinlibService;
        this.addressService = addressService;
        this.extensions = [
            [
                _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__["KusamaProtocol"],
                () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    return src_app_extensions_delegation_SubstrateDelegationExtensions__WEBPACK_IMPORTED_MODULE_8__["SubstrateDelegationExtensions"].create(this.formBuilder, this.decimalPipe, this.amountConverterPipe, this.shortenStringPipe, this.translateService);
                })
            ],
            [
                _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__["PolkadotProtocol"],
                () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    return src_app_extensions_delegation_SubstrateDelegationExtensions__WEBPACK_IMPORTED_MODULE_8__["SubstrateDelegationExtensions"].create(this.formBuilder, this.decimalPipe, this.amountConverterPipe, this.shortenStringPipe, this.translateService);
                })
            ],
            [
                _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__["TezosProtocol"],
                () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    return src_app_extensions_delegation_TezosDelegationExtensions__WEBPACK_IMPORTED_MODULE_9__["TezosDelegationExtensions"].create(this.coinlibService, this.decimalPipe, this.amountConverterPipe, this.shortenStringPipe, this.translateService, this.addressService, this.formBuilder);
                })
            ],
            [
                _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__["CosmosProtocol"],
                () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    return src_app_extensions_delegation_CosmosDelegationExtensions__WEBPACK_IMPORTED_MODULE_6__["CosmosDelegationExtensions"].create(this.coinlibService, this.formBuilder, this.decimalPipe, this.amountConverterPipe, this.shortenStringPipe, this.translateService);
                })
            ],
            [
                _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__["MoonbaseProtocol"],
                () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () { return src_app_extensions_delegation_MoonbeamDelegationExtensions__WEBPACK_IMPORTED_MODULE_12__["MoonbeamDelegationExtensions"].create(this.formBuilder, this.decimalPipe, this.amountConverterPipe, this.translateService); })
            ],
            [
                _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__["MoonriverProtocol"],
                () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () { return src_app_extensions_delegation_MoonbeamDelegationExtensions__WEBPACK_IMPORTED_MODULE_12__["MoonbeamDelegationExtensions"].create(this.formBuilder, this.decimalPipe, this.amountConverterPipe, this.translateService); })
            ]
        ];
    }
    loadDelegationExtensions() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield Promise.all(this.extensions.map(([protocol, extensionFactory]) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () { return yield src_app_extensions_delegation_ProtocolDelegationExtensions__WEBPACK_IMPORTED_MODULE_7__["ProtocolDelegationExtensions"].load(protocol, extensionFactory); })));
        });
    }
}
ExtensionsService.ɵfac = function ExtensionsService_Factory(t) { return new (t || ExtensionsService)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_2__["DecimalPipe"]), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["AmountConverterPipe"]), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](src_app_pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_10__["ShortenStringPipe"]), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateService"]), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_coinlib_coinlib_service__WEBPACK_IMPORTED_MODULE_11__["CoinlibService"]), _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["AddressService"])); };
ExtensionsService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineInjectable"]({ token: ExtensionsService, factory: ExtensionsService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "YduV":
/*!***************************************************************!*\
  !*** ./src/app/services/ledger/ledger-connection-provider.ts ***!
  \***************************************************************/
/*! exports provided: LedgerConnectionProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LedgerConnectionProvider", function() { return LedgerConnectionProvider; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var src_app_ledger_connection_LedgerConnectionElectron__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/ledger/connection/LedgerConnectionElectron */ "xxIo");
/* harmony import */ var src_app_ledger_connection_LedgerConnectionBrowser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/ledger/connection/LedgerConnectionBrowser */ "zJ8R");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "fXoL");






class LedgerConnectionProvider {
    constructor(platform) {
        this.platform = platform;
    }
    getConnectedDevices(protocolIdentifier, connectionType) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.platform.is('electron')) {
                return src_app_ledger_connection_LedgerConnectionElectron__WEBPACK_IMPORTED_MODULE_2__["LedgerConnectionElectron"].getConnectedDevices(connectionType);
            }
            if (!this.platform.is('android') && !this.platform.is('ios')) {
                return src_app_ledger_connection_LedgerConnectionBrowser__WEBPACK_IMPORTED_MODULE_3__["LedgerConnectionBrowser"].getConnectedDevices(protocolIdentifier, connectionType);
            }
            return [];
        });
    }
    open(protocolIdentifier, ledgerConnection) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const connectionType = ledgerConnection ? ledgerConnection.type : undefined;
            const descriptor = ledgerConnection ? ledgerConnection.descriptor : undefined;
            if (this.platform.is('electron')) {
                return src_app_ledger_connection_LedgerConnectionElectron__WEBPACK_IMPORTED_MODULE_2__["LedgerConnectionElectron"].open(connectionType, descriptor);
            }
            if (!this.platform.is('android') && !this.platform.is('ios')) {
                return src_app_ledger_connection_LedgerConnectionBrowser__WEBPACK_IMPORTED_MODULE_3__["LedgerConnectionBrowser"].open(protocolIdentifier, connectionType, descriptor);
            }
            return null;
        });
    }
}
LedgerConnectionProvider.ɵfac = function LedgerConnectionProvider_Factory(t) { return new (t || LedgerConnectionProvider)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"])); };
LedgerConnectionProvider.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineInjectable"]({ token: LedgerConnectionProvider, factory: LedgerConnectionProvider.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "ZAI4":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: createTranslateLoader, AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createTranslateLoader", function() { return createTranslateLoader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_angular_ngrx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-ngrx */ "vYFO");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "tk/3");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/platform-browser */ "jhN1");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser/animations */ "R1ws");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _capacitor_app__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @capacitor/app */ "Ktnr");
/* harmony import */ var _capacitor_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @capacitor/browser */ "5d33");
/* harmony import */ var _capacitor_clipboard__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @capacitor/clipboard */ "PJjM");
/* harmony import */ var _capacitor_push_notifications__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @capacitor/push-notifications */ "asNa");
/* harmony import */ var _capacitor_share__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @capacitor/share */ "rJ4/");
/* harmony import */ var _capacitor_splash_screen__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @capacitor/splash-screen */ "4scA");
/* harmony import */ var _capacitor_status_bar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @capacitor/status-bar */ "cnT8");
/* harmony import */ var _ionic_native_diagnostic_ngx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ionic-native/diagnostic/ngx */ "mtRb");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @ionic/storage */ "e8h1");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @ngrx/effects */ "9jGm");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ngrx/store */ "l7P3");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _zxing_ngx_scanner__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @zxing/ngx-scanner */ "IyRd");
/* harmony import */ var ng2_charts__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ng2-charts */ "LPYB");
/* harmony import */ var ngx_moment__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ngx-moment */ "QUrN");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./app-routing.module */ "vY5A");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./app.component */ "Sy1n");
/* harmony import */ var _app_reducers__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./app.reducers */ "xxnn");
/* harmony import */ var _capacitor_plugins_injection_tokens__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./capacitor-plugins/injection-tokens */ "Bpmc");
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./components/components.module */ "j1ZV");
/* harmony import */ var _config_app_config__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./config/app-config */ "Tr6M");
/* harmony import */ var _pages_beacon_request_beacon_request_module__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./pages/beacon-request/beacon-request.module */ "D44Q");
/* harmony import */ var _pages_exchange_select_exchange_select_module__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./pages/exchange-select/exchange-select.module */ "L9w3");
/* harmony import */ var _pages_introduction_push_introduction_push_module__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./pages/introduction-push/introduction-push.module */ "o18t");
/* harmony import */ var _pages_protocol_select_protocol_select_module__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./pages/protocol-select/protocol-select.module */ "eIp1");
/* harmony import */ var _pipes_pipes_module__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./pipes/pipes.module */ "iTUp");
/* harmony import */ var _pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./pipes/shorten-string/shorten-string.pipe */ "iLEx");
/* harmony import */ var _services_account_account_provider__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./services/account/account.provider */ "57MG");
/* harmony import */ var _services_draw_chart_draw_chart_service__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./services/draw-chart/draw-chart.service */ "xnpP");
/* harmony import */ var _services_exchange_exchange__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./services/exchange/exchange */ "dW0/");
/* harmony import */ var _services_extensions_extensions_service__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./services/extensions/extensions.service */ "Xl7a");
/* harmony import */ var _services_guard_protocol_guard__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./services/guard/protocol.guard */ "opNj");
/* harmony import */ var _services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./services/guard/serviceKey.guard */ "t3gT");
/* harmony import */ var _services_guard_transactionHash_guard__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./services/guard/transactionHash.guard */ "T6L0");
/* harmony import */ var _services_iac_iac_service__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./services/iac/iac.service */ "wTY4");
/* harmony import */ var _services_ledger_ledger_service__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./services/ledger/ledger-service */ "z26V");
/* harmony import */ var _services_market_data_market_data_service__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./services/market-data/market-data.service */ "DUVq");
/* harmony import */ var _services_operations_operations__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./services/operations/operations */ "nxqh");
/* harmony import */ var _services_push_backend_push_backend__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./services/push-backend/push-backend */ "GsAe");
/* harmony import */ var _services_push_push__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./services/push/push */ "LuFN");
/* harmony import */ var _services_coinlib_coinlib_service__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./services/coinlib/coinlib.service */ "kB1F");
/* harmony import */ var _services_storage_storage__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./services/storage/storage */ "AFs5");
/* harmony import */ var _services_sapling_sapling_service__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./services/sapling/sapling.service */ "GHcB");
/* harmony import */ var _services_interaction_interaction_service__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./services/interaction/interaction.service */ "rYTG");
/* harmony import */ var _capacitor_plugins_definitions__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./capacitor-plugins/definitions */ "f+EC");
/* harmony import */ var _capacitor_app_launcher__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! @capacitor/app-launcher */ "S1f9");
/* harmony import */ var _capacitor_filesystem__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! @capacitor/filesystem */ "F7bV");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! @angular/core */ "fXoL");






























































function createTranslateLoader(http) {
    return new _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["AirGapTranslateLoader"](http, { prefix: './assets/i18n/', suffix: '.json' });
}
class AppModule {
}
AppModule.ɵfac = function AppModule_Factory(t) { return new (t || AppModule)(); };
AppModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_56__["ɵɵdefineNgModule"]({ type: AppModule, bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_25__["AppComponent"]] });
AppModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_56__["ɵɵdefineInjector"]({ providers: [
        { provide: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_PLUGIN"], useValue: _capacitor_app__WEBPACK_IMPORTED_MODULE_8__["App"] },
        { provide: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_INFO_PLUGIN"], useValue: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["AppInfo"] },
        { provide: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_LAUNCHER_PLUGIN"], useValue: _capacitor_app_launcher__WEBPACK_IMPORTED_MODULE_54__["AppLauncher"] },
        { provide: _capacitor_plugins_injection_tokens__WEBPACK_IMPORTED_MODULE_27__["BROWSER_PLUGIN"], useValue: _capacitor_browser__WEBPACK_IMPORTED_MODULE_9__["Browser"] },
        { provide: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["CLIPBOARD_PLUGIN"], useValue: _capacitor_clipboard__WEBPACK_IMPORTED_MODULE_10__["Clipboard"] },
        { provide: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["FILESYSTEM_PLUGIN"], useValue: _capacitor_filesystem__WEBPACK_IMPORTED_MODULE_55__["Filesystem"] },
        { provide: _capacitor_plugins_injection_tokens__WEBPACK_IMPORTED_MODULE_27__["PUSH_NOTIFICATIONS_PLUGIN"], useValue: _capacitor_push_notifications__WEBPACK_IMPORTED_MODULE_11__["PushNotifications"] },
        { provide: _capacitor_plugins_injection_tokens__WEBPACK_IMPORTED_MODULE_27__["SAPLING_PLUGIN"], useValue: _capacitor_plugins_definitions__WEBPACK_IMPORTED_MODULE_53__["SaplingNative"] },
        { provide: _capacitor_plugins_injection_tokens__WEBPACK_IMPORTED_MODULE_27__["SHARE_PLUGIN"], useValue: _capacitor_share__WEBPACK_IMPORTED_MODULE_12__["Share"] },
        { provide: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["SPLASH_SCREEN_PLUGIN"], useValue: _capacitor_splash_screen__WEBPACK_IMPORTED_MODULE_13__["SplashScreen"] },
        { provide: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["STATUS_BAR_PLUGIN"], useValue: _capacitor_status_bar__WEBPACK_IMPORTED_MODULE_14__["StatusBar"] },
        { provide: _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_CONFIG"], useValue: _config_app_config__WEBPACK_IMPORTED_MODULE_29__["appConfig"] },
        _angular_common__WEBPACK_IMPORTED_MODULE_2__["DecimalPipe"],
        _pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_35__["ShortenStringPipe"],
        _services_market_data_market_data_service__WEBPACK_IMPORTED_MODULE_45__["MarketDataService"],
        _services_draw_chart_draw_chart_service__WEBPACK_IMPORTED_MODULE_37__["DrawChartService"],
        { provide: _angular_router__WEBPACK_IMPORTED_MODULE_7__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_16__["IonicRouteStrategy"] },
        _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["QrScannerService"],
        _ionic_native_diagnostic_ngx__WEBPACK_IMPORTED_MODULE_15__["Diagnostic"],
        _services_account_account_provider__WEBPACK_IMPORTED_MODULE_36__["AccountProvider"],
        _services_storage_storage__WEBPACK_IMPORTED_MODULE_50__["WalletStorageService"],
        _services_iac_iac_service__WEBPACK_IMPORTED_MODULE_43__["IACService"],
        _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["ClipboardService"],
        _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["PermissionsService"],
        _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["DeeplinkService"],
        _services_operations_operations__WEBPACK_IMPORTED_MODULE_46__["OperationsProvider"],
        _services_extensions_extensions_service__WEBPACK_IMPORTED_MODULE_39__["ExtensionsService"],
        _services_exchange_exchange__WEBPACK_IMPORTED_MODULE_38__["ExchangeProvider"],
        _services_coinlib_coinlib_service__WEBPACK_IMPORTED_MODULE_49__["CoinlibService"],
        _services_push_push__WEBPACK_IMPORTED_MODULE_48__["PushProvider"],
        _services_push_backend_push_backend__WEBPACK_IMPORTED_MODULE_47__["PushBackendProvider"],
        _services_sapling_sapling_service__WEBPACK_IMPORTED_MODULE_51__["SaplingService"],
        _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["SerializerService"],
        _services_ledger_ledger_service__WEBPACK_IMPORTED_MODULE_44__["LedgerService"],
        _services_guard_protocol_guard__WEBPACK_IMPORTED_MODULE_40__["ProtocolGuard"],
        _services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_41__["ServiceKeyGuard"],
        _services_guard_transactionHash_guard__WEBPACK_IMPORTED_MODULE_42__["TransactionHashGuard"],
        _angular_common__WEBPACK_IMPORTED_MODULE_2__["PercentPipe"],
        _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["FeeConverterPipe"],
        _services_interaction_interaction_service__WEBPACK_IMPORTED_MODULE_52__["InteractionService"]
    ], imports: [[
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__["BrowserModule"],
            ng2_charts__WEBPACK_IMPORTED_MODULE_22__["ChartsModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__["BrowserAnimationsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["AirGapAngularCoreModule"],
            _airgap_angular_ngrx__WEBPACK_IMPORTED_MODULE_1__["AirGapAngularNgRxModule"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_19__["StoreModule"].forRoot(_app_reducers__WEBPACK_IMPORTED_MODULE_26__["reducers"], {
                metaReducers: _app_reducers__WEBPACK_IMPORTED_MODULE_26__["metaReducers"],
                /* temporary fix for `ERROR TypeError: Cannot freeze array buffer views with elements` */
                runtimeChecks: {
                    strictStateImmutability: false,
                    strictActionImmutability: false
                }
            }),
            _ngrx_effects__WEBPACK_IMPORTED_MODULE_18__["EffectsModule"].forRoot(),
            _zxing_ngx_scanner__WEBPACK_IMPORTED_MODULE_21__["ZXingScannerModule"],
            ngx_moment__WEBPACK_IMPORTED_MODULE_23__["MomentModule"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_16__["IonicModule"].forRoot(),
            _app_routing_module__WEBPACK_IMPORTED_MODULE_24__["AppRoutingModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_20__["TranslateModule"].forRoot({
                loader: {
                    provide: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_20__["TranslateLoader"],
                    useFactory: createTranslateLoader,
                    deps: [_angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClient"]]
                }
            }),
            _ionic_storage__WEBPACK_IMPORTED_MODULE_17__["IonicStorageModule"].forRoot({
                name: '__airgap_storage',
                driverOrder: ['sqlite', 'localstorage']
            }),
            _pipes_pipes_module__WEBPACK_IMPORTED_MODULE_34__["PipesModule"],
            _components_components_module__WEBPACK_IMPORTED_MODULE_28__["ComponentsModule"],
            _pages_protocol_select_protocol_select_module__WEBPACK_IMPORTED_MODULE_33__["ProtocolSelectPageModule"],
            _pages_beacon_request_beacon_request_module__WEBPACK_IMPORTED_MODULE_30__["BeaconRequestPageModule"],
            _pages_exchange_select_exchange_select_module__WEBPACK_IMPORTED_MODULE_31__["ExchangeSelectPageModule"],
            _pages_introduction_push_introduction_push_module__WEBPACK_IMPORTED_MODULE_32__["IntroductionPushPageModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_56__["ɵɵsetNgModuleScope"](AppModule, { declarations: [_app_component__WEBPACK_IMPORTED_MODULE_25__["AppComponent"]], imports: [_angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__["BrowserModule"],
        ng2_charts__WEBPACK_IMPORTED_MODULE_22__["ChartsModule"],
        _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_6__["BrowserAnimationsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
        _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
        _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["AirGapAngularCoreModule"],
        _airgap_angular_ngrx__WEBPACK_IMPORTED_MODULE_1__["AirGapAngularNgRxModule"], _ngrx_store__WEBPACK_IMPORTED_MODULE_19__["StoreRootModule"], _ngrx_effects__WEBPACK_IMPORTED_MODULE_18__["EffectsRootModule"], _zxing_ngx_scanner__WEBPACK_IMPORTED_MODULE_21__["ZXingScannerModule"],
        ngx_moment__WEBPACK_IMPORTED_MODULE_23__["MomentModule"], _ionic_angular__WEBPACK_IMPORTED_MODULE_16__["IonicModule"], _app_routing_module__WEBPACK_IMPORTED_MODULE_24__["AppRoutingModule"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"], _ngx_translate_core__WEBPACK_IMPORTED_MODULE_20__["TranslateModule"], _ionic_storage__WEBPACK_IMPORTED_MODULE_17__["IonicStorageModule"], _pipes_pipes_module__WEBPACK_IMPORTED_MODULE_34__["PipesModule"],
        _components_components_module__WEBPACK_IMPORTED_MODULE_28__["ComponentsModule"],
        _pages_protocol_select_protocol_select_module__WEBPACK_IMPORTED_MODULE_33__["ProtocolSelectPageModule"],
        _pages_beacon_request_beacon_request_module__WEBPACK_IMPORTED_MODULE_30__["BeaconRequestPageModule"],
        _pages_exchange_select_exchange_select_module__WEBPACK_IMPORTED_MODULE_31__["ExchangeSelectPageModule"],
        _pages_introduction_push_introduction_push_module__WEBPACK_IMPORTED_MODULE_32__["IntroductionPushPageModule"]] }); })();


/***/ }),

/***/ "ZATT":
/*!***************************************************************************!*\
  !*** ./src/app/components/transaction-list/transaction-list.component.ts ***!
  \***************************************************************************/
/*! exports provided: TransactionListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionListComponent", function() { return TransactionListComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var src_app_services_data_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/data/data.service */ "1y+R");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var src_app_services_browser_browser_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/browser/browser.service */ "jysE");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _transaction_item_transaction_item_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../transaction-item/transaction-item.component */ "o7/J");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");




//import { handleErrorSentry, ErrorCategory } from 'src/app/services/sentry-error-handler/sentry-error-handler'









function TransactionListComponent_ion_row_0_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "ion-row");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "ion-col", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](2, "ion-text", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](3, "p", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](5, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](6, "ion-col", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](7, "ion-button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function TransactionListComponent_ion_row_0_Template_ion_button_click_7_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](); return ctx_r4.openBlockexplorer(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](8, "ion-icon", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](10, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](5, 2, "account-transaction-list.pending-transactions.label"));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](10, 4, "account-transaction-list.pending-transactions.open-blockexplorer_label"), " ");
} }
function TransactionListComponent_ion_row_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "ion-row", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "ion-text", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](2, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](4, 1, "account-transaction-list.pending-exchange-transactions.label"));
} }
function TransactionListComponent_ion_list_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "transaction-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function TransactionListComponent_ion_list_2_ng_container_1_Template_transaction_item_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r10); const tx_r8 = ctx.$implicit; const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2); return ctx_r9.openTransactionDetailPage(tx_r8); });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const tx_r8 = ctx.$implicit;
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("tx", tx_r8)("transactionType", ctx_r6.transactionType);
} }
function TransactionListComponent_ion_list_2_ion_row_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "ion-row", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "ion-spinner", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} }
function TransactionListComponent_ion_list_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "ion-list", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](1, TransactionListComponent_ion_list_2_ng_container_1_Template, 2, 2, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](2, TransactionListComponent_ion_list_2_ion_row_2_Template, 2, 0, "ion-row", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngForOf", ctx_r2.transactions);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r2.isRefreshing && !ctx_r2.initialTransactionsLoaded);
} }
function TransactionListComponent_ng_container_3_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "img", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](2, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](4, 1, "account-transaction-list.no-transactions_text"));
} }
function TransactionListComponent_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](1, TransactionListComponent_ng_container_3_div_1_Template, 5, 3, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", !ctx_r3.isRefreshing && ctx_r3.transactions.length === 0);
} }
class TransactionListComponent {
    constructor(dataService, router, browserService) {
        this.dataService = dataService;
        this.router = router;
        this.browserService = browserService;
        this.transactions = [];
        this.isRefreshing = false;
        this.hasPendingTransactions = false;
        this.hasExchangeTransactions = false;
        this.initialTransactionsLoaded = false;
    }
    openBlockexplorer() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const blockexplorer = yield this.wallet.protocol.getBlockExplorerLinkForAddress(this.wallet.addresses[0]);
            this.browserService.openUrl(blockexplorer);
        });
    }
    openTransactionDetailPage(transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.dataService.setData(src_app_services_data_data_service__WEBPACK_IMPORTED_MODULE_2__["DataServiceKey"].DETAIL, transaction);
            yield this.dataService.set(transaction.hash, transaction);
            this.router.navigateByUrl(`/transaction-detail/${src_app_services_data_data_service__WEBPACK_IMPORTED_MODULE_2__["DataServiceKey"].DETAIL}/${transaction.hash}`).catch(console.error);
            //.catch(handleErrorSentry(ErrorCategory.NAVIGATION))
        });
    }
}
TransactionListComponent.ɵfac = function TransactionListComponent_Factory(t) { return new (t || TransactionListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](src_app_services_data_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](src_app_services_browser_browser_service__WEBPACK_IMPORTED_MODULE_4__["BrowserService"])); };
TransactionListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({ type: TransactionListComponent, selectors: [["transaction-list"]], inputs: { transactions: "transactions", isRefreshing: "isRefreshing", transactionType: "transactionType", hasPendingTransactions: "hasPendingTransactions", hasExchangeTransactions: "hasExchangeTransactions", initialTransactionsLoaded: "initialTransactionsLoaded", wallet: "wallet" }, decls: 4, vars: 4, consts: [[4, "ngIf"], ["class", "ion-padding-horizontal", 4, "ngIf"], ["lines", "none", "class", "ion-padding-bottom", 4, "ngIf"], ["size", "10", 1, "ion-padding-horizontal"], ["color", "primary", 1, "font--weight__bold"], [1, "ion-no-margin"], ["size", "12", 1, "ion-no-padding"], ["fill", "outline", "color", "secondary", "shape", "round", "slot", "start", "size", "small", 3, "click"], ["slot", "start", "name", "open"], [1, "ion-padding-horizontal"], ["lines", "none", 1, "ion-padding-bottom"], [4, "ngFor", "ngForOf"], ["class", "loading-content ion-justify-content-center", 4, "ngIf"], [3, "tx", "transactionType", "click"], [1, "loading-content", "ion-justify-content-center"], ["color", "black"], ["class", "empty-list ion-padding-horizontal", 4, "ngIf"], [1, "empty-list", "ion-padding-horizontal"], ["src", "./assets/img/empty-state-no-transaction.svg", 1, "ion-padding-vertical"]], template: function TransactionListComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](0, TransactionListComponent_ion_row_0_Template, 11, 6, "ion-row", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](1, TransactionListComponent_ion_row_1_Template, 5, 3, "ion-row", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](2, TransactionListComponent_ion_list_2_Template, 3, 2, "ion-list", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](3, TransactionListComponent_ng_container_3_Template, 2, 1, "ng-container", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.transactionType === "pendingTransaction" && ctx.hasPendingTransactions);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.transactionType === "exchangeTransaction" && ctx.hasExchangeTransactions);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.transactions !== undefined && ctx.transactions.length > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.transactionType === "normalTransaction");
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["IonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["IonButton"], _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["IonIcon"], _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["IonList"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _transaction_item_transaction_item_component__WEBPACK_IMPORTED_MODULE_8__["TransactionItemComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_7__["IonSpinner"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__["TranslatePipe"]], styles: [".empty-list[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  text-align: center;\n  font-weight: 100;\n  font-size: 1.4rem;\n  height: 50%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3RyYW5zYWN0aW9uLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtBQUNGIiwiZmlsZSI6InRyYW5zYWN0aW9uLWxpc3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZW1wdHktbGlzdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtd2VpZ2h0OiAxMDA7XG4gIGZvbnQtc2l6ZTogMS40cmVtO1xuICBoZWlnaHQ6IDUwJTtcbn1cbiJdfQ== */"] });


/***/ }),

/***/ "ZBbp":
/*!*****************************************************!*\
  !*** ./src/app/models/widgets/display/UIAccount.ts ***!
  \*****************************************************/
/*! exports provided: UIAccount */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIAccount", function() { return UIAccount; });
/* harmony import */ var _UIWidget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIWidget */ "Ochd");

class UIAccount extends _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidget"] {
    constructor(config) {
        super(config);
        this.type = _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidgetType"].ACCOUNT;
        this.name = config.name;
        this.address = config.address;
        this.logo = config.logo;
        this.description = config.description;
        this.shortenAddress = config.shortenAddress || false;
    }
    get hasName() {
        return this.name !== undefined && this.name !== null;
    }
    onInvalidLogo() {
        this.logo = undefined;
    }
}


/***/ }),

/***/ "ZDkh":
/*!***********************************************************************!*\
  !*** ./src/app/pages/beacon-request/beacon-request-routing.module.ts ***!
  \***********************************************************************/
/*! exports provided: BeaconRequestPageRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BeaconRequestPageRoutingModule", function() { return BeaconRequestPageRoutingModule; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _beacon_request_page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./beacon-request.page */ "veta");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");




const routes = [
    {
        path: '',
        component: _beacon_request_page__WEBPACK_IMPORTED_MODULE_1__["BeaconRequestPage"]
    }
];
class BeaconRequestPageRoutingModule {
}
BeaconRequestPageRoutingModule.ɵfac = function BeaconRequestPageRoutingModule_Factory(t) { return new (t || BeaconRequestPageRoutingModule)(); };
BeaconRequestPageRoutingModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineNgModule"]({ type: BeaconRequestPageRoutingModule });
BeaconRequestPageRoutingModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjector"]({ imports: [[_angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"].forChild(routes)], _angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵsetNgModuleScope"](BeaconRequestPageRoutingModule, { imports: [_angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"]], exports: [_angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"]] }); })();


/***/ }),

/***/ "aT1g":
/*!***********************************************!*\
  !*** ./src/app/models/actions/TipUsAction.ts ***!
  \***********************************************/
/*! exports provided: AirGapTipUsAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AirGapTipUsAction", function() { return AirGapTipUsAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core_actions_Action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core/actions/Action */ "u8Qk");
/* harmony import */ var _airgap_coinlib_core_actions_Action__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_actions_Action__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _services_data_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/data/data.service */ "1y+R");
/* harmony import */ var _services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/sentry-error-handler/sentry-error-handler */ "hPkG");




class AirGapTipUsAction extends _airgap_coinlib_core_actions_Action__WEBPACK_IMPORTED_MODULE_1__["Action"] {
    constructor() {
        super(...arguments);
        this.info = {
            name: 'Tip Us',
            icon: 'logo-usd'
        };
    }
    get identifier() {
        return 'tip-us-action';
    }
    perform() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.showAlert();
            if (this.context.isAccepted) {
                this.context.dataService.setData(_services_data_data_service__WEBPACK_IMPORTED_MODULE_2__["DataServiceKey"].DETAIL, {
                    wallet: this.context.wallet,
                    address: this.context.tipAddress,
                    amount: this.context.amount
                });
                this.context.router
                    .navigateByUrl(`/transaction-prepare/${_services_data_data_service__WEBPACK_IMPORTED_MODULE_2__["DataServiceKey"].DETAIL}/${this.context.wallet.publicKey}/${this.context.wallet.protocol.identifier}/${this.context.wallet.addressIndex}/${this.context.tipAddress}/${this.context.amount}/${'not_forced'}`)
                    .catch(Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__["ErrorCategory"].NAVIGATION));
            }
            else {
                // Do nothing
            }
        });
    }
    showAlert() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return new Promise((resolve) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                yield this.context.uiEventService.showTranslatedAlert({
                    header: this.context.alertTitle ? this.context.alertTitle : 'action-alert-tip.heading',
                    message: this.context.alertDescription ? this.context.alertDescription : 'action-alert-tip.text',
                    buttons: [
                        {
                            text: 'action-alert-tip.cancel_label',
                            role: 'cancel',
                            cssClass: 'secondary',
                            handler: () => {
                                this.context.isAccepted = false;
                                resolve();
                            }
                        },
                        {
                            text: 'action-alert-tip.ok_label',
                            handler: () => {
                                this.context.isAccepted = true;
                                resolve();
                            }
                        }
                    ]
                });
            }));
        });
    }
}


/***/ }),

/***/ "c6WW":
/*!*****************************************************!*\
  !*** ./src/app/pipes/percentage/percentage.pipe.ts ***!
  \*****************************************************/
/*! exports provided: PercentagePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PercentagePipe", function() { return PercentagePipe; });
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");


class PercentagePipe {
    transform(value) {
        if (bignumber_js__WEBPACK_IMPORTED_MODULE_0__["BigNumber"].isBigNumber(value)) {
            value = value.toNumber();
        }
        const amount = new bignumber_js__WEBPACK_IMPORTED_MODULE_0__["BigNumber"](value);
        const percentage = amount.shiftedBy(2).toFixed(2);
        return `${percentage}%`;
    }
}
PercentagePipe.ɵfac = function PercentagePipe_Factory(t) { return new (t || PercentagePipe)(); };
PercentagePipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefinePipe"]({ name: "percentage", type: PercentagePipe, pure: true });


/***/ }),

/***/ "chTo":
/*!************************************************************!*\
  !*** ./src/app/services/resolver/data-resolver.service.ts ***!
  \************************************************************/
/*! exports provided: DataResolverService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataResolverService", function() { return DataResolverService; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _data_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/data.service */ "1y+R");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");




class DataResolverService {
    constructor(dataService) {
        this.dataService = dataService;
    }
    resolve(route) {
        const id = route.paramMap.get('id');
        return this.dataService.getData(id);
    }
}
DataResolverService.ɵfac = function DataResolverService_Factory(t) { return new (t || DataResolverService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_data_data_service__WEBPACK_IMPORTED_MODULE_1__["DataService"])); };
DataResolverService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: DataResolverService, factory: DataResolverService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "cwVp":
/*!***************************************************************!*\
  !*** ./src/app/components/widget-selector/widget-selector.ts ***!
  \***************************************************************/
/*! exports provided: WidgetSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidgetSelector", function() { return WidgetSelector; });
/* harmony import */ var src_app_models_widgets_UIWidget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/models/widgets/UIWidget */ "Ochd");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var src_app_models_widgets_UIInputWidget__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/models/widgets/UIInputWidget */ "GTl0");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _widget_account_widget_account__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../widget-account/widget-account */ "0CrI");
/* harmony import */ var _widget_account_summary_widget_account_summary__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../widget-account-summary/widget-account-summary */ "2Eq5");
/* harmony import */ var _widget_icon_text_widget_icon_text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../widget-icon-text/widget-icon-text */ "sXsg");
/* harmony import */ var _widget_input_text_widget_input_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../widget-input-text/widget-input-text */ "ECOn");
/* harmony import */ var _widget_option_button_group_widget_option_button_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../widget-option-button-group/widget-option-button-group */ "eSIo");










function WidgetSelector_ng_container_0_widget_account_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "widget-account", 3);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("widget", ctx_r1.widget);
} }
function WidgetSelector_ng_container_0_widget_account_summary_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "widget-account-summary", 3);
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("widget", ctx_r2.widget);
} }
function WidgetSelector_ng_container_0_widget_icon_text_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "widget-icon-text", 3);
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("widget", ctx_r3.widget);
} }
function WidgetSelector_ng_container_0_widget_input_text_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "widget-input-text", 4);
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("widget", ctx_r4.widget)("widgetForm", ctx_r4.widgetForm);
} }
function WidgetSelector_ng_container_0_widget_option_button_group_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "widget-option-button-group", 4);
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("widget", ctx_r5.widget)("widgetForm", ctx_r5.widgetForm);
} }
function WidgetSelector_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, WidgetSelector_ng_container_0_widget_account_1_Template, 1, 1, "widget-account", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](2, WidgetSelector_ng_container_0_widget_account_summary_2_Template, 1, 1, "widget-account-summary", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](3, WidgetSelector_ng_container_0_widget_icon_text_3_Template, 1, 1, "widget-icon-text", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](4, WidgetSelector_ng_container_0_widget_input_text_4_Template, 1, 2, "widget-input-text", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](5, WidgetSelector_ng_container_0_widget_option_button_group_5_Template, 1, 2, "widget-option-button-group", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r0.widget.type === ctx_r0.UIWidgetType.ACCOUNT);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r0.widget.type === ctx_r0.UIWidgetType.ACCOUNT_SUMMARY);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r0.widget.type === ctx_r0.UIWidgetType.ICON_TEXT);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r0.widget.type === ctx_r0.UIWidgetType.INPUT_TEXT && ctx_r0.widgetForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r0.widget.type === ctx_r0.UIWidgetType.OPTION_BUTTON_GROUP && ctx_r0.widgetForm);
} }
class WidgetSelector {
    constructor() {
        this.UIWidgetType = src_app_models_widgets_UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidgetType"];
        this.widgetForm = null;
    }
    ngOnInit() {
        if (this.widgetForm && this.widget instanceof src_app_models_widgets_UIInputWidget__WEBPACK_IMPORTED_MODULE_2__["UIInputWidget"]) {
            this.widget.setFormControl(this.widgetForm.get(this.widget.id));
        }
        this.widget.onInit();
    }
    ngAfterContentInit() {
        this.widget.afterContentInit();
    }
    ngAfterViewInit() {
        this.widget.afterViewInit();
    }
}
WidgetSelector.ɵfac = function WidgetSelector_Factory(t) { return new (t || WidgetSelector)(); };
WidgetSelector.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({ type: WidgetSelector, selectors: [["widget-selector"]], inputs: { widget: "widget", widgetForm: "widgetForm" }, decls: 1, vars: 1, consts: [[4, "ngIf"], [3, "widget", 4, "ngIf"], [3, "widget", "widgetForm", 4, "ngIf"], [3, "widget"], [3, "widget", "widgetForm"]], template: function WidgetSelector_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](0, WidgetSelector_ng_container_0_Template, 6, 5, "ng-container", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.widget.isVisible);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _widget_account_widget_account__WEBPACK_IMPORTED_MODULE_5__["WidgetAccount"], _widget_account_summary_widget_account_summary__WEBPACK_IMPORTED_MODULE_6__["WidgetAccountSummary"], _widget_icon_text_widget_icon_text__WEBPACK_IMPORTED_MODULE_7__["WidgetIconText"], _widget_input_text_widget_input_text__WEBPACK_IMPORTED_MODULE_8__["WidgetInputText"], _widget_option_button_group_widget_option_button_group__WEBPACK_IMPORTED_MODULE_9__["WidgetOptionButtonGroup"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ3aWRnZXQtc2VsZWN0b3Iuc2NzcyJ9 */"] });


/***/ }),

/***/ "dW0/":
/*!***********************************************!*\
  !*** ./src/app/services/exchange/exchange.ts ***!
  \***********************************************/
/*! exports provided: ExchangeEnum, TransactionStatus, ExchangeProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExchangeEnum", function() { return ExchangeEnum; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionStatus", function() { return TransactionStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExchangeProvider", function() { return ExchangeProvider; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "tk/3");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _operations_operations__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../operations/operations */ "nxqh");
/* harmony import */ var _storage_storage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../storage/storage */ "AFs5");
/* harmony import */ var _exchange_changelly__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./exchange.changelly */ "VJgl");
/* harmony import */ var _exchange_changenow__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./exchange.changenow */ "j6hh");
/* harmony import */ var _exchange_quipuswap__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./exchange.quipuswap */ "FqBb");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/core */ "fXoL");


















var ExchangeEnum;
(function (ExchangeEnum) {
    ExchangeEnum["CHANGELLY"] = "Changelly";
    ExchangeEnum["CHANGENOW"] = "ChangeNow";
    ExchangeEnum["QUIPUSWAP"] = "Quipuswap";
})(ExchangeEnum || (ExchangeEnum = {}));
var TransactionStatus;
(function (TransactionStatus) {
    TransactionStatus["NEW"] = "NEW";
    TransactionStatus["WAITING"] = "WAITING";
    TransactionStatus["CONFORMING"] = "CONFORMING";
    TransactionStatus["EXCHANGING"] = "EXCHANGING";
    TransactionStatus["SENDING"] = "SENDING";
    TransactionStatus["FINISHED"] = "FINISHED";
    TransactionStatus["FAILED"] = "FAILED";
})(TransactionStatus || (TransactionStatus = {}));
class ExchangeProvider {
    constructor(http, storageService, protocolService, operationsProvider, formBuilder) {
        this.http = http;
        this.storageService = storageService;
        this.protocolService = protocolService;
        this.operationsProvider = operationsProvider;
        this.formBuilder = formBuilder;
        this.exchangeSubject = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](ExchangeEnum.CHANGENOW);
        this.pendingTransactions = [];
        this.loadPendingTranscationsFromStorage();
        this.exchangeObserable = this.exchangeSubject.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["tap"])((exchange) => {
            // tslint:disable-next-line: switch-default
            switch (exchange) {
                case ExchangeEnum.CHANGELLY:
                    this.exchange = new _exchange_changelly__WEBPACK_IMPORTED_MODULE_9__["ChangellyExchange"](this.operationsProvider, this.http);
                    this.exchangeIdentifier = ExchangeEnum.CHANGELLY;
                    break;
                case ExchangeEnum.CHANGENOW:
                    this.exchange = new _exchange_changenow__WEBPACK_IMPORTED_MODULE_10__["ChangeNowExchange"](this.operationsProvider, this.http);
                    this.exchangeIdentifier = ExchangeEnum.CHANGENOW;
                    break;
                case ExchangeEnum.QUIPUSWAP:
                    this.exchange = new _exchange_quipuswap__WEBPACK_IMPORTED_MODULE_11__["QuipuswapExchange"](this.protocolService, this.formBuilder);
                    this.exchangeIdentifier = ExchangeEnum.QUIPUSWAP;
            }
        }));
    }
    getAvailableFromCurrencies() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.exchange.getAvailableFromCurrencies();
        });
    }
    getAvailableToCurrenciesForCurrency(selectedFrom) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.exchange.getAvailableToCurrenciesForCurrency(selectedFrom);
        });
    }
    getMinAmountForCurrency(fromCurrency, toCurrency) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.exchange.getMinAmountForCurrency(fromCurrency, toCurrency);
        });
    }
    getMaxExchangeAmountForCurrency(fromCurrency, toCurrency) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.exchange.getMaxExchangeAmountForCurrency(fromCurrency, toCurrency);
        });
    }
    getExchangeAmount(fromCurrency, toCurrency, amount, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.exchange.getExchangeAmount(fromCurrency, toCurrency, amount, data);
        });
    }
    validateAddress(currency, address) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.exchange.validateAddress(currency, address);
        });
    }
    estimateFee(fromWallet, toWallet, amount, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.exchange.estimateFee(fromWallet, toWallet, amount, data);
        });
    }
    createTransaction(fromWallet, toWallet, amount, fee, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.exchange.createTransaction(fromWallet, toWallet, amount, fee, data);
        });
    }
    getStatus(transactionId) {
        return this.exchange.getStatus(transactionId);
    }
    getStatusForTransaction(transaction) {
        return this.exchange.getStatus(transaction.id);
    }
    convertExchangeIdentifierToAirGapIdentifier(identifiers) {
        return this.exchange.convertExchangeIdentifierToAirGapIdentifier(identifiers);
    }
    convertAirGapIdentifierToExchangeIdentifier(identifiers) {
        return this.exchange.convertAirGapIdentifierToExchangeIdentifier(identifiers);
    }
    getCustomUI() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.exchange.getCustomUI();
        });
    }
    setActiveExchange(exchange) {
        this.exchangeSubject.next(exchange);
    }
    switchActiveExchange() {
        const supportedExchanges = Object.values(ExchangeEnum);
        const activeIndex = supportedExchanges.indexOf(this.exchangeIdentifier);
        const nextIndex = (activeIndex + 1) % supportedExchanges.length;
        this.setActiveExchange(supportedExchanges[nextIndex]);
    }
    getActiveExchange() {
        return this.exchangeObserable;
    }
    pushExchangeTransaction(tx) {
        this.pendingTransactions.push(tx);
        this.persist();
    }
    formatExchangeTxs(pendingExchangeTxs, protocolIdentifier) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const protocol = yield this.protocolService.getProtocol(protocolIdentifier);
            return pendingExchangeTxs.map((tx) => {
                const rawAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_4__["BigNumber"](protocolIdentifier === tx.toCurrency ? tx.amountExpectedTo : tx.amountExpectedFrom);
                const formattedAmount = rawAmount.times(Math.pow(10, protocol.decimals)).toString();
                return {
                    from: [tx.sendingAddress],
                    to: [tx.receivingAddress],
                    isInbound: protocolIdentifier === tx.toCurrency ? true : false,
                    amount: formattedAmount,
                    fee: new bignumber_js__WEBPACK_IMPORTED_MODULE_4__["BigNumber"](tx.fee).shiftedBy(protocol.decimals).toFixed(),
                    timestamp: new bignumber_js__WEBPACK_IMPORTED_MODULE_4__["BigNumber"](tx.timestamp).dividedToIntegerBy(1000).toNumber(),
                    protocolIdentifier: protocolIdentifier === tx.toCurrency ? tx.toCurrency : tx.fromCurrency,
                    network: protocol.options.network,
                    extra: tx.status
                };
            });
        });
    }
    transactionCompleted(tx) {
        const index = this.pendingTransactions.indexOf(tx);
        if (index > -1) {
            this.pendingTransactions.splice(index, 1);
        }
        this.persist();
    }
    persist() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.storageService.set(_storage_storage__WEBPACK_IMPORTED_MODULE_8__["WalletStorageKey"].PENDING_EXCHANGE_TRANSACTIONS, this.pendingTransactions);
        });
    }
    loadPendingTranscationsFromStorage() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const pendingTransactions = (yield this.storageService.get(_storage_storage__WEBPACK_IMPORTED_MODULE_8__["WalletStorageKey"].PENDING_EXCHANGE_TRANSACTIONS));
            this.pendingTransactions = pendingTransactions ? pendingTransactions : [];
            return;
        });
    }
    getExchangeTransactionsByProtocol(protocolidentifier, address) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const filteredByProtocol = this.pendingTransactions.filter((tx) => tx.fromCurrency === protocolidentifier || tx.toCurrency === protocolidentifier);
            const filteredByAddress = filteredByProtocol.filter((tx) => tx.receivingAddress === address || tx.sendingAddress === address);
            const statusPromises = filteredByAddress.map((tx) => {
                return this.getStatusForTransaction(tx)
                    .then((result) => {
                    return { transaction: tx, statusResponse: result };
                })
                    .catch(() => {
                    return { transaction: tx };
                });
            });
            const transactions = (yield Promise.all(statusPromises))
                .filter((result) => {
                if (result.statusResponse !== undefined) {
                    result.transaction.status = result.statusResponse.status;
                    const eightHours = 8 * 3600 * 1000;
                    if (!result.statusResponse.isPending() ||
                        result.transaction.timestamp < Date.now() - eightHours ||
                        result.transaction.timestamp < Date.now() - eightHours) {
                        this.transactionCompleted(result.transaction);
                        return false;
                    }
                    else {
                        return true;
                    }
                }
                else {
                    this.transactionCompleted(result.transaction);
                    return false;
                }
            })
                .map((result) => result.transaction);
            return this.formatExchangeTxs(transactions, protocolidentifier);
        });
    }
}
ExchangeProvider.ɵfac = function ExchangeProvider_Factory(t) { return new (t || ExchangeProvider)(_angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵinject"](_storage_storage__WEBPACK_IMPORTED_MODULE_8__["WalletStorageService"]), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"]), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵinject"](_operations_operations__WEBPACK_IMPORTED_MODULE_7__["OperationsProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵinject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"])); };
ExchangeProvider.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_12__["ɵɵdefineInjectable"]({ token: ExchangeProvider, factory: ExchangeProvider.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "eIp1":
/*!*****************************************************************!*\
  !*** ./src/app/pages/protocol-select/protocol-select.module.ts ***!
  \*****************************************************************/
/*! exports provided: ProtocolSelectPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProtocolSelectPageModule", function() { return ProtocolSelectPageModule; });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/components.module */ "j1ZV");
/* harmony import */ var _protocol_select__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./protocol-select */ "yJqF");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "fXoL");









class ProtocolSelectPageModule {
}
ProtocolSelectPageModule.ɵfac = function ProtocolSelectPageModule_Factory(t) { return new (t || ProtocolSelectPageModule)(); };
ProtocolSelectPageModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineNgModule"]({ type: ProtocolSelectPageModule });
ProtocolSelectPageModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjector"]({ imports: [[
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormsModule"],
            _components_components_module__WEBPACK_IMPORTED_MODULE_5__["ComponentsModule"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild([{ path: '', component: _protocol_select__WEBPACK_IMPORTED_MODULE_6__["ProtocolSelectPage"] }])
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵsetNgModuleScope"](ProtocolSelectPageModule, { declarations: [_protocol_select__WEBPACK_IMPORTED_MODULE_6__["ProtocolSelectPage"]], imports: [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
        _angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormsModule"],
        _components_components_module__WEBPACK_IMPORTED_MODULE_5__["ComponentsModule"],
        _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateModule"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]] }); })();


/***/ }),

/***/ "eSIo":
/*!*************************************************************************************!*\
  !*** ./src/app/components/widget-option-button-group/widget-option-button-group.ts ***!
  \*************************************************************************************/
/*! exports provided: WidgetOptionButtonGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidgetOptionButtonGroup", function() { return WidgetOptionButtonGroup; });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _models_widgets_input_UIOptionButtonGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/widgets/input/UIOptionButtonGroup */ "eVEn");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");







function WidgetOptionButtonGroup_ion_row_2_ion_toggle_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "ion-toggle", 10);
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("formControlName", ctx_r3.customInputControl);
} }
function WidgetOptionButtonGroup_ion_row_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-row", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-col", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-item", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "ion-text", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](6, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](7, WidgetOptionButtonGroup_ion_row_2_ion_toggle_7_Template, 1, 1, "ion-toggle", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](6, 2, ctx_r0.widget.label));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r0.widget.customInput);
} }
function WidgetOptionButtonGroup_ion_col_4_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-col", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function WidgetOptionButtonGroup_ion_col_4_Template_ion_button_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r6); const button_r4 = ctx.$implicit; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](); return ctx_r5.onSelected(button_r4.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const button_r4 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("fill", ctx_r1.widget.value === button_r4.value && !ctx_r1.widgetForm.get(ctx_r1.customInputControl).value ? "solid" : "outline");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](button_r4.label);
} }
function WidgetOptionButtonGroup_ion_row_5_ion_text_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-text", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](ctx_r7.widget.customInput.suffix);
} }
function WidgetOptionButtonGroup_ion_row_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-row");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-col", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-item", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](3, "ion-input", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](4, WidgetOptionButtonGroup_ion_row_5_ion_text_4_Template, 3, 1, "ion-text", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("type", ctx_r2.widget.customInput.type)("formControlName", ctx_r2.widget.customInput.id);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r2.widget.customInput.suffix);
} }
class WidgetOptionButtonGroup {
    constructor(formBuilder) {
        this.formBuilder = formBuilder;
        this.customInputControl = 'customInput';
    }
    ngOnInit() {
        this.setupForm();
    }
    onSelected(value) {
        this.widgetForm.patchValue({
            [this.widget.id]: value,
            [this.customInputControl]: false
        });
        if (this.widget.onSelected) {
            this.widget.onSelected(value);
        }
    }
    setupForm() {
        this.widgetForm.addControl(this.customInputControl, this.formBuilder.control(false));
        if (this.widget.defaultSelected) {
            this.widgetForm.get(this.widget.id).patchValue(this.widget.defaultSelected);
        }
        this.widgetForm.get(this.customInputControl).valueChanges.subscribe((enabled) => {
            if (enabled && this.widget.customInput) {
                this.emitAuxFormValue();
            }
            else if (!enabled) {
                this.restoreTargetValue();
            }
        });
    }
    emitAuxFormValue() {
        var _a;
        this.widgetForm.get((_a = this.widget.customInput) === null || _a === void 0 ? void 0 : _a.id).updateValueAndValidity();
    }
    restoreTargetValue() {
        var _a, _b;
        const isValidValue = this.widget.optionButtons.map((button) => button.value).includes(this.widget.value);
        if (isValidValue) {
            return;
        }
        this.widgetForm.get(this.widget.id).patchValue((_a = this.widget.defaultSelected) !== null && _a !== void 0 ? _a : (_b = this.widget.optionButtons[0]) === null || _b === void 0 ? void 0 : _b.value);
    }
}
WidgetOptionButtonGroup.ɵfac = function WidgetOptionButtonGroup_Factory(t) { return new (t || WidgetOptionButtonGroup)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_0__["FormBuilder"])); };
WidgetOptionButtonGroup.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: WidgetOptionButtonGroup, selectors: [["widget-option-button-group"]], inputs: { widget: "widget", widgetForm: "widgetForm" }, decls: 6, vars: 4, consts: [[3, "formGroup"], [1, "ion-no-padding", "ion-no-margin"], ["class", "label", 4, "ngIf"], ["class", "ion-margin-end", 4, "ngFor", "ngForOf"], [4, "ngIf"], [1, "label"], ["size", "12", 1, "ion-no-padding"], ["lines", "none", 1, "ion-no-padding"], ["color", "blackLight", 1, "ion-no-margin"], ["slot", "end", "mode", "md", 3, "formControlName", 4, "ngIf"], ["slot", "end", "mode", "md", 3, "formControlName"], [1, "ion-margin-end"], ["shape", "round", "size", "small", "expand", "block", 3, "fill", "click"], ["size", "12"], [1, "ion-no-padding"], [3, "type", "formControlName"], ["class", "ion-padding-start", 4, "ngIf"], [1, "ion-padding-start"]], template: function WidgetOptionButtonGroup_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-grid", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, WidgetOptionButtonGroup_ion_row_2_Template, 8, 4, "ion-row", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "ion-row");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](4, WidgetOptionButtonGroup_ion_col_4_Template, 3, 2, "ion-col", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](5, WidgetOptionButtonGroup_ion_row_5_Template, 5, 3, "ion-row", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("formGroup", ctx.widgetForm);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.widget.label);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngForOf", ctx.widget.optionButtons);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.widgetForm.get(ctx.customInputControl).value && ctx.widget.customInput);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_0__["ɵangular_packages_forms_forms_ba"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__["FormGroupDirective"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonGrid"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonRow"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonToggle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["BooleanValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__["FormControlName"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonButton"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonInput"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["TextValueAccessor"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslatePipe"]], styles: [".label[_ngcontent-%COMP%] {\n  padding-top: 8px;\n}\n.label[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%] {\n  padding: 0 !important;\n}\n.label[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%] {\n  font-size: 14px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3dpZGdldC1vcHRpb24tYnV0dG9uLWdyb3VwLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtBQUNGO0FBQUU7RUFDRSxxQkFBQTtBQUVKO0FBQUU7RUFDRSxlQUFBO0FBRUoiLCJmaWxlIjoid2lkZ2V0LW9wdGlvbi1idXR0b24tZ3JvdXAuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sYWJlbCB7XG4gIHBhZGRpbmctdG9wOiA4cHg7XG4gIC5pdGVtLWlubmVyIHtcbiAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIH1cbiAgaW9uLWxhYmVsIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gIH1cbn0iXX0= */"] });


/***/ }),

/***/ "eTKa":
/*!**************************************************************!*\
  !*** ./src/app/pages/introduction-push/introduction-push.ts ***!
  \**************************************************************/
/*! exports provided: IntroductionPushPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntroductionPushPage", function() { return IntroductionPushPage; });
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");





class IntroductionPushPage {
    constructor(viewCtrl) {
        this.viewCtrl = viewCtrl;
    }
    dismiss(askForPermissions = false) {
        this.viewCtrl.dismiss(askForPermissions).catch(Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_1__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_1__["ErrorCategory"].NAVIGATION));
    }
    promptForPushPermission() {
        this.dismiss(true);
    }
}
IntroductionPushPage.ɵfac = function IntroductionPushPage_Factory(t) { return new (t || IntroductionPushPage)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_0__["ModalController"])); };
IntroductionPushPage.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: IntroductionPushPage, selectors: [["page-introduction-push"]], decls: 22, vars: 12, consts: [[1, "ion-no-border"], ["slot", "start"], ["defaultHref", "/"], ["slot", "end"], ["color", "secondary", 3, "click"], ["name", "close-outline"], [1, "ion-padding"], [1, "row--height__100", "ion-justify-content-center", "ion-align-items-center"], [1, "ion-text-center"], [1, "ion-padding-horizontal", "ion-no-margin", 3, "innerHTML"], ["src", "./assets/img/push_onboarding.svg"], [1, "ion-padding-horizontal"], ["shape", "round", "color", "primary", 3, "click"]], template: function IntroductionPushPage_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-header", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-toolbar");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-buttons", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](3, "ion-back-button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "ion-title");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](6, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "ion-buttons", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](8, "ion-button", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function IntroductionPushPage_Template_ion_button_click_8_listener() { return ctx.dismiss(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](9, "ion-icon", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](10, "ion-content", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](11, "ion-row", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](12, "ion-col", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](13, "h3", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](14, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](15, "img", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](16, "p", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](17);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](18, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](19, "ion-button", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function IntroductionPushPage_Template_ion_button_click_19_listener() { return ctx.promptForPushPermission(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](20);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](21, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](6, 4, "introduction-push.title"));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](14, 6, "introduction-push.heading"), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵsanitizeHtml"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](18, 8, "introduction-push.description"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](21, 10, "introduction-push.grant-permission_label"), " ");
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonHeader"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonToolbar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonButtons"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonBackButton"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonBackButtonDelegate"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonTitle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonButton"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonIcon"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonContent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_0__["IonCol"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslatePipe"]], styles: [".row--height__100[_ngcontent-%COMP%] {\n  height: calc(100% - 48px);\n}\n.row--height__100[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  height: 45vh;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2ludHJvZHVjdGlvbi1wdXNoLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtBQUNGO0FBQUU7RUFDRSxZQUFBO0FBRUoiLCJmaWxlIjoiaW50cm9kdWN0aW9uLXB1c2guc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5yb3ctLWhlaWdodF9fMTAwIHtcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA0OHB4KTtcbiAgaW1nIHtcbiAgICBoZWlnaHQ6IDQ1dmg7XG4gIH1cbn1cbiJdfQ== */"] });


/***/ }),

/***/ "eVEn":
/*!*************************************************************!*\
  !*** ./src/app/models/widgets/input/UIOptionButtonGroup.ts ***!
  \*************************************************************/
/*! exports provided: UIOptionButtonGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIOptionButtonGroup", function() { return UIOptionButtonGroup; });
/* harmony import */ var _UIInputWidget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIInputWidget */ "GTl0");
/* harmony import */ var _UIWidget__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../UIWidget */ "Ochd");


class UIOptionButtonGroup extends _UIInputWidget__WEBPACK_IMPORTED_MODULE_0__["UIInputWidget"] {
    constructor(config) {
        super(config);
        this.type = _UIWidget__WEBPACK_IMPORTED_MODULE_1__["UIWidgetType"].OPTION_BUTTON_GROUP;
        this.label = config.label;
        this.optionButtons = config.optionButtons;
        this.customInput = config.customInput;
        this.defaultSelected = config.defaultSelected;
        this.setupAuxFormControl();
    }
    setupAuxFormControl() {
        var _a;
        const formControl = (_a = this.customInput) === null || _a === void 0 ? void 0 : _a.formControl;
        if (!formControl) {
            return;
        }
        formControl.valueChanges.subscribe((auxValue) => {
            var _a, _b;
            if (auxValue) {
                const value = ((_a = this.customInput) === null || _a === void 0 ? void 0 : _a.controlValueToValue) ? this.customInput.controlValueToValue(auxValue) : auxValue;
                (_b = this.formControl) === null || _b === void 0 ? void 0 : _b.patchValue(value);
            }
        });
    }
}


/***/ }),

/***/ "f+EC":
/*!**************************************************!*\
  !*** ./src/app/capacitor-plugins/definitions.ts ***!
  \**************************************************/
/*! exports provided: SaplingNative */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaplingNative", function() { return SaplingNative; });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "FUe0");

const SaplingNative = Object(_capacitor_core__WEBPACK_IMPORTED_MODULE_0__["registerPlugin"])('SaplingNative');


/***/ }),

/***/ "f7Rz":
/*!***********************************************************!*\
  !*** ./src/app/ledger/app/substrate/PolkadotLedgerApp.ts ***!
  \***********************************************************/
/*! exports provided: PolkadotLedgerApp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolkadotLedgerApp", function() { return PolkadotLedgerApp; });
/* harmony import */ var _zondax_ledger_substrate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @zondax/ledger-substrate */ "d6od");
/* harmony import */ var _zondax_ledger_substrate__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_zondax_ledger_substrate__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _SubstrateLedgerApp__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SubstrateLedgerApp */ "qlYR");



class PolkadotLedgerApp extends _SubstrateLedgerApp__WEBPACK_IMPORTED_MODULE_2__["SubstrateLedgerApp"] {
    constructor() {
        super(...arguments);
        this.protocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["PolkadotProtocol"]();
    }
    getApp() {
        return Object(_zondax_ledger_substrate__WEBPACK_IMPORTED_MODULE_0__["newPolkadotApp"])(this.connection.transport);
    }
}


/***/ }),

/***/ "fQR8":
/*!*********************************************************************!*\
  !*** ./src/app/components/tezos-fa-form/tezos-fa-form.component.ts ***!
  \*********************************************************************/
/*! exports provided: TezosFAForm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TezosFAForm", function() { return TezosFAForm; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _tezos_fa_form_facade__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tezos-fa-form.facade */ "8761");
/* harmony import */ var _tezos_fa_form_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tezos-fa-form.store */ "EX6Z");
/* harmony import */ var _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./tezos-fa-form.types */ "UsL9");
/* harmony import */ var _ngrx_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngrx/component */ "9A8T");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _currency_item_currency_item__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../currency-item/currency-item */ "Bx04");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");

















function TezosFAForm_ng_container_5_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-item", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](2, "currency-item", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](3, "airgap-network-badge", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const protocol_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]().ngrxLet;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("protocol", protocol_r5.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("network", protocol_r5.value.options.network);
} }
function TezosFAForm_ng_container_5_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-item", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-avatar", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](3, "ion-skeleton-text", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](4, "ion-skeleton-text", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} }
function TezosFAForm_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, TezosFAForm_ng_container_5_div_1_Template, 4, 2, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, TezosFAForm_ng_container_5_ng_container_2_Template, 5, 0, "ng-container", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const protocol_r5 = ctx.ngrxLet;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", protocol_r5.status === ctx_r0.UIResourceStatus.SUCCESS && protocol_r5.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", protocol_r5.status === ctx_r0.UIResourceStatus.LOADING);
} }
function TezosFAForm_ng_container_16_ion_select_option_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-select-option", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const network_r11 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("value", network_r11.identifier);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](network_r11.name);
} }
function TezosFAForm_ng_container_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-row");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-item", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "ion-label", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](5, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](6, "ion-select", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](7, TezosFAForm_ng_container_16_ion_select_option_7_Template, 2, 2, "ion-select-option", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const networks_r9 = ctx.ngrxLet;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](5, 2, "tezos-fa-form.network_label"));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngForOf", networks_r9);
} }
function TezosFAForm_ng_container_17_ng_container_1_ion_item_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-item", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](3, "ion-radio", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tokenInterface_r15 = ctx.$implicit;
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](ctx_r14.tokenInterfaceDescription[tokenInterface_r15]);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("value", tokenInterface_r15);
} }
function TezosFAForm_ng_container_17_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-item", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-label", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "ion-row");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](6, "ion-col");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "ion-item", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](8, "ion-radio-group", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](9, TezosFAForm_ng_container_17_ng_container_1_ion_item_9_Template, 4, 2, "ion-item", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const tokenInterfaces_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]().ngrxLet;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](4, 2, "tezos-fa-form.token-interface_label"));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngForOf", tokenInterfaces_r12);
} }
function TezosFAForm_ng_container_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, TezosFAForm_ng_container_17_ng_container_1_Template, 10, 4, "ng-container", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const tokenInterfaces_r12 = ctx.ngrxLet;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", tokenInterfaces_r12.length > 0);
} }
function TezosFAForm_ng_container_18_ng_container_1_ng_container_1_ion_radio_group_8_ion_item_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-item", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](3, "ion-radio", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const token_r24 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](token_r24.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("value", token_r24.id);
} }
function TezosFAForm_ng_container_18_ng_container_1_ng_container_1_ion_radio_group_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-radio-group", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, TezosFAForm_ng_container_18_ng_container_1_ng_container_1_ion_radio_group_8_ion_item_1_Template, 4, 2, "ion-item", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tokens_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](3).ngrxLet;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngForOf", tokens_r17);
} }
function TezosFAForm_ng_container_18_ng_container_1_ng_container_1_ion_select_9_ion_select_option_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-select-option", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const token_r27 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("value", token_r27.id);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", token_r27.name, " ");
} }
function TezosFAForm_ng_container_18_ng_container_1_ng_container_1_ion_select_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-select", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](1, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, TezosFAForm_ng_container_18_ng_container_1_ng_container_1_ion_select_9_ion_select_option_2_Template, 2, 2, "ion-select-option", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tokens_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](3).ngrxLet;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](1, 2, "tezos-fa-form.token.placeholder"));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngForOf", tokens_r17);
} }
function TezosFAForm_ng_container_18_ng_container_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-item", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-label", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "ion-row", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](6, "ion-col");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "ion-item", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](8, TezosFAForm_ng_container_18_ng_container_1_ng_container_1_ion_radio_group_8_Template, 2, 1, "ion-radio-group", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](9, TezosFAForm_ng_container_18_ng_container_1_ng_container_1_ion_select_9_Template, 3, 4, "ion-select", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const tokens_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2).ngrxLet;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](4, 3, "tezos-fa-form.token.label"));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", tokens_r17.length <= 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", tokens_r17.length > 3);
} }
function TezosFAForm_ng_container_18_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, TezosFAForm_ng_container_18_ng_container_1_ng_container_1_Template, 10, 5, "ng-container", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const tokenInterface_r19 = ctx.ngrxLet;
    const tokens_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]().ngrxLet;
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", tokens_r17.length > 1 && (!tokenInterface_r19.value || ctx_r18.isMultiAssetTokenInterface[tokenInterface_r19.value]));
} }
function TezosFAForm_ng_container_18_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, TezosFAForm_ng_container_18_ng_container_1_Template, 2, 1, "ng-container", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngrxLet", ctx_r3.facade.tokenInterface$);
} }
function TezosFAForm_ng_container_19_ion_text_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-text", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const errorDescription_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]().ngrxLet;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](3, 1, errorDescription_r31), " ");
} }
function TezosFAForm_ng_container_19_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-row", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-col");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](3, TezosFAForm_ng_container_19_ion_text_3_Template, 4, 3, "ion-text", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const errorDescription_r31 = ctx.ngrxLet;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", errorDescription_r31);
} }
class TezosFAForm {
    constructor(facade, formBuilder) {
        this.facade = facade;
        this.formBuilder = formBuilder;
        this.UIResourceStatus = _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"];
        this.tokenInterfaceDescription = {
            [_tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_8__["TokenInterface"].FA1p2]: 'FA1.2 (TZIP-007)',
            [_tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_8__["TokenInterface"].FA2]: 'FA2 (TZIP-012)'
        };
        this.isMultiAssetTokenInterface = {
            [_tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_8__["TokenInterface"].FA1p2]: false,
            [_tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_8__["TokenInterface"].FA2]: true
        };
        this.protocol = new _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"]();
        this.ngDestroyed$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        this.formGroup = this.formBuilder.group({
            address: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].pattern(/^KT1[1-9A-Za-z]{33}$/)])],
            network: [null, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required])],
            tokenInterface: [null],
            tokenID: [null]
        });
        this.setListeners();
    }
    ngOnInit() {
        this.facade.onInit();
    }
    ngOnDestroy() {
        this.ngDestroyed$.next();
        this.ngDestroyed$.complete();
    }
    setListeners() {
        this.formGroup
            .valueChanges
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["debounceTime"])(500), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.ngDestroyed$))
            .subscribe((value) => {
            this.facade.onTokenDetailsInput({
                address: value.address,
                networkIdentifier: value.network,
                tokenInterface: value.tokenInterface !== null ? value.tokenInterface : undefined,
                tokenID: value.tokenID !== null ? value.tokenID : undefined
            });
        });
        this.facade.tokenInterface$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.ngDestroyed$))
            .subscribe((value) => {
            if (value.status === _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].IDLE) {
                this.formGroup.patchValue({ tokenInterface: null }, { emitEvent: false });
            }
        });
        this.facade.tokenID$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.ngDestroyed$))
            .subscribe((value) => {
            if (value.status === _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].IDLE) {
                this.formGroup.patchValue({ tokenID: null }, { emitEvent: false });
            }
        });
        this.facade.protocol$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.ngDestroyed$))
            .subscribe((value) => {
            if (value.status === _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UIResourceStatus"].SUCCESS && value.value !== undefined) {
                this.protocol.emit(value.value);
            }
        });
        this.facade.networks$
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeUntil"])(this.ngDestroyed$))
            .subscribe((values) => {
            var _a;
            if (!this.formGroup.value.network || !values.includes(this.formGroup.value.network)) {
                this.formGroup.patchValue({ network: (_a = values[0]) === null || _a === void 0 ? void 0 : _a.identifier }, { emitEvent: false });
            }
        });
    }
    pasteFromClipboard() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const text = yield this.facade.getFromClipboard();
            if (text !== undefined) {
                this.formGroup.patchValue({ address: text });
            }
        });
    }
}
TezosFAForm.ɵfac = function TezosFAForm_Factory(t) { return new (t || TezosFAForm)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_tezos_fa_form_facade__WEBPACK_IMPORTED_MODULE_6__["TEZOS_FA_FORM_FACADE"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"])); };
TezosFAForm.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: TezosFAForm, selectors: [["tezos-fa-form"]], outputs: { protocol: "protocol" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵProvidersFeature"]([
            { provide: _tezos_fa_form_facade__WEBPACK_IMPORTED_MODULE_6__["TEZOS_FA_FORM_FACADE"], useClass: _tezos_fa_form_facade__WEBPACK_IMPORTED_MODULE_6__["TezosFAFormNgRxFacade"] },
            _tezos_fa_form_store__WEBPACK_IMPORTED_MODULE_7__["TezosFAFormStore"]
        ])], decls: 20, vars: 15, consts: [[3, "formGroup"], [1, "ion-padding-bottom"], [1, "asset--container", "ion-margin-bottom"], [4, "ngrxLet"], ["size", "12"], [1, "ion-no-padding"], ["color", "blackLight", "position", "stacked", 1, "ion-no-margin"], ["type", "text", "placeholder", "KT1...", "formControlName", "address"], ["fill", "outline", "size", "small", "color", "secondary", "shape", "round", 1, "paste--button", 3, "click"], ["class", "d-flex ion-align-items-center ion-justify-content-between", 4, "ngIf"], [4, "ngIf"], [1, "d-flex", "ion-align-items-center", "ion-justify-content-between"], ["lines", "none", 1, "ion-no-padding"], [3, "protocol"], [3, "network"], ["slot", "start"], ["animated", ""], ["animated", "", 2, "width", "80%"], ["formControlName", "network"], [3, "value", 4, "ngFor", "ngForOf"], [3, "value"], ["lines", "none", 1, "ion-no-padding", "label--radio"], ["color", "blackLight", "position", "stacked"], ["formControlName", "tokenInterface"], ["class", "ion-no-padding", "lines", "none", "mode", "md", 4, "ngFor", "ngForOf"], ["lines", "none", "mode", "md", 1, "ion-no-padding"], ["slot", "start", 3, "value"], ["formControlName", "tokenID", 4, "ngIf"], ["formControlName", "tokenID", 3, "placeholder", 4, "ngIf"], ["formControlName", "tokenID"], ["formControlName", "tokenID", 3, "placeholder"], ["class", "ion-no-padding", "lines", "none", 3, "value", 4, "ngFor", "ngForOf"], ["lines", "none", 1, "ion-no-padding", 3, "value"], [1, "ion-padding-vertical"], ["color", "secondary", 4, "ngIf"], ["color", "secondary"]], template: function TezosFAForm_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "h5", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](3, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](5, TezosFAForm_ng_container_5_Template, 3, 2, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](6, "ion-row", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "ion-col", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](8, "ion-item", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](9, "ion-label", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](10);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](11, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](12, "ion-input", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](13, "ion-button", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function TezosFAForm_Template_ion_button_click_13_listener() { return ctx.pasteFromClipboard(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](14);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](15, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](16, TezosFAForm_ng_container_16_Template, 8, 4, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](17, TezosFAForm_ng_container_17_Template, 2, 1, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](18, TezosFAForm_ng_container_18_Template, 2, 1, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](19, TezosFAForm_ng_container_19_Template, 4, 1, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("formGroup", ctx.formGroup);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](3, 9, "tezos-fa-form.header"));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngrxLet", ctx.facade.protocol$);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](11, 11, "tezos-fa-form.contract-address_label"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](15, 13, "tezos-fa-form.paste_label"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngrxLet", ctx.facade.networks$);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngrxLet", ctx.facade.tokenInterfaces$);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngrxLet", ctx.facade.tokens$);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngrxLet", ctx.facade.errorDescription$);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["ɵangular_packages_forms_forms_ba"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormGroupDirective"], _ngrx_component__WEBPACK_IMPORTED_MODULE_9__["LetDirective"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonInput"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["TextValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControlName"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonButton"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgIf"], _currency_item_currency_item__WEBPACK_IMPORTED_MODULE_12__["CurrencyItemComponent"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["NetworkBadgeComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonAvatar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonSkeletonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonSelect"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["SelectValueAccessor"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgForOf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonSelectOption"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonRadioGroup"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonRadio"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["RadioValueAccessor"], _ionic_angular__WEBPACK_IMPORTED_MODULE_10__["IonText"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_13__["TranslatePipe"]], styles: ["airgap-currency-symbol[_ngcontent-%COMP%] {\n  position: absolute;\n  left: 24px;\n  top: 32px;\n  height: 24px;\n  width: 24px;\n}\n\nairgap-identicon[_ngcontent-%COMP%], airgap-identicon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  height: 40px;\n  width: 40px;\n}\n\n.paste--button[_ngcontent-%COMP%] {\n  padding-top: 4px;\n}\n\n.asset--container[_ngcontent-%COMP%] {\n  height: 48px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Rlem9zLWZhLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxTQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7QUFDRjs7QUFFQTs7RUFFRSxZQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7QUFDRjs7QUFDQTtFQUNFLFlBQUE7QUFFRiIsImZpbGUiOiJ0ZXpvcy1mYS1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYWlyZ2FwLWN1cnJlbmN5LXN5bWJvbCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMjRweDtcbiAgdG9wOiAzMnB4O1xuICBoZWlnaHQ6IDI0cHg7XG4gIHdpZHRoOiAyNHB4O1xufVxuXG5haXJnYXAtaWRlbnRpY29uLFxuYWlyZ2FwLWlkZW50aWNvbiBpbWcge1xuICBoZWlnaHQ6IDQwcHg7XG4gIHdpZHRoOiA0MHB4O1xufVxuXG4ucGFzdGUtLWJ1dHRvbiB7XG4gIHBhZGRpbmctdG9wOiA0cHg7XG59XG4uYXNzZXQtLWNvbnRhaW5lciB7XG4gIGhlaWdodDogNDhweDtcbn1cbiJdfQ== */"] });


/***/ }),

/***/ "fUHw":
/*!************************************************!*\
  !*** ./src/app/validators/DecimalValidator.ts ***!
  \************************************************/
/*! exports provided: DecimalValidator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DecimalValidator", function() { return DecimalValidator; });
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_0__);

class DecimalValidator {
    static validate(decimals) {
        const regExpString = `^[0-9]+((\\.|,){1}[0-9]\\d{0,${decimals - 1}})?$`;
        const regExp = new RegExp(regExpString);
        return (control) => {
            const stringAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_0__["BigNumber"](control.value).toFixed();
            if (stringAmount.match(regExp) === null) {
                return { pattern: 'Pattern does not match.' };
            }
            return null;
        };
    }
    static isValid(decimals, amount) {
        const regExpString = `^[0-9]+((\\.|,){1}[0-9]\\d{0,${decimals}})?$`;
        const regExp = new RegExp(regExpString);
        const stringAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_0__["BigNumber"](amount).toFixed();
        if (stringAmount.match(regExp) === null) {
            return false;
        }
        return true;
    }
}


/***/ }),

/***/ "hPkG":
/*!***********************************************************************!*\
  !*** ./src/app/services/sentry-error-handler/sentry-error-handler.ts ***!
  \***********************************************************************/
/*! exports provided: ErrorCategory, setSentryRelease, setSentryUser, handleErrorIgnore, handleErrorSentry, SentryErrorHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(process) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorCategory", function() { return ErrorCategory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setSentryRelease", function() { return setSentryRelease; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setSentryUser", function() { return setSentryUser; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "handleErrorIgnore", function() { return handleErrorIgnore; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "handleErrorSentry", function() { return handleErrorSentry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SentryErrorHandler", function() { return SentryErrorHandler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/browser */ "WSEr");



_sentry_browser__WEBPACK_IMPORTED_MODULE_2__["init"]({
    dsn: process.env.SENTRY_DSN,
    release: 'unknown',
    beforeSend: (data) => {
        const stacktrace = data.stacktrace || (data.exception && data.exception.values && data.exception.values[0].stacktrace);
        if (stacktrace && stacktrace.frames) {
            stacktrace.frames.forEach((frame) => {
                if (frame.filename) {
                    frame.filename = frame.filename.substring(frame.filename.lastIndexOf('/'));
                }
            });
        }
        return data;
    }
});
var ErrorCategory;
(function (ErrorCategory) {
    ErrorCategory["CORDOVA_PLUGIN"] = "cordova_plugin";
    ErrorCategory["IONIC_MODAL"] = "ionic_modal";
    ErrorCategory["IONIC_ALERT"] = "ionic_alert";
    ErrorCategory["IONIC_LOADER"] = "ionic_loader";
    ErrorCategory["IONIC_TOAST"] = "ionic_toast";
    ErrorCategory["NAVIGATION"] = "navigation";
    ErrorCategory["WALLET_PROVIDER"] = "wallet_provider";
    ErrorCategory["SCHEME_ROUTING"] = "scheme_routing";
    ErrorCategory["COINLIB"] = "coinlib";
    ErrorCategory["DEEPLINK_PROVIDER"] = "deeplink_provider";
    ErrorCategory["STORAGE"] = "storage";
    ErrorCategory["OPERATIONS_PROVIDER"] = "operations_provider";
    ErrorCategory["PUSH"] = "push";
    ErrorCategory["OTHER"] = "other";
    ErrorCategory["BEACON"] = "beacon";
})(ErrorCategory || (ErrorCategory = {}));
const AIRGAP_ERROR_CATEGORY = 'airgap-error-category';
const handleErrorSentry = (category = ErrorCategory.OTHER) => {
    return (error) => {
        try {
            console.debug('sending error to sentry, category', category);
            console.debug(error.originalError || error);
            _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["withScope"]((scope) => {
                scope.setTag(AIRGAP_ERROR_CATEGORY, category);
                _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["captureException"](error.originalError || error);
            });
        }
        catch (e) {
            console.debug('Error reporting exception to sentry: ', e);
        }
    };
};
const handleErrorIgnore = (error) => {
    console.debug('ignoring error');
    console.debug(error.originalError || error);
};
const setSentryRelease = (release) => {
    _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["configureScope"]((scope) => {
        scope.addEventProcessor((event) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(void 0, void 0, void 0, function* () {
            event.release = release;
            return event;
        }));
    });
};
const setSentryUser = (UUID) => {
    _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["configureScope"]((scope) => {
        scope.setUser({ id: UUID });
    });
};

class SentryErrorHandler extends _angular_core__WEBPACK_IMPORTED_MODULE_1__["ErrorHandler"] {
    handleError(error) {
        super.handleError(error);
        handleErrorSentry(error);
    }
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/process/browser.js */ "8oxB")))

/***/ }),

/***/ "iGlN":
/*!*****************************************************************!*\
  !*** ./src/app/services/iac/custom-handlers/address-handler.ts ***!
  \*****************************************************************/
/*! exports provided: AddressHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddressHandler", function() { return AddressHandler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/utils */ "oCjk");
/* harmony import */ var _data_data_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../data/data.service */ "1y+R");
/* harmony import */ var _sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @airgap/angular-core */ "138U");






/**
 * Handles addresses and bitcoin style payment requests
 */
class AddressHandler extends _airgap_angular_core__WEBPACK_IMPORTED_MODULE_5__["IACSinglePartHandler"] {
    constructor(accountProvider, dataService, router) {
        super();
        this.accountProvider = accountProvider;
        this.dataService = dataService;
        this.router = router;
        this.name = 'AddressHandler';
    }
    handleComplete() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.dataService.setData(_data_data_service__WEBPACK_IMPORTED_MODULE_3__["DataServiceKey"].WALLET, Object.assign({ actionType: 'scanned-address' }, this.payload));
            this.router.navigateByUrl(`/select-wallet/${_data_data_service__WEBPACK_IMPORTED_MODULE_3__["DataServiceKey"].WALLET}`).catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["ErrorCategory"].NAVIGATION));
            return this.payload;
        });
    }
    processData(data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const splits = data.split(':'); // Handle bitcoin payment request https://github.com/bitcoin/bips/blob/master/bip-0072.mediawiki
            if (splits.length > 1) {
                const [address] = splits[1].split('?'); // Ignore amount
                const wallets = this.accountProvider.getWalletList();
                for (const protocol of Object(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["supportedProtocols"])()) {
                    if (splits[0].toLowerCase() === protocol.symbol.toLowerCase() || splits[0].toLowerCase() === protocol.name.toLowerCase()) {
                        const [compatibleWallets, incompatibleWallets] = Object(_utils_utils__WEBPACK_IMPORTED_MODULE_2__["partition"])(wallets, (wallet) => wallet.protocol.identifier === protocol.identifier);
                        if (compatibleWallets.length > 0) {
                            this.payload = {
                                address,
                                compatibleWallets,
                                incompatibleWallets
                            };
                        }
                    }
                }
            }
            else {
                const { compatibleWallets, incompatibleWallets } = yield this.accountProvider.getCompatibleAndIncompatibleWalletsForAddress(data);
                if (compatibleWallets.length > 0) {
                    this.payload = {
                        address: data,
                        compatibleWallets,
                        incompatibleWallets
                    };
                }
                else {
                }
            }
            return undefined;
        });
    }
}


/***/ }),

/***/ "iLEx":
/*!*************************************************************!*\
  !*** ./src/app/pipes/shorten-string/shorten-string.pipe.ts ***!
  \*************************************************************/
/*! exports provided: ShortenStringPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShortenStringPipe", function() { return ShortenStringPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");

class ShortenStringPipe {
    transform(value, args = {}) {
        if (!value || !(typeof value === 'string')) {
            // console.warn(`ShortenStringPipe: invalid value: ${value}`)
            return '';
        }
        let result = value;
        if (value.length >= 12 && (args.ifMatches === undefined || result.match(args.ifMatches))) {
            result = `${value.substr(0, 5)}...${value.substr(-5)}`;
        }
        return result;
    }
}
ShortenStringPipe.ɵfac = function ShortenStringPipe_Factory(t) { return new (t || ShortenStringPipe)(); };
ShortenStringPipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "shortenString", type: ShortenStringPipe, pure: true });


/***/ }),

/***/ "iTUp":
/*!***************************************!*\
  !*** ./src/app/pipes/pipes.module.ts ***!
  \***************************************/
/*! exports provided: PipesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PipesModule", function() { return PipesModule; });
/* harmony import */ var _crypto_to_fiat_crypto_to_fiat_pipe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./crypto-to-fiat/crypto-to-fiat.pipe */ "onrW");
/* harmony import */ var _group_label_group_label_pipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./group-label/group-label.pipe */ "1UBK");
/* harmony import */ var _percentage_percentage_pipe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./percentage/percentage.pipe */ "c6WW");
/* harmony import */ var _shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shorten-string/shorten-string.pipe */ "iLEx");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "fXoL");





class PipesModule {
}
PipesModule.ɵfac = function PipesModule_Factory(t) { return new (t || PipesModule)(); };
PipesModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineNgModule"]({ type: PipesModule });
PipesModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineInjector"]({ imports: [[]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵsetNgModuleScope"](PipesModule, { declarations: [_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_3__["ShortenStringPipe"], _crypto_to_fiat_crypto_to_fiat_pipe__WEBPACK_IMPORTED_MODULE_0__["CryptoToFiatPipe"], _percentage_percentage_pipe__WEBPACK_IMPORTED_MODULE_2__["PercentagePipe"], _group_label_group_label_pipe__WEBPACK_IMPORTED_MODULE_1__["GroupLabelPipe"]], exports: [_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_3__["ShortenStringPipe"], _crypto_to_fiat_crypto_to_fiat_pipe__WEBPACK_IMPORTED_MODULE_0__["CryptoToFiatPipe"], _percentage_percentage_pipe__WEBPACK_IMPORTED_MODULE_2__["PercentagePipe"], _group_label_group_label_pipe__WEBPACK_IMPORTED_MODULE_1__["GroupLabelPipe"]] }); })();


/***/ }),

/***/ "ip4s":
/*!*******************************************************!*\
  !*** ./src/app/models/actions/DelegateAlertAction.ts ***!
  \*******************************************************/
/*! exports provided: DelegateAlertAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DelegateAlertAction", function() { return DelegateAlertAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _airgap_coinlib_core_actions_Action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core/actions/Action */ "u8Qk");
/* harmony import */ var _airgap_coinlib_core_actions_Action__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_actions_Action__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _DelegatorAction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DelegatorAction */ "rtTb");




class DelegateAlertAction extends _airgap_coinlib_core_actions_Action__WEBPACK_IMPORTED_MODULE_2__["Action"] {
    constructor(context) {
        super(context);
        this.info = {
            name: 'Tip Us',
            icon: 'logo-usd'
        };
        this.delegateAction = new _DelegatorAction__WEBPACK_IMPORTED_MODULE_3__["AirGapDelegatorAction"](Object.assign({ type: _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["TezosDelegatorAction"].DELEGATE, data: {
                delegate: context.delegate
            } }, context));
    }
    get identifier() {
        return 'tip-us-action';
    }
    perform() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.showAlert();
            if (this.context.isAccepted) {
                yield this.delegateAction.start();
            }
            else {
                // Do nothing
            }
        });
    }
    showAlert() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return new Promise((resolve) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                yield this.context.uiEventService.showTranslatedAlert({
                    header: this.context.alertTitle ? this.context.alertTitle : 'action-alert-delegation.heading',
                    message: this.context.alertDescription ? this.context.alertDescription : 'action-alert-delegation.text',
                    buttons: [
                        {
                            text: 'action-alert-delegation.cancel_label',
                            role: 'cancel',
                            cssClass: 'secondary',
                            handler: () => {
                                this.context.isAccepted = false;
                                resolve();
                            }
                        },
                        {
                            text: 'action-alert-delegation.ok_label',
                            handler: () => {
                                this.context.isAccepted = true;
                                resolve();
                            }
                        }
                    ]
                });
            }));
        });
    }
}


/***/ }),

/***/ "j1ZV":
/*!*************************************************!*\
  !*** ./src/app/components/components.module.ts ***!
  \*************************************************/
/*! exports provided: ComponentsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentsModule", function() { return ComponentsModule; });
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_angular_ngrx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-ngrx */ "vYFO");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngrx_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngrx/component */ "9A8T");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var angularx_qrcode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! angularx-qrcode */ "0hV+");
/* harmony import */ var ng2_charts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ng2-charts */ "LPYB");
/* harmony import */ var ngx_moment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ngx-moment */ "QUrN");
/* harmony import */ var _pipes_pipes_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../pipes/pipes.module */ "iTUp");
/* harmony import */ var _account_edit_popover_account_edit_popover_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./account-edit-popover/account-edit-popover.component */ "Pb0q");
/* harmony import */ var _amount_amount_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./amount/amount.component */ "vAld");
/* harmony import */ var _card_actionable_card_actionable__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./card-actionable/card-actionable */ "5n3a");
/* harmony import */ var _chart_chart_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./chart/chart.component */ "0HKr");
/* harmony import */ var _currency_item_currency_item__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./currency-item/currency-item */ "Bx04");
/* harmony import */ var _current_wallet_group_current_wallet_group_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./current-wallet-group/current-wallet-group.component */ "r/DQ");
/* harmony import */ var _dapp_peer_dapp_peer_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./dapp-peer/dapp-peer.component */ "y2gM");
/* harmony import */ var _delegate_action_popover_delegate_action_popover_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./delegate-action-popover/delegate-action-popover.component */ "HQfb");
/* harmony import */ var _delegate_edit_popover_delegate_edit_popover_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./delegate-edit-popover/delegate-edit-popover.component */ "lqTi");
/* harmony import */ var _empty_state_empty_state__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./empty-state/empty-state */ "1Mpf");
/* harmony import */ var _fee_fee_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./fee/fee.component */ "pNtj");
/* harmony import */ var _from_to_from_to_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./from-to/from-to.component */ "zY7Z");
/* harmony import */ var _interaction_selection_interaction_selection_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./interaction-selection/interaction-selection.component */ "6PSE");
/* harmony import */ var _permission_request_permission_request_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./permission-request/permission-request.component */ "ScAI");
/* harmony import */ var _portfolio_item_portfolio_item__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./portfolio-item/portfolio-item */ "F07p");
/* harmony import */ var _signed_transaction_signed_transaction__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./signed-transaction/signed-transaction */ "l5qu");
/* harmony import */ var _swap_swap__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./swap/swap */ "vs69");
/* harmony import */ var _tezos_delegation_card_tezos_delegation_card__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./tezos-delegation-card/tezos-delegation-card */ "Q6rr");
/* harmony import */ var _tezos_fa_form_tezos_fa_form_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./tezos-fa-form/tezos-fa-form.component */ "fQR8");
/* harmony import */ var _transaction_item_transaction_item_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./transaction-item/transaction-item.component */ "o7/J");
/* harmony import */ var _transaction_list_transaction_list_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./transaction-list/transaction-list.component */ "ZATT");
/* harmony import */ var _walletconnect_from_to_walletconnect_from_to_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./walletconnect-from-to/walletconnect-from-to.component */ "FYRx");
/* harmony import */ var _widget_account_extended_details_widget_account_extended_details__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./widget-account-extended-details/widget-account-extended-details */ "vMYo");
/* harmony import */ var _widget_account_summary_widget_account_summary__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./widget-account-summary/widget-account-summary */ "2Eq5");
/* harmony import */ var _widget_account_widget_account__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./widget-account/widget-account */ "0CrI");
/* harmony import */ var _widget_alert_widget_alert__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./widget-alert/widget-alert */ "vqqn");
/* harmony import */ var _widget_icon_text_widget_icon_text__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./widget-icon-text/widget-icon-text */ "sXsg");
/* harmony import */ var _widget_input_text_widget_input_text__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./widget-input-text/widget-input-text */ "ECOn");
/* harmony import */ var _widget_option_button_group_widget_option_button_group__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./widget-option-button-group/widget-option-button-group */ "eSIo");
/* harmony import */ var _widget_reward_list_widget_reward_list__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./widget-reward-list/widget-reward-list */ "wcx9");
/* harmony import */ var _widget_selector_widget_selector__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./widget-selector/widget-selector */ "cwVp");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @angular/core */ "fXoL");











































class ComponentsModule {
}
ComponentsModule.ɵfac = function ComponentsModule_Factory(t) { return new (t || ComponentsModule)(); };
ComponentsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_42__["ɵɵdefineNgModule"]({ type: ComponentsModule });
ComponentsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_42__["ɵɵdefineInjector"]({ imports: [[
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
            _ngrx_component__WEBPACK_IMPORTED_MODULE_5__["ReactiveComponentModule"],
            _pipes_pipes_module__WEBPACK_IMPORTED_MODULE_10__["PipesModule"],
            ngx_moment__WEBPACK_IMPORTED_MODULE_9__["MomentModule"],
            ng2_charts__WEBPACK_IMPORTED_MODULE_8__["ChartsModule"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__["TranslateModule"],
            angularx_qrcode__WEBPACK_IMPORTED_MODULE_7__["QRCodeModule"],
            _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["AirGapAngularCoreModule"],
            _airgap_angular_ngrx__WEBPACK_IMPORTED_MODULE_1__["AirGapAngularNgRxModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_42__["ɵɵsetNgModuleScope"](ComponentsModule, { declarations: [_portfolio_item_portfolio_item__WEBPACK_IMPORTED_MODULE_25__["PortfolioItemComponent"],
        _chart_chart_component__WEBPACK_IMPORTED_MODULE_14__["ChartComponent"],
        _swap_swap__WEBPACK_IMPORTED_MODULE_27__["SwapComponent"],
        _account_edit_popover_account_edit_popover_component__WEBPACK_IMPORTED_MODULE_11__["AccountEditPopoverComponent"],
        _amount_amount_component__WEBPACK_IMPORTED_MODULE_12__["AmountComponent"],
        _card_actionable_card_actionable__WEBPACK_IMPORTED_MODULE_13__["CardActionableComponent"],
        _empty_state_empty_state__WEBPACK_IMPORTED_MODULE_20__["EmptyStateComponent"],
        _signed_transaction_signed_transaction__WEBPACK_IMPORTED_MODULE_26__["SignedTransactionComponent"],
        _tezos_delegation_card_tezos_delegation_card__WEBPACK_IMPORTED_MODULE_28__["TezosDelegationCard"],
        _tezos_fa_form_tezos_fa_form_component__WEBPACK_IMPORTED_MODULE_29__["TezosFAForm"],
        _currency_item_currency_item__WEBPACK_IMPORTED_MODULE_15__["CurrencyItemComponent"],
        _delegate_action_popover_delegate_action_popover_component__WEBPACK_IMPORTED_MODULE_18__["DelegateActionPopoverComponent"],
        _delegate_edit_popover_delegate_edit_popover_component__WEBPACK_IMPORTED_MODULE_19__["DelegateEditPopoverComponent"],
        _permission_request_permission_request_component__WEBPACK_IMPORTED_MODULE_24__["PermissionRequestComponent"],
        _current_wallet_group_current_wallet_group_component__WEBPACK_IMPORTED_MODULE_16__["CurrentWalletGroupComponent"],
        _dapp_peer_dapp_peer_component__WEBPACK_IMPORTED_MODULE_17__["DappPeerComponent"],
        _transaction_list_transaction_list_component__WEBPACK_IMPORTED_MODULE_31__["TransactionListComponent"],
        _transaction_item_transaction_item_component__WEBPACK_IMPORTED_MODULE_30__["TransactionItemComponent"],
        _fee_fee_component__WEBPACK_IMPORTED_MODULE_21__["FeeComponent"],
        _from_to_from_to_component__WEBPACK_IMPORTED_MODULE_22__["FromToComponent"],
        _walletconnect_from_to_walletconnect_from_to_component__WEBPACK_IMPORTED_MODULE_32__["WalletconnectFromToComponent"],
        _interaction_selection_interaction_selection_component__WEBPACK_IMPORTED_MODULE_23__["InteractionSelectionComponent"],
        _widget_selector_widget_selector__WEBPACK_IMPORTED_MODULE_41__["WidgetSelector"],
        _widget_account_widget_account__WEBPACK_IMPORTED_MODULE_35__["WidgetAccount"],
        _widget_account_summary_widget_account_summary__WEBPACK_IMPORTED_MODULE_34__["WidgetAccountSummary"],
        _widget_account_extended_details_widget_account_extended_details__WEBPACK_IMPORTED_MODULE_33__["WidgetAccountExtendedDetails"],
        _widget_alert_widget_alert__WEBPACK_IMPORTED_MODULE_36__["WidgetAlert"],
        _widget_icon_text_widget_icon_text__WEBPACK_IMPORTED_MODULE_37__["WidgetIconText"],
        _widget_input_text_widget_input_text__WEBPACK_IMPORTED_MODULE_38__["WidgetInputText"],
        _widget_reward_list_widget_reward_list__WEBPACK_IMPORTED_MODULE_40__["WidgetRewardList"],
        _widget_option_button_group_widget_option_button_group__WEBPACK_IMPORTED_MODULE_39__["WidgetOptionButtonGroup"]], imports: [_ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
        _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ReactiveFormsModule"],
        _ngrx_component__WEBPACK_IMPORTED_MODULE_5__["ReactiveComponentModule"],
        _pipes_pipes_module__WEBPACK_IMPORTED_MODULE_10__["PipesModule"],
        ngx_moment__WEBPACK_IMPORTED_MODULE_9__["MomentModule"],
        ng2_charts__WEBPACK_IMPORTED_MODULE_8__["ChartsModule"],
        _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__["TranslateModule"],
        angularx_qrcode__WEBPACK_IMPORTED_MODULE_7__["QRCodeModule"],
        _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["AirGapAngularCoreModule"],
        _airgap_angular_ngrx__WEBPACK_IMPORTED_MODULE_1__["AirGapAngularNgRxModule"]], exports: [_portfolio_item_portfolio_item__WEBPACK_IMPORTED_MODULE_25__["PortfolioItemComponent"],
        _chart_chart_component__WEBPACK_IMPORTED_MODULE_14__["ChartComponent"],
        _amount_amount_component__WEBPACK_IMPORTED_MODULE_12__["AmountComponent"],
        _swap_swap__WEBPACK_IMPORTED_MODULE_27__["SwapComponent"],
        _account_edit_popover_account_edit_popover_component__WEBPACK_IMPORTED_MODULE_11__["AccountEditPopoverComponent"],
        _card_actionable_card_actionable__WEBPACK_IMPORTED_MODULE_13__["CardActionableComponent"],
        _empty_state_empty_state__WEBPACK_IMPORTED_MODULE_20__["EmptyStateComponent"],
        _signed_transaction_signed_transaction__WEBPACK_IMPORTED_MODULE_26__["SignedTransactionComponent"],
        _tezos_delegation_card_tezos_delegation_card__WEBPACK_IMPORTED_MODULE_28__["TezosDelegationCard"],
        _tezos_fa_form_tezos_fa_form_component__WEBPACK_IMPORTED_MODULE_29__["TezosFAForm"],
        _currency_item_currency_item__WEBPACK_IMPORTED_MODULE_15__["CurrencyItemComponent"],
        _delegate_edit_popover_delegate_edit_popover_component__WEBPACK_IMPORTED_MODULE_19__["DelegateEditPopoverComponent"],
        _permission_request_permission_request_component__WEBPACK_IMPORTED_MODULE_24__["PermissionRequestComponent"],
        _current_wallet_group_current_wallet_group_component__WEBPACK_IMPORTED_MODULE_16__["CurrentWalletGroupComponent"],
        _dapp_peer_dapp_peer_component__WEBPACK_IMPORTED_MODULE_17__["DappPeerComponent"],
        _walletconnect_from_to_walletconnect_from_to_component__WEBPACK_IMPORTED_MODULE_32__["WalletconnectFromToComponent"],
        _interaction_selection_interaction_selection_component__WEBPACK_IMPORTED_MODULE_23__["InteractionSelectionComponent"],
        _transaction_list_transaction_list_component__WEBPACK_IMPORTED_MODULE_31__["TransactionListComponent"],
        _transaction_item_transaction_item_component__WEBPACK_IMPORTED_MODULE_30__["TransactionItemComponent"],
        _fee_fee_component__WEBPACK_IMPORTED_MODULE_21__["FeeComponent"],
        _from_to_from_to_component__WEBPACK_IMPORTED_MODULE_22__["FromToComponent"],
        _widget_selector_widget_selector__WEBPACK_IMPORTED_MODULE_41__["WidgetSelector"],
        _widget_account_widget_account__WEBPACK_IMPORTED_MODULE_35__["WidgetAccount"],
        _widget_account_summary_widget_account_summary__WEBPACK_IMPORTED_MODULE_34__["WidgetAccountSummary"],
        _widget_account_extended_details_widget_account_extended_details__WEBPACK_IMPORTED_MODULE_33__["WidgetAccountExtendedDetails"],
        _widget_alert_widget_alert__WEBPACK_IMPORTED_MODULE_36__["WidgetAlert"],
        _widget_icon_text_widget_icon_text__WEBPACK_IMPORTED_MODULE_37__["WidgetIconText"],
        _widget_input_text_widget_input_text__WEBPACK_IMPORTED_MODULE_38__["WidgetInputText"],
        _widget_reward_list_widget_reward_list__WEBPACK_IMPORTED_MODULE_40__["WidgetRewardList"],
        _widget_option_button_group_widget_option_button_group__WEBPACK_IMPORTED_MODULE_39__["WidgetOptionButtonGroup"]] }); })();


/***/ }),

/***/ "j6hh":
/*!*********************************************************!*\
  !*** ./src/app/services/exchange/exchange.changenow.ts ***!
  \*********************************************************/
/*! exports provided: ChangeNowTransactionStatusResponse, ChangeNowExchange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangeNowTransactionStatusResponse", function() { return ChangeNowTransactionStatusResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangeNowExchange", function() { return ChangeNowExchange; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_2__);



class ChangeNowTransactionStatusResponse {
    constructor(json) {
        this.status = json.status;
    }
    isPending() {
        switch (this.status) {
            case 'finished':
            case 'failed':
            case 'refunded':
            case 'expired':
                return false;
            default:
                return true;
        }
    }
}
class ChangeNowApi {
    constructor(operationsProvider, http, baseURL = 'https://changenow.io/api/v1') {
        this.operationsProvider = operationsProvider;
        this.http = http;
        this.baseURL = baseURL;
        this.identifierExchangeToAirGapMap = new Map();
        this.identifierAirGapToExchangeMap = new Map();
        this.identifierExchangeToAirGapMap.set('xchf', 'eth-erc20-xchf');
        this.identifierExchangeToAirGapMap.set('usdterc20', 'eth-erc20-usdt');
        this.identifierExchangeToAirGapMap.set('bnbmainnet', 'eth-erc20-bnb');
        this.identifierExchangeToAirGapMap.set('link', 'eth-erc20-link');
        this.identifierExchangeToAirGapMap.set('cro', 'eth-erc20-cro');
        this.identifierExchangeToAirGapMap.set('usdc', 'eth-erc20-usdc');
        this.identifierExchangeToAirGapMap.set('yfi', 'eth-erc20-yfi');
        this.identifierExchangeToAirGapMap.set('ht', 'eth-erc20-ht');
        this.identifierExchangeToAirGapMap.set('vet', 'eth-erc20-ven');
        this.identifierExchangeToAirGapMap.set('wbtc', 'eth-erc20-wbtc');
        this.identifierExchangeToAirGapMap.set('dai', 'eth-erc20-dai');
        this.identifierExchangeToAirGapMap.set('tusd', 'eth-erc20-tusd');
        this.identifierExchangeToAirGapMap.set('mkr', 'eth-erc20-mkr');
        this.identifierExchangeToAirGapMap.set('snx', 'eth-erc20-snx');
        this.identifierExchangeToAirGapMap.set('theta', 'eth-erc20-theta');
        this.identifierExchangeToAirGapMap.set('omg', 'eth-erc20-omg');
        this.identifierExchangeToAirGapMap.set('comp', 'eth-erc20-comp');
        this.identifierExchangeToAirGapMap.set('busd', 'eth-erc20-busd');
        this.identifierExchangeToAirGapMap.set('bat', 'eth-erc20-bat');
        this.identifierExchangeToAirGapMap.set('zrx', 'eth-erc20-zrx');
        this.identifierExchangeToAirGapMap.set('lrc', 'eth-erc20-lrc');
        this.identifierExchangeToAirGapMap.set('pax', 'eth-erc20-pax');
        this.identifierExchangeToAirGapMap.set('knc', 'eth-erc20-knc');
        this.identifierExchangeToAirGapMap.set('rep', 'eth-erc20-repv2');
        this.identifierExchangeToAirGapMap.set('sushi', 'eth-erc20-sushi');
        this.identifierExchangeToAirGapMap.set('band', 'eth-erc20-band');
        this.identifierExchangeToAirGapMap.set('ant', 'eth-erc20-ant');
        this.identifierExchangeToAirGapMap.set('bal', 'eth-erc20-bal');
        this.identifierExchangeToAirGapMap.set('husd', 'eth-erc20-husd');
        this.identifierExchangeToAirGapMap.set('enj', 'eth-erc20-enj');
        this.identifierExchangeToAirGapMap.set('mana', 'eth-erc20-mana');
        this.identifierExchangeToAirGapMap.set('sxp', 'eth-erc20-sxp');
        this.identifierExchangeToAirGapMap.set('gnt', 'eth-erc20-gnt');
        this.identifierExchangeToAirGapMap.set('iost', 'eth-erc20-iost');
        this.identifierExchangeToAirGapMap.set('srm', 'eth-erc20-srm');
        this.identifierExchangeToAirGapMap.set('hot', 'eth-erc20-hot');
        this.identifierExchangeToAirGapMap.set('snt', 'eth-erc20-snt');
        this.identifierExchangeToAirGapMap.set('rlc', 'eth-erc20-rlc');
        this.identifierExchangeToAirGapMap.set('storj', 'eth-erc20-storj');
        this.identifierExchangeToAirGapMap.set('utk', 'eth-erc20-utk');
        this.identifierExchangeToAirGapMap.set('mco', 'eth-erc20-mco');
        this.identifierExchangeToAirGapMap.set('bnt', 'eth-erc20-bnt');
        this.identifierExchangeToAirGapMap.set('nexo', 'eth-erc20-nexo');
        this.identifierExchangeToAirGapMap.set('elf', 'eth-erc20-elf');
        this.identifierExchangeToAirGapMap.set('dia', 'eth-erc20-dia');
        this.identifierExchangeToAirGapMap.set('agi', 'eth-erc20-agi');
        this.identifierExchangeToAirGapMap.set('fet', 'eth-erc20-fet');
        this.identifierExchangeToAirGapMap.set('waxp', 'eth-erc20-wax');
        this.identifierExchangeToAirGapMap.set('aion', 'eth-erc20-aion');
        this.identifierExchangeToAirGapMap.set('atom', _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].COSMOS);
        this.identifierExchangeToAirGapMap.set('dot', _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].POLKADOT);
        this.identifierExchangeToAirGapMap.set('ksm', _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].KUSAMA);
        this.identifierAirGapToExchangeMap.set('eth-erc20-xchf', 'xchf');
        this.identifierAirGapToExchangeMap.set('eth-erc20-usdt', 'usdterc20');
        this.identifierAirGapToExchangeMap.set('eth-erc20-bnb', 'bnbmainnet');
        this.identifierAirGapToExchangeMap.set('eth-erc20-link', 'link');
        this.identifierAirGapToExchangeMap.set('eth-erc20-cro', 'cro');
        this.identifierAirGapToExchangeMap.set('eth-erc20-usdc', 'usdc');
        this.identifierAirGapToExchangeMap.set('eth-erc20-yfi', 'yfi');
        this.identifierAirGapToExchangeMap.set('eth-erc20-ht', 'ht');
        this.identifierAirGapToExchangeMap.set('eth-erc20-ven', 'vet');
        this.identifierAirGapToExchangeMap.set('eth-erc20-wbtc', 'wbtc');
        this.identifierAirGapToExchangeMap.set('eth-erc20-dai', 'dai');
        this.identifierAirGapToExchangeMap.set('eth-erc20-tusd', 'tusd');
        this.identifierAirGapToExchangeMap.set('eth-erc20-mkr', 'mkr');
        this.identifierAirGapToExchangeMap.set('eth-erc20-snx', 'snx');
        this.identifierAirGapToExchangeMap.set('eth-erc20-theta', 'theta');
        this.identifierAirGapToExchangeMap.set('eth-erc20-mkr', 'mkr');
        this.identifierAirGapToExchangeMap.set('eth-erc20-omg', 'omg');
        this.identifierAirGapToExchangeMap.set('eth-erc20-comp', 'comp');
        this.identifierAirGapToExchangeMap.set('eth-erc20-busd', 'busd');
        this.identifierAirGapToExchangeMap.set('eth-erc20-bat', 'bat');
        this.identifierAirGapToExchangeMap.set('eth-erc20-zrx', 'zrx');
        this.identifierAirGapToExchangeMap.set('eth-erc20-lrc', 'lrc');
        this.identifierAirGapToExchangeMap.set('eth-erc20-pax', 'pax');
        this.identifierAirGapToExchangeMap.set('eth-erc20-knc', 'knc');
        this.identifierAirGapToExchangeMap.set('eth-erc20-repv2', 'rep');
        this.identifierAirGapToExchangeMap.set('eth-erc20-sushi', 'sushi');
        this.identifierAirGapToExchangeMap.set('eth-erc20-band', 'band');
        this.identifierAirGapToExchangeMap.set('eth-erc20-ant', 'ant');
        this.identifierAirGapToExchangeMap.set('eth-erc20-bal', 'bal');
        this.identifierAirGapToExchangeMap.set('eth-erc20-husd', 'husd');
        this.identifierAirGapToExchangeMap.set('eth-erc20-enj', 'enj');
        this.identifierAirGapToExchangeMap.set('eth-erc20-mana', 'mana');
        this.identifierAirGapToExchangeMap.set('eth-erc20-sxp', 'sxp');
        this.identifierAirGapToExchangeMap.set('eth-erc20-gnt', 'gnt');
        this.identifierAirGapToExchangeMap.set('eth-erc20-iost', 'iost');
        this.identifierAirGapToExchangeMap.set('eth-erc20-srm', 'srm');
        this.identifierAirGapToExchangeMap.set('eth-erc20-hot', 'hot');
        this.identifierAirGapToExchangeMap.set('eth-erc20-snt', 'snt');
        this.identifierAirGapToExchangeMap.set('eth-erc20-rlc', 'rlc');
        this.identifierAirGapToExchangeMap.set('eth-erc20-storj', 'storj');
        this.identifierAirGapToExchangeMap.set('eth-erc20-utk', 'utk');
        this.identifierAirGapToExchangeMap.set('eth-erc20-mco', 'mco');
        this.identifierAirGapToExchangeMap.set('eth-erc20-bnt', 'bnt');
        this.identifierAirGapToExchangeMap.set('eth-erc20-nexo', 'nexo');
        this.identifierAirGapToExchangeMap.set('eth-erc20-elf', 'elf');
        this.identifierAirGapToExchangeMap.set('eth-erc20-dia', 'dia');
        this.identifierAirGapToExchangeMap.set('eth-erc20-agi', 'agi');
        this.identifierAirGapToExchangeMap.set('eth-erc20-fet', 'fet');
        this.identifierAirGapToExchangeMap.set('eth-erc20-wax', 'waxp');
        this.identifierAirGapToExchangeMap.set('eth-erc20-aion', 'aion');
        this.identifierAirGapToExchangeMap.set(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].COSMOS, 'atom');
        this.identifierAirGapToExchangeMap.set(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].POLKADOT, 'dot');
        this.identifierAirGapToExchangeMap.set(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].KUSAMA, 'ksm');
    }
    convertExchangeIdentifierToAirGapIdentifier(identifiers) {
        return identifiers
            .map((identifier) => identifier.toLowerCase())
            .map((identifier) => {
            return this.identifierExchangeToAirGapMap.has(identifier)
                ? this.identifierExchangeToAirGapMap.get(identifier)
                : identifier;
        });
    }
    convertAirGapIdentifierToExchangeIdentifier(identifiers) {
        return identifiers
            .map((identifier) => {
            return this.identifierAirGapToExchangeMap.has(identifier) ? this.identifierAirGapToExchangeMap.get(identifier) : identifier;
        })
            .map((identifier) => identifier.toUpperCase());
    }
    getAvailableFromCurrencies() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const result = yield this.http
                .get(`${this.baseURL}/currencies?active=true`)
                .toPromise();
            const fromCurrencies = result.map((identifier) => identifier.ticker);
            return this.convertExchangeIdentifierToAirGapIdentifier(fromCurrencies);
        });
    }
    getMinAmountForCurrency(fromCurrency, toCurrency) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const transformedFromCurrency = this.convertAirGapIdentifierToExchangeIdentifier([fromCurrency])[0];
            const transformedToCurrency = this.convertAirGapIdentifierToExchangeIdentifier([toCurrency])[0];
            const result = yield this.http
                .get(`${this.baseURL}/min-amount/${transformedFromCurrency}_${transformedToCurrency}`)
                .toPromise();
            return result.minAmount.toString();
        });
    }
    getMaxExchangeAmountForCurrency(_fromCurrency, _toCurrency) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return '0';
        });
    }
    getExchangeAmount(fromCurrency, toCurrency, amount, _data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const transformedFromCurrency = this.convertAirGapIdentifierToExchangeIdentifier([fromCurrency])[0];
            const transformedToCurrency = this.convertAirGapIdentifierToExchangeIdentifier([toCurrency])[0];
            const response = yield this.http
                .get(`${this.baseURL}/exchange-amount/${amount}/${transformedFromCurrency}_${transformedToCurrency}`)
                .toPromise();
            return response.estimatedAmount.toString();
        });
    }
    validateAddress() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return { result: false, message: '' };
        });
    }
    estimateFee(fromWallet, _toWallet, amount, _data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const shiftedAmount = new bignumber_js__WEBPACK_IMPORTED_MODULE_2__["BigNumber"](amount).shiftedBy(fromWallet.protocol.decimals);
            const isAmountValid = !shiftedAmount.isNaN() && shiftedAmount.gt(0);
            return isAmountValid ? this.operationsProvider.estimateFees(fromWallet, fromWallet.addresses[0], shiftedAmount) : undefined;
        });
    }
    createTransaction(fromWallet, toWallet, amount, fee, _data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const transformedFromCurrency = this.convertAirGapIdentifierToExchangeIdentifier([
                fromWallet.protocol.identifier
            ])[0];
            const transformedToCurrency = this.convertAirGapIdentifierToExchangeIdentifier([toWallet.protocol.identifier])[0];
            const apiKey = '5eca82aabfdf9684e8fe4ff35245d9d4f2cbb1153e0f1025b697941c982763d1';
            const response = yield this.http
                .post(`${this.baseURL}/transactions/${apiKey}`, {
                from: transformedFromCurrency,
                to: transformedToCurrency,
                address: toWallet.receivingPublicAddress,
                amount,
                extraId: '',
                userId: '',
                contactEmail: '',
                refundAddress: fromWallet.receivingPublicAddress,
                refundExtraId: ''
            })
                .toPromise();
            return {
                id: response.id,
                payoutAddress: response.payoutAddress,
                payinAddress: response.payinAddress,
                amountExpectedFrom: amount,
                amountExpectedTo: response.amount.toString(),
                fee,
                exchangeResult: response,
                memo: response.payinExtraId
            };
        });
    }
    getStatus(transactionId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const response = yield this.http
                .get(`${this.baseURL}/transactions/${transactionId}/changenow`)
                .toPromise();
            return new ChangeNowTransactionStatusResponse(response);
        });
    }
    getCustomUI() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return { widgets: [] };
        });
    }
}
class ChangeNowExchange extends ChangeNowApi {
    constructor(operationsProvider, http) {
        super(operationsProvider, http);
    }
    getAvailableToCurrenciesForCurrency(fromCurrency) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const transformedFromCurrency = this.convertAirGapIdentifierToExchangeIdentifier([fromCurrency])[0];
            const result = yield this.http
                .get(`${this.baseURL}/currencies-to/${transformedFromCurrency}`)
                .toPromise();
            const identifiers = result
                .filter((currency) => currency.isAvailable)
                .map((currency) => currency.ticker);
            return this.convertExchangeIdentifierToAirGapIdentifier(identifiers);
        });
    }
}


/***/ }),

/***/ "jysE":
/*!*****************************************************!*\
  !*** ./src/app/services/browser/browser.service.ts ***!
  \*****************************************************/
/*! exports provided: BrowserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BrowserService", function() { return BrowserService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _capacitor_plugins_injection_tokens__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../capacitor-plugins/injection-tokens */ "Bpmc");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "fXoL");






class BrowserService {
    constructor(platform, appLauncher, browser) {
        this.platform = platform;
        this.appLauncher = appLauncher;
        this.browser = browser;
    }
    openUrl(url) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.platform.is('ios') || this.platform.is('android') || this.platform.is('electron')) {
                yield this.appLauncher.openUrl({ url });
            }
            else {
                yield this.browser.open({ url });
            }
        });
    }
}
BrowserService.ɵfac = function BrowserService_Factory(t) { return new (t || BrowserService)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["Platform"]), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["APP_LAUNCHER_PLUGIN"]), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵinject"](_capacitor_plugins_injection_tokens__WEBPACK_IMPORTED_MODULE_3__["BROWSER_PLUGIN"])); };
BrowserService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineInjectable"]({ token: BrowserService, factory: BrowserService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "kB1F":
/*!*****************************************************!*\
  !*** ./src/app/services/coinlib/coinlib.service.ts ***!
  \*****************************************************/
/*! exports provided: CoinlibService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoinlibService", function() { return CoinlibService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "tk/3");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "fXoL");






const COIN_LIB_SERVICE = 'https://coin-lib-service.airgap.prod.gke.papers.tech';
class CoinlibService {
    constructor(httpClient) {
        this.httpClient = httpClient;
    }
    getKnownTezosBakers() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const bakersResponse = yield this.httpClient
                .get(`${COIN_LIB_SERVICE}/api/v1/tz/bakers?acceptsDelegations=true`)
                .toPromise()
                .catch((error) => {
                Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__["ErrorCategory"].OTHER)(error);
                return {};
            });
            Object.entries(bakersResponse).forEach(([address, baker]) => {
                bakersResponse[address] = Object.assign(Object.assign({}, baker), { stakingCapacity: baker.stakingCapacity !== undefined ? new bignumber_js__WEBPACK_IMPORTED_MODULE_2___default.a(baker.stakingCapacity) : undefined, fee: baker.fee !== undefined ? new bignumber_js__WEBPACK_IMPORTED_MODULE_2___default.a(baker.fee) : undefined, logo: baker.hasLogo ? `${COIN_LIB_SERVICE}/api/v1/tz/bakers/image/${baker.logoReference || address}` : undefined });
            });
            return bakersResponse;
        });
    }
    getKnownCosmosValidators() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const validatorsResponse = yield this.httpClient
                .get(`${COIN_LIB_SERVICE}/api/v1/cosmos/validators`)
                .toPromise()
                .catch((error) => {
                Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__["ErrorCategory"].OTHER)(error);
                return [];
            });
            return Promise.all(validatorsResponse.map((validator) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                return Object.assign(Object.assign({}, validator), { tokens: new bignumber_js__WEBPACK_IMPORTED_MODULE_2___default.a(validator.tokens), delegator_shares: new bignumber_js__WEBPACK_IMPORTED_MODULE_2___default.a(validator.delegator_shares), commission: Object.assign(Object.assign({}, validator.commission), { commission_rates: {
                            rate: new bignumber_js__WEBPACK_IMPORTED_MODULE_2___default.a(validator.commission.commission_rates.rate),
                            max_rate: new bignumber_js__WEBPACK_IMPORTED_MODULE_2___default.a(validator.commission.commission_rates.max_rate),
                            max_change_rate: new bignumber_js__WEBPACK_IMPORTED_MODULE_2___default.a(validator.commission.commission_rates.max_change_rate)
                        } }), logo: `${COIN_LIB_SERVICE}/api/v1/cosmos/validators/image/${validator.operator_address}` });
            })));
        });
    }
    checkApiHealth() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const apiHealth = yield this.httpClient
                .get(`${COIN_LIB_SERVICE}/api/v1/health`)
                .toPromise()
                .catch((error) => {
                Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_3__["ErrorCategory"].OTHER)(error);
                return [];
            });
            return apiHealth;
        });
    }
}
CoinlibService.ɵfac = function CoinlibService_Factory(t) { return new (t || CoinlibService)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"])); };
CoinlibService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineInjectable"]({ token: CoinlibService, factory: CoinlibService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "kKSy":
/*!************************************************************************!*\
  !*** ./src/app/extensions/delegation/SubstrateDelegationExtensions.ts ***!
  \************************************************************************/
/*! exports provided: SubstrateDelegationExtensions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubstrateDelegationExtensions", function() { return SubstrateDelegationExtensions; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateEraElectionStatus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/substrate/common/data/staking/SubstrateEraElectionStatus */ "KcM4");
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateEraElectionStatus__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateEraElectionStatus__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateNominationStatus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/substrate/common/data/staking/SubstrateNominationStatus */ "ux49");
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateNominationStatus__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateNominationStatus__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/substrate/common/data/staking/SubstrateStakingActionType */ "L2e6");
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! moment */ "wd/R");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var src_app_models_widgets_display_UIAccountSummary__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/models/widgets/display/UIAccountSummary */ "+A10");
/* harmony import */ var src_app_models_widgets_display_UIAlert__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/models/widgets/display/UIAlert */ "CZvy");
/* harmony import */ var src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/models/widgets/display/UIIconText */ "tZEG");
/* harmony import */ var src_app_models_widgets_display_UIRewardList__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/models/widgets/display/UIRewardList */ "76Ou");
/* harmony import */ var src_app_models_widgets_UIWidget__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/models/widgets/UIWidget */ "Ochd");
/* harmony import */ var src_app_validators_DecimalValidator__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! src/app/validators/DecimalValidator */ "fUHw");
/* harmony import */ var _ProtocolDelegationExtensions__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ProtocolDelegationExtensions */ "VWe/");















// sorted by priority
const delegateActions = [
    _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].BOND_NOMINATE,
    _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].REBOND_NOMINATE,
    _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].NOMINATE,
    _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].CHANGE_NOMINATION,
    _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].BOND_EXTRA,
    _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].REBOND_EXTRA
];
// sorted by priority
const undelegateActions = [_airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].CANCEL_NOMINATION, _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].UNBOND];
const supportedActions = [...delegateActions, ...undelegateActions, _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].WITHDRAW_UNBONDED];
var ArgumentName;
(function (ArgumentName) {
    ArgumentName["TARGETS"] = "targets";
    ArgumentName["VALUE"] = "value";
    ArgumentName["VALUE_CONTROL"] = "valueControl";
    ArgumentName["PAYEE"] = "payee";
})(ArgumentName || (ArgumentName = {}));
class SubstrateDelegationExtensions extends _ProtocolDelegationExtensions__WEBPACK_IMPORTED_MODULE_14__["ProtocolDelegationExtensions"] {
    constructor(formBuilder, decimalPipe, amountConverterPipe, shortenStringPipe, translateService) {
        super();
        this.formBuilder = formBuilder;
        this.decimalPipe = decimalPipe;
        this.amountConverterPipe = amountConverterPipe;
        this.shortenStringPipe = shortenStringPipe;
        this.translateService = translateService;
        this.delegateeLabel = 'delegation-detail-substrate.delegatee-label';
        this.delegateeLabelPlural = 'delegation-detail-substrate.delegatee-label-plural';
        this.supportsMultipleDelegations = true;
    }
    static create(formBuilder, decimalPipe, amountConverterPipe, shortenStringPipe, translateService) {
        if (!SubstrateDelegationExtensions.instance) {
            SubstrateDelegationExtensions.instance = new SubstrateDelegationExtensions(formBuilder, decimalPipe, amountConverterPipe, shortenStringPipe, translateService);
        }
        return SubstrateDelegationExtensions.instance;
    }
    airGapDelegatee(_protocol) {
        return undefined;
    }
    getExtraDelegationDetailsFromAddress(protocol, delegator, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const [nominatorDetails, validatorsDetails] = yield Promise.all([
                protocol.options.accountController.getNominatorDetails(delegator, delegatees),
                Promise.all(delegatees.map((validator) => protocol.options.accountController.getValidatorDetails(validator)))
            ]);
            const extraNominatorDetails = yield this.getExtraNominatorDetails(protocol, nominatorDetails, delegatees);
            const extraValidatorsDetails = yield this.getExtraValidatorsDetails(protocol, validatorsDetails, nominatorDetails, extraNominatorDetails);
            const alerts = (yield Promise.all(validatorsDetails.map((validatorDetails) => this.getAlerts(protocol, nominatorDetails, validatorDetails)))).reduce((flatten, next) => flatten.concat(next), []);
            return [
                {
                    alerts: alerts.length > 0 ? alerts : undefined,
                    delegator: extraNominatorDetails,
                    delegatees: extraValidatorsDetails
                }
            ];
        });
    }
    getRewardDisplayDetails(protocol, delegator, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const nominatorDetails = yield protocol.options.accountController.getNominatorDetails(delegator, delegatees);
            return this.createDelegatorDisplayRewards(protocol, nominatorDetails);
        });
    }
    createDelegateesSummary(protocol, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const delegateesDetails = yield Promise.all(delegatees.map((delegatee) => protocol.options.accountController.getValidatorDetails(delegatee)));
            return delegateesDetails.map((details) => new src_app_models_widgets_display_UIAccountSummary__WEBPACK_IMPORTED_MODULE_8__["UIAccountSummary"]({
                address: details.address,
                header: [
                    details.name,
                    details.commission ? `${this.decimalPipe.transform(new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(details.commission).times(100).toString())}%` : ''
                ],
                description: [this.shortenStringPipe.transform(details.address), '']
            }));
        });
    }
    getExtraValidatorsDetails(protocol, validatorsDetails, nominatorDetails, extraNominatorDetials) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return Promise.all(validatorsDetails.map((validatorDetails) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const ownStash = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(validatorDetails.ownStash ? validatorDetails.ownStash : 0);
                const totalStakingBalance = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(validatorDetails.totalStakingBalance ? validatorDetails.totalStakingBalance : 0);
                const displayDetails = yield this.createDelegateeDisplayDetails(protocol, validatorDetails, nominatorDetails, extraNominatorDetials);
                return Object.assign(Object.assign({}, validatorDetails), { name: validatorDetails.name || '', status: validatorDetails.status || 'delegation-detail-substrate.status.unknown', usageDetails: {
                        usage: ownStash.dividedBy(totalStakingBalance),
                        current: ownStash,
                        total: totalStakingBalance
                    }, displayDetails });
            })));
        });
    }
    getAlerts(protocol, nominatorDetails, validatorDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const alerts = [];
            const results = yield Promise.all([
                protocol.options.nodeClient.getElectionStatus(),
                protocol.options.accountController.getNominationStatus(nominatorDetails.address, validatorDetails.address)
            ]);
            const isElectionOpen = results[0] && results[0].status.value === _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateEraElectionStatus__WEBPACK_IMPORTED_MODULE_2__["SubstrateElectionStatus"].OPEN;
            const nominationStatus = results[1];
            if (protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].POLKADOT) {
                alerts.push(new src_app_models_widgets_display_UIAlert__WEBPACK_IMPORTED_MODULE_9__["UIAlert"]({
                    title: 'delegation-detail-substrate.alert.polkadot.delegation-issues.title',
                    description: 'delegation-detail-substrate.alert.polkadot.delegation-issues.description',
                    icon: 'alert-circle-outline',
                    color: 'warning',
                    actions: [
                        {
                            text: 'delegation-detail-substrate.alert.polkadot.delegation-issues.actions.open-blogpost',
                            action: () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                                window.open('https://polkadot.network/polkadot-staking-an-update/', '_blank');
                            })
                        }
                    ]
                }));
            }
            if (isElectionOpen) {
                alerts.push(new src_app_models_widgets_display_UIAlert__WEBPACK_IMPORTED_MODULE_9__["UIAlert"]({
                    title: 'delegation-detail-substrate.alert.election-open.title',
                    description: 'delegation-detail-substrate.alert.election-open.description',
                    icon: 'alert-circle-outline',
                    color: 'warning'
                }));
            }
            if (nominationStatus === _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateNominationStatus__WEBPACK_IMPORTED_MODULE_3__["SubstrateNominationStatus"].INACTIVE) {
                alerts.push(new src_app_models_widgets_display_UIAlert__WEBPACK_IMPORTED_MODULE_9__["UIAlert"]({
                    title: 'delegation-detail-substrate.alert.nomination-inactive.title',
                    description: 'delegation-detail-substrate.alert.nomination-inactive.description',
                    icon: 'alert-circle-outline',
                    color: 'warning'
                }));
            }
            else if (nominationStatus === _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateNominationStatus__WEBPACK_IMPORTED_MODULE_3__["SubstrateNominationStatus"].OVERSUBSCRIBED) {
                alerts.push(new src_app_models_widgets_display_UIAlert__WEBPACK_IMPORTED_MODULE_9__["UIAlert"]({
                    title: 'delegation-detail-substrate.alert.nomination-oversubscribed.title',
                    description: 'delegation-detail-substrate.alert.nomination-oversubscribed.description',
                    icon: 'alert-circle-outline',
                    color: 'warning'
                }));
            }
            else if (nominationStatus === undefined && validatorDetails.nominators > 256) {
                alerts.push(new src_app_models_widgets_display_UIAlert__WEBPACK_IMPORTED_MODULE_9__["UIAlert"]({
                    title: 'delegation-detail-substrate.alert.validator-oversubscribed.title',
                    description: 'delegation-detail-substrate.alert.validator-oversubscribed.description',
                    icon: 'alert-circle-outline',
                    color: 'warning'
                }));
            }
            return alerts;
        });
    }
    createDelegateeDisplayDetails(protocol, validatorDetails, nominatorDetails, extraNominatorDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const details = [];
            const commission = validatorDetails.commission ? new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(validatorDetails.commission) : null;
            const totalPreviousReward = validatorDetails.lastEraReward ? new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(validatorDetails.lastEraReward.amount) : null;
            details.push(new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_10__["UIIconText"]({
                iconName: 'logo-usd',
                text: commission ? this.decimalPipe.transform(commission.multipliedBy(100).toString()) + '%' : '-',
                description: 'delegation-detail-substrate.commission_label'
            }));
            const delegateAction = extraNominatorDetails.mainActions
                ? extraNominatorDetails.mainActions.find((action) => delegateActions.includes(action.type))
                : undefined;
            const isNominated = nominatorDetails.delegatees.includes(validatorDetails.address);
            const showExpectedRewardWidget = !!totalPreviousReward &&
                !!commission &&
                validatorDetails.status === 'Active' &&
                !isNominated &&
                !!delegateAction &&
                !!delegateAction.form;
            if (showExpectedRewardWidget) {
                const bonded = nominatorDetails.stakingDetails ? new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(nominatorDetails.stakingDetails.total) : new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(0);
                const getExpectedReward = (userStake) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    const totalStake = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(validatorDetails.totalStakingBalance).plus(userStake);
                    const userShare = userStake.dividedBy(totalStake);
                    const expectedReward = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(1).minus(commission).multipliedBy(totalPreviousReward).multipliedBy(userShare);
                    return this.amountConverterPipe.transform(expectedReward, {
                        protocol
                    });
                });
                const expectedRewardWidget = new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_10__["UIIconText"]({
                    iconName: 'logo-usd',
                    text: yield getExpectedReward(bonded),
                    description: 'delegation-detail-substrate.expected-reward_label'
                });
                delegateAction.form.valueChanges.subscribe((value) => {
                    expectedRewardWidget.doAfterReached(src_app_models_widgets_UIWidget__WEBPACK_IMPORTED_MODULE_12__["WidgetState"].INIT, () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                        const userStake = bonded.plus(value[ArgumentName.VALUE] || 0);
                        expectedRewardWidget.text = yield getExpectedReward(userStake);
                    }), true);
                });
                details.push(expectedRewardWidget);
            }
            return details;
        });
    }
    getExtraNominatorDetails(protocol, nominatorDetails, validators) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const availableActions = nominatorDetails.availableActions.filter((action) => supportedActions.includes(action.type));
            const delegateAction = yield this.createDelegateAction(protocol, nominatorDetails.stakingDetails, availableActions, nominatorDetails.address, validators);
            const undelegateAction = this.createUndelegateAction(nominatorDetails.stakingDetails, availableActions);
            const extraActions = yield this.createDelegatorExtraActions(protocol, nominatorDetails.stakingDetails, availableActions);
            const displayDetails = yield this.createDelegatorDisplayDetails(protocol, nominatorDetails);
            return Object.assign(Object.assign({}, nominatorDetails), { mainActions: [delegateAction, ...extraActions].filter((action) => !!action), secondaryActions: [undelegateAction].filter((action) => !!action), displayDetails });
        });
    }
    // tslint:disable-next-line: cyclomatic-complexity
    createDelegateAction(protocol, stakingDetails, availableActions, nominatorAddress, validators) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const actions = availableActions
                .filter((action) => delegateActions.includes(action.type))
                .sort((a1, a2) => delegateActions.indexOf(a1.type) - delegateActions.indexOf(a2.type));
            const action = actions[0];
            const [maxValue, minValue] = yield Promise.all([
                action ? this.getMaxDelegationValue(protocol, action.type, nominatorAddress) : undefined,
                action ? this.getMinDelegationValue(protocol, action.type) : undefined
            ]);
            if (action) {
                const hasSufficientFunds = maxValue === undefined || minValue === undefined || maxValue.gte(minValue);
                const maxValueShifted = maxValue !== undefined ? maxValue.integerValue().shiftedBy(-protocol.decimals) : undefined;
                const minValueShifted = minValue !== undefined ? minValue.integerValue().shiftedBy(-protocol.decimals) : undefined;
                const extraValidators = [];
                if (minValueShifted !== undefined) {
                    extraValidators.push(_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].min(new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(minValueShifted).toNumber()));
                }
                if (maxValueShifted !== undefined) {
                    extraValidators.push(_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].max(new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(maxValueShifted).toNumber()));
                }
                const form = this.formBuilder.group({
                    [ArgumentName.TARGETS]: [validators],
                    [ArgumentName.VALUE]: [
                        action.args.includes(ArgumentName.VALUE) && maxValue !== undefined ? maxValue.toString() : stakingDetails.active
                    ],
                    [ArgumentName.VALUE_CONTROL]: [
                        maxValueShifted ? maxValueShifted.toFixed() : minValueShifted ? minValueShifted.toFixed() : '0',
                        _angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_5__["Validators"].required, src_app_validators_DecimalValidator__WEBPACK_IMPORTED_MODULE_13__["DecimalValidator"].validate(protocol.decimals), ...extraValidators])
                    ],
                    [ArgumentName.PAYEE]: [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["SubstratePayee"].STASH]
                });
                if (!hasSufficientFunds) {
                    form.get(ArgumentName.VALUE_CONTROL).disable();
                }
                const argWidgets = [];
                if (action.args.includes(ArgumentName.VALUE)) {
                    argWidgets.push(this.createAmountWidget(ArgumentName.VALUE_CONTROL, maxValueShifted ? maxValueShifted.toFixed() : undefined, minValueShifted ? minValueShifted.toFixed() : undefined, {
                        onValueChanged: (value) => {
                            form.patchValue({ [ArgumentName.VALUE]: new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(value).shiftedBy(protocol.decimals).toFixed() });
                        },
                        toggleFixedValueButton: maxValueShifted !== undefined && hasSufficientFunds ? 'delegation-detail.max-amount_button' : undefined,
                        fixedValue: maxValueShifted && hasSufficientFunds ? maxValueShifted.toString() : undefined
                    }));
                }
                const description = yield this.createDelegateActionDescription(protocol, nominatorAddress, action.type, stakingDetails ? stakingDetails.active : 0, hasSufficientFunds, minValue, maxValue);
                return {
                    type: action.type,
                    label: 'delegation-detail-substrate.delegate.label',
                    description,
                    form,
                    args: argWidgets,
                    disabled: !hasSufficientFunds
                };
            }
            return null;
        });
    }
    getMaxDelegationValue(protocol, actionType, nominatorAddress) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            switch (actionType) {
                case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].REBOND_NOMINATE:
                case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].REBOND_EXTRA:
                    const [unlocking, maxUnlocked] = yield Promise.all([
                        protocol.options.accountController.getUnlockingBalance(nominatorAddress).then((unlocking) => new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(unlocking)),
                        protocol
                            .estimateMaxDelegationValueFromAddress(nominatorAddress)
                            .then((max) => new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(max))
                            .catch(() => undefined)
                    ]);
                    if (maxUnlocked === undefined) {
                        return undefined;
                    }
                    return maxUnlocked.gt(0) ? maxUnlocked.plus(unlocking) : new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(0);
                default:
                    const maxValue = yield protocol.estimateMaxDelegationValueFromAddress(nominatorAddress).catch(() => undefined);
                    return maxValue !== undefined ? new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(maxValue) : undefined;
            }
        });
    }
    getMinDelegationValue(protocol, actionType) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            switch (actionType) {
                case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].BOND_NOMINATE:
                    return new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(yield protocol.options.nodeClient.getExistentialDeposit());
                case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].NOMINATE:
                    return new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(0);
                default:
                    return new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(1);
            }
        });
    }
    createDelegateActionDescription(protocol, address, actionType, bonded, hasSufficientFunds, minValue, maxValue) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!hasSufficientFunds) {
                const futureTransactions = yield protocol.getFutureRequiredTransactions(address, 'delegate');
                const feeEstimation = yield protocol.options.transactionController.estimateTransactionFees(address, futureTransactions);
                const feeEstimationFormatted = yield this.amountConverterPipe.transform(feeEstimation, { protocol });
                return this.translateService.instant('delegation-detail-substrate.delegate.unsufficient-funds_text', {
                    extra: feeEstimationFormatted,
                    symbol: protocol.marketSymbol.toLocaleUpperCase()
                });
            }
            const bondedFormatted = yield this.amountConverterPipe.transform(bonded, {
                protocol
            });
            const minValueFormatted = minValue !== undefined
                ? yield this.amountConverterPipe.transform(minValue, {
                    protocol,
                    maxDigits: protocol.decimals
                })
                : undefined;
            const maxValueFormatted = maxValue !== undefined
                ? yield this.amountConverterPipe.transform(maxValue, {
                    protocol,
                    maxDigits: protocol.decimals
                })
                : undefined;
            let translationKey;
            let translationArgs = {};
            switch (actionType) {
                case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].BOND_NOMINATE:
                    if (maxValueFormatted) {
                        translationKey = 'delegation-detail-substrate.delegate.bond-nominate_text';
                        translationArgs = {
                            minDelegation: minValueFormatted,
                            maxDelegation: maxValueFormatted
                        };
                    }
                    else {
                        translationKey = 'delegation-detail-substrate.delegate.bond-nominate-no-max_text';
                    }
                    break;
                case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].REBOND_NOMINATE:
                    if (maxValueFormatted) {
                        translationKey = 'delegation-detail-substrate.delegate.rebond-nominate_text';
                        translationArgs = { maxDelegation: maxValueFormatted };
                    }
                    else {
                        translationKey = 'delegation-detail-substrate.delegate.rebond-nominate-no-max_text';
                    }
                    break;
                case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].NOMINATE:
                    translationKey = 'delegation-detail-substrate.delegate.nominate_text';
                    translationArgs = { bonded: bondedFormatted };
                    break;
                case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].BOND_EXTRA:
                    if (maxValueFormatted) {
                        translationKey = 'delegation-detail-substrate.delegate.bond-extra_text';
                        translationArgs = {
                            bonded: bondedFormatted,
                            maxDelegation: maxValueFormatted
                        };
                    }
                    else {
                        translationKey = 'delegation-detail-substrate.delegate.bond-extra-no-max_text';
                        translationArgs = {
                            bonded: bondedFormatted,
                            symbol: protocol.marketSymbol.toLocaleUpperCase()
                        };
                    }
                    break;
                case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].REBOND_EXTRA:
                    if (maxValueFormatted) {
                        translationKey = 'delegation-detail-substrate.delegate.rebond-extra_text';
                        translationArgs = {
                            bonded: bondedFormatted,
                            maxDelegation: maxValueFormatted
                        };
                    }
                    else {
                        translationKey = 'delegation-detail-substrate.delegate.rebond-extra-no-max_text';
                        translationArgs = {
                            bonded: bondedFormatted,
                            symbol: protocol.marketSymbol.toLocaleUpperCase()
                        };
                    }
                    break;
                case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].CHANGE_NOMINATION:
                    translationKey = 'delegation-detail-substrate.delegate.change-nomination_text';
                    translationArgs = { bonded: bondedFormatted };
                    break;
                default:
                    return undefined;
            }
            return this.translateService.instant(translationKey, translationArgs);
        });
    }
    createUndelegateAction(stakingDetails, availableActions) {
        const actions = availableActions
            .filter((action) => undelegateActions.includes(action.type))
            .sort((a1, a2) => undelegateActions.indexOf(a1.type) - undelegateActions.indexOf(a2.type));
        const action = actions[0];
        if (action && stakingDetails) {
            const form = this.formBuilder.group({
                [ArgumentName.VALUE]: [stakingDetails.active]
            });
            const label = this.createUndelegateActionLabel(action.type);
            return {
                type: action.type,
                label,
                iconName: 'close-outline',
                form
            };
        }
        return null;
    }
    createUndelegateActionLabel(actionType) {
        switch (actionType) {
            case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].CANCEL_NOMINATION:
                return 'delegation-detail-substrate.undelegate.label';
            case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].UNBOND:
                return 'delegation-detail-substrate.unbond.label';
            default:
                return undefined;
        }
    }
    createDelegatorExtraActions(protocol, stakingDetails, availableActions) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return Promise.all(availableActions
                .filter((action) => !delegateActions.includes(action.type) && !undelegateActions.includes(action.type))
                .map((action) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                let label;
                let confirmLabel;
                let description;
                let args;
                // tslint:disable-next-line: switch-default
                switch (action.type) {
                    case _airgap_coinlib_core_protocols_substrate_common_data_staking_SubstrateStakingActionType__WEBPACK_IMPORTED_MODULE_4__["SubstrateStakingActionType"].WITHDRAW_UNBONDED:
                        const totalUnlockedFormatted = stakingDetails
                            ? yield this.amountConverterPipe.transform(stakingDetails.unlocked, {
                                protocol
                            })
                            : undefined;
                        label = 'delegation-detail-substrate.withdraw-unbonded.label';
                        confirmLabel = 'delegation-detail-substrate.withdraw-unbonded.button';
                        description = totalUnlockedFormatted
                            ? this.translateService.instant('delegation-detail-substrate.withdraw-unbonded.text-full', {
                                unlocked: totalUnlockedFormatted
                            })
                            : 'delegation-detail-substrate.withdraw-unbonded.text-short';
                        break;
                }
                return {
                    type: action.type,
                    label,
                    description,
                    confirmLabel,
                    args
                };
            })));
        });
    }
    createDelegatorDisplayDetails(protocol, nominatorDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const displayDetails = [];
            const isDelegating = nominatorDetails.delegatees.length > 0;
            if (nominatorDetails.stakingDetails) {
                displayDetails.push(...(yield this.createStakingDetailsWidgets(protocol, isDelegating, nominatorDetails.stakingDetails)));
            }
            return displayDetails;
        });
    }
    createStakingDetailsWidgets(protocol, isNominating, stakingDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const details = [];
            details.push(...(yield this.createBondedDetails(protocol, stakingDetails)));
            if (isNominating) {
                details.push(...this.createNominationDetails(protocol, stakingDetails));
            }
            return details;
        });
    }
    createDelegatorDisplayRewards(protocol, nominatorDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (nominatorDetails.delegatees.length === 0 || nominatorDetails.stakingDetails.rewards.length === 0) {
                return undefined;
            }
            return new src_app_models_widgets_display_UIRewardList__WEBPACK_IMPORTED_MODULE_11__["UIRewardList"]({
                rewards: yield Promise.all(nominatorDetails.stakingDetails.rewards.slice(0, 5).map((reward) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                    return ({
                        index: reward.eraIndex,
                        amount: yield this.amountConverterPipe.transform(reward.amount, {
                            protocol
                        }),
                        timestamp: reward.timestamp
                    });
                }))),
                indexColLabel: 'delegation-detail-substrate.rewards.index-col_label',
                amountColLabel: 'delegation-detail-substrate.rewards.amount-col_label',
                payoutColLabel: 'delegation-detail-substrate.rewards.payout-col_label'
            });
        });
    }
    createBondedDetails(protocol, stakingDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const details = [];
            const activeStaking = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(stakingDetails.active);
            const totalUnlocked = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(stakingDetails.unlocked);
            if (activeStaking.gt(0)) {
                details.push(new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_10__["UIIconText"]({
                    iconName: 'people-outline',
                    text: yield this.amountConverterPipe.transform(activeStaking, {
                        protocol
                    }),
                    description: stakingDetails.status === 'nominating'
                        ? 'delegation-detail-substrate.delegated_label'
                        : 'delegation-detail-substrate.bonded_label'
                }));
            }
            if (stakingDetails.locked.length > 0) {
                const nextUnlocking = stakingDetails.locked.sort((a, b) => a.expectedUnlock - b.expectedUnlock)[0];
                const unlockingDate = new Date(nextUnlocking.expectedUnlock);
                const nextUnlockingValue = new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(nextUnlocking.value);
                details.push(new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_10__["UIIconText"]({
                    iconName: 'people-outline',
                    text: yield this.amountConverterPipe.transform(nextUnlockingValue, {
                        protocol
                    }),
                    description: 'delegation-detail-substrate.locked_label'
                }), new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_10__["UIIconText"]({
                    iconName: 'alarm-outline',
                    text: `${moment__WEBPACK_IMPORTED_MODULE_7__(unlockingDate).fromNow()} (${moment__WEBPACK_IMPORTED_MODULE_7__(unlockingDate).format('LLL')})`,
                    description: 'delegation-detail-substrate.withdraw-ready_label'
                }));
            }
            else if (totalUnlocked.gt(0)) {
                details.push(new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_10__["UIIconText"]({
                    iconName: 'people-outline',
                    text: yield this.amountConverterPipe.transform(totalUnlocked, {
                        protocol
                    }),
                    description: 'delegation-detail-substrate.withdraw-ready_label'
                }));
            }
            return details;
        });
    }
    createNominationDetails(_protocol, stakingDetails) {
        const details = [];
        const nextEraDate = new Date(stakingDetails.nextEra);
        let nextEraLabel;
        switch (stakingDetails.status) {
            case 'nominating':
                nextEraLabel = 'delegation-detail-substrate.next-payout_label';
                break;
            case 'nominating_waiting':
                nextEraLabel = 'delegation-detail-substrate.becomes-active_label';
                break;
            case 'nominating_inactive':
                nextEraLabel = 'delegation-detail-substrate.next-era_label';
                break;
            default:
                nextEraLabel = undefined;
        }
        if (nextEraLabel) {
            details.push(new src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_10__["UIIconText"]({
                iconName: 'sync-outline',
                text: `${moment__WEBPACK_IMPORTED_MODULE_7__(nextEraDate).fromNow()} (${moment__WEBPACK_IMPORTED_MODULE_7__(nextEraDate).format('LLL')})`,
                description: nextEraLabel
            }));
        }
        return details;
    }
}


/***/ }),

/***/ "kLfG":
/*!*****************************************************************************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ exclude: \.system\.entry\.js$ namespace object ***!
  \*****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./ion-action-sheet.entry.js": [
		"dUtr",
		"common",
		0
	],
	"./ion-alert.entry.js": [
		"Q8AI",
		"common",
		1
	],
	"./ion-app_8.entry.js": [
		"hgI1",
		"common",
		2
	],
	"./ion-avatar_3.entry.js": [
		"CfoV",
		"common",
		3
	],
	"./ion-back-button.entry.js": [
		"Nt02",
		"common",
		4
	],
	"./ion-backdrop.entry.js": [
		"Q2Bp",
		5
	],
	"./ion-button_2.entry.js": [
		"0Pbj",
		"common",
		6
	],
	"./ion-card_5.entry.js": [
		"ydQj",
		"common",
		7
	],
	"./ion-checkbox.entry.js": [
		"4fMi",
		"common",
		8
	],
	"./ion-chip.entry.js": [
		"czK9",
		"common",
		9
	],
	"./ion-col_3.entry.js": [
		"/CAe",
		10
	],
	"./ion-datetime_3.entry.js": [
		"WgF3",
		"common",
		11
	],
	"./ion-fab_3.entry.js": [
		"uQcF",
		"common",
		12
	],
	"./ion-img.entry.js": [
		"wHD8",
		13
	],
	"./ion-infinite-scroll_2.entry.js": [
		"2lz6",
		14
	],
	"./ion-input.entry.js": [
		"ercB",
		"common",
		15
	],
	"./ion-item-option_3.entry.js": [
		"MGMP",
		"common",
		16
	],
	"./ion-item_8.entry.js": [
		"9bur",
		"common",
		17
	],
	"./ion-loading.entry.js": [
		"cABk",
		"common",
		18
	],
	"./ion-menu_3.entry.js": [
		"kyFE",
		"common",
		19
	],
	"./ion-modal.entry.js": [
		"TvZU",
		"common",
		20
	],
	"./ion-nav_2.entry.js": [
		"vnES",
		"common",
		21
	],
	"./ion-popover.entry.js": [
		"qCuA",
		"common",
		22
	],
	"./ion-progress-bar.entry.js": [
		"0tOe",
		"common",
		23
	],
	"./ion-radio_2.entry.js": [
		"h11V",
		"common",
		24
	],
	"./ion-range.entry.js": [
		"XGij",
		"common",
		25
	],
	"./ion-refresher_2.entry.js": [
		"nYbb",
		"common",
		26
	],
	"./ion-reorder_2.entry.js": [
		"smMY",
		"common",
		27
	],
	"./ion-ripple-effect.entry.js": [
		"STjf",
		28
	],
	"./ion-route_4.entry.js": [
		"k5eQ",
		"common",
		29
	],
	"./ion-searchbar.entry.js": [
		"OR5t",
		"common",
		30
	],
	"./ion-segment_2.entry.js": [
		"fSgp",
		"common",
		31
	],
	"./ion-select_3.entry.js": [
		"lfGF",
		"common",
		32
	],
	"./ion-slide_2.entry.js": [
		"5xYT",
		33
	],
	"./ion-spinner.entry.js": [
		"nI0H",
		"common",
		34
	],
	"./ion-split-pane.entry.js": [
		"NAQR",
		35
	],
	"./ion-tab-bar_2.entry.js": [
		"knkW",
		"common",
		36
	],
	"./ion-tab_2.entry.js": [
		"TpdJ",
		"common",
		37
	],
	"./ion-text.entry.js": [
		"ISmu",
		"common",
		38
	],
	"./ion-textarea.entry.js": [
		"U7LX",
		"common",
		39
	],
	"./ion-toast.entry.js": [
		"L3sA",
		"common",
		40
	],
	"./ion-toggle.entry.js": [
		"IUOf",
		"common",
		41
	],
	"./ion-virtual-scroll.entry.js": [
		"8Mb5",
		42
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "kLfG";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "kSIm":
/*!****************************************************************!*\
  !*** ./src/app/services/iac/custom-handlers/beacon-handler.ts ***!
  \****************************************************************/
/*! exports provided: BeaconHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BeaconHandler", function() { return BeaconHandler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/beacon-sdk */ "hzei");



const isBeaconMessage = (obj) => {
    return (typeof obj.name === 'string' &&
        typeof obj.publicKey === 'string' &&
        typeof obj.relayServer === 'string'
    // version is not checked to be v1 compatible
    );
};
const isValidUrl = (url) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(void 0, void 0, void 0, function* () {
    try {
        // tslint:disable-next-line: no-unused-expression
        new URL(url);
    }
    catch (_a) {
        return false;
    }
    return true;
});
class BeaconHandler extends _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["IACSinglePartHandler"] {
    constructor(beaconService) {
        super();
        this.beaconService = beaconService;
        this.name = 'BeaconHandler';
    }
    handleComplete() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.beaconService.client.isConnected;
            yield this.beaconService.addPeer(this.payload);
            return this.payload;
        });
    }
    processData(data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let payload = data;
            if (yield isValidUrl(data)) {
                const params = new URL(data).searchParams;
                if (params && params.get('type') === 'tzip10') {
                    payload = params.get('data');
                }
            }
            try {
                const json = (yield new _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_2__["Serializer"]().deserialize(payload));
                if (isBeaconMessage(json)) {
                    return json;
                }
            }
            catch (_a) { }
            try {
                const json = JSON.parse(data);
                if (isBeaconMessage(json)) {
                    return json;
                }
            }
            catch (_b) { }
            return undefined;
        });
    }
}


/***/ }),

/***/ "kq8F":
/*!********************************************************************!*\
  !*** ./src/app/models/widgets/display/UIAccountExtendedDetails.ts ***!
  \********************************************************************/
/*! exports provided: UIAccountExtendedDetails */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIAccountExtendedDetails", function() { return UIAccountExtendedDetails; });
/* harmony import */ var _UIWidget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIWidget */ "Ochd");

class UIAccountExtendedDetails extends _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidget"] {
    constructor(config) {
        super(config);
        this.type = _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidgetType"].ACCOUNT_EXTENDED_DETAILS;
        this.items = config.items;
    }
}


/***/ }),

/***/ "l5qu":
/*!*********************************************************************!*\
  !*** ./src/app/components/signed-transaction/signed-transaction.ts ***!
  \*********************************************************************/
/*! exports provided: SignedTransactionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignedTransactionComponent", function() { return SignedTransactionComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var src_app_services_account_account_provider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/account/account.provider */ "57MG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");












const _c0 = function (a0) { return { protocol: a0, maxDigits: undefined }; };
const _c1 = function (a0) { return { protocol: a0 }; };
function SignedTransactionComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](1, "ion-row", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](2, "ion-col", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "h5");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](6, "amountConverter");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](7, "ion-col", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](8, "h5");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](10, "ion-col", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](11, "h5");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](13, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](14, "feeConverter");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](15, "ion-col", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](16, "small");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](17, "Amount");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](18, "ion-col", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](19, "small");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](20, "Operations");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](21, "ion-col", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](22, "small");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](23, "Fee");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](5, 3, _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](6, 5, ctx_r0.aggregatedInfo.totalAmount.toFixed(), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction1"](13, _c0, ctx_r0.airGapTxs[0].protocolIdentifier))), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](ctx_r0.aggregatedInfo.numberOfTxs);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](13, 8, _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](14, 10, ctx_r0.aggregatedInfo.totalFees.toFixed(), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction1"](15, _c1, ctx_r0.airGapTxs[0].protocolIdentifier))));
} }
function SignedTransactionComponent_ng_container_2_airgap_from_to_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](0, "airgap-from-to", 5);
} if (rf & 2) {
    const airGapTx_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("transaction", airGapTx_r4);
} }
function SignedTransactionComponent_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](1, SignedTransactionComponent_ng_container_2_airgap_from_to_1_Template, 1, 1, "airgap-from-to", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngForOf", ctx_r1.airGapTxs);
} }
function SignedTransactionComponent_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](1, "ion-row");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](2, "ion-col", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](3, "ion-icon", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](4, "ion-col");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](6, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](7, "p", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](6, 2, "signed-transaction.transaction-unreadable"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"](" ", ctx_r2.rawTxData.transaction, " ");
} }
class SignedTransactionComponent {
    constructor(serializerService, protocolService, accountProvider) {
        this.serializerService = serializerService;
        this.protocolService = protocolService;
        this.accountProvider = accountProvider;
        this.fallbackActivated = false;
        //
    }
    ngOnChanges() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.syncProtocolString) {
                try {
                    this.signedTxs = yield this.serializerService.deserialize(this.syncProtocolString)[0];
                }
                catch (e) {
                    this.fallbackActivated = true;
                    Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["ErrorCategory"].COINLIB)(e);
                }
            }
            // TODO: Handle multiple messages
            if (this.signedTxs) {
                let protocol = this.protocols && this.protocols[0] ? this.protocols[0] : yield this.protocolService.getProtocol(this.signedTxs[0].protocol);
                try {
                    this.airGapTxs = (yield Promise.all(this.signedTxs.map((signedTx) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                        const payload = signedTx.payload;
                        if (yield this.checkIfSaplingTransaction(payload, signedTx.protocol)) {
                            const saplingProtocol = yield this.getSaplingProtocol();
                            return saplingProtocol.getTransactionDetailsFromSigned(payload, {
                                knownViewingKeys: this.accountProvider.getKnownViewingKeys()
                            });
                        }
                        else {
                            return protocol.getTransactionDetailsFromSigned(payload);
                        }
                    })))).reduce((flatten, toFlatten) => flatten.concat(toFlatten), []);
                    if (this.airGapTxs.length > 1 &&
                        this.airGapTxs.every((tx) => tx.protocolIdentifier === this.airGapTxs[0].protocolIdentifier)) {
                        this.aggregatedInfo = {
                            numberOfTxs: this.airGapTxs.length,
                            totalAmount: this.airGapTxs
                                .map((tx) => new bignumber_js__WEBPACK_IMPORTED_MODULE_3___default.a(tx.amount))
                                .filter((amount) => !amount.isNaN())
                                .reduce((pv, cv) => pv.plus(cv), new bignumber_js__WEBPACK_IMPORTED_MODULE_3___default.a(0)),
                            totalFees: this.airGapTxs.reduce((pv, cv) => pv.plus(cv.fee), new bignumber_js__WEBPACK_IMPORTED_MODULE_3___default.a(0))
                        };
                    }
                    this.fallbackActivated = false;
                }
                catch (e) {
                    console.error(e);
                    this.fallbackActivated = true;
                    this.rawTxData = this.signedTxs[0].payload;
                    Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["ErrorCategory"].COINLIB)(e);
                }
            }
        });
    }
    checkIfSaplingTransaction(transaction, protocolIdentifier) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (protocolIdentifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ) {
                const tezosProtocol = yield this.protocolService.getProtocol(protocolIdentifier);
                const saplingProtocol = yield this.getSaplingProtocol();
                const txDetails = yield tezosProtocol.getTransactionDetailsFromSigned(transaction);
                const recipients = txDetails
                    .map((details) => details.to)
                    .reduce((flatten, next) => flatten.concat(next), []);
                return recipients.includes(saplingProtocol.options.config.contractAddress);
            }
            return protocolIdentifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ_SHIELDED;
        });
    }
    getSaplingProtocol() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return (yield this.protocolService.getProtocol(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ_SHIELDED));
        });
    }
}
SignedTransactionComponent.ɵfac = function SignedTransactionComponent_Factory(t) { return new (t || SignedTransactionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["SerializerService"]), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"]), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](src_app_services_account_account_provider__WEBPACK_IMPORTED_MODULE_5__["AccountProvider"])); };
SignedTransactionComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({ type: SignedTransactionComponent, selectors: [["signed-transaction"]], inputs: { signedTxs: "signedTxs", protocols: "protocols", syncProtocolString: "syncProtocolString" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵNgOnChangesFeature"]], decls: 4, vars: 3, consts: [[4, "ngIf"], [1, "ion-padding-bottom", "ion-text-center"], ["size", "4", 1, "content--align__center-center"], ["size", "4"], [3, "transaction", 4, "ngFor", "ngForOf"], [3, "transaction"], ["size", "2", 1, "ion-margin-top"], ["color", "dark", "name", "warning", 1, "warning-icon"], ["ion-text", "", "color", "blackLight", 1, "text--selectable", "typography--mono"]], template: function SignedTransactionComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](1, SignedTransactionComponent_ng_container_1_Template, 24, 17, "ng-container", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](2, SignedTransactionComponent_ng_container_2_Template, 2, 1, "ng-container", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](3, SignedTransactionComponent_span_3_Template, 9, 4, "span", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.airGapTxs && ctx.airGapTxs.length > 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.airGapTxs);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.fallbackActivated);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonCol"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgForOf"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["FromToComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_8__["IonIcon"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_7__["AsyncPipe"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["AmountConverterPipe"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["FeeConverterPipe"], _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__["TranslatePipe"]], styles: [".warning-icon[_ngcontent-%COMP%] {\n  font-size: 4rem;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NpZ25lZC10cmFuc2FjdGlvbi5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBQTtBQUNGIiwiZmlsZSI6InNpZ25lZC10cmFuc2FjdGlvbi5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLndhcm5pbmctaWNvbiB7XG4gIGZvbnQtc2l6ZTogNHJlbTtcbn1cbiJdfQ== */"] });


/***/ }),

/***/ "lqTi":
/*!*************************************************************************************!*\
  !*** ./src/app/components/delegate-edit-popover/delegate-edit-popover.component.ts ***!
  \*************************************************************************************/
/*! exports provided: DelegateEditPopoverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DelegateEditPopoverComponent", function() { return DelegateEditPopoverComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");









const _c0 = function (a0) { return { delegateeLabel: a0 }; };
function DelegateEditPopoverComponent_span_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind2"](2, 1, "delegate-edit-popover.change-delegatee_label", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](6, _c0, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](3, 4, ctx_r0.delegateeLabel))), " ");
} }
class DelegateEditPopoverComponent {
    constructor(alertController, popoverController, navParams, translateService, addressService) {
        this.alertController = alertController;
        this.popoverController = popoverController;
        this.navParams = navParams;
        this.translateService = translateService;
        this.addressService = addressService;
        const delegateeLabel = this.navParams.get('delegateeLabel');
        const delegateeLabelPlural = this.navParams.get('delegateeLabelPlural');
        this.protocolIdentifier = this.navParams.get('protocolIdentifier');
        this.networkIdentifier = this.navParams.get('network');
        this.delegateeLabel = delegateeLabel !== undefined ? delegateeLabel : 'delegation-detail.default-delegatee-label';
        this.delegateeLabelPlural =
            delegateeLabelPlural !== undefined ? delegateeLabelPlural : 'delegation-detail.default-delegatee-label-plural';
    }
    changeDelegatee() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const alertOptions = yield this.createAlertOptions();
            const alert = yield this.alertController.create(alertOptions);
            yield alert.present();
        });
    }
    createAlertOptions() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return {
                header: this.translateService.instant('delegate-edit-popover.delegation-settings_label'),
                message: this.translateService.instant('delegate-edit-popover.change-alert.text', {
                    delegateeLabel: this.translateService.instant(this.delegateeLabel)
                }),
                inputs: [
                    {
                        name: 'delegatee',
                        id: 'delegatee',
                        placeholder: this.translateService.instant('delegate-edit-popover.change-alert.placeholder_text', {
                            delegateeLabel: this.translateService.instant(this.delegateeLabel)
                        })
                    }
                ],
                buttons: [
                    {
                        text: this.translateService.instant('delegate-edit-popover.change-alert.cancel_label'),
                        role: 'cancel',
                        cssClass: 'secondary',
                        handler: () => {
                            this.popoverController.dismiss();
                        }
                    },
                    {
                        text: this.translateService.instant('delegate-edit-popover.change-alert.set-delegatee_label', {
                            delegateeLabel: this.translateService.instant(this.delegateeLabel)
                        }),
                        handler: ({ delegatee }) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                            const delegateeAddress = yield this.addressService.getAddress(delegatee, this.protocolIdentifier, this.networkIdentifier);
                            this.popoverController.dismiss({ delegateeAddress: delegateeAddress ? delegateeAddress : '' });
                            return true;
                        })
                    }
                ]
            };
        });
    }
}
DelegateEditPopoverComponent.ɵfac = function DelegateEditPopoverComponent_Factory(t) { return new (t || DelegateEditPopoverComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["AlertController"]), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["PopoverController"]), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["NavParams"]), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslateService"]), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["AddressService"])); };
DelegateEditPopoverComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({ type: DelegateEditPopoverComponent, selectors: [["app-delegate-edit-popover"]], decls: 8, vars: 4, consts: [["lines", "none", "no-detail", "", 1, "ion-no-padding", "ion-no-margin"], ["button", "", "detail", "false", 3, "click"], ["name", "create-outline", "color", "dark", "slot", "end"], [4, "ngIf"]], template: function DelegateEditPopoverComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "ion-list", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](1, "ion-list-header");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](2, "ion-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](4, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](5, "ion-item", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function DelegateEditPopoverComponent_Template_ion_item_click_5_listener() { return ctx.changeDelegatee(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](6, "ion-icon", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](7, DelegateEditPopoverComponent_span_7_Template, 4, 8, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](4, 2, "delegate-edit-popover.delegation-settings_label"));
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.delegateeLabel);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonList"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonListHeader"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonIcon"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_3__["TranslatePipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkZWxlZ2F0ZS1lZGl0LXBvcG92ZXIuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ "lwXz":
/*!*************************************************!*\
  !*** ./src/app/types/GenericProtocolSymbols.ts ***!
  \*************************************************/
/*! exports provided: GenericSubProtocolSymbol, faProtocolSymbol */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GenericSubProtocolSymbol", function() { return GenericSubProtocolSymbol; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "faProtocolSymbol", function() { return faProtocolSymbol; });
var GenericSubProtocolSymbol;
(function (GenericSubProtocolSymbol) {
    GenericSubProtocolSymbol["XTZ_FA"] = "xtz-fa";
})(GenericSubProtocolSymbol || (GenericSubProtocolSymbol = {}));
function faProtocolSymbol(interfaceVersion, contractAddress, tokenID = 0) {
    let identifier = `${GenericSubProtocolSymbol.XTZ_FA}${interfaceVersion}`;
    if (contractAddress) {
        identifier += `_${contractAddress}_${tokenID}`;
    }
    return identifier;
}


/***/ }),

/***/ "nxqh":
/*!***************************************************!*\
  !*** ./src/app/services/operations/operations.ts ***!
  \***************************************************/
/*! exports provided: OperationsProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OperationsProvider", function() { return OperationsProvider; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_sapling_TezosSaplingAddress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/tezos/sapling/TezosSaplingAddress */ "tohh");
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_sapling_TezosSaplingAddress__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_tezos_sapling_TezosSaplingAddress__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _helpers_delegation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../helpers/delegation */ "VE8E");
/* harmony import */ var _models_widgets_display_UIAccountExtendedDetails__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../models/widgets/display/UIAccountExtendedDetails */ "kq8F");
/* harmony import */ var _models_widgets_display_UIAccountSummary__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../models/widgets/display/UIAccountSummary */ "+A10");
/* harmony import */ var _models_widgets_input_UIInputText__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../models/widgets/input/UIInputText */ "ocf9");
/* harmony import */ var _sapling_sapling_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../sapling/sapling.service */ "GHcB");
/* harmony import */ var _sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/core */ "fXoL");




















class OperationsProvider {
    constructor(loadingController, toastController, formBuilder, protocolService, saplingService) {
        this.loadingController = loadingController;
        this.toastController = toastController;
        this.formBuilder = formBuilder;
        this.protocolService = protocolService;
        this.saplingService = saplingService;
        this.delegationStatuses = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"](new Map());
    }
    getDelegateesSummary(wallet, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const protocol = wallet.protocol;
            if (!Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsDelegation"])(protocol)) {
                return Promise.reject('Protocol does not support delegation.');
            }
            if (Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsAirGapDelegation"])(protocol)) {
                return protocol.createDelegateesSummary(delegatees);
            }
            else {
                const delegateesDetails = yield Promise.all(delegatees.map((delegatee) => protocol.getDelegateeDetails(delegatee)));
                return delegateesDetails.map((details) => new _models_widgets_display_UIAccountSummary__WEBPACK_IMPORTED_MODULE_11__["UIAccountSummary"]({
                    address: details.address,
                    header: [details.name, ''],
                    description: [details.address, '']
                }));
            }
        });
    }
    getAccountExtendedDetails(wallet) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const protocol = wallet.protocol;
            if (!Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsDelegation"])(protocol)) {
                return Promise.reject('Protocol does not support delegation.');
            }
            if (Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsAirGapDelegation"])(protocol)) {
                return protocol.createAccountExtendedDetails(wallet.receivingPublicAddress);
            }
            else {
                return new _models_widgets_display_UIAccountExtendedDetails__WEBPACK_IMPORTED_MODULE_10__["UIAccountExtendedDetails"]({ items: [] });
            }
        });
    }
    getCurrentDelegatees(wallet) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const protocol = wallet.protocol;
            if (!Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsDelegation"])(protocol)) {
                return Promise.reject('Protocol does not support delegation.');
            }
            const current = yield protocol.getCurrentDelegateesForAddress(wallet.receivingPublicAddress);
            if (current.length === 0) {
                let defaultDelegatee;
                if (Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsAirGapDelegation"])(protocol)) {
                    defaultDelegatee = protocol.airGapDelegatee();
                }
                return [defaultDelegatee || (yield protocol.getDefaultDelegatee())];
            }
            return current;
        });
    }
    getDelegatorDetails(wallet) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const protocol = wallet.protocol;
            if (!Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsDelegation"])(protocol)) {
                return Promise.reject('Protocol does not support delegation.');
            }
            return protocol.getDelegatorDetailsFromAddress(wallet.receivingPublicAddress);
        });
    }
    getDelegationDetails(wallet, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const protocol = wallet.protocol;
            if (!Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsDelegation"])(protocol)) {
                return Promise.reject('Protocol does not support delegation.');
            }
            return Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsAirGapDelegation"])(protocol)
                ? protocol.getExtraDelegationDetailsFromAddress(wallet.receivingPublicAddress, delegatees)
                : [yield this.getDefaultDelegationDetails(protocol, wallet.receivingPublicAddress, delegatees)];
        });
    }
    getRewardDisplayDetails(wallet, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const protocol = wallet.protocol;
            if (!Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsDelegation"])(protocol)) {
                return Promise.reject('Protocol does not support delegation.');
            }
            return Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsAirGapDelegation"])(protocol) ? protocol.getRewardDisplayDetails(wallet.receivingPublicAddress, delegatees) : undefined;
        });
    }
    getDefaultDelegationDetails(protocol, delegator, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const details = yield protocol.getDelegationDetailsFromAddress(delegator, delegatees);
            const [delegatorDetails, delegateesDetails] = yield Promise.all([
                this.getDefaultDelegatorDetails(details.delegator, delegatees),
                this.getDefaultDelegateesDetails(details.delegatees)
            ]);
            return {
                delegator: delegatorDetails,
                delegatees: delegateesDetails
            };
        });
    }
    getDefaultDelegateesDetails(delegateesDetails) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return delegateesDetails.map((details) => (Object.assign({ name: '' }, details)));
        });
    }
    getDefaultDelegatorDetails(delegatorDetails, delegatees) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const defaultDelegateActionTypeKeywords = ['delegate'];
            const defaultUndelegateActionTypeKeywords = ['undelegate'];
            const defaultMainParamNameKeywords = ['delegate', 'delegatee', 'baker', 'validator'];
            return Object.assign(Object.assign({}, delegatorDetails), { delegatees: delegatorDetails.delegatees, mainActions: delegatorDetails.availableActions
                    ? this.createDefaultMainDelegatorActions(delegatorDetails.availableActions, delegatees, defaultDelegateActionTypeKeywords, defaultUndelegateActionTypeKeywords, defaultMainParamNameKeywords)
                    : [] });
        });
    }
    createDefaultMainDelegatorActions(availableActions, delegatees, delegateActionTypeKeywords, undelegateActionTypeKeywords, delegateeArgKeywords) {
        return [
            this.createDefaultDelegateAction(availableActions, delegatees, delegateActionTypeKeywords, delegateeArgKeywords, 'delegation-detail.delegate_label'),
            this.createDefaultDelegateAction(availableActions, delegatees, undelegateActionTypeKeywords, delegateeArgKeywords, 'delegation-detail.undelegate_label'),
            ...this.createDefaultExtraActions(availableActions, [...delegateActionTypeKeywords, ...undelegateActionTypeKeywords])
        ].filter((action) => !!action);
    }
    createDefaultDelegateAction(availableActions, delegatees, typeKeywords, argsKeywords = [], label) {
        const action = availableActions.find((action) => typeKeywords.includes(action.type));
        if (action) {
            const paramName = action.args ? action.args.find((arg) => argsKeywords.includes(arg)) : undefined;
            const args = action.args ? action.args.filter((arg) => arg !== paramName) : undefined;
            const form = paramName ? this.formBuilder.group({ [paramName]: delegatees }) : undefined;
            return {
                type: action.type,
                label,
                form: form,
                args: args
                    ? args.map((arg) => new _models_widgets_input_UIInputText__WEBPACK_IMPORTED_MODULE_12__["UIInputText"]({
                        id: arg,
                        label: arg
                    }))
                    : undefined
            };
        }
        return null;
    }
    createDefaultExtraActions(availableActions, ignoreTypeKeywords) {
        const extraActions = availableActions.filter((action) => !ignoreTypeKeywords.includes(action.type));
        return extraActions.map((action) => ({
            type: action.type,
            label: action.type.toString(),
            confirmLabel: action.type.toString(),
            args: action.args
                ? action.args.map((arg) => new _models_widgets_input_UIInputText__WEBPACK_IMPORTED_MODULE_12__["UIInputText"]({
                    id: arg,
                    label: arg
                }))
                : undefined
        }));
    }
    prepareDelegatorAction(wallet, type, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsDelegation"])(wallet.protocol)) {
                const unsignedTx = (yield wallet.protocol.prepareDelegatorActionFromPublicKey(wallet.publicKey, type, data))[0];
                const airGapTxs = yield wallet.protocol.getTransactionDetails({
                    publicKey: wallet.publicKey,
                    transaction: unsignedTx
                });
                return { airGapTxs, unsignedTx };
            }
            else {
                return Promise.reject('Protocol does not support delegation.');
            }
        });
    }
    setDelegationStatusOfAddress(address, delegated) {
        this.delegationStatuses.next(this.delegationStatuses.getValue().set(address, delegated));
    }
    getDelegationStatusOfAddress(protocol, address, refresh = false) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const delegationStatus = this.delegationStatuses.getValue().get(address);
            if (refresh || delegationStatus === undefined) {
                const isDelegated = yield this.checkDelegated(protocol, address);
                this.setDelegationStatusOfAddress(address, isDelegated);
                return isDelegated;
            }
            else {
                return delegationStatus;
            }
        });
    }
    getDelegationStatusObservableOfAddress(protocol, address) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.getDelegationStatusOfAddress(protocol, address);
            return this.delegationStatuses.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["map"])((delegationStatuses) => delegationStatuses.get(address)));
        });
    }
    refreshAllDelegationStatuses(wallets) {
        Array.from(this.delegationStatuses.getValue().entries()).forEach((entry) => {
            const address = entry[0];
            const wallet = wallets.find((wallet) => wallet.receivingPublicAddress === address && Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsDelegation"])(wallet.protocol));
            if (wallet) {
                this.getDelegationStatusOfAddress(wallet.protocol, address, true).catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_14__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_14__["ErrorCategory"].OPERATIONS_PROVIDER));
            }
        });
    }
    prepareSignRequest(wallet, serializableData, type, generatedId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            switch (type) {
                case _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["IACMessageType"].MessageSignRequest:
                    return this.prepareMessageSignRequest(wallet, serializableData, type, generatedId);
                default:
                    return this.prepareTransactionSignRequest(wallet, serializableData, type, generatedId);
            }
        });
    }
    prepareTransactionSignRequest(wallet, transaction, type, generatedId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const payload = {
                publicKey: wallet.publicKey,
                transaction: transaction,
                callbackURL: 'airgap-wallet://?d='
            };
            return [
                {
                    id: generatedId,
                    protocol: wallet.protocol.identifier,
                    type: type,
                    payload: payload
                }
            ];
        });
    }
    prepareMessageSignRequest(wallet, request, type, generatedId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const payload = {
                publicKey: wallet.publicKey,
                message: request.payload,
                callbackURL: 'airgap-wallet://?d='
            };
            return [
                {
                    id: generatedId,
                    protocol: wallet.protocol.identifier,
                    type: type,
                    payload: payload
                }
            ];
        });
    }
    checkDelegated(protocol, address) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return Object(_helpers_delegation__WEBPACK_IMPORTED_MODULE_9__["supportsDelegation"])(protocol) ? protocol.isAddressDelegating(address) : false;
        });
    }
    prepareTransaction(wallet, address, amount, fee, knownWallets, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const loader = yield this.getAndShowLoader();
            try {
                let unsignedTx;
                // TODO: This is an UnsignedTransaction, not an IAirGapTransaction
                let airGapTxs;
                if (wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["SubProtocolSymbols"].XTZ_KT) {
                    const tezosKtProtocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosKtProtocol"]();
                    unsignedTx = yield tezosKtProtocol.migrateKtContract(wallet.publicKey, wallet.receivingPublicAddress); // TODO change this
                    airGapTxs = yield wallet.protocol.getTransactionDetails({
                        publicKey: wallet.publicKey,
                        transaction: unsignedTx
                    });
                }
                else if (wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["SubProtocolSymbols"].XTZ_BTC) {
                    const protocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosBTC"]();
                    unsignedTx = yield protocol.transfer(wallet.addresses[0], address, amount.toString(10), fee.toString(10), // TODO calculate how high a fee we have to set for the TezosBTC contract
                    wallet.publicKey);
                    airGapTxs = yield wallet.protocol.getTransactionDetails({
                        publicKey: wallet.publicKey,
                        transaction: unsignedTx
                    });
                }
                else if (wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ && _airgap_coinlib_core_protocols_tezos_sapling_TezosSaplingAddress__WEBPACK_IMPORTED_MODULE_3__["TezosSaplingAddress"].isZetAddress(address)) {
                    const protocols = (yield this.protocolService.getProtocolsForAddress(address)).filter((protocol) => protocol.identifier !== _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ);
                    if (protocols.length > 1) {
                        throw new Error('More than 1 sapling protocol is supported');
                    }
                    const protocol = protocols[0];
                    if (!(protocol instanceof _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["TezosSaplingProtocol"])) {
                        throw new Error('Invalid sapling protocol');
                    }
                    yield this.saplingService.initSapling();
                    unsignedTx = yield protocol.prepareShieldTransaction(wallet.publicKey, address, amount.toString(10), fee.toString(10), {
                        overrideFees: true
                    });
                    const knownViewingKeys = knownWallets
                        .filter((wallet) => wallet.protocol.identifier === protocol.identifier)
                        .map((wallet) => wallet.publicKey);
                    airGapTxs = yield protocol.getTransactionDetails({
                        publicKey: wallet.publicKey,
                        transaction: unsignedTx
                    }, { knownViewingKeys });
                }
                else {
                    if (wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ_SHIELDED) {
                        yield this.saplingService.initSapling();
                    }
                    if (wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].BTC_SEGWIT) {
                        // data could already contain "replaceByFee"
                        if (!data) {
                            data = {};
                        }
                        data.masterFingerprint = wallet.masterFingerprint;
                    }
                    unsignedTx = yield wallet.prepareTransaction([address], [amount.toString(10)], fee.toString(10), data);
                    airGapTxs = yield wallet.protocol.getTransactionDetails({
                        publicKey: wallet.publicKey,
                        transaction: unsignedTx
                    });
                }
                return { airGapTxs, unsignedTx };
            }
            catch (error) {
                Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_14__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_14__["ErrorCategory"].COINLIB)(error);
                this.toastController
                    .create({
                    message: error.message,
                    duration: 3000,
                    position: 'bottom'
                })
                    .then((toast) => {
                    toast.present().catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_14__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_14__["ErrorCategory"].IONIC_TOAST));
                });
                throw error;
            }
            finally {
                this.hideLoader(loader);
            }
        });
    }
    estimateMaxTransferAmount(wallet, destination, fee, excludeExistentialDeposit) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const maxAmount = yield wallet.getMaxTransferValue([destination], fee ? fee.toFixed() : undefined, excludeExistentialDeposit);
            return new bignumber_js__WEBPACK_IMPORTED_MODULE_6___default.a(maxAmount);
        });
    }
    estimateFees(wallet, address, amount, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                return yield wallet.estimateFees([address], [amount.toFixed()], data);
            }
            catch (error) {
                console.error(error);
                return wallet.protocol.feeDefaults;
            }
        });
    }
    getAndShowLoader() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const loader = yield this.loadingController.create({
                message: 'Preparing transaction...'
            });
            yield loader.present().catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_14__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_14__["ErrorCategory"].IONIC_LOADER));
            return loader;
        });
    }
    hideLoader(loader) {
        loader.dismiss().catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_14__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_14__["ErrorCategory"].IONIC_LOADER));
    }
}
OperationsProvider.ɵfac = function OperationsProvider_Factory(t) { return new (t || OperationsProvider)(_angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_5__["LoadingController"]), _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_5__["ToastController"]), _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵinject"](_angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"]), _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵinject"](_sapling_sapling_service__WEBPACK_IMPORTED_MODULE_13__["SaplingService"])); };
OperationsProvider.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_15__["ɵɵdefineInjectable"]({ token: OperationsProvider, factory: OperationsProvider.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "o18t":
/*!*********************************************************************!*\
  !*** ./src/app/pages/introduction-push/introduction-push.module.ts ***!
  \*********************************************************************/
/*! exports provided: IntroductionPushPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntroductionPushPageModule", function() { return IntroductionPushPageModule; });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _components_components_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/components.module */ "j1ZV");
/* harmony import */ var _introduction_push__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./introduction-push */ "eTKa");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "fXoL");









class IntroductionPushPageModule {
}
IntroductionPushPageModule.ɵfac = function IntroductionPushPageModule_Factory(t) { return new (t || IntroductionPushPageModule)(); };
IntroductionPushPageModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineNgModule"]({ type: IntroductionPushPageModule });
IntroductionPushPageModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjector"]({ imports: [[
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormsModule"],
            _components_components_module__WEBPACK_IMPORTED_MODULE_5__["ComponentsModule"],
            _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild([{ path: '', component: _introduction_push__WEBPACK_IMPORTED_MODULE_6__["IntroductionPushPage"] }])
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵsetNgModuleScope"](IntroductionPushPageModule, { declarations: [_introduction_push__WEBPACK_IMPORTED_MODULE_6__["IntroductionPushPage"]], imports: [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
        _angular_common__WEBPACK_IMPORTED_MODULE_0__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormsModule"],
        _components_components_module__WEBPACK_IMPORTED_MODULE_5__["ComponentsModule"],
        _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateModule"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]] }); })();


/***/ }),

/***/ "o7/J":
/*!***************************************************************************!*\
  !*** ./src/app/components/transaction-item/transaction-item.component.ts ***!
  \***************************************************************************/
/*! exports provided: TransactionItemComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TransactionItemComponent", function() { return TransactionItemComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../pipes/shorten-string/shorten-string.pipe */ "iLEx");
/* harmony import */ var ngx_moment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-moment */ "QUrN");








function TransactionItemComponent_ion_avatar_1_airgap_identicon_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "airgap-identicon", 11);
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("address", ctx_r8.tx.from[0]);
} }
function TransactionItemComponent_ion_avatar_1_airgap_identicon_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "airgap-identicon", 11);
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("address", ctx_r9.tx.to[0]);
} }
function TransactionItemComponent_ion_avatar_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-avatar", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, TransactionItemComponent_ion_avatar_1_airgap_identicon_1_Template, 1, 1, "airgap-identicon", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, TransactionItemComponent_ion_avatar_1_airgap_identicon_2_Template, 1, 1, "airgap-identicon", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r0.tx.isInbound);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !ctx_r0.tx.isInbound);
} }
function TransactionItemComponent_ion_avatar_2_airgap_identicon_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "airgap-identicon", 11);
} if (rf & 2) {
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("address", ctx_r10.tx.to[0]);
} }
function TransactionItemComponent_ion_avatar_2_airgap_identicon_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "airgap-identicon", 11);
} if (rf & 2) {
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("address", ctx_r11.tx.from[0]);
} }
function TransactionItemComponent_ion_avatar_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-avatar", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, TransactionItemComponent_ion_avatar_2_airgap_identicon_1_Template, 1, 1, "airgap-identicon", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, TransactionItemComponent_ion_avatar_2_airgap_identicon_2_Template, 1, 1, "airgap-identicon", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r1.tx.isInbound);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !ctx_r1.tx.isInbound);
} }
function TransactionItemComponent_ion_icon_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "ion-icon", 12);
} }
function TransactionItemComponent_ion_icon_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "ion-icon", 13);
} }
function TransactionItemComponent_ion_badge_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-badge", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", ctx_r4.tx.status, " ");
} }
const _c0 = function (a0) { return { ifMatches: a0 }; };
function TransactionItemComponent_ng_container_13_h3_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](2, "shortenString");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](2, 1, ctx_r14.tx.from[0], _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction1"](4, _c0, ctx_r14.protocol == null ? null : ctx_r14.protocol.addressValidationPattern)), " ");
} }
function TransactionItemComponent_ng_container_13_h3_1_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](2, "shortenString");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](2, 1, ctx_r15.tx.to[0], _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction1"](4, _c0, ctx_r15.protocol == null ? null : ctx_r15.protocol.addressValidationPattern)), " ");
} }
function TransactionItemComponent_ng_container_13_h3_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "h3", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, TransactionItemComponent_ng_container_13_h3_1_ng_container_1_Template, 3, 6, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, TransactionItemComponent_ng_container_13_h3_1_ng_container_2_Template, 3, 6, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r12.tx.isInbound);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !ctx_r12.tx.isInbound);
} }
function TransactionItemComponent_ng_container_13_h3_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](2, "shortenString");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](2, 1, ctx_r16.tx.to[0], _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction1"](4, _c0, ctx_r16.protocol == null ? null : ctx_r16.protocol.addressValidationPattern)), " ");
} }
function TransactionItemComponent_ng_container_13_h3_2_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](2, "shortenString");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](2, 1, ctx_r17.tx.from[0], _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction1"](4, _c0, ctx_r17.protocol == null ? null : ctx_r17.protocol.addressValidationPattern)), " ");
} }
function TransactionItemComponent_ng_container_13_h3_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "h3", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, TransactionItemComponent_ng_container_13_h3_2_ng_container_1_Template, 3, 6, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, TransactionItemComponent_ng_container_13_h3_2_ng_container_2_Template, 3, 6, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r13.tx.isInbound);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !ctx_r13.tx.isInbound);
} }
function TransactionItemComponent_ng_container_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, TransactionItemComponent_ng_container_13_h3_1_Template, 3, 2, "h3", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, TransactionItemComponent_ng_container_13_h3_2_Template, 3, 2, "h3", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r5.transactionType !== "exchangeTransaction");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r5.transactionType === "exchangeTransaction");
} }
function TransactionItemComponent_p_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "p", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", ctx_r6.tx.extra, " ");
} }
const _c1 = function () { return { sameDay: "[Today]", lastDay: "[Yesterday]", lastWeek: "[Last] dddd", sameElse: "HH:mm" }; };
function TransactionItemComponent_ion_row_15_p_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "p", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](2, "amCalendar");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](3, "amFromUnix");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](2, 1, _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](3, 4, ctx_r18.tx.timestamp), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction0"](6, _c1)), " ");
} }
const _c2 = function () { return { sameDay: "[at] HH:mm", lastDay: "[at] HH:mm", lastWeek: "[at] HH:mm", sameElse: "L" }; };
function TransactionItemComponent_ion_row_15_p_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "p", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](2, "amCalendar");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](3, "amFromUnix");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](2, 1, _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](3, 4, ctx_r19.tx.timestamp), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction0"](6, _c2)), " ");
} }
function TransactionItemComponent_ion_row_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-row", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-col", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-row", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "ion-text", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](4, TransactionItemComponent_ion_row_15_p_4_Template, 4, 7, "p", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "ion-row", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](6, "ion-text", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](7, TransactionItemComponent_ion_row_15_p_7_Template, 4, 7, "p", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r7.tx.timestamp);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r7.tx.timestamp);
} }
const _c3 = function (a0) { return { protocol: a0 }; };
class TransactionItemComponent {
    constructor(protocolService) {
        this.protocolService = protocolService;
    }
    ngOnInit() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                this.protocol = yield this.protocolService.getProtocol(this.tx.protocolIdentifier);
            }
            catch (_a) { }
        });
    }
}
TransactionItemComponent.ɵfac = function TransactionItemComponent_Factory(t) { return new (t || TransactionItemComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"])); };
TransactionItemComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: TransactionItemComponent, selectors: [["transaction-item"]], inputs: { tx: "tx", transactionType: "transactionType" }, decls: 16, vars: 16, consts: [["slot", "start", 4, "ngIf"], ["src", "./assets/custom-ion-icons/md-call_received.svg", 4, "ngIf"], ["src", "./assets/custom-ion-icons/md-call_made.svg", 4, "ngIf"], ["color", "black", 1, "font--weight__bold"], ["color", "blackLight", 1, "address-container"], ["class", "ion-text-capitalize", "color", "primary", 4, "ngIf"], [4, "ngIf"], ["slot", "end", 4, "ngIf"], ["class", "items--right", "slot", "end", 4, "ngIf"], ["slot", "start"], [3, "address", 4, "ngIf"], [3, "address"], ["src", "./assets/custom-ion-icons/md-call_received.svg"], ["src", "./assets/custom-ion-icons/md-call_made.svg"], ["color", "primary", 1, "ion-text-capitalize"], ["class", "typography--mono", 4, "ngIf"], [1, "typography--mono"], ["slot", "end"], ["slot", "end", 1, "items--right"], [1, "ion-no-padding"], [1, "ion-justify-content-end"], ["color", "blackLight"], ["class", "ion-no-margin", 4, "ngIf"], [1, "ion-no-margin"]], template: function TransactionItemComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-item");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, TransactionItemComponent_ion_avatar_1_Template, 3, 2, "ion-avatar", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, TransactionItemComponent_ion_avatar_2_Template, 3, 2, "ion-avatar", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "ion-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](5, TransactionItemComponent_ion_icon_5_Template, 1, 0, "ion-icon", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](6, TransactionItemComponent_ion_icon_6_Template, 1, 0, "ion-icon", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](9, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](10, "amountConverter");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](11, "ion-text", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](12, TransactionItemComponent_ion_badge_12_Template, 2, 1, "ion-badge", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](13, TransactionItemComponent_ng_container_13_Template, 3, 2, "ng-container", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](14, TransactionItemComponent_p_14_Template, 2, 1, "p", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](15, TransactionItemComponent_ion_row_15_Template, 8, 2, "ion-row", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.transactionType !== "exchangeTransaction");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.transactionType === "exchangeTransaction");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.tx.isInbound);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !ctx.tx.isInbound);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](9, 9, _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](10, 11, ctx.tx.amount, _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction1"](14, _c3, ctx.tx.protocolIdentifier))), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.tx.status && ctx.tx.status !== "applied");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !ctx.tx.status || ctx.tx.status === "applied");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.transactionType === "exchangeTransaction");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.transactionType === "normalTransaction");
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonItem"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonAvatar"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["IdenticonComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonIcon"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonBadge"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonCol"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["AsyncPipe"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["AmountConverterPipe"], _pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_5__["ShortenStringPipe"], ngx_moment__WEBPACK_IMPORTED_MODULE_6__["CalendarPipe"], ngx_moment__WEBPACK_IMPORTED_MODULE_6__["FromUnixPipe"]], styles: [".address-container[_ngcontent-%COMP%] {\n  display: flex;\n}\n.address-container[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%] {\n  margin-right: 8px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3RyYW5zYWN0aW9uLWl0ZW0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0FBQ0Y7QUFBRTtFQUNFLGlCQUFBO0FBRUoiLCJmaWxlIjoidHJhbnNhY3Rpb24taXRlbS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hZGRyZXNzLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGlvbi1iYWRnZSB7XG4gICAgbWFyZ2luLXJpZ2h0OiA4cHg7XG4gIH1cbn1cbiJdfQ== */"] });


/***/ }),

/***/ "oCjk":
/*!********************************!*\
  !*** ./src/app/utils/utils.ts ***!
  \********************************/
/*! exports provided: generateGUID, to, partition, parseIACUrl, serializedDataToUrlString, isType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateGUID", function() { return generateGUID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "to", function() { return to; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "partition", function() { return partition; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseIACUrl", function() { return parseIACUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "serializedDataToUrlString", function() { return serializedDataToUrlString; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isType", function() { return isType; });
// https://stackoverflow.com/a/8472700/4790610
function generateGUID() {
    // tslint:disable
    if (typeof window.crypto !== 'undefined' && typeof window.crypto.getRandomValues !== 'undefined') {
        // If we have a cryptographically secure PRNG, use that
        // https://stackoverflow.com/questions/6906916/collisions-when-generating-uuids-in-javascript
        const buf = new Uint16Array(8);
        window.crypto.getRandomValues(buf);
        const S4 = function (num) {
            let ret = num.toString(16);
            while (ret.length < 4) {
                ret = '0' + ret;
            }
            return ret;
        };
        return S4(buf[0]) + S4(buf[1]) + '-' + S4(buf[2]) + '-' + S4(buf[3]) + '-' + S4(buf[4]) + '-' + S4(buf[5]) + S4(buf[6]) + S4(buf[7]);
    }
    else {
        // Otherwise, just use Math.random
        // https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            const r = (Math.random() * 16) | 0;
            const v = c === 'x' ? r : (r & 0x3) | 0x8;
            return v.toString(16);
        });
    }
    // tslint:enable
}
function to(promise, errorExt) {
    return promise
        .then((data) => [null, data])
        .catch((err) => {
        if (errorExt) {
            Object.assign(err, errorExt);
        }
        return [err, undefined];
    });
}
function partition(array, isValid) {
    const pass = [];
    const fail = [];
    array.forEach((element) => {
        if (isValid(element)) {
            pass.push(element);
        }
        else {
            fail.push(element);
        }
    });
    return [pass, fail];
}
function readParameterFromUrl(url, parameter) {
    try {
        const parsedUrl = new URL(url);
        return parsedUrl.searchParams.get(parameter);
    }
    catch (error) {
        return url;
    }
}
function parseIACUrl(url, parameter) {
    let result;
    if (Array.isArray(url)) {
        result = url.map((chunk) => readParameterFromUrl(chunk, parameter));
    }
    else {
        try {
            result = readParameterFromUrl(url, parameter).split(',');
        }
        catch (error) {
            result = url.split(',');
        }
    }
    // In case one of the elements contains a chunked string, we have to flatten it.
    result = result.reduce((pv, cv) => [...pv, ...cv.split(',')], []);
    // result = result.map((value: string) => value.split(',')).flat()
    return result.filter((el) => el !== '');
}
function serializedDataToUrlString(data, host = 'airgap-vault://', parameter = 'd') {
    return `${host}?${parameter}=${Array.isArray(data) ? data.join(',') : data}`;
}
function isType(object, ...fields) {
    return object instanceof Object && fields.every((field) => field in object);
}


/***/ }),

/***/ "ocf9":
/*!*****************************************************!*\
  !*** ./src/app/models/widgets/input/UIInputText.ts ***!
  \*****************************************************/
/*! exports provided: UIInputText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIInputText", function() { return UIInputText; });
/* harmony import */ var _UIWidget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIWidget */ "Ochd");
/* harmony import */ var _UIInputWidget__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../UIInputWidget */ "GTl0");


class UIInputText extends _UIInputWidget__WEBPACK_IMPORTED_MODULE_1__["UIInputWidget"] {
    constructor(config) {
        super(config);
        this.type = _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidgetType"].INPUT_TEXT;
        this.isValueFixed = false;
        this.inputType = config.inputType || 'text';
        this.label = config.label;
        this.placeholder = config.placeholder || '';
        this.value = config.defaultValue || '';
        this.createExtraLabel = config.createExtraLabel ? (value) => config.createExtraLabel(value, this.wallet) : undefined;
        this.extraLabel = config.extraLabel || this.createExtraLabel ? this.createExtraLabel(this.value) : undefined;
        this.errorLabel = config.errorLabel;
        this.fixedValue = config.fixedValue;
        this.getFixedValue = config.getFixedValue ? () => config.getFixedValue(this.wallet) : undefined;
        this.toggleFixedValueButton = config.toggleFixedValueButton;
    }
    onValueChanged() {
        this.isValueFixed = this.fixedValue === this.value;
        if (this.createExtraLabel) {
            this.extraLabel = this.createExtraLabel(this.value);
        }
        if (this.onValueChangedCallback) {
            this.onValueChangedCallback(this.value, this);
        }
    }
    toggleValue() {
        this.isValueFixed = !this.isValueFixed;
        if (this.isValueFixed && this.formControl) {
            this.formControl.patchValue(this.fixedValue || this.getFixedValue());
        }
    }
}


/***/ }),

/***/ "onrW":
/*!*************************************************************!*\
  !*** ./src/app/pipes/crypto-to-fiat/crypto-to-fiat.pipe.ts ***!
  \*************************************************************/
/*! exports provided: CryptoToFiatPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CryptoToFiatPipe", function() { return CryptoToFiatPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");





class CryptoToFiatPipe {
    constructor(protocolService) {
        this.protocolService = protocolService;
    }
    transform(value, args) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!args ||
                !args.currentMarketPrice ||
                !bignumber_js__WEBPACK_IMPORTED_MODULE_2__["BigNumber"].isBigNumber(args.currentMarketPrice) ||
                isNaN(args.currentMarketPrice.toNumber()) ||
                !args.protocolIdentifier ||
                !value ||
                !bignumber_js__WEBPACK_IMPORTED_MODULE_2__["BigNumber"].isBigNumber(value) ||
                isNaN(value.toNumber())) {
                /* console.warn(
                  `CryptoToFiatPipe: necessary properties missing!\n` +
                    `Market Price: ${args.currentMarketPrice}\n` +
                    `Protocol: ${args.protocolIdentifier}\n` +
                    `Value: ${value}`
                ) */
                return '';
            }
            let protocol;
            try {
                protocol = yield this.protocolService.getProtocol(args.protocolIdentifier);
            }
            catch (e) {
                return '';
            }
            const fiatValue = args.currentMarketPrice.multipliedBy(value.shiftedBy(-1 * protocol.decimals));
            return fiatValue.toFixed();
        });
    }
}
CryptoToFiatPipe.ɵfac = function CryptoToFiatPipe_Factory(t) { return new (t || CryptoToFiatPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"])); };
CryptoToFiatPipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefinePipe"]({ name: "cryptoToFiat", type: CryptoToFiatPipe, pure: true });


/***/ }),

/***/ "opNj":
/*!**************************************************!*\
  !*** ./src/app/services/guard/protocol.guard.ts ***!
  \**************************************************/
/*! exports provided: ProtocolGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProtocolGuard", function() { return ProtocolGuard; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _airgap_coinlib_core_utils_ProtocolSymbols__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core/utils/ProtocolSymbols */ "9YfS");
/* harmony import */ var _airgap_coinlib_core_utils_ProtocolSymbols__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_utils_ProtocolSymbols__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "fXoL");







class ProtocolGuard {
    constructor(router, protocolService) {
        this.router = router;
        this.protocolService = protocolService;
    }
    canActivate(route) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const protocolID = route.params.protocolID;
            let mainProtocolID;
            const protocolIDComponents = protocolID.split('-');
            if (protocolIDComponents.length > 1) {
                mainProtocolID = protocolIDComponents[0];
            }
            const mainSymbols = Object.values(_airgap_coinlib_core_utils_ProtocolSymbols__WEBPACK_IMPORTED_MODULE_3__["MainProtocolSymbols"]).map((p) => p.toString());
            let subSymbols = Object.values(_airgap_coinlib_core_utils_ProtocolSymbols__WEBPACK_IMPORTED_MODULE_3__["SubProtocolSymbols"]).map((p) => p.toString());
            if (mainProtocolID !== undefined) {
                if (mainProtocolID === _airgap_coinlib_core_utils_ProtocolSymbols__WEBPACK_IMPORTED_MODULE_3__["MainProtocolSymbols"].ETH || mainProtocolID === _airgap_coinlib_core_utils_ProtocolSymbols__WEBPACK_IMPORTED_MODULE_3__["MainProtocolSymbols"].RBTC || mainProtocolID === _airgap_coinlib_core_utils_ProtocolSymbols__WEBPACK_IMPORTED_MODULE_3__["MainProtocolSymbols"].XTZ) {
                    subSymbols = (yield this.protocolService.getAllSubProtocols(mainProtocolID)).map((protocol) => protocol.identifier.toString());
                }
                return subSymbols.includes(protocolID);
            }
            else {
                return mainSymbols.includes(protocolID) || subSymbols.includes(protocolID);
            }
        });
    }
}
ProtocolGuard.ɵfac = function ProtocolGuard_Factory(t) { return new (t || ProtocolGuard)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"])); };
ProtocolGuard.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineInjectable"]({ token: ProtocolGuard, factory: ProtocolGuard.ɵfac });


/***/ }),

/***/ "pNtj":
/*!*************************************************!*\
  !*** ./src/app/components/fee/fee.component.ts ***!
  \*************************************************/
/*! exports provided: FeeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FeeComponent", function() { return FeeComponent; });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");







function FeeComponent_ion_text_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-text", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](4, "uppercase");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](3, 2, "transaction-prepare.fee.label"), " (", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](4, 4, ctx_r0._wallet.protocol.feeSymbol), ")");
} }
function FeeComponent_ion_text_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-text", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](4, "uppercase");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](5, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate3"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](3, 3, "transaction-prepare.fee.label"), " (", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](4, 5, ctx_r1._wallet.protocol.feeSymbol), ") / ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](5, 7, "transaction-prepare.advanced"), " ");
} }
function FeeComponent_ion_row_22_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-row", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-col", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-item", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](3, "ion-label", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](4, "ion-input", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](7, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](8, "uppercase");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵattribute"]("disabled", ctx_r2.state.forceMigration || ctx_r2.state.disableAdvancedMode);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate2"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](7, 3, "transaction-prepare.fee.label"), " (", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](8, 5, ctx_r2._wallet.protocol.feeSymbol), ") ");
} }
function FeeComponent_ng_container_27_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0, 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](2, 1, "transaction-prepare.amount_label"), " ");
} }
function FeeComponent_ng_container_27_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0, 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](2, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" $", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](2, 1, ctx_r7.form.get("fee").value * ctx_r7.state.feeCurrentMarketPrice, "1.2-4"), " ");
} }
function FeeComponent_ng_container_27_span_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "span", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](2, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](3, "uppercase");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate2"](" (", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](2, 2, ctx_r8.state.fee.value, "1.2-6"), " ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](3, 5, ctx_r8._wallet.protocol.feeSymbol), ") ");
} }
function FeeComponent_ng_container_27_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "span", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, FeeComponent_ng_container_27_ng_container_2_Template, 3, 3, "ng-container", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](3, FeeComponent_ng_container_27_ng_container_3_Template, 3, 4, "ng-container", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](4, FeeComponent_ng_container_27_span_4_Template, 4, 7, "span", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r3.form.controls["fee"].invalid);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r3.form.controls["fee"].valid);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r3.state);
} }
function FeeComponent_ion_skeleton_text_28_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "ion-skeleton-text", 29);
} }
function FeeComponent_ion_row_29_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-row", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-col", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-item", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](3, "ion-label", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](4, "ion-input", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](7, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵattribute"]("disabled", ctx_r5.state.forceMigration || ctx_r5.state.disableAdvancedMode);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](7, 2, "transaction-prepare.memo"), " ");
} }
class FeeComponent {
    constructor() {
        this.enableMemo = false;
    }
    set wallet(value) {
        this._wallet = value;
        this.checkEnableMemo(value);
    }
    checkEnableMemo(wallet) {
        this.enableMemo = wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].COSMOS;
    }
}
FeeComponent.ɵfac = function FeeComponent_Factory(t) { return new (t || FeeComponent)(); };
FeeComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: FeeComponent, selectors: [["fee"]], inputs: { wallet: "wallet", state: "state", form: "form" }, decls: 30, vars: 15, consts: [[3, "formGroup"], [1, "fee--amount__label", "ion-padding-horizontal"], ["size", "12", 1, "ion-no-padding"], ["lines", "none", 1, "ion-no-padding"], ["class", "ion-no-margin", "color", "blackLight", 4, "ngIf"], ["slot", "end", "mode", "md", "formControlName", "isAdvancedMode"], ["nowrap", "", 1, "ion-padding-horizontal"], ["min", "0", "max", "2", "step", "1", "snaps", "true", "formControlName", "feeLevel", "id", "feeLevel-input", 1, "range-slider", "ion-no-padding"], ["slot", "start", "color", "black", "name", "hourglass-outline"], ["slot", "end", "color", "black", "name", "rocket-outline"], [1, "ion-padding-horizontal"], ["size", "6", 1, "ion-no-padding"], ["size", "6", 1, "ion-no-padding", "ion-text-right"], ["class", "ion-padding-horizontal", 4, "ngIf"], [1, "fee-amount__help", "ion-padding-horizontal"], ["color", "blackLight"], [1, "ion-no-margin"], [4, "ngIf"], ["animated", "", "style", "width: 30%", 4, "ngIf"], ["color", "blackLight", 1, "ion-no-margin"], [1, "ion-no-padding"], ["position", "stacked"], ["id", "fee-input", "formControlName", "fee", "type", "string", 1, "ion-no-padding"], ["slot", "end", 1, "input--placeholder"], ["id", "fee-amount"], ["color", "primary", 4, "ngIf"], ["id", "fee-amount-advanced", 4, "ngIf"], ["color", "primary"], ["id", "fee-amount-advanced"], ["animated", "", 2, "width", "30%"], ["id", "fee-input", "placeholder", "destination tag", "formControlName", "memo", "type", "string", 1, "ion-no-padding"]], template: function FeeComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-row", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-col", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "ion-item", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](4, FeeComponent_ion_text_4_Template, 5, 6, "ion-text", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](5, FeeComponent_ion_text_5_Template, 6, 9, "ion-text", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](6, "ion-toggle", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "ion-row", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](8, "ion-col", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](9, "ion-item", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](10, "ion-range", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](11, "ion-icon", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](12, "ion-icon", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](13, "ion-row", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](14, "ion-col", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](15, "small");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](16);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](17, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](18, "ion-col", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](19, "small");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](20);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](21, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](22, FeeComponent_ion_row_22_Template, 9, 7, "ion-row", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](23, "ion-row", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](24, "ion-col", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](25, "ion-text", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](26, "p", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](27, FeeComponent_ng_container_27_Template, 5, 3, "ng-container", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](28, FeeComponent_ion_skeleton_text_28_Template, 1, 0, "ion-skeleton-text", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](29, FeeComponent_ion_row_29_Template, 8, 4, "ion-row", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !ctx.enableMemo);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.enableMemo);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵattribute"]("disabled", ctx.state && ctx.state.disableAdvancedMode);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵattribute"]("disabled", ctx.state && ctx.state.forceMigration || ctx.state && ctx.state.disableFeeSlider);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](17, 11, "transaction-prepare.fee.slow_label"));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](21, 13, "transaction-prepare.fee.fast_label"));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.state && ctx.state.isAdvancedMode.value);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.state && !ctx.state.estimatingFeeDefaults);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.state && ctx.state.estimatingFeeDefaults);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.state && ctx.state.isAdvancedMode.value && ctx.enableMemo);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_0__["ɵangular_packages_forms_forms_ba"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__["FormGroupDirective"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonItem"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonToggle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["BooleanValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_0__["FormControlName"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonRange"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["SelectValueAccessor"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonIcon"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonInput"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["TextValueAccessor"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonSkeletonText"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__["TranslatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["UpperCasePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["DecimalPipe"]], styles: [".fee-amount__help[_ngcontent-%COMP%] {\n  padding-top: 12px;\n}\n\n.fee--amount__label[_ngcontent-%COMP%] {\n  padding-top: 8px;\n}\n\n.fee--amount__label[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%] {\n  padding: 0 !important;\n}\n\n.fee--amount__label[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%] {\n  font-size: 14px;\n}\n\n.input--placeholder[_ngcontent-%COMP%] {\n  position: relative;\n  right: 0;\n  top: 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2ZlZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxnQkFBQTtBQUVGOztBQURFO0VBQ0UscUJBQUE7QUFHSjs7QUFERTtFQUNFLGVBQUE7QUFHSjs7QUFBQTtFQUNFLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7QUFHRiIsImZpbGUiOiJmZWUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZmVlLWFtb3VudF9faGVscCB7XG4gIHBhZGRpbmctdG9wOiAxMnB4O1xufVxuLmZlZS0tYW1vdW50X19sYWJlbCB7XG4gIHBhZGRpbmctdG9wOiA4cHg7XG4gIC5pdGVtLWlubmVyIHtcbiAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG4gIH1cbiAgaW9uLWxhYmVsIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gIH1cbn1cbi5pbnB1dC0tcGxhY2Vob2xkZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDEwcHg7XG59XG4iXX0= */"] });


/***/ }),

/***/ "ptnW":
/*!***********************************************************************!*\
  !*** ./src/app/services/iac/custom-handlers/walletconnect-handler.ts ***!
  \***********************************************************************/
/*! exports provided: WalletConnectHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WalletConnectHandler", function() { return WalletConnectHandler; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");


/**
 * Handles walletconnect requests
 */
class WalletConnectHandler extends _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["IACSinglePartHandler"] {
    constructor(walletConnectService) {
        super();
        this.walletConnectService = walletConnectService;
        this.name = 'WalletConnectHandler';
    }
    handleComplete() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.walletConnectService.connect(this.payload);
            return this.payload;
        });
    }
    processData(data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const payload = Array.isArray(data) ? data[0] : data;
            if (typeof payload === 'string' && payload.startsWith('wc')) {
                return payload;
            }
            else if (typeof payload === 'string' && payload.startsWith('airgap-wallet://wc?uri=')) {
                return payload.replace('airgap-wallet://wc?uri=', '');
            }
            return undefined;
        });
    }
}


/***/ }),

/***/ "q3zY":
/*!***************************************************!*\
  !*** ./src/app/services/beacon/beacon.service.ts ***!
  \***************************************************/
/*! exports provided: BeaconService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BeaconService", function() { return BeaconService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/beacon-sdk */ "hzei");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_TezosProtocol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/tezos/TezosProtocol */ "vrSD");
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_TezosProtocol__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_tezos_TezosProtocol__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/tezos/TezosProtocolOptions */ "Bf+m");
/* harmony import */ var _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @airgap/coinlib-core/utils/ProtocolNetwork */ "14cC");
/* harmony import */ var _airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var src_app_pages_beacon_request_beacon_request_page__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/pages/beacon-request/beacon-request.page */ "veta");
/* harmony import */ var src_app_pages_error_error_page__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/pages/error/error.page */ "xuQ1");
/* harmony import */ var _storage_storage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../storage/storage */ "AFs5");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ "fXoL");














class BeaconService {
    constructor(modalController, loadingController, toastController, storage, protocolService) {
        this.modalController = modalController;
        this.loadingController = loadingController;
        this.toastController = toastController;
        this.storage = storage;
        this.protocolService = protocolService;
        this.client = this.getClient();
        this.init();
    }
    reset() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.client.destroy();
            this.client = this.getClient();
            this.init();
        });
    }
    init() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.client.init();
            return this.client.connect((message) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                this.hideToast();
                if (message.type === _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].PermissionRequest && !(yield this.isNetworkSupported(message.network))) {
                    return this.sendNetworkNotSupportedError(message);
                }
                else {
                    yield this.presentModal(message);
                }
            }));
        });
    }
    presentModal(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const modal = yield this.modalController.create({
                component: src_app_pages_beacon_request_beacon_request_page__WEBPACK_IMPORTED_MODULE_7__["BeaconRequestPage"],
                componentProps: {
                    request,
                    client: this.client,
                    beaconService: this
                }
            });
            return modal.present();
        });
    }
    addVaultRequest(request, protocol) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const network = request.network;
            if (network) {
                const isProtocolAvailable = yield this.protocolService.isProtocolAvailable(protocol.identifier, protocol.options.network.identifier);
                if (!isProtocolAvailable) {
                    yield this.protocolService.addActiveProtocols(protocol);
                }
            }
            this.storage.setCache(_storage_storage__WEBPACK_IMPORTED_MODULE_9__["WalletStorageKey"].PENDING_REQUEST, [request, protocol.identifier, protocol.options.network.identifier]);
        });
    }
    getVaultRequest() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let cachedRequest = yield this.storage.getCache(_storage_storage__WEBPACK_IMPORTED_MODULE_9__["WalletStorageKey"].PENDING_REQUEST);
            const result = [undefined, undefined];
            if (cachedRequest) {
                if (cachedRequest[0]) {
                    result[0] = cachedRequest[0];
                }
                if (cachedRequest[1]) {
                    const protocol = yield this.protocolService.getProtocol(cachedRequest[1], cachedRequest[2]);
                    result[1] = protocol;
                }
            }
            return result ? result : [];
        });
    }
    respond(response, request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.storage.setCache(_storage_storage__WEBPACK_IMPORTED_MODULE_9__["WalletStorageKey"].PENDING_REQUEST, []);
            yield this.client.respond(response).catch((err) => console.error(err));
            yield this.showToast('response-sent', request.appMetadata);
        });
    }
    showLoader() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.loader) {
                return;
            }
            this.loader = yield this.loadingController.create({
                message: 'Connecting to Beacon Network...',
                duration: 10000
            });
            yield this.loader.present();
        });
    }
    hideLoader() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.loader) {
                return;
            }
            yield this.loader.dismiss();
            this.loader = undefined;
        });
    }
    showToast(type, appMetadata) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.toast) {
                return;
            }
            const dAppName = appMetadata && appMetadata.name ? appMetadata.name : 'the dApp';
            const message = type === 'connected' ? `Beacon connection successful. Waiting for request from ${dAppName}...` : `Response sent to ${dAppName}.`;
            this.toast = yield this.toastController.create({
                message,
                position: 'top',
                duration: 5000,
                buttons: [
                    {
                        text: 'Close',
                        role: 'cancel'
                    }
                ]
            });
            yield this.toast.present();
        });
    }
    hideToast() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!this.toast) {
                return;
            }
            yield this.toast.dismiss();
            this.toast = undefined;
        });
    }
    addPeer(peer) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.showLoader();
            yield this.client.addPeer(peer);
            yield this.hideLoader();
            yield this.showToast('connected');
        });
    }
    getPeers() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.client.getPeers(); // TODO: Fix types
        });
    }
    removePeer(peer) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.client.removePeer(peer, true); // TODO: Fix types
        });
    }
    removeAllPeers() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.client.removeAllPeers(true);
        });
    }
    displayErrorPage(error) {
        var _a;
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let message = error.message;
            if (message === 'TEZOS(NETWORK)') {
                message = 'The simulation of your transaction failed. Please make sure all the values in your transaction are valid.';
            }
            let data = error.data ? error.data : error.stack;
            // TODO: Parse contents and show info (eg. failwith)
            // if (error.data) {
            //   if ((error.data as any).contents) {
            //     data = {}
            //   }
            // }
            const modal = yield this.modalController.create({
                component: src_app_pages_error_error_page__WEBPACK_IMPORTED_MODULE_8__["ErrorPage"],
                componentProps: {
                    title: (_a = error.name) !== null && _a !== void 0 ? _a : 'Error',
                    message,
                    data
                }
            });
            return modal.present();
        });
    }
    isNetworkSupported(network) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return (network &&
                network.type &&
                (network.type === _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["NetworkType"].MAINNET ||
                    network.type === _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["NetworkType"].EDONET ||
                    network.type === _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["NetworkType"].FLORENCENET ||
                    network.type === _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["NetworkType"].CUSTOM));
        });
    }
    sendAbortedError(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const responseInput = {
                id: request.id,
                type: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].Error,
                errorType: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconErrorType"].ABORTED_ERROR
            }; // TODO: Fix type
            const response = Object.assign({ senderId: yield Object(_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["getSenderId"])(yield this.client.beaconId), version: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BEACON_VERSION"] }, responseInput);
            yield this.respond(response, request);
        });
    }
    sendNetworkNotSupportedError(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const responseInput = {
                id: request.id,
                type: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].Error,
                errorType: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconErrorType"].NETWORK_NOT_SUPPORTED
            }; // TODO: Fix type
            const response = Object.assign({ senderId: yield Object(_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["getSenderId"])(yield this.client.beaconId), version: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BEACON_VERSION"] }, responseInput);
            yield this.respond(response, request);
            yield this.displayErrorPage(new Error('Network not supported!'));
        });
    }
    sendAccountNotFound(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const responseInput = {
                id: request.id,
                type: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].Error,
                errorType: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconErrorType"].NO_ADDRESS_ERROR
            }; // TODO: Fix type
            const response = Object.assign({ senderId: yield Object(_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["getSenderId"])(yield this.client.beaconId), version: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BEACON_VERSION"] }, responseInput);
            yield this.respond(response, request);
            yield this.displayErrorPage(new Error('Account not found'));
        });
    }
    sendInvalidTransaction(request, error /* ErrorWithData */) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const responseInput = {
                id: request.id,
                type: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].Error,
                errorType: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconErrorType"].TRANSACTION_INVALID_ERROR,
                errorData: error.data
            }; // TODO: Fix type
            const response = Object.assign({ senderId: yield Object(_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["getSenderId"])(yield this.client.beaconId), version: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BEACON_VERSION"] }, responseInput);
            let errorMessage = '';
            try {
                errorMessage =
                    error.data && Array.isArray(error.data)
                        ? `The contract returned the following error: ${error.data.find((f) => f && f.with && f.with.string).with.string}`
                        : error.message;
            }
            catch (_a) { }
            console.error('error.message', errorMessage);
            yield this.respond(response, request);
            yield this.displayErrorPage({
                title: error.title,
                message: errorMessage,
                data: error.data ? error.data : error.stack
            });
        });
    }
    getProtocolBasedOnBeaconNetwork(network) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const configs = {
                [_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["NetworkType"].MAINNET]: {
                    identifier: undefined,
                    name: undefined,
                    type: undefined,
                    rpcUrl: undefined,
                    blockExplorer: undefined,
                    extras: {
                        network: undefined,
                        conseilUrl: undefined,
                        conseilNetwork: undefined,
                        conseilApiKey: undefined
                    }
                },
                [_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["NetworkType"].EDONET]: {
                    identifier: undefined,
                    name: network.name || 'Edonet',
                    type: _airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_6__["NetworkType"].TESTNET,
                    rpcUrl: network.rpcUrl || 'https://tezos-edonet-node.prod.gke.papers.tech',
                    blockExplorer: new _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["TezblockBlockExplorer"]('https://edonet.tezblock.io'),
                    extras: {
                        network: _airgap_coinlib_core_protocols_tezos_TezosProtocol__WEBPACK_IMPORTED_MODULE_3__["TezosNetwork"].EDONET,
                        conseilUrl: 'https://tezos-edonet-conseil.prod.gke.papers.tech',
                        conseilNetwork: _airgap_coinlib_core_protocols_tezos_TezosProtocol__WEBPACK_IMPORTED_MODULE_3__["TezosNetwork"].EDONET,
                        conseilApiKey: 'airgap00391'
                    }
                },
                [_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["NetworkType"].FLORENCENET]: {
                    identifier: undefined,
                    name: network.name || 'Florencenet',
                    type: _airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_6__["NetworkType"].TESTNET,
                    rpcUrl: network.rpcUrl || 'https://tezos-florencenet-node.prod.gke.papers.tech',
                    blockExplorer: new _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["TezblockBlockExplorer"]('https://florencenet.tezblock.io'),
                    extras: {
                        network: _airgap_coinlib_core_protocols_tezos_TezosProtocol__WEBPACK_IMPORTED_MODULE_3__["TezosNetwork"].FLORENCENET,
                        conseilUrl: 'https://tezos-florencenet-conseil.prod.gke.papers.tech',
                        conseilNetwork: _airgap_coinlib_core_protocols_tezos_TezosProtocol__WEBPACK_IMPORTED_MODULE_3__["TezosNetwork"].FLORENCENET,
                        conseilApiKey: 'airgap00391'
                    }
                },
                [_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["NetworkType"].GRANADANET]: {
                    identifier: undefined,
                    name: network.name || 'Granadanet',
                    type: _airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_6__["NetworkType"].TESTNET,
                    rpcUrl: network.rpcUrl || 'https://tezos-granadanet-node.prod.gke.papers.tech',
                    blockExplorer: new _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["TezblockBlockExplorer"]('https://granadanet.tezblock.io'),
                    extras: {
                        network: _airgap_coinlib_core_protocols_tezos_TezosProtocol__WEBPACK_IMPORTED_MODULE_3__["TezosNetwork"].FLORENCENET,
                        conseilUrl: 'https://tezos-granadanet-conseil.prod.gke.papers.tech',
                        conseilNetwork: _airgap_coinlib_core_protocols_tezos_TezosProtocol__WEBPACK_IMPORTED_MODULE_3__["TezosNetwork"].FLORENCENET,
                        conseilApiKey: 'airgap00391'
                    }
                },
                [_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["NetworkType"].CUSTOM]: {
                    identifier: undefined,
                    name: network.name || 'Custom Network',
                    type: _airgap_coinlib_core_utils_ProtocolNetwork__WEBPACK_IMPORTED_MODULE_6__["NetworkType"].CUSTOM,
                    rpcUrl: network.rpcUrl || '',
                    blockExplorer: new _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["TezblockBlockExplorer"](''),
                    extras: {
                        network: _airgap_coinlib_core_protocols_tezos_TezosProtocol__WEBPACK_IMPORTED_MODULE_3__["TezosNetwork"].MAINNET,
                        conseilUrl: '',
                        conseilNetwork: _airgap_coinlib_core_protocols_tezos_TezosProtocol__WEBPACK_IMPORTED_MODULE_3__["TezosNetwork"].MAINNET,
                        conseilApiKey: ''
                    }
                }
            };
            return new _airgap_coinlib_core_protocols_tezos_TezosProtocol__WEBPACK_IMPORTED_MODULE_3__["TezosProtocol"](new _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["TezosProtocolOptions"](new _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["TezosProtocolNetwork"](configs[network.type].name, configs[network.type].type, configs[network.type].rpcUrl, configs[network.type].blockExplorer, new _airgap_coinlib_core_protocols_tezos_TezosProtocolOptions__WEBPACK_IMPORTED_MODULE_4__["TezosProtocolNetworkExtras"](configs[network.type].extras.network, configs[network.type].extras.conseilUrl, configs[network.type].extras.conseilNetwork, configs[network.type].extras.conseilApiKey))));
        });
    }
    getResponseByRequestType(requestType) {
        const map = new Map();
        map.set(_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].BroadcastRequest, _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].BroadcastResponse);
        map.set(_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].OperationRequest, _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].OperationResponse);
        map.set(_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].PermissionRequest, _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].PermissionResponse);
        map.set(_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].SignPayloadRequest, _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].SignPayloadResponse);
        return map.get(requestType);
    }
    getConnectedServer() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return yield this.client.storage.get(_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["StorageKey"].MATRIX_SELECTED_NODE);
        });
    }
    getClient() {
        return new _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["WalletClient"]({ name: 'AirGap Wallet' });
    }
}
BeaconService.ɵfac = function BeaconService_Factory(t) { return new (t || BeaconService)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["LoadingController"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ToastController"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵinject"](_storage_storage__WEBPACK_IMPORTED_MODULE_9__["WalletStorageService"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_5__["ProtocolService"])); };
BeaconService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineInjectable"]({ token: BeaconService, factory: BeaconService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "qfnF":
/*!****************************************************!*\
  !*** ./src/app/ledger/app/tezos/TezosLedgerApp.ts ***!
  \****************************************************/
/*! exports provided: TezosLedgerApp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TezosLedgerApp", function() { return TezosLedgerApp; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _obsidiansystems_hw_app_xtz__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @obsidiansystems/hw-app-xtz */ "Vi/m");
/* harmony import */ var _obsidiansystems_hw_app_xtz__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_obsidiansystems_hw_app_xtz__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _LedgerApp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../LedgerApp */ "6odL");




class TezosLedgerApp extends _LedgerApp__WEBPACK_IMPORTED_MODULE_3__["LedgerApp"] {
    constructor() {
        super(...arguments);
        this.protocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["TezosProtocol"]();
        this.derivationPath = this.protocol.standardDerivationPath.slice(2).replace(/h/g, "'");
    }
    importWallet(priceService) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const app = new _obsidiansystems_hw_app_xtz__WEBPACK_IMPORTED_MODULE_2___default.a(this.connection.transport);
            const result = yield app.getAddress(this.derivationPath, true);
            return new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["AirGapMarketWallet"](this.protocol, result.publicKey.slice(2), false, this.protocol.standardDerivationPath, '', _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["AirGapWalletStatus"].ACTIVE, priceService);
        });
    }
    signTransaction(transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const app = new _obsidiansystems_hw_app_xtz__WEBPACK_IMPORTED_MODULE_2___default.a(this.connection.transport);
            const watermark = '03';
            const result = yield app.signOperation(this.derivationPath, Buffer.from(watermark + transaction.binaryTransaction, 'hex'));
            return transaction.binaryTransaction + result.signature;
        });
    }
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/node-libs-browser/node_modules/buffer/index.js */ "HDXh").Buffer))

/***/ }),

/***/ "qlYR":
/*!************************************************************!*\
  !*** ./src/app/ledger/app/substrate/SubstrateLedgerApp.ts ***!
  \************************************************************/
/*! exports provided: SubstrateLedgerApp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubstrateLedgerApp", function() { return SubstrateLedgerApp; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_common_data_transaction_SubstrateSignature__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/substrate/common/data/transaction/SubstrateSignature */ "To+w");
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_common_data_transaction_SubstrateSignature__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_substrate_common_data_transaction_SubstrateSignature__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_common_data_transaction_SubstrateTransaction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/substrate/common/data/transaction/SubstrateTransaction */ "ycHN");
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_common_data_transaction_SubstrateTransaction__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_substrate_common_data_transaction_SubstrateTransaction__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_compat_SubstrateCompatSignature__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @airgap/coinlib-core/protocols/substrate/compat/SubstrateCompatSignature */ "5i9N");
/* harmony import */ var _airgap_coinlib_core_protocols_substrate_compat_SubstrateCompatSignature__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_protocols_substrate_compat_SubstrateCompatSignature__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _ReturnCode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ReturnCode */ "5T1b");
/* harmony import */ var _LedgerApp__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../LedgerApp */ "6odL");







class SubstrateLedgerApp extends _LedgerApp__WEBPACK_IMPORTED_MODULE_6__["LedgerApp"] {
    importWallet(priceService) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                const derivationPath = this.derivationPathToArray(this.protocol.standardDerivationPath);
                const [account, change, addressIndex] = derivationPath.slice(2);
                const app = this.getApp();
                const response = yield app.getAddress(account, change, addressIndex, true);
                return response.return_code === _ReturnCode__WEBPACK_IMPORTED_MODULE_5__["ReturnCode"].SUCCESS
                    ? new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["AirGapMarketWallet"](this.protocol, response.pubKey, false, this.protocol.standardDerivationPath, '', _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["AirGapWalletStatus"].ACTIVE, priceService)
                    : this.rejectWithError('Could not import wallet', response);
            }
            catch (error) {
                return this.rejectWithError('Could not import wallet', error);
            }
        });
    }
    signTransaction(transaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const txs = this.protocol.options.transactionController.decodeDetails(transaction.encoded);
            const signedTxs = [];
            for (const tx of txs) {
                signedTxs.push(yield this.signSubstrateTransaction(tx.transaction, tx.payload));
            }
            if (signedTxs.some((tx) => tx === null)) {
                return Promise.reject('Rejected');
            }
            txs.forEach((tx, index) => (tx.transaction = signedTxs[index]));
            return this.protocol.options.transactionController.encodeDetails(txs);
        });
    }
    signSubstrateTransaction(transaction, payload) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                const derivationPath = this.derivationPathToArray(this.protocol.standardDerivationPath);
                const [account, change, addressIndex] = derivationPath.slice(2);
                const app = this.getApp();
                const response = yield app.sign(account, change, addressIndex, Buffer.from(payload, 'hex'));
                if (response.return_code === _ReturnCode__WEBPACK_IMPORTED_MODULE_5__["ReturnCode"].SUCCESS) {
                    const signatureType = _airgap_coinlib_core_protocols_substrate_common_data_transaction_SubstrateSignature__WEBPACK_IMPORTED_MODULE_2__["SubstrateSignatureType"][_airgap_coinlib_core_protocols_substrate_common_data_transaction_SubstrateSignature__WEBPACK_IMPORTED_MODULE_2__["SubstrateSignatureType"][response.signature.readUInt8(0)]];
                    const signatureBuffer = response.signature.slice(1, 65);
                    const signature = Object(_airgap_coinlib_core_protocols_substrate_compat_SubstrateCompatSignature__WEBPACK_IMPORTED_MODULE_4__["substrateSignatureFactory"])(this.protocol.options.network.extras.network).create(signatureType, signatureBuffer);
                    return _airgap_coinlib_core_protocols_substrate_common_data_transaction_SubstrateTransaction__WEBPACK_IMPORTED_MODULE_3__["SubstrateTransaction"].fromTransaction(transaction, { signature });
                }
                else if (response.return_code === _ReturnCode__WEBPACK_IMPORTED_MODULE_5__["ReturnCode"].COMMAND_NOT_ALLOWED ||
                    response.error_message.includes(_ReturnCode__WEBPACK_IMPORTED_MODULE_5__["ReturnCode"].COMMAND_NOT_ALLOWED.toString(16)) // workaround until return codes are fixed in the substrate app lib
                ) {
                    // thrown when sign rejected
                    return null;
                }
                else {
                    return this.rejectWithError('Could not sign transaction', response);
                }
            }
            catch (error) {
                return this.rejectWithError('Could not sign transaction', error);
            }
        });
    }
    rejectWithError(header, error) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return Promise.reject(typeof error === 'string' || error instanceof Error
                ? `${header}, ${error}`
                : `${header}, ${error.error_message} (code 0x${error.return_code.toString(16).toLocaleUpperCase()})`);
        });
    }
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/node-libs-browser/node_modules/buffer/index.js */ "HDXh").Buffer))

/***/ }),

/***/ "r/DQ":
/*!***********************************************************************************!*\
  !*** ./src/app/components/current-wallet-group/current-wallet-group.component.ts ***!
  \***********************************************************************************/
/*! exports provided: CurrentWalletGroupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrentWalletGroupComponent", function() { return CurrentWalletGroupComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core/wallet/AirGapWallet */ "7pxb");
/* harmony import */ var _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _services_account_account_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/account/account.provider */ "57MG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var _pipes_group_label_group_label_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../pipes/group-label/group-label.pipe */ "1UBK");










function CurrentWalletGroupComponent_ion_item_0_p_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "p", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](3, "groupLabel");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](4, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](2, 1, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](3, 3, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](4, 5, ctx_r1.currentGroup$))), " ");
} }
function CurrentWalletGroupComponent_ion_item_0_ion_select_7_ion_select_option_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "ion-select-option", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](1, "ion-text");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](4, "groupLabel");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
} if (rf & 2) {
    const group_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("value", group_r4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](3, 2, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](4, 4, group_r4)), " ");
} }
function CurrentWalletGroupComponent_ion_item_0_ion_select_7_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "ion-select", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("ionChange", function CurrentWalletGroupComponent_ion_item_0_ion_select_7_Template_ion_select_ionChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2); return ctx_r5.onChange($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](1, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](2, CurrentWalletGroupComponent_ion_item_0_ion_select_7_ion_select_option_2_Template, 5, 6, "ion-select-option", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](3, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("value", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](1, 2, ctx_r2.currentGroup$));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](3, 4, ctx_r2.groups$));
} }
function CurrentWalletGroupComponent_ion_item_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "ion-item", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](1, "ion-text", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](4, CurrentWalletGroupComponent_ion_item_0_p_4_Template, 5, 7, "p", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](5, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](6, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](7, CurrentWalletGroupComponent_ion_item_0_ion_select_7_Template, 4, 6, "ion-select", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](8, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](9, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](3, 3, "current-wallet-group.label"));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](5, 5, ctx_r0.groups$) && _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](6, 7, ctx_r0.groups$).length === 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](8, 9, ctx_r0.groups$) && _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](9, 11, ctx_r0.groups$).length > 1);
} }
class CurrentWalletGroupComponent {
    constructor(accountProvider) {
        this.accountProvider = accountProvider;
        this.groups$ = this.accountProvider.getWalletGroupsObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((groups) => {
            const activeGroups = groups.filter((group) => group.status === _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_1__["AirGapWalletStatus"].ACTIVE);
            return activeGroups.length > 1 ? ['all', ...activeGroups] : activeGroups;
        }));
        this.currentGroup$ = this.accountProvider.getActiveWalletGroupObservable();
    }
    onChange(event) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const changedGroup = event.detail.value;
            const currentGroup = yield this.currentGroup$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["first"])()).toPromise();
            if (!this.accountProvider.isSameGroup(changedGroup, currentGroup)) {
                this.accountProvider.setActiveGroup(changedGroup);
            }
        });
    }
}
CurrentWalletGroupComponent.ɵfac = function CurrentWalletGroupComponent_Factory(t) { return new (t || CurrentWalletGroupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_services_account_account_provider__WEBPACK_IMPORTED_MODULE_3__["AccountProvider"])); };
CurrentWalletGroupComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({ type: CurrentWalletGroupComponent, selectors: [["current-wallet-group"]], decls: 3, vars: 5, consts: [["lines", "none", "button", "true", "detail", "false", 4, "ngIf"], ["lines", "none", "button", "true", "detail", "false"], ["slot", "start", "color", "medium"], ["slot", "end", 4, "ngIf"], ["slot", "end", "interface", "popover", 3, "value", "ionChange", 4, "ngIf"], ["slot", "end"], ["slot", "end", "interface", "popover", 3, "value", "ionChange"], [3, "value", 4, "ngFor", "ngForOf"], [3, "value"]], template: function CurrentWalletGroupComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, CurrentWalletGroupComponent_ion_item_0_Template, 10, 13, "ion-item", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](1, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](2, "async");
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](1, 1, ctx.groups$) && _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](2, 3, ctx.groups$).length > 0);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonSelect"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["SelectValueAccessor"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonSelectOption"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["AsyncPipe"], _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__["TranslatePipe"], _pipes_group_label_group_label_pipe__WEBPACK_IMPORTED_MODULE_8__["GroupLabelPipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjdXJyZW50LXdhbGxldC1ncm91cC5jb21wb25lbnQuc2NzcyJ9 */"] });


/***/ }),

/***/ "rYTG":
/*!*************************************************************!*\
  !*** ./src/app/services/interaction/interaction.service.ts ***!
  \*************************************************************/
/*! exports provided: InteractionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InteractionService", function() { return InteractionService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var src_app_models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/models/AirGapMarketWalletGroup */ "z4jU");
/* harmony import */ var _data_data_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../data/data.service */ "1y+R");
/* harmony import */ var _operations_operations__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../operations/operations */ "nxqh");
/* harmony import */ var _sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ "fXoL");













class InteractionService {
    constructor(dataService, deeplinkService, operationsProvider, router) {
        this.dataService = dataService;
        this.deeplinkService = deeplinkService;
        this.operationsProvider = operationsProvider;
        this.router = router;
    }
    startInteraction(group, wallet, interactionData, type, airGapTxs, isRelay = false, generatedId) {
        const interactionSetting = group.interactionSetting;
        switch (interactionSetting) {
            case src_app_models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_4__["InteractionSetting"].UNDETERMINED:
                this.goToInteractionSelectionPage(group, wallet, airGapTxs, interactionData, type, isRelay, generatedId);
                break;
            case src_app_models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_4__["InteractionSetting"].ALWAYS_ASK:
                this.goToInteractionSelectionPage(group, wallet, airGapTxs, interactionData, type, isRelay, generatedId);
                break;
            case src_app_models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_4__["InteractionSetting"].SAME_DEVICE:
                this.sameDeviceSign(wallet, interactionData, type, isRelay, generatedId);
                break;
            case src_app_models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_4__["InteractionSetting"].OFFLINE_DEVICE:
                this.offlineDeviceSign(wallet, airGapTxs, interactionData, type, isRelay, generatedId);
                break;
            case src_app_models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_4__["InteractionSetting"].LEDGER:
                this.ledgerSign(wallet, airGapTxs, interactionData);
                break;
            default:
        }
    }
    goToInteractionSelectionPage(group, wallet, airGapTxs, interactionData, type, isRelay = false, generatedId) {
        const info = {
            group,
            wallet,
            airGapTxs,
            data: interactionData,
            type,
            isRelay,
            generatedId,
        };
        this.dataService.setData(_data_data_service__WEBPACK_IMPORTED_MODULE_5__["DataServiceKey"].INTERACTION, info);
        this.router.navigateByUrl('/interaction-selection/' + _data_data_service__WEBPACK_IMPORTED_MODULE_5__["DataServiceKey"].INTERACTION).catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["ErrorCategory"].NAVIGATION));
    }
    offlineDeviceSign(wallet, airGapTxs, interactionData, type, isRelay = false, generatedId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const dataQR = yield this.prepareQRData(wallet, interactionData, type, isRelay, generatedId);
            const info = {
                wallet,
                airGapTxs,
                data: dataQR,
                interactionData
            };
            this.dataService.setData(_data_data_service__WEBPACK_IMPORTED_MODULE_5__["DataServiceKey"].TRANSACTION, info);
            this.router.navigateByUrl('/transaction-qr/' + _data_data_service__WEBPACK_IMPORTED_MODULE_5__["DataServiceKey"].TRANSACTION).catch((err) => console.error(err));
        });
    }
    sameDeviceSign(wallet, interactionData, type, isRelay = false, generatedId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const dataQR = yield this.prepareQRData(wallet, interactionData, type, isRelay, generatedId);
            this.deeplinkService
                .sameDeviceDeeplink(dataQR)
                .then(() => {
                this.router.navigateByUrl('/tabs/portfolio').catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["ErrorCategory"].NAVIGATION));
            })
                .catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["ErrorCategory"].DEEPLINK_PROVIDER));
        });
    }
    ledgerSign(wallet, airGapTxs, data) {
        const info = {
            wallet: wallet,
            airGapTxs: airGapTxs,
            data
        };
        this.dataService.setData(_data_data_service__WEBPACK_IMPORTED_MODULE_5__["DataServiceKey"].TRANSACTION, info);
        this.router.navigateByUrl('/ledger-sign/' + _data_data_service__WEBPACK_IMPORTED_MODULE_5__["DataServiceKey"].TRANSACTION).catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["ErrorCategory"].NAVIGATION));
    }
    prepareQRData(wallet, interactionData, type, isRelay = false, generatedId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (isRelay) {
                return interactionData;
            }
            generatedId = generatedId ? generatedId : Object(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["generateId"])(8);
            return this.operationsProvider.prepareSignRequest(wallet, interactionData, type, generatedId).catch((error) => {
                console.warn(`Could not serialize transaction: ${error}`);
                // TODO: Show error (toast)
                return interactionData; // Fallback
            });
        });
    }
}
InteractionService.ɵfac = function InteractionService_Factory(t) { return new (t || InteractionService)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵinject"](_data_data_service__WEBPACK_IMPORTED_MODULE_5__["DataService"]), _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["DeeplinkService"]), _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵinject"](_operations_operations__WEBPACK_IMPORTED_MODULE_6__["OperationsProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"])); };
InteractionService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineInjectable"]({ token: InteractionService, factory: InteractionService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "rtTb":
/*!***************************************************!*\
  !*** ./src/app/models/actions/DelegatorAction.ts ***!
  \***************************************************/
/*! exports provided: AirGapDelegatorAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AirGapDelegatorAction", function() { return AirGapDelegatorAction; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var src_app_services_data_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/data/data.service */ "1y+R");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _airgap_coinlib_core_actions_Action__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core/actions/Action */ "u8Qk");
/* harmony import */ var _airgap_coinlib_core_actions_Action__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_actions_Action__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/sentry-error-handler/sentry-error-handler */ "hPkG");





class AirGapDelegatorAction extends _airgap_coinlib_core_actions_Action__WEBPACK_IMPORTED_MODULE_3__["Action"] {
    constructor(context) {
        super(context);
        this.context = context;
    }
    perform() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.loader = yield this.context.loadingController.create({
                message: 'Preparing transaction...'
            });
            yield this.loader.present().catch(Object(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["handleErrorSentry"])(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["ErrorCategory"].IONIC_LOADER));
            try {
                const { airGapTxs, unsignedTx } = yield this.context.operationsProvider.prepareDelegatorAction(this.context.wallet, this.context.type, this.context.data);
                const info = {
                    wallet: this.context.wallet,
                    airGapTxs,
                    data: unsignedTx,
                    type: _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["IACMessageType"].TransactionSignRequest
                };
                this.context.dataService.setData(src_app_services_data_data_service__WEBPACK_IMPORTED_MODULE_1__["DataServiceKey"].INTERACTION, info);
                this.context.accountService.startInteraction(this.context.wallet, unsignedTx, _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["IACMessageType"].TransactionSignRequest, airGapTxs);
            }
            catch (error) {
                Object(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["handleErrorSentry"])(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["ErrorCategory"].OTHER)(`${this.identifier}-${error}`);
                const toast = yield this.context.toastController.create({
                    message: error.message,
                    duration: 3000,
                    position: 'bottom'
                });
                toast.present().catch(Object(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["handleErrorSentry"])(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["ErrorCategory"].IONIC_TOAST));
            }
            finally {
                this.dismissLoader();
            }
        });
    }
    dismissLoader() {
        if (this.loader) {
            this.loader.dismiss().catch(Object(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["handleErrorSentry"])(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_4__["ErrorCategory"].IONIC_LOADER));
        }
    }
}


/***/ }),

/***/ "ryp6":
/*!************************************!*\
  !*** ./src/app/models/Deferred.ts ***!
  \************************************/
/*! exports provided: Deferred */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Deferred", function() { return Deferred; });
class Deferred {
    constructor() {
        this.promise = new Promise((resolve, reject) => {
            this._resolve = resolve;
            this._reject = reject;
        });
        this.state = 'pending';
    }
    resolve(value) {
        if (this.state === 'pending') {
            this.state = 'resolved';
            this._resolve(value);
        }
    }
    reject(reason) {
        if (this.state === 'pending') {
            this.state = 'rejected';
            this._reject(reason);
        }
    }
}


/***/ }),

/***/ "sAqu":
/*!*****************************************************************!*\
  !*** ./src/app/components/tezos-fa-form/tezos-fa-form.utils.ts ***!
  \*****************************************************************/
/*! exports provided: contractNotFoundError, interfaceUnknownError, tokenMetadataMissingError, tokenVaugeError, unknownError, isTezosFAFormError, hasTokenInterface, getTzipStandard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "contractNotFoundError", function() { return contractNotFoundError; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "interfaceUnknownError", function() { return interfaceUnknownError; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tokenMetadataMissingError", function() { return tokenMetadataMissingError; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tokenVaugeError", function() { return tokenVaugeError; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unknownError", function() { return unknownError; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isTezosFAFormError", function() { return isTezosFAFormError; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasTokenInterface", function() { return hasTokenInterface; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTzipStandard", function() { return getTzipStandard; });
/* harmony import */ var _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tezos-fa-form.types */ "UsL9");

function contractNotFoundError() {
    return { type: _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_0__["TezosFAFormErrorType"].CONTRACT_NOT_FOUND };
}
function interfaceUnknownError(tokenInterfaces = Object.values(_tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_0__["TokenInterface"])) {
    return { type: _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_0__["TezosFAFormErrorType"].INTERFACE_UNKNOWN, tokenInterfaces };
}
function tokenMetadataMissingError() {
    return { type: _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_0__["TezosFAFormErrorType"].TOKEN_METADATA_MISSING };
}
function tokenVaugeError(tokenMetadataRegistry) {
    const tokens = Object.entries(tokenMetadataRegistry).map(([tokenID, tokenMetadata]) => ({
        id: parseInt(tokenID),
        name: tokenMetadata.name
    }));
    return { type: _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_0__["TezosFAFormErrorType"].TOKEN_VAGUE, tokens };
}
function unknownError(error) {
    return { type: _tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_0__["TezosFAFormErrorType"].UNKNOWN, error };
}
function isTezosFAFormError(error) {
    return typeof error === 'object' && Object.values(_tezos_fa_form_types__WEBPACK_IMPORTED_MODULE_0__["TezosFAFormErrorType"]).includes(error['type']);
}
function hasTokenInterface(metadata, tokenInterface) {
    var _a, _b;
    const targetTzip = getTzipStandard(tokenInterface);
    if (targetTzip === undefined) {
        return false;
    }
    return (_b = (_a = metadata.interfaces) === null || _a === void 0 ? void 0 : _a.some((value) => {
        const tzip = getTzipStandard(value);
        if (tzip === undefined) {
            return false;
        }
        return tzip === targetTzip;
    })) !== null && _b !== void 0 ? _b : false;
}
function getTzipStandard(value) {
    if (!value.toLowerCase().startsWith('tzip-')) {
        return undefined;
    }
    const tzip = parseInt(value.split('-')[1], 10);
    return !isNaN(tzip) ? tzip : undefined;
}


/***/ }),

/***/ "sXsg":
/*!*****************************************************************!*\
  !*** ./src/app/components/widget-icon-text/widget-icon-text.ts ***!
  \*****************************************************************/
/*! exports provided: WidgetIconText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidgetIconText", function() { return WidgetIconText; });
/* harmony import */ var src_app_models_widgets_display_UIIconText__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/models/widgets/display/UIIconText */ "tZEG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");





function WidgetIconText_h2_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "h2", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r0.widget.text));
} }
function WidgetIconText_h2_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "h2", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](1, "translate");
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](1, 1, ctx_r1.widget.textHTML), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeHtml"]);
} }
function WidgetIconText_h3_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "h3");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r2.widget.description));
} }
function WidgetIconText_h3_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "h3", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](1, "translate");
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](1, 1, ctx_r3.widget.descriptionHTML), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeHtml"]);
} }
class WidgetIconText {
}
WidgetIconText.ɵfac = function WidgetIconText_Factory(t) { return new (t || WidgetIconText)(); };
WidgetIconText.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: WidgetIconText, selectors: [["widget-icon-text"]], inputs: { widget: "widget" }, decls: 8, vars: 5, consts: [["lines", "none", 1, "ion-no-padding", "ion-no-margin"], ["slot", "start", 1, "content--align__center-center", "border--container"], [3, "name"], [1, "ion-text-wrap"], ["class", "font--weight__bold", "ion-text", "", "color", "black", 4, "ngIf"], ["class", "font--weight__bold", "ion-text", "", "color", "black", 3, "innerHTML", 4, "ngIf"], [4, "ngIf"], [3, "innerHTML", 4, "ngIf"], ["ion-text", "", "color", "black", 1, "font--weight__bold"], ["ion-text", "", "color", "black", 1, "font--weight__bold", 3, "innerHTML"], [3, "innerHTML"]], template: function WidgetIconText_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "ion-item", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "ion-avatar", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](2, "ion-icon", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "ion-label", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](4, WidgetIconText_h2_4_Template, 3, 3, "h2", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, WidgetIconText_h2_5_Template, 2, 3, "h2", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, WidgetIconText_h3_6_Template, 3, 3, "h3", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, WidgetIconText_h3_7_Template, 2, 3, "h3", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("name", ctx.widget.iconName);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.widget.text);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.widget.textHTML);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.widget.description);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.widget.descriptionHTML);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonAvatar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonIcon"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonLabel"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslatePipe"]], styles: [".border--container[_ngcontent-%COMP%] {\n  border: 1px solid var(--ion-color-secondary);\n  border-radius: 50%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3dpZGdldC1pY29uLXRleHQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDRDQUFBO0VBQ0Esa0JBQUE7QUFDRiIsImZpbGUiOiJ3aWRnZXQtaWNvbi10ZXh0LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYm9yZGVyLS1jb250YWluZXIge1xuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuIl19 */"] });


/***/ }),

/***/ "t3gT":
/*!****************************************************!*\
  !*** ./src/app/services/guard/serviceKey.guard.ts ***!
  \****************************************************/
/*! exports provided: ServiceKeyGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ServiceKeyGuard", function() { return ServiceKeyGuard; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _data_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/data.service */ "1y+R");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");




class ServiceKeyGuard {
    constructor(router) {
        this.router = router;
    }
    canActivate(route) {
        const serviceID = route.params.id;
        if (!Object.values(_data_data_service__WEBPACK_IMPORTED_MODULE_1__["DataServiceKey"]).includes(serviceID)) {
            window.alert("The service you're trying to access is invalid");
            this.router.navigateByUrl('/');
        }
        return Object.values(_data_data_service__WEBPACK_IMPORTED_MODULE_1__["DataServiceKey"]).includes(serviceID);
    }
}
ServiceKeyGuard.ɵfac = function ServiceKeyGuard_Factory(t) { return new (t || ServiceKeyGuard)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_0__["Router"])); };
ServiceKeyGuard.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: ServiceKeyGuard, factory: ServiceKeyGuard.ɵfac });


/***/ }),

/***/ "tZEG":
/*!******************************************************!*\
  !*** ./src/app/models/widgets/display/UIIconText.ts ***!
  \******************************************************/
/*! exports provided: UIIconText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIIconText", function() { return UIIconText; });
/* harmony import */ var _UIWidget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../UIWidget */ "Ochd");

class UIIconText extends _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidget"] {
    constructor(config) {
        super(config);
        this.type = _UIWidget__WEBPACK_IMPORTED_MODULE_0__["UIWidgetType"].ICON_TEXT;
        this.iconName = config.iconName;
        this.text = config.text;
        this.textHTML = config.textHTML;
        this.description = config.description;
        this.descriptionHTML = config.descriptionHTML;
    }
    onFormGroupSet() {
        console.log('set');
    }
}


/***/ }),

/***/ "tkru":
/*!***********************************************************!*\
  !*** ./src/app/pages/walletconnect/walletconnect.page.ts ***!
  \***********************************************************/
/*! exports provided: WalletconnectPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WalletconnectPage", function() { return WalletconnectPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/beacon-sdk */ "hzei");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var src_app_services_account_account_provider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/account/account.provider */ "57MG");
/* harmony import */ var src_app_services_beacon_beacon_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/beacon/beacon.service */ "q3zY");
/* harmony import */ var src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var src_app_services_walletconnect_helpers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/walletconnect/helpers */ "GP4y");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _components_permission_request_permission_request_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../components/permission-request/permission-request.component */ "ScAI");
/* harmony import */ var _components_walletconnect_from_to_walletconnect_from_to_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../components/walletconnect-from-to/walletconnect-from-to.component */ "FYRx");


















function WalletconnectPage_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](1, "permission-request", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("walletSetEmitter", function WalletconnectPage_ng_container_7_Template_permission_request_walletSetEmitter_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](); return ctx_r5.setWallet($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("address", ctx_r0.address)("requesterName", ctx_r0.requesterName)("icon", ctx_r0.icon)("targetProtocolSymbol", "eth");
} }
function WalletconnectPage_div_8_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](1, "walletconnect-from-to", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("onRawTransactionUpdate", function WalletconnectPage_div_8_div_1_Template_walletconnect_from_to_onRawTransactionUpdate_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2); return ctx_r9.updateRawTransaction($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const airGapTransaction_r8 = ctx.$implicit;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("rawTransaction", ctx_r7.rawTransaction)("airGapTransaction", airGapTransaction_r8);
} }
function WalletconnectPage_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](1, WalletconnectPage_div_8_div_1_Template, 2, 2, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngForOf", ctx_r1.airGapTransactions);
} }
function WalletconnectPage_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](1, "ion-row", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](2, "ion-col", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](3, "pre", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](5, "json");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](5, 1, ctx_r2.beaconRequest));
} }
function WalletconnectPage_ng_container_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](2, 1, "beacon-request.continue_label"), " ");
} }
function WalletconnectPage_ng_container_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](2, 1, "beacon-request.connect_label"));
} }
var Methods;
(function (Methods) {
    Methods["SESSION_REQUEST"] = "session_request";
    Methods["ETH_SENDTRANSACTION"] = "eth_sendTransaction";
    Methods["PERSONAL_SIGN_REQUEST"] = "personal_sign";
    Methods["ETH_SIGN_TYPED_DATA"] = "eth_signTypedData";
})(Methods || (Methods = {}));
class WalletconnectPage {
    constructor(modalController, accountService, alertCtrl, beaconService, translateService, toastController) {
        this.modalController = modalController;
        this.accountService = accountService;
        this.alertCtrl = alertCtrl;
        this.beaconService = beaconService;
        this.translateService = translateService;
        this.toastController = toastController;
        this.title = '';
        this.requesterName = '';
        this.description = '';
        this.url = '';
        this.icon = '';
        this.selectableWallets = [];
        this.requestMethod = Methods;
    }
    get address() {
        if (this.selectedWallet !== undefined) {
            return this.selectedWallet.receivingPublicAddress;
        }
        return '';
    }
    ngOnInit() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.subscription = this.accountService.allWallets$.asObservable().subscribe((wallets) => {
                this.selectableWallets = wallets.filter((wallet) => (wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].ETH || wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].RBTC) &&
                    wallet.status === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["AirGapWalletStatus"].ACTIVE);
                if (this.selectableWallets.length > 0) {
                    this.selectedWallet = this.selectableWallets[0];
                }
            });
            if (this.request && this.request.method === Methods.SESSION_REQUEST) {
                this.title = this.translateService.instant('walletconnect.connection_request');
                yield this.permissionRequest(this.request);
            }
            if (this.request && this.request.method === Methods.ETH_SENDTRANSACTION) {
                this.title = this.translateService.instant('walletconnect.new_transaction');
                yield this.operationRequest(this.request);
            }
            if (this.request && this.request.method === Methods.PERSONAL_SIGN_REQUEST) {
                this.title = this.translateService.instant('walletconnect.sign_request');
                yield this.signRequest(this.request);
            }
            if (this.request && this.request.method === Methods.ETH_SIGN_TYPED_DATA) {
                this.title = this.translateService.instant('walletconnect.sign_typed_data');
                yield this.notSupportedAlert();
            }
        });
    }
    updateRawTransaction(rawTransaction) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.rawTransaction = Object.assign(Object.assign({}, this.rawTransaction), { gasPrice: rawTransaction.gasPrice, gasLimit: rawTransaction.gasLimit });
            const ethereumProtocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["EthereumProtocol"]();
            this.airGapTransactions = yield ethereumProtocol.getTransactionDetails({
                publicKey: this.selectedWallet.publicKey,
                transaction: this.rawTransaction
            });
            this.responseHandler = () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                this.accountService.startInteraction(this.selectedWallet, this.rawTransaction, _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["IACMessageType"].TransactionSignRequest, this.airGapTransactions);
            });
            const toast = yield this.toastController.create({
                message: `Updated Transaction Details`,
                duration: 2000,
                position: 'bottom'
            });
            toast.present();
        });
    }
    done() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.responseHandler) {
                yield this.responseHandler();
            }
            yield this.dismissModal();
        });
    }
    signRequest(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const message = request.params[0];
            const address = request.params[1];
            if (!this.selectedWallet) {
                throw new Error('no wallet found!');
            }
            const requestId = new bignumber_js__WEBPACK_IMPORTED_MODULE_5___default.a(request.id).toString();
            const generatedId = Object(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["generateId"])(8);
            const protocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["EthereumProtocol"]();
            this.beaconRequest = {
                type: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].SignPayloadRequest,
                signingType: 'raw',
                payload: message,
                sourceAddress: address,
                id: requestId,
                senderId: '',
                appMetadata: { senderId: '', name: '' },
                version: '2'
            };
            this.beaconService.addVaultRequest(this.beaconRequest, protocol);
            this.responseHandler = () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                this.accountService.startInteraction(this.selectedWallet, this.beaconRequest, _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["IACMessageType"].MessageSignRequest, undefined, false, generatedId);
            });
        });
    }
    permissionRequest(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.description = request.params[0].peerMeta.description ? request.params[0].peerMeta.description : '';
            this.url = request.params[0].peerMeta.url ? request.params[0].peerMeta.url : '';
            this.icon = request.params[0].peerMeta.icons ? request.params[0].peerMeta.icons[0] : '';
            this.requesterName = request.params[0].peerMeta.name ? request.params[0].peerMeta.name : '';
            if (!this.selectedWallet) {
                throw new Error('no wallet found!');
            }
            this.responseHandler = () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                // Approve Session
                const approveData = {
                    chainId: 1,
                    accounts: [this.address]
                };
                if (this.connector) {
                    this.connector.approveSession(approveData);
                    Object(src_app_services_walletconnect_helpers__WEBPACK_IMPORTED_MODULE_9__["saveWalletConnectSession"])(this.connector.peerId, this.connector.session);
                }
            });
        });
    }
    operationRequest(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const ethereumProtocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["EthereumProtocol"]();
            if (!this.selectedWallet) {
                throw new Error('no wallet found!');
            }
            const options = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["EthereumProtocolOptions"]();
            const gasPrice = yield options.nodeClient.getGasPrice();
            const txCount = yield options.nodeClient.fetchTransactionCount(this.selectedWallet.receivingPublicAddress);
            const protocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["EthereumProtocol"]();
            const eth = request.params[0];
            this.rawTransaction = {
                nonce: eth.nonce ? eth.nonce : `0x${new bignumber_js__WEBPACK_IMPORTED_MODULE_5___default.a(txCount).toString(16)}`,
                gasPrice: eth.gasPrice ? eth.gasPrice : `0x${new bignumber_js__WEBPACK_IMPORTED_MODULE_5___default.a(gasPrice).toString(16)}`,
                gasLimit: `0x${(300000).toString(16)}`,
                to: eth.to,
                value: eth.value,
                chainId: 1,
                data: eth.data
            };
            const walletConnectRequest = {
                transaction: this.rawTransaction,
                id: request.id
            };
            this.beaconService.addVaultRequest(walletConnectRequest, protocol);
            this.airGapTransactions = yield ethereumProtocol.getTransactionDetails({
                publicKey: this.selectedWallet.publicKey,
                transaction: this.rawTransaction
            });
            this.responseHandler = () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                this.accountService.startInteraction(this.selectedWallet, this.rawTransaction, _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["IACMessageType"].TransactionSignRequest, this.airGapTransactions);
            });
        });
    }
    dismissModal() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.modalController.dismiss().catch(Object(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["handleErrorSentry"])(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["ErrorCategory"].NAVIGATION));
        });
    }
    dismiss() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.dismissModal();
            this.rejectRequest(this.request.id);
        });
    }
    rejectRequest(id) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.connector.rejectRequest({
                id: id,
                error: {
                    message: 'USER_REJECTION' // optional
                }
            });
        });
    }
    notSupportedAlert() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const alert = yield this.alertCtrl.create({
                header: this.translateService.instant('walletconnect.alert.title'),
                message: this.translateService.instant('walletconnect.alert.message'),
                backdropDismiss: false,
                buttons: [
                    {
                        text: 'ok',
                        role: 'cancel',
                        handler: () => {
                            this.dismiss();
                        }
                    }
                ]
            });
            alert.present().catch(Object(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["handleErrorSentry"])(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["ErrorCategory"].IONIC_ALERT));
        });
    }
    setWallet(wallet) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.selectedWallet = wallet;
        });
    }
    ngOnDestroy() {
        this.subscription.unsubscribe();
    }
}
WalletconnectPage.ɵfac = function WalletconnectPage_Factory(t) { return new (t || WalletconnectPage)(_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](src_app_services_account_account_provider__WEBPACK_IMPORTED_MODULE_6__["AccountProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](src_app_services_beacon_beacon_service__WEBPACK_IMPORTED_MODULE_7__["BeaconService"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslateService"]), _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"])); };
WalletconnectPage.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵdefineComponent"]({ type: WalletconnectPage, selectors: [["app-walletconnect"]], decls: 17, vars: 9, consts: [[1, "ion-no-border"], ["fixed", "true", 1, "ion-no-padding"], [1, "ion-padding"], [4, "ngIf"], ["class", "ion-padding-bottom ion-margin-bottom", 4, "ngIf"], ["vertical", "bottom", "horizontal", "end", "slot", "fixed"], ["shape", "round", "color", "secondary", 3, "click"], ["shape", "round", "color", "primary", 3, "click"], [3, "address", "requesterName", "icon", "targetProtocolSymbol", "walletSetEmitter"], [1, "ion-padding-bottom", "ion-margin-bottom"], [4, "ngFor", "ngForOf"], [3, "rawTransaction", "airGapTransaction", "onRawTransactionUpdate"], [1, "rawdata--container"], [1, "ion-no-padding"], [1, "ion-no-margin"]], template: function WalletconnectPage_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](0, "ion-header", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](1, "ion-grid", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](2, "ion-toolbar");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](3, "ion-title");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](5, "ion-content", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](6, "ion-grid", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](7, WalletconnectPage_ng_container_7_Template, 2, 4, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](8, WalletconnectPage_div_8_Template, 2, 1, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](9, WalletconnectPage_div_9_Template, 6, 3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](10, "ion-fab", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](11, "ion-button", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("click", function WalletconnectPage_Template_ion_button_click_11_listener() { return ctx.dismiss(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtext"](12);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipe"](13, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementStart"](14, "ion-button", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵlistener"]("click", function WalletconnectPage_Template_ion_button_click_14_listener() { return ctx.done(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](15, WalletconnectPage_ng_container_15_Template, 3, 3, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtemplate"](16, WalletconnectPage_ng_container_16_Template, 3, 3, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate"](ctx.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.request.method === ctx.requestMethod.SESSION_REQUEST);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.request.method === ctx.requestMethod.ETH_SENDTRANSACTION);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.request.method === ctx.requestMethod.PERSONAL_SIGN_REQUEST || ctx.request.method === ctx.requestMethod.ETH_SIGN_TYPED_DATA);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵpipeBind1"](13, 7, "beacon-request.cancel_label"));
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.request.method !== ctx.requestMethod.SESSION_REQUEST);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_10__["ɵɵproperty"]("ngIf", ctx.request.method === ctx.requestMethod.SESSION_REQUEST);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonHeader"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonGrid"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonToolbar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonTitle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonContent"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonFab"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonButton"], _components_permission_request_permission_request_component__WEBPACK_IMPORTED_MODULE_12__["PermissionRequestComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgForOf"], _components_walletconnect_from_to_walletconnect_from_to_component__WEBPACK_IMPORTED_MODULE_13__["WalletconnectFromToComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonCol"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["JsonPipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ3YWxsZXRjb25uZWN0LnBhZ2Uuc2NzcyJ9 */"] });


/***/ }),

/***/ "vAld":
/*!*******************************************************!*\
  !*** ./src/app/components/amount/amount.component.ts ***!
  \*******************************************************/
/*! exports provided: AmountComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AmountComponent", function() { return AmountComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _validators_DecimalValidator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../validators/DecimalValidator */ "fUHw");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");










function AmountComponent_form_0_ion_col_18_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ion-col", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "ion-text", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "p", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 1, "transaction-prepare.error.amount_label"), " ");
} }
function AmountComponent_form_0_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "ion-row", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "ion-col", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "ion-item", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "ion-label", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Amount");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "ion-input", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "ion-text", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "p", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "ion-col", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "ion-toolbar");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "ion-buttons", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "ion-button", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AmountComponent_form_0_Template_ion_button_click_14_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.toggleMaxAmount(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](16, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "ion-row", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](18, AmountComponent_form_0_ion_col_18_Template, 5, 3, "ion-col", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx_r0.delegationForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx_r0.disabled);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("$", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](10, 7, ctx_r0.delegationForm.get("amount").value * ctx_r0.wallet.currentMarketPrice.toNumber(), "1.2-2"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("fill", ctx_r0.sendMaxAmount ? "solid" : "outline")("disabled", ctx_r0.disabled);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](16, 10, "transaction-prepare.fee.max_label"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.delegationForm.controls["amount"].valid);
} }
class AmountComponent {
    constructor(formBuilder) {
        this.formBuilder = formBuilder;
        this.amount = 0;
        this.sendMaxAmount = false;
        this.disabled = false;
        this.amountEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.delegationForm = this.formBuilder.group({
            amount: [this.amount, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required])]
        });
        this.onChanges();
    }
    IonViewDidEnter() {
        this.delegationForm = this.formBuilder.group({
            amount: [this.amount, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required, _validators_DecimalValidator__WEBPACK_IMPORTED_MODULE_4__["DecimalValidator"].validate(this.wallet.protocol.decimals)])]
        });
    }
    toggleMaxAmount() {
        this.sendMaxAmount = !this.sendMaxAmount;
        if (this.sendMaxAmount) {
            this.setMaxAmount();
        }
    }
    onChanges() {
        this.delegationForm.valueChanges.subscribe((val) => {
            if (val && val.amount) {
                this.amountEmitter.emit(new bignumber_js__WEBPACK_IMPORTED_MODULE_3__["BigNumber"](val.amount).shiftedBy(this.wallet.protocol.decimals));
            }
        });
    }
    setMaxAmount() {
        let amount;
        if (this.capMaxAmount) {
            amount = this.capMaxAmount.shiftedBy(-1 * this.wallet.protocol.decimals).toNumber();
        }
        else {
            amount = this.wallet.currentBalance.shiftedBy(-1 * this.wallet.protocol.decimals).toNumber();
        }
        this.delegationForm.controls.amount.setValue(amount, {
            emitEvent: true
        });
    }
}
AmountComponent.ɵfac = function AmountComponent_Factory(t) { return new (t || AmountComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"])); };
AmountComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AmountComponent, selectors: [["amount"]], inputs: { wallet: "wallet", capMaxAmount: "capMaxAmount", disabled: "disabled" }, outputs: { amountEmitter: "amountEmitter" }, decls: 1, vars: 1, consts: [["class", "ion-padding-bottom", 3, "formGroup", 4, "ngIf"], [1, "ion-padding-bottom", 3, "formGroup"], [1, "ion-padding-horizontal", "padding-top", "ion-align-items-center", "amount__container"], ["size", "9", 1, "amount--container__input", "ion-no-padding"], ["clasS", "ion-no-padding", "lines", "none", 3, "disabled"], ["color", "blackLight", "position", "stacked", 1, "ion-no-margin"], ["type", "number", "formControlName", "amount", "id", "amount-input", "placeholder", "0.0"], ["color", "blackLight", 1, "ion-no-margin"], [1, "ion-no-margin"], ["size", "3", 1, "ion-no-padding"], ["slot", "end"], ["shape", "round", "size", "small", "color", "secondary", 3, "fill", "disabled", "click"], [1, "ion-padding-horizontal", "ion-padding-bottom"], ["size", "12", 4, "ngIf"], ["size", "12"], ["color", "danger", 1, "ion-no-margin"]], template: function AmountComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, AmountComponent_form_0_Template, 19, 12, "form", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.wallet);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_ba"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonInput"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["NumericValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonToolbar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonButtons"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonButton"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["DecimalPipe"], _ngx_translate_core__WEBPACK_IMPORTED_MODULE_7__["TranslatePipe"]], styles: [".amount__container[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%] {\n  border-bottom-color: transparent !important;\n  box-shadow: none !important;\n}\n.amount__container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%] {\n  font-size: 1.4em;\n  font-weight: bold;\n  margin: 0;\n  --padding-top: 12px;\n  --padding-bottom: 12px;\n}\n.amount__container[_ngcontent-%COMP%]   .amount--container__input[_ngcontent-%COMP%], .amount__container[_ngcontent-%COMP%]   .amount--container__input[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%] {\n  padding-right: 0;\n}\n.progress--container[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 4px;\n  background-color: rgba(0, 232, 204, 0.12);\n}\n.progress--current[_ngcontent-%COMP%] {\n  height: inherit;\n  background-color: var(--ion-color-primary);\n}\n.border--container[_ngcontent-%COMP%] {\n  border: 1px solid var(--ion-color-secondary);\n  border-radius: 50%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2Ftb3VudC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLDJDQUFBO0VBQ0EsMkJBQUE7QUFBSjtBQUVFO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLFNBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0FBQUo7QUFFRTs7RUFFRSxnQkFBQTtBQUFKO0FBR0E7RUFDRSxXQUFBO0VBQ0EsV0FBQTtFQUNBLHlDQUFBO0FBQUY7QUFFQTtFQUNFLGVBQUE7RUFDQSwwQ0FBQTtBQUNGO0FBQ0E7RUFDRSw0Q0FBQTtFQUNBLGtCQUFBO0FBRUYiLCJmaWxlIjoiYW1vdW50LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmFtb3VudF9fY29udGFpbmVyIHtcbiAgLml0ZW0taW5uZXIge1xuICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG4gICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xuICB9XG4gIGlvbi1pbnB1dCB7XG4gICAgZm9udC1zaXplOiAxLjRlbTtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBtYXJnaW46IDA7XG4gICAgLS1wYWRkaW5nLXRvcDogMTJweDtcbiAgICAtLXBhZGRpbmctYm90dG9tOiAxMnB4O1xuICB9XG4gIC5hbW91bnQtLWNvbnRhaW5lcl9faW5wdXQsXG4gIC5hbW91bnQtLWNvbnRhaW5lcl9faW5wdXQgLml0ZW0taW5uZXIge1xuICAgIHBhZGRpbmctcmlnaHQ6IDA7XG4gIH1cbn1cbi5wcm9ncmVzcy0tY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDIzMiwgMjA0LCAwLjEyKTtcbn1cbi5wcm9ncmVzcy0tY3VycmVudCB7XG4gIGhlaWdodDogaW5oZXJpdDtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufVxuLmJvcmRlci0tY29udGFpbmVyIHtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbn1cbiJdfQ== */"] });


/***/ }),

/***/ "vMYo":
/*!***********************************************************************************************!*\
  !*** ./src/app/components/widget-account-extended-details/widget-account-extended-details.ts ***!
  \***********************************************************************************************/
/*! exports provided: WidgetAccountExtendedDetails */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidgetAccountExtendedDetails", function() { return WidgetAccountExtendedDetails; });
/* harmony import */ var src_app_models_widgets_display_UIAccountExtendedDetails__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/models/widgets/display/UIAccountExtendedDetails */ "kq8F");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");





function WidgetAccountExtendedDetails_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "ion-row", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "ion-col");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "ion-text", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "h3", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "ion-col");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "p", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const item_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 2, item_r1.label), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", item_r1.text, " ");
} }
class WidgetAccountExtendedDetails {
}
WidgetAccountExtendedDetails.ɵfac = function WidgetAccountExtendedDetails_Factory(t) { return new (t || WidgetAccountExtendedDetails)(); };
WidgetAccountExtendedDetails.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: WidgetAccountExtendedDetails, selectors: [["widget-account-extended-details"]], inputs: { widget: "widget" }, decls: 1, vars: 1, consts: [[4, "ngFor", "ngForOf"], [1, "ion-padding-horizontal", "ion-padding-top"], ["color", "blackLight"], [1, "typography--mono", "ion-no-margin"], [1, "ion-text-end", "ion-no-margin"]], template: function WidgetAccountExtendedDetails_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, WidgetAccountExtendedDetails_ng_container_0_Template, 11, 4, "ng-container", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.widget.items);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonText"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslatePipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ3aWRnZXQtYWNjb3VudC1leHRlbmRlZC1kZXRhaWxzLnNjc3MifQ== */"] });


/***/ }),

/***/ "vY5A":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _services_guard_protocol_guard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/guard/protocol.guard */ "opNj");
/* harmony import */ var _services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./services/guard/serviceKey.guard */ "t3gT");
/* harmony import */ var _services_guard_transactionHash_guard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/guard/transactionHash.guard */ "T6L0");
/* harmony import */ var _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./services/resolver/data-resolver.service */ "chTo");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "fXoL");







const routes = [
    { path: '', loadChildren: () => Promise.all(/*! import() | pages-tabs-tabs-module */[__webpack_require__.e("common"), __webpack_require__.e("pages-tabs-tabs-module")]).then(__webpack_require__.bind(null, /*! ./pages/tabs/tabs.module */ "qiIP")).then((m) => m.TabsPageModule) },
    { path: 'about', loadChildren: () => __webpack_require__.e(/*! import() | pages-about-about-module */ "pages-about-about-module").then(__webpack_require__.bind(null, /*! ./pages/about/about.module */ "UoYK")).then((m) => m.AboutPageModule) },
    {
        path: 'account-add',
        loadChildren: () => Promise.all(/*! import() | pages-account-add-account-add-module */[__webpack_require__.e("common"), __webpack_require__.e("pages-account-add-account-add-module")]).then(__webpack_require__.bind(null, /*! ./pages/account-add/account-add.module */ "+hnQ")).then((m) => m.AccountAddPageModule)
    },
    {
        path: 'account-import-interaction-selection/:id',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => Promise.all(/*! import() | pages-account-import-interaction-selection-account-import-interaction-selection-module */[__webpack_require__.e("common"), __webpack_require__.e("pages-account-import-interaction-selection-account-import-interaction-selection-module")]).then(__webpack_require__.bind(null, /*! ./pages/account-import-interaction-selection/account-import-interaction-selection.module */ "xl0V")).then((m) => m.AccountImportInteractionSelectionPageModule)
    },
    {
        path: 'account-import-onboarding/:id/:protocolID',
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-account-import-onboarding-account-import-onboarding-module */ "pages-account-import-onboarding-account-import-onboarding-module").then(__webpack_require__.bind(null, /*! ./pages/account-import-onboarding/account-import-onboarding.module */ "rLSj")).then((m) => m.AccountImportOnboardingPageModule)
    },
    {
        path: 'account-import-ledger-onboarding/:id/:protocolID',
        canActivate: [_services_guard_protocol_guard__WEBPACK_IMPORTED_MODULE_1__["ProtocolGuard"], _services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => Promise.all(/*! import() | pages-account-import-ledger-onboarding-account-import-ledger-onboarding-module */[__webpack_require__.e("common"), __webpack_require__.e("pages-account-import-ledger-onboarding-account-import-ledger-onboarding-module")]).then(__webpack_require__.bind(null, /*! ./pages/account-import-ledger-onboarding/account-import-ledger-onboarding.module */ "VPfA")).then((m) => m.AccountImportLedgerOnboardingPageModule)
    },
    {
        path: 'select-wallet/:id',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-select-wallet-select-wallet-module */ "pages-select-wallet-select-wallet-module").then(__webpack_require__.bind(null, /*! ./pages/select-wallet/select-wallet.module */ "JmH0")).then((m) => m.SelectWalletPageModule)
    },
    {
        path: 'account-import/:id',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-account-import-account-import-module */ "pages-account-import-account-import-module").then(__webpack_require__.bind(null, /*! ./pages/account-import/account-import.module */ "MsxR")).then((m) => m.AccountImportPageModule)
    },
    {
        path: 'account-transaction-list/:id/:publicKey/:protocolID/:addressIndex',
        canActivate: [_services_guard_protocol_guard__WEBPACK_IMPORTED_MODULE_1__["ProtocolGuard"], _services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => Promise.all(/*! import() | pages-account-transaction-list-account-transaction-list-module */[__webpack_require__.e("common"), __webpack_require__.e("pages-account-transaction-list-account-transaction-list-module")]).then(__webpack_require__.bind(null, /*! ./pages/account-transaction-list/account-transaction-list.module */ "e+VP")).then((m) => m.AccountTransactionListPageModule)
    },
    {
        path: 'transaction-detail/:id/:hash',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"], _services_guard_transactionHash_guard__WEBPACK_IMPORTED_MODULE_3__["TransactionHashGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-transaction-detail-transaction-detail-module */ "pages-transaction-detail-transaction-detail-module").then(__webpack_require__.bind(null, /*! ./pages/transaction-detail/transaction-detail.module */ "iOgD")).then((m) => m.TransactionDetailPageModule)
    },
    {
        path: 'sub-account-add/:id/:publicKey/:protocolID/:addressIndex/:subProtocolType',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_protocol_guard__WEBPACK_IMPORTED_MODULE_1__["ProtocolGuard"], _services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-sub-account-add-sub-account-add-module */ "pages-sub-account-add-sub-account-add-module").then(__webpack_require__.bind(null, /*! ./pages/sub-account-add/sub-account-add.module */ "cq7r")).then((m) => m.SubAccountAddPageModule)
    },
    {
        path: 'sub-account-add-generic/:id/:protocolID/:networkID/:genericSubProtocolType',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_protocol_guard__WEBPACK_IMPORTED_MODULE_1__["ProtocolGuard"], _services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-sub-account-add-generic-sub-account-add-generic-module */ "pages-sub-account-add-generic-sub-account-add-generic-module").then(__webpack_require__.bind(null, /*! ./pages/sub-account-add-generic/sub-account-add-generic.module */ "woE1")).then((m) => m.SubAccountAddGenericPageModule)
    },
    {
        path: 'sub-account-select/:id',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-sub-account-select-sub-account-select-module */ "pages-sub-account-select-sub-account-select-module").then(__webpack_require__.bind(null, /*! ./pages/sub-account-select/sub-account-select.module */ "iG6f")).then((m) => m.SubAccountSelectPageModule)
    },
    {
        path: 'sub-account-import/:id/:protocolID/:networkID',
        canActivate: [_services_guard_protocol_guard__WEBPACK_IMPORTED_MODULE_1__["ProtocolGuard"], _services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-sub-account-import-sub-account-import-module */ "pages-sub-account-import-sub-account-import-module").then(__webpack_require__.bind(null, /*! ./pages/sub-account-import/sub-account-import.module */ "Q4oi")).then((m) => m.SubAccountImportPageModule)
    },
    {
        path: 'account-address/:id/:publicKey/:protocolID/:addressIndex',
        canActivate: [_services_guard_protocol_guard__WEBPACK_IMPORTED_MODULE_1__["ProtocolGuard"], _services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-account-address-account-address-module */ "pages-account-address-account-address-module").then(__webpack_require__.bind(null, /*! ./pages/account-address/account-address.module */ "9MgY")).then((m) => m.AccountAddressPageModule)
    },
    {
        path: 'transaction-prepare/:id/:publicKey/:protocolID/:addressIndex/:address/:amount/:forceMigration',
        canActivate: [_services_guard_protocol_guard__WEBPACK_IMPORTED_MODULE_1__["ProtocolGuard"], _services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-transaction-prepare-transaction-prepare-module */ "pages-transaction-prepare-transaction-prepare-module").then(__webpack_require__.bind(null, /*! ./pages/transaction-prepare/transaction-prepare.module */ "RpAR")).then((m) => m.TransactionPreparePageModule)
    },
    {
        path: 'interaction-selection/:id',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-interaction-selection-interaction-selection-module */ "pages-interaction-selection-interaction-selection-module").then(__webpack_require__.bind(null, /*! ./pages/interaction-selection/interaction-selection.module */ "bh/N")).then((m) => m.InteractionSelectionPageModule)
    },
    {
        path: 'transaction-qr/:id',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-transaction-qr-transaction-qr-module */ "pages-transaction-qr-transaction-qr-module").then(__webpack_require__.bind(null, /*! ./pages/transaction-qr/transaction-qr.module */ "Ldsa")).then((m) => m.TransactionQrPageModule)
    },
    {
        path: 'scan-address/:id',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => Promise.all(/*! import() | pages-scan-address-scan-address-module */[__webpack_require__.e("common"), __webpack_require__.e("pages-scan-address-scan-address-module")]).then(__webpack_require__.bind(null, /*! ./pages/scan-address/scan-address.module */ "sRsn")).then((m) => m.ScanAddressPageModule)
    },
    {
        path: 'exchange-confirm/:id',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-exchange-confirm-exchange-confirm-module */ "pages-exchange-confirm-exchange-confirm-module").then(__webpack_require__.bind(null, /*! ./pages/exchange-confirm/exchange-confirm.module */ "68Zl")).then((m) => m.ExchangeConfirmPageModule)
    },
    {
        path: 'transaction-confirm/:id',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-transaction-confirm-transaction-confirm-module */ "pages-transaction-confirm-transaction-confirm-module").then(__webpack_require__.bind(null, /*! ./pages/transaction-confirm/transaction-confirm.module */ "1ZIO")).then((m) => m.TransactionConfirmPageModule)
    },
    {
        path: 'delegation-detail/:id/:publicKey/:protocolID/:addressIndex',
        canActivate: [_services_guard_protocol_guard__WEBPACK_IMPORTED_MODULE_1__["ProtocolGuard"], _services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-delegation-detail-delegation-detail-module */ "pages-delegation-detail-delegation-detail-module").then(__webpack_require__.bind(null, /*! ./pages/delegation-detail/delegation-detail.module */ "SY1b")).then((m) => m.DelegationDetailPageModule)
    },
    {
        path: 'dapp-settings',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-dapp-settings-dapp-settings-module */ "pages-dapp-settings-dapp-settings-module").then(__webpack_require__.bind(null, /*! ./pages/dapp-settings/dapp-settings.module */ "NVtK")).then((m) => m.SettingsBeaconPageModule)
    },
    {
        path: 'delegation-list/:id',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-delegation-list-delegation-list-module */ "pages-delegation-list-delegation-list-module").then(__webpack_require__.bind(null, /*! ./pages/delegation-list/delegation-list.module */ "lbWX")).then((m) => m.DelegationListPageModule)
    },
    {
        path: 'exchange-select',
        loadChildren: () => Promise.resolve(/*! import() */).then(__webpack_require__.bind(null, /*! ./pages/exchange-select/exchange-select.module */ "L9w3")).then((m) => m.ExchangeSelectPageModule)
    },
    {
        path: 'exchange-custom',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-exchange-custom-exchange-custom-module */ "pages-exchange-custom-exchange-custom-module").then(__webpack_require__.bind(null, /*! ./pages/exchange-custom/exchange-custom.module */ "M7UE")).then((m) => m.ExchangeCustomPageModule)
    },
    {
        path: 'ledger-sign/:id',
        resolve: {
            special: _services_resolver_data_resolver_service__WEBPACK_IMPORTED_MODULE_4__["DataResolverService"]
        },
        canActivate: [_services_guard_serviceKey_guard__WEBPACK_IMPORTED_MODULE_2__["ServiceKeyGuard"]],
        loadChildren: () => __webpack_require__.e(/*! import() | pages-ledger-sign-ledger-sign-module */ "pages-ledger-sign-ledger-sign-module").then(__webpack_require__.bind(null, /*! ./pages/ledger-sign/ledger-sign.module */ "awK3")).then((m) => m.LedgerSignPageModule)
    },
    {
        path: 'dapp-permission-list',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-dapp-permission-list-dapp-permission-list-module */ "pages-dapp-permission-list-dapp-permission-list-module").then(__webpack_require__.bind(null, /*! ./pages/dapp-permission-list/dapp-permission-list.module */ "npiH")).then((m) => m.DappPermissionListPageModule)
    },
    {
        path: 'error',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-error-error-module */ "pages-error-error-module").then(__webpack_require__.bind(null, /*! ./pages/error/error.module */ "YVio")).then((m) => m.ErrorPageModule)
    },
    {
        path: 'walletconnect',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-walletconnect-walletconnect-module */ "pages-walletconnect-walletconnect-module").then(__webpack_require__.bind(null, /*! ./pages/walletconnect/walletconnect.module */ "SpQq")).then((m) => m.WalletconnectPageModule)
    },
    {
        path: 'qr-settings',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-qr-settings-qr-settings-module */ "pages-qr-settings-qr-settings-module").then(__webpack_require__.bind(null, /*! ./pages/qr-settings/qr-settings.module */ "Fdfl")).then((m) => m.QrSettingsPageModule)
    },
    {
        path: 'health-check',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-health-check-health-check-module */ "pages-health-check-health-check-module").then(__webpack_require__.bind(null, /*! ./pages/health-check/health-check.module */ "b5sV")).then((m) => m.HealthCheckPageModule)
    },
    {
        path: 'account-activate/:id/:protocolID',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-account-activate-account-activate-module */ "pages-account-activate-account-activate-module").then(__webpack_require__.bind(null, /*! ./pages/account-activate/account-activate.module */ "Awna")).then((m) => m.AccountActivatePageModule)
    },
    {
        path: 'dapp-confirm',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-dapp-confirm-dapp-confirm-module */ "pages-dapp-confirm-dapp-confirm-module").then(__webpack_require__.bind(null, /*! ./pages/dapp-confirm/dapp-confirm.module */ "+LIU")).then((m) => m.DappConfirmPageModule)
    },
    {
        path: 'interaction-selection-settings',
        loadChildren: () => __webpack_require__.e(/*! import() | pages-interaction-selection-settings-interaction-selection-settings-module */ "pages-interaction-selection-settings-interaction-selection-settings-module").then(__webpack_require__.bind(null, /*! ./pages/interaction-selection-settings/interaction-selection-settings.module */ "EeFB")).then((m) => m.InteractionSelectionSettingsPageModule)
    }
];
class AppRoutingModule {
}
AppRoutingModule.ɵfac = function AppRoutingModule_Factory(t) { return new (t || AppRoutingModule)(); };
AppRoutingModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineNgModule"]({ type: AppRoutingModule });
AppRoutingModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineInjector"]({ imports: [[_angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"].forRoot(routes, { preloadingStrategy: _angular_router__WEBPACK_IMPORTED_MODULE_0__["PreloadAllModules"], relativeLinkResolution: 'corrected' })], _angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵsetNgModuleScope"](AppRoutingModule, { imports: [_angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"]], exports: [_angular_router__WEBPACK_IMPORTED_MODULE_0__["RouterModule"]] }); })();


/***/ }),

/***/ "veta":
/*!*************************************************************!*\
  !*** ./src/app/pages/beacon-request/beacon-request.page.ts ***!
  \*************************************************************/
/*! exports provided: isUnknownObject, BeaconRequestPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isUnknownObject", function() { return isUnknownObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BeaconRequestPage", function() { return BeaconRequestPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/beacon-sdk */ "hzei");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var src_app_services_account_account_provider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/account/account.provider */ "57MG");
/* harmony import */ var src_app_services_data_data_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/data/data.service */ "1y+R");
/* harmony import */ var src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var src_app_pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/pipes/shorten-string/shorten-string.pipe */ "iLEx");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _components_permission_request_permission_request_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../components/permission-request/permission-request.component */ "ScAI");
/* harmony import */ var _components_from_to_from_to_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../components/from-to/from-to.component */ "zY7Z");
























function BeaconRequestPage_ng_container_10_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](1, "ion-card", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](2, "ion-item", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](3, "ion-avatar", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](4, "airgap-identicon", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](5, "ion-label", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](6, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](8, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](9, "h3");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](11, "img", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("address", ctx_r3.requesterName);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](8, 3, "beacon-request.request-by-dapp_label"));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](ctx_r3.requesterName);
} }
function BeaconRequestPage_ng_container_10_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](1, "permission-request", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("walletSetEmitter", function BeaconRequestPage_ng_container_10_ng_container_2_Template_permission_request_walletSetEmitter_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return ctx_r8.setWallet($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("address", ctx_r4.address)("requesterName", ctx_r4.requesterName)("inputs", ctx_r4.inputs)("network", ctx_r4.network)("targetProtocolSymbol", "xtz");
} }
function BeaconRequestPage_ng_container_10_ion_row_3_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](1, "airgap-from-to", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const transaction_r11 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("transaction", transaction_r11);
} }
function BeaconRequestPage_ng_container_10_ion_row_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "ion-row");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, BeaconRequestPage_ng_container_10_ion_row_3_ng_container_1_Template, 2, 1, "ng-container", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngForOf", ctx_r5.transactions);
} }
function BeaconRequestPage_ng_container_10_div_4_ion_row_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "ion-row", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](1, "ion-col", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](2, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](5, "pre", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](7, "json");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](4, 2, "beacon-request.sign-data_label"));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](7, 4, ctx_r12.request.payload));
} }
function BeaconRequestPage_ng_container_10_div_4_ion_row_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "ion-row", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](1, "ion-col", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](2, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](5, "pre", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](4, 2, "beacon-request.blake2b_hash"));
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](ctx_r13.blake2bHash);
} }
function BeaconRequestPage_ng_container_10_div_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, BeaconRequestPage_ng_container_10_div_4_ion_row_1_Template, 8, 6, "ion-row", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](2, BeaconRequestPage_ng_container_10_div_4_ion_row_2_Template, 7, 4, "ion-row", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r6.request && ctx_r6.request.payload);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r6.blake2bHash);
} }
function BeaconRequestPage_ng_container_10_div_5_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](1, "ion-row", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](2, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](3, "Preparing operation...");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](4, "ion-progress-bar", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} }
function BeaconRequestPage_ng_container_10_div_5_Template(rf, ctx) { if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](1, "beacon-from-to", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("onWrappedOperationUpdate", function BeaconRequestPage_ng_container_10_div_5_Template_beacon_from_to_onWrappedOperationUpdate_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵrestoreView"](_r16); const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2); return ctx_r15.updateWrappedOperation($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](2, BeaconRequestPage_ng_container_10_div_5_ng_container_2_Template, 5, 0, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("transactions", ctx_r7.transactions)("wrappedOperation", ctx_r7.wrappedOperation);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", !ctx_r7.transactions || ctx_r7.transactions && ctx_r7.transactions.length === 0);
} }
function BeaconRequestPage_ng_container_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](1, BeaconRequestPage_ng_container_10_ng_container_1_Template, 12, 5, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](2, BeaconRequestPage_ng_container_10_ng_container_2_Template, 2, 5, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](3, BeaconRequestPage_ng_container_10_ion_row_3_Template, 2, 1, "ion-row", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](4, BeaconRequestPage_ng_container_10_div_4_Template, 3, 2, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](5, BeaconRequestPage_ng_container_10_div_5_Template, 3, 3, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.request.type != "permission_request");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.request.type === "permission_request");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.request.type === "broadcast_request");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.request.type === "sign_payload_request");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx_r0.request.type === "operation_request");
} }
function BeaconRequestPage_ng_container_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](2, 1, "beacon-request.continue_label"));
} }
function BeaconRequestPage_ng_container_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](2, 1, "beacon-request.connect_label"));
} }
function isUnknownObject(x) {
    return x !== null && typeof x === 'object';
}
class BeaconRequestPage {
    constructor(modalController, accountService, dataService, router, alertController, shortenStringPipe, translateService, toastController) {
        this.modalController = modalController;
        this.accountService = accountService;
        this.dataService = dataService;
        this.router = router;
        this.alertController = alertController;
        this.shortenStringPipe = shortenStringPipe;
        this.translateService = translateService;
        this.toastController = toastController;
        this.title = '';
        this.requesterName = '';
        this.inputs = [];
        this.selectableWallets = [];
        this.subscription = this.accountService.allWallets$.asObservable().subscribe((wallets) => {
            this.selectableWallets = wallets.filter((wallet) => wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["MainProtocolSymbols"].XTZ && wallet.status === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["AirGapWalletStatus"].ACTIVE);
        });
    }
    get address() {
        if (this.selectedWallet !== undefined) {
            return this.selectedWallet.receivingPublicAddress;
        }
        return '';
    }
    ngOnInit() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.modalRef = yield this.modalController.getTop();
            this.requesterName = this.request.appMetadata.name;
            this.network = yield this.getNetworkFromRequest(this.request);
            if (this.request && this.request.type === _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].PermissionRequest) {
                this.title = 'beacon-request.title.permission-request';
                yield this.permissionRequest(this.request);
            }
            if (this.request && this.request.type === _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].SignPayloadRequest) {
                this.title = 'beacon-request.title.sign-payload-request';
                yield this.signRequest(this.request);
            }
            if (this.request && this.request.type === _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].OperationRequest) {
                this.title = 'beacon-request.title.operation-request';
                yield this.operationRequest(this.request);
            }
            if (this.request && this.request.type === _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].BroadcastRequest) {
                this.title = 'beacon-request.title.broadcast-request';
                yield this.broadcastRequest(this.request);
            }
        });
    }
    getNetworkFromRequest(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!request || request.type === _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].SignPayloadRequest) {
                return undefined;
            }
            const protocol = yield this.beaconService.getProtocolBasedOnBeaconNetwork(request.network);
            return protocol.options.network;
        });
    }
    cancel() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.beaconService.sendAbortedError(this.request);
            yield this.dismiss();
        });
    }
    dismiss() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.modalRef.dismiss().catch(Object(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["handleErrorSentry"])(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["ErrorCategory"].NAVIGATION));
        });
    }
    done() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.responseHandler) {
                yield this.responseHandler();
            }
            yield this.dismiss();
        });
    }
    displayErrorPage(error) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.beaconService.displayErrorPage(error);
            setTimeout(() => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                yield this.dismiss(); // TODO: This causes flickering because it's "behind" the error modal.
            }), 100);
        });
    }
    permissionRequest(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.selectableWallets.length > 0) {
                this.selectedWallet = this.selectableWallets[0];
            }
            if (!this.selectedWallet) {
                yield this.beaconService.sendAccountNotFound(request);
                return;
            }
            this.inputs = [
                {
                    name: 'sign',
                    type: 'checkbox',
                    label: 'beacon-request.permission.sign-transactions',
                    value: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["PermissionScope"].SIGN,
                    icon: 'create',
                    checked: request.scopes.indexOf(_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["PermissionScope"].SIGN) >= 0
                },
                {
                    name: 'operation_request',
                    type: 'checkbox',
                    label: 'beacon-request.permission.operation-request',
                    value: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["PermissionScope"].OPERATION_REQUEST,
                    icon: 'color-wand',
                    checked: request.scopes.indexOf(_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["PermissionScope"].OPERATION_REQUEST) >= 0
                },
                {
                    name: 'threshold',
                    type: 'checkbox',
                    label: 'beacon-request.permission.threshold',
                    value: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["PermissionScope"].THRESHOLD,
                    icon: 'code-working',
                    checked: request.scopes.indexOf(_airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["PermissionScope"].THRESHOLD) >= 0
                }
            ];
            this.responseHandler = () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const scopes = this.inputs.filter((input) => input.checked).map((input) => input.value);
                const response = {
                    id: request.id,
                    type: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["BeaconMessageType"].PermissionResponse,
                    publicKey: this.selectedWallet.publicKey,
                    network: request.network,
                    scopes
                };
                yield this.beaconService.respond(response, request);
            });
        });
    }
    changeAccount() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return new Promise(() => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                if (this.selectableWallets.length === 1) {
                    return;
                }
                const alert = yield this.alertController.create({
                    header: this.translateService.instant('beacon-request.select-account.alert'),
                    inputs: this.selectableWallets.map((wallet) => ({
                        label: this.shortenStringPipe.transform(wallet.receivingPublicAddress),
                        type: 'radio',
                        value: wallet,
                        checked: wallet.receivingPublicAddress === this.address
                    })),
                    buttons: [
                        {
                            text: 'Cancel',
                            role: 'cancel',
                            cssClass: 'secondary',
                            handler: () => {
                                this.dismiss();
                            }
                        },
                        {
                            text: 'Ok',
                            handler: (wallet) => {
                                this.selectedWallet = wallet;
                            }
                        }
                    ]
                });
                yield alert.present();
            }));
        });
    }
    signRequest(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const tezosProtocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["TezosProtocol"]();
            const selectedWallet = this.selectableWallets.find((wallet) => wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["MainProtocolSymbols"].XTZ && wallet.receivingPublicAddress === request.sourceAddress);
            if (!selectedWallet) {
                yield this.beaconService.sendAccountNotFound(request);
                return;
            }
            // TODO: Move check to service
            if (request.signingType === _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["SigningType"].OPERATION) {
                if (!request.payload.startsWith('03')) {
                    const error = new Error('When using signing type "OPERATION", the payload must start with prefix "03"');
                    error.stack = undefined;
                    return this.displayErrorPage(error);
                }
            }
            else if (request.signingType === _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["SigningType"].MICHELINE) {
                if (!request.payload.startsWith('05')) {
                    const error = new Error('When using signing type "MICHELINE", the payload must start with prefix "05"');
                    error.stack = undefined;
                    return this.displayErrorPage(error);
                }
            }
            try {
                const cryptoClient = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["TezosCryptoClient"]();
                this.blake2bHash = yield cryptoClient.blake2bLedgerHash(request.payload);
            }
            catch (_a) { }
            const generatedId = Object(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["generateId"])(8);
            yield this.beaconService.addVaultRequest(request, tezosProtocol);
            const clonedRequest = Object.assign({}, request);
            clonedRequest.id = new bignumber_js__WEBPACK_IMPORTED_MODULE_10___default.a(generatedId).toString(); // TODO: Remove?
            this.responseHandler = () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                this.accountService.startInteraction(selectedWallet, clonedRequest, _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["IACMessageType"].MessageSignRequest, undefined, false, generatedId);
            });
        });
    }
    operationRequest(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let tezosProtocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["TezosProtocol"]();
            const selectedWallet = this.selectableWallets.find((wallet) => wallet.protocol.identifier === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["MainProtocolSymbols"].XTZ && wallet.receivingPublicAddress === request.sourceAddress);
            if (!selectedWallet) {
                yield this.beaconService.sendAccountNotFound(request);
                return;
            }
            if (request.network.type !== _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["NetworkType"].MAINNET) {
                tezosProtocol = yield this.beaconService.getProtocolBasedOnBeaconNetwork(request.network);
            }
            try {
                this.wrappedOperation = yield tezosProtocol.prepareOperations(selectedWallet.publicKey, request.operationDetails, false); // don't override parameters
            }
            catch (error) {
                yield this.dismiss();
                this.beaconService.sendInvalidTransaction(request, error);
                return;
            }
            const forgedTransaction = yield tezosProtocol.forgeAndWrapOperations(this.wrappedOperation);
            const generatedId = Object(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["generateId"])(8);
            yield this.beaconService.addVaultRequest(request, tezosProtocol);
            this.transactions = yield tezosProtocol.getAirGapTxFromWrappedOperations({
                branch: '',
                contents: this.wrappedOperation.contents
            });
            this.responseHandler = () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const airGapTxs = yield tezosProtocol.getTransactionDetails({ publicKey: selectedWallet.publicKey, transaction: forgedTransaction });
                this.accountService.startInteraction(selectedWallet, forgedTransaction, _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["IACMessageType"].TransactionSignRequest, airGapTxs, false, generatedId);
            });
        });
    }
    updateWrappedOperation(wrappedOperation) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.request = Object.assign(Object.assign({}, this.request), { operationDetails: wrappedOperation.contents });
            yield this.operationRequest(this.request);
            const toast = yield this.toastController.create({
                message: `Updated Operation Details`,
                duration: 2000,
                position: 'bottom'
            });
            toast.present();
        });
    }
    broadcastRequest(request) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let tezosProtocol = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["TezosProtocol"]();
            const signedTx = request.signedTransaction;
            if (request.network.type !== _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_1__["NetworkType"].MAINNET) {
                tezosProtocol = yield this.beaconService.getProtocolBasedOnBeaconNetwork(request.network);
            }
            const generatedId = Object(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["generateId"])(8);
            yield this.beaconService.addVaultRequest(request, tezosProtocol);
            this.transactions = yield tezosProtocol.getTransactionDetailsFromSigned({
                accountIdentifier: '',
                transaction: signedTx
            });
            const messageDefinitionObject = {
                id: generatedId,
                type: _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["IACMessageType"].MessageSignResponse,
                protocol: _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_4__["MainProtocolSymbols"].XTZ,
                payload: {
                    accountIdentifier: '',
                    transaction: signedTx // wait for SDK to correctly serialize
                }
            };
            this.responseHandler = () => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const info = {
                    messageDefinitionObjects: [messageDefinitionObject]
                };
                this.dataService.setData(src_app_services_data_data_service__WEBPACK_IMPORTED_MODULE_6__["DataServiceKey"].TRANSACTION, info);
                this.router.navigateByUrl(`/transaction-confirm/${src_app_services_data_data_service__WEBPACK_IMPORTED_MODULE_6__["DataServiceKey"].TRANSACTION}`).catch(Object(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["handleErrorSentry"])(src_app_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_7__["ErrorCategory"].NAVIGATION));
            });
        });
    }
    setWallet(wallet) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.selectedWallet = wallet;
        });
    }
    ngOnDestroy() {
        this.subscription.unsubscribe();
    }
}
BeaconRequestPage.ɵfac = function BeaconRequestPage_Factory(t) { return new (t || BeaconRequestPage)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](src_app_services_account_account_provider__WEBPACK_IMPORTED_MODULE_5__["AccountProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](src_app_services_data_data_service__WEBPACK_IMPORTED_MODULE_6__["DataService"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["AlertController"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](src_app_pipes_shorten_string_shorten_string_pipe__WEBPACK_IMPORTED_MODULE_8__["ShortenStringPipe"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__["TranslateService"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ToastController"])); };
BeaconRequestPage.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineComponent"]({ type: BeaconRequestPage, selectors: [["page-beacon-request"]], decls: 18, vars: 9, consts: [[1, "ion-no-border"], ["fixed", "true", 1, "ion-no-padding"], ["slot", "start"], ["defaultHref", "/"], [1, "ion-padding-horizontal", "ion-padding-bottom"], [4, "ngIf"], ["vertical", "bottom", "horizontal", "end", "slot", "fixed"], ["shape", "round", "color", "secondary", 3, "click"], ["shape", "round", "color", "primary", 3, "click"], ["class", "ion-padding-top", 4, "ngIf"], [1, "ion-margin-bottom"], ["lines", "none"], [3, "address"], [1, "ion-margin-start"], ["src", "assets/img/beacon_logo.svg", "slot", "end", 1, "by-beacon__img"], [3, "address", "requesterName", "inputs", "network", "targetProtocolSymbol", "walletSetEmitter"], [4, "ngFor", "ngForOf"], [3, "transaction"], [1, "ion-padding-top"], ["class", "rawdata--container ion-padding-bottom", 4, "ngIf"], ["class", "rawdata--container", 4, "ngIf"], [1, "rawdata--container", "ion-padding-bottom"], [1, "ion-no-padding"], [1, "ion-no-margin"], [1, "rawdata--container"], [3, "transactions", "wrappedOperation", "onWrappedOperationUpdate"], [1, "ion-padding-horizontal"], ["type", "indeterminate", "value", "0.5"]], template: function BeaconRequestPage_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](0, "ion-header", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](1, "ion-grid", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](2, "ion-toolbar");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](3, "ion-buttons", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelement"](4, "ion-back-button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](5, "ion-title");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](7, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](8, "ion-content", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](9, "ion-grid", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](10, BeaconRequestPage_ng_container_10_Template, 6, 5, "ng-container", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](11, "ion-fab", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](12, "ion-button", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function BeaconRequestPage_Template_ion_button_click_12_listener() { return ctx.cancel(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtext"](13);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipe"](14, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementStart"](15, "ion-button", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵlistener"]("click", function BeaconRequestPage_Template_ion_button_click_15_listener() { return ctx.done(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](16, BeaconRequestPage_ng_container_16_Template, 3, 3, "ng-container", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtemplate"](17, BeaconRequestPage_ng_container_17_Template, 3, 3, "ng-container", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](7, 5, ctx.title));
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.request);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵpipeBind1"](14, 7, "beacon-request.cancel_label"));
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.request.type !== "permission_request");
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵproperty"]("ngIf", ctx.request.type === "permission_request");
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonHeader"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonGrid"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonToolbar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonButtons"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonBackButton"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonBackButtonDelegate"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonTitle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonContent"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonFab"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonButton"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonCard"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonAvatar"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_13__["IdenticonComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonLabel"], _components_permission_request_permission_request_component__WEBPACK_IMPORTED_MODULE_14__["PermissionRequestComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonRow"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgForOf"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_13__["FromToComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonCol"], _components_from_to_from_to_component__WEBPACK_IMPORTED_MODULE_15__["FromToComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonProgressBar"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_9__["TranslatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["JsonPipe"]], styles: [".by-beacon__img[_ngcontent-%COMP%] {\n  width: 32px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2JlYWNvbi1yZXF1ZXN0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7QUFDRiIsImZpbGUiOiJiZWFjb24tcmVxdWVzdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnktYmVhY29uX19pbWcge1xuICB3aWR0aDogMzJweDtcbn1cbiJdfQ== */"] });


/***/ }),

/***/ "vqqn":
/*!*********************************************************!*\
  !*** ./src/app/components/widget-alert/widget-alert.ts ***!
  \*********************************************************/
/*! exports provided: WidgetAlert */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidgetAlert", function() { return WidgetAlert; });
/* harmony import */ var src_app_models_widgets_display_UIAlert__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/models/widgets/display/UIAlert */ "CZvy");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");





function WidgetAlert_div_9_ion_button_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "ion-button", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function WidgetAlert_div_9_ion_button_1_Template_ion_button_click_0_listener() { const action_r2 = ctx.$implicit; return action_r2.action(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const action_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, action_r2.text), " ");
} }
function WidgetAlert_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, WidgetAlert_div_9_ion_button_1_Template, 3, 3, "ion-button", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.widget.actions);
} }
class WidgetAlert {
}
WidgetAlert.ɵfac = function WidgetAlert_Factory(t) { return new (t || WidgetAlert)(); };
WidgetAlert.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: WidgetAlert, selectors: [["widget-alert"]], inputs: { widget: "widget" }, decls: 10, vars: 10, consts: [["lines", "none", 1, "ion-margin-vertical", 3, "detail", "color", "click"], ["slot", "start", "color", "dark", 3, "name"], ["color", "dark", 1, "ion-text-wrap"], [3, "innerHTML"], [4, "ngIf"], ["color", "light", 3, "click", 4, "ngFor", "ngForOf"], ["color", "light", 3, "click"]], template: function WidgetAlert_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "ion-item", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function WidgetAlert_Template_ion_item_click_0_listener() { return ctx.widget.onClick ? ctx.widget.onClick() : undefined; });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "ion-icon", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "ion-label", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "h3");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](7, "p", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](8, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, WidgetAlert_div_9_Template, 2, 1, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("detail", ctx.widget.detail)("color", ctx.widget.color);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("name", ctx.widget.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 6, ctx.widget.title));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](8, 8, ctx.widget.description), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeHtml"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.widget.actions);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonIcon"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonLabel"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonButton"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslatePipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ3aWRnZXQtYWxlcnQuc2NzcyJ9 */"] });


/***/ }),

/***/ "vs69":
/*!*****************************************!*\
  !*** ./src/app/components/swap/swap.ts ***!
  \*****************************************/
/*! exports provided: SwapComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SwapComponent", function() { return SwapComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/animations */ "R0Ic");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! bignumber.js */ "kB5k");
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _pages_protocol_select_protocol_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../pages/protocol-select/protocol-select */ "yJqF");
/* harmony import */ var _services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _portfolio_item_portfolio_item__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../portfolio-item/portfolio-item */ "F07p");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");
















const _c0 = function (a0) { return { minExchangeAmount: a0 }; };
function SwapComponent_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](1, "translate");
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind2"](1, 1, "swap.min-amount_label", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction1"](4, _c0, ctx_r0.minExchangeAmount.toString())), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵsanitizeHtml"]);
} }
function SwapComponent_ion_input_7_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "ion-input", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("input", function SwapComponent_ion_input_7_Template_ion_input_input_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](); return ctx_r7.amountSet($event.target.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("disabled", ctx_r1.currentlyNotSupported);
} }
function SwapComponent_ion_input_8_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "ion-input", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("ngModelChange", function SwapComponent_ion_input_8_Template_ion_input_ngModelChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](); return ctx_r9.exchangeAmount = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("disabled", true)("ngModel", ctx_r2.exchangeAmount);
} }
function SwapComponent_ion_row_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "ion-row", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "ion-text", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](2, "p", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind2"](3, 1, "swap.min-amount-error_label", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction1"](4, _c0, ctx_r3.minExchangeAmount.toString())), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵsanitizeHtml"]);
} }
function SwapComponent_ion_row_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "ion-row", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "ion-text", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](2, "p", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](4, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind1"](4, 1, "swap.currently_not_supported"), " ");
} }
const _c1 = function (a0) { return { accountBalance: a0 }; };
function SwapComponent_ion_row_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "ion-row", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "ion-text", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](2, "p", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](3, "translate");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind2"](3, 1, "swap.amount-higher-than-balance-error_label", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction1"](4, _c1, ctx_r5.selectedWallet.currentBalance.shiftedBy(-1 * ctx_r5.selectedWallet.protocol.decimals))), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵsanitizeHtml"]);
} }
function SwapComponent_ng_container_25_ng_container_2_portfolio_item_1_Template(rf, ctx) { if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "portfolio-item", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function SwapComponent_ng_container_25_ng_container_2_portfolio_item_1_Template_portfolio_item_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r16); const wallet_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit; const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2); return ctx_r14.walletSet(wallet_r12); });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    const wallet_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("wallet", wallet_r12)("hideFiatAmounts", true)("isExpendable", false);
} }
function SwapComponent_ng_container_25_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, SwapComponent_ng_container_25_ng_container_2_portfolio_item_1_Template, 1, 3, "portfolio-item", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const wallet_r12 = ctx.$implicit;
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r11.selectedWallet !== wallet_r12);
} }
function SwapComponent_ng_container_25_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "ion-list", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](2, SwapComponent_ng_container_25_ng_container_2_Template, 2, 1, "ng-container", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("@expandWalletAnimation", undefined);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngForOf", ctx_r6.supportedWallets);
} }
class SwapComponent {
    constructor(alertCtrl, modalController, protocolService) {
        this.alertCtrl = alertCtrl;
        this.modalController = modalController;
        this.protocolService = protocolService;
        this.expandWalletSelection = false;
        this.currentlyNotSupported = false;
        this.swapSell = true;
        this.supportedProtocols = [];
        this.protocolSetEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
        this.walletSetEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
        this.amountSetEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_3__["EventEmitter"]();
    }
    amountSet(amount) {
        this._amount = amount;
        this.amountSetEmitter.emit(amount);
    }
    walletSet(wallet) {
        this.walletSetEmitter.emit(wallet);
        this.expandWalletSelection = false;
    }
    doRadio() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const protocols = (yield Promise.all(this.supportedProtocols.map((supportedProtocol) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () { return this.protocolService.getProtocol(supportedProtocol).catch(() => undefined); })))).filter((protocol) => protocol !== undefined);
            const modal = yield this.modalController.create({
                component: _pages_protocol_select_protocol_select__WEBPACK_IMPORTED_MODULE_7__["ProtocolSelectPage"],
                componentProps: {
                    selectedProtocol: this.selectedProtocol.identifier,
                    protocols
                }
            });
            modal
                .onDidDismiss()
                .then((protocolIdentifier) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                if (protocolIdentifier && protocolIdentifier.data) {
                    this.protocolSetEmitter.emit(yield this.protocolService.getProtocol(protocolIdentifier.data));
                }
            }))
                .catch(Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["ErrorCategory"].IONIC_MODAL));
            modal.present().catch(Object(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["handleErrorSentry"])(_services_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_8__["ErrorCategory"].IONIC_MODAL));
        });
    }
}
SwapComponent.ɵfac = function SwapComponent_Factory(t) { return new (t || SwapComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ModalController"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"])); };
SwapComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({ type: SwapComponent, selectors: [["swap"]], inputs: { currentlyNotSupported: "currentlyNotSupported", swapSell: "swapSell", selectedWallet: "selectedWallet", supportedWallets: "supportedWallets", selectedProtocol: "selectedProtocol", supportedProtocols: "supportedProtocols", minExchangeAmount: "minExchangeAmount", exchangeAmount: "exchangeAmount" }, outputs: { protocolSetEmitter: "protocolSetEmitter", walletSetEmitter: "walletSetEmitter", amountSetEmitter: "amountSetEmitter" }, decls: 26, vars: 22, consts: [[1, "amount__container", "border--vertical", "ion-no-padding", "ion-align-items-stretch"], ["size", "8", 1, "ion-padding"], ["lines", "none", 1, "ion-no-padding"], ["position", "stacked", "color", "blackLight", 1, "ion-no-margin"], [3, "innerHTML", 4, "ngIf"], ["type", "number", "id", "buy-input", "placeholder", "0.0", 3, "disabled", "input", 4, "ngIf"], ["type", "number", "id", "sell-input", "placeholder", "0.0", 3, "disabled", "ngModel", "ngModelChange", 4, "ngIf"], ["color", "blackLight"], [1, "ion-no-margin"], ["class", "ion-padding-top", 4, "ngIf"], ["size", "4", 1, "coin__selection", "ion-padding", 3, "click"], [3, "src"], ["name", "chevron-down-outline"], [1, "ion-no-margin", "ion-padding-vertical"], ["tappable", "", 3, "wallet", "hideDelegationBadge", "isExpendable", "hideFiatAmounts", "isExtended", "click"], [4, "ngIf"], [3, "innerHTML"], ["type", "number", "id", "buy-input", "placeholder", "0.0", 3, "disabled", "input"], ["type", "number", "id", "sell-input", "placeholder", "0.0", 3, "disabled", "ngModel", "ngModelChange"], [1, "ion-padding-top"], ["no-margin", "", "color", "danger"], ["color", "danger", 1, "ion-no-margin", 3, "innerHTML"], ["color", "danger", 1, "ion-no-margin"], ["color", "danger"], [1, "ion-no-margin", 3, "innerHTML"], ["lines", "none", "margin-top", ""], [4, "ngFor", "ngForOf"], ["tappable", "", 3, "wallet", "hideFiatAmounts", "isExpendable", "click", 4, "ngIf"], ["tappable", "", 3, "wallet", "hideFiatAmounts", "isExpendable", "click"]], template: function SwapComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "ion-row", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "ion-col", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](2, "ion-item", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](3, "ion-label", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](5, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](6, SwapComponent_span_6_Template, 2, 6, "span", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](7, SwapComponent_ion_input_7_Template, 1, 1, "ion-input", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](8, SwapComponent_ion_input_8_Template, 1, 2, "ion-input", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](9, "ion-text", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](10, "p", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](11);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](12, "number");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](13, SwapComponent_ion_row_13_Template, 4, 6, "ion-row", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](14, SwapComponent_ion_row_14_Template, 5, 3, "ion-row", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](15, SwapComponent_ion_row_15_Template, 4, 6, "ion-row", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](16, "ion-col", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function SwapComponent_Template_ion_col_click_16_listener() { return ctx.doRadio(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](17, "ion-row");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](18, "img", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](19, "ion-row");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](20, "h5");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](21);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](22, "ion-icon", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](23, "ion-list", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](24, "portfolio-item", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function SwapComponent_Template_portfolio_item_click_24_listener() { return (ctx.supportedWallets == null ? null : ctx.supportedWallets.length) > 1 ? ctx.expandWalletSelection = !ctx.expandWalletSelection : {}; });
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](25, SwapComponent_ng_container_25_Template, 3, 2, "ng-container", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    } if (rf & 2) {
        let tmp_4_0 = null;
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind1"](5, 17, ctx.swapSell ? "swap.sell_label" : "swap.buy_label"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.minExchangeAmount);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.swapSell);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", !ctx.swapSell);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"](" $", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind2"](12, 19, ctx.exchangeAmount == null ? null : (tmp_4_0 = ctx.exchangeAmount.multipliedBy(ctx.selectedWallet == null ? null : ctx.selectedWallet.currentMarketPrice)) == null ? null : tmp_4_0.toNumber(), "1.2-2"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.swapSell && !(ctx.exchangeAmount == null ? null : ctx.exchangeAmount.isZero()) && (ctx.exchangeAmount == null ? null : ctx.exchangeAmount.isLessThan(ctx.minExchangeAmount)));
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.currentlyNotSupported);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.swapSell && (ctx.exchangeAmount == null ? null : ctx.exchangeAmount.isGreaterThan(ctx.selectedWallet.currentBalance.shiftedBy(-1 * ctx.selectedWallet.protocol.decimals))));
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("src", "./assets/symbols/" + (ctx.selectedProtocol == null ? null : ctx.selectedProtocol.symbol == null ? null : ctx.selectedProtocol.symbol.toLowerCase()) + ".svg", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵsanitizeUrl"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"](" ", ctx.selectedProtocol == null ? null : ctx.selectedProtocol.symbol, " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("@expandWalletAnimation", undefined);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("wallet", ctx.selectedWallet)("hideDelegationBadge", true)("isExpendable", (ctx.supportedWallets == null ? null : ctx.supportedWallets.length) > 1)("hideFiatAmounts", true)("isExtended", ctx.expandWalletSelection);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.expandWalletSelection);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonLabel"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonText"], _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonIcon"], _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonList"], _portfolio_item_portfolio_item__WEBPACK_IMPORTED_MODULE_10__["PortfolioItemComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonInput"], _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["NumericValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__["NgModel"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["NgForOf"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_12__["TranslatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["DecimalPipe"]], styles: [".amount__container[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%] {\n  border-bottom-color: transparent !important;\n  box-shadow: none !important;\n}\n.amount__container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%] {\n  font-size: 1.5em;\n  font-weight: bold;\n  margin: 0;\n}\n.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%] {\n  background-color: rgba(0, 232, 204, 0.24);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 40px;\n  height: 40px;\n}\n.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%] {\n  justify-content: center;\n}\n.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%] {\n  margin: 8px 0;\n  display: flex;\n  align-items: center;\n}\n.border--vertical[_ngcontent-%COMP%] {\n  border-top: 1px solid rgba(0, 232, 204, 0.24);\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3N3YXAuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLDJDQUFBO0VBQ0EsMkJBQUE7QUFBSjtBQUdFO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLFNBQUE7QUFESjtBQUlFO0VBQ0UseUNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0FBRko7QUFHSTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBRE47QUFJSTtFQUNFLHVCQUFBO0FBRk47QUFHTTtFQUNFLGFBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7QUFEUjtBQU1BO0VBQ0UsNkNBQUE7QUFIRiIsImZpbGUiOiJzd2FwLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYW1vdW50X19jb250YWluZXIge1xuICAuaXRlbS1pbm5lciB7XG4gICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbiAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gIH1cblxuICBpb24taW5wdXQge1xuICAgIGZvbnQtc2l6ZTogMS41ZW07XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgbWFyZ2luOiAwO1xuICB9XG5cbiAgLmNvaW5fX3NlbGVjdGlvbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAyMzIsIDIwNCwgMC4yNCk7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgaW1nIHtcbiAgICAgIHdpZHRoOiA0MHB4O1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgIH1cblxuICAgIGlvbi1yb3cge1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBoNSB7XG4gICAgICAgIG1hcmdpbjogOHB4IDA7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4uYm9yZGVyLS12ZXJ0aWNhbCB7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKDAsIDIzMiwgMjA0LCAwLjI0KTtcbn1cbiJdfQ== */"], data: { animation: [
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["trigger"])('expandWalletAnimation', [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["transition"])(':enter', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["style"])({ transform: 'translateY(-20%)', opacity: 0 }),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["animate"])('500ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["style"])({ transform: 'translateY(0)', opacity: 1 }))
                ]),
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["transition"])(':leave', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["style"])({ transform: 'translateY(0)', opacity: 1 }),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["animate"])('500ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_2__["style"])({ transform: 'translateY(-20%)', opacity: 0 }))
                ])
            ])
        ] } });


/***/ }),

/***/ "wTY4":
/*!*********************************************!*\
  !*** ./src/app/services/iac/iac.service.ts ***!
  \*********************************************/
/*! exports provided: IACService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IACService", function() { return IACService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/beacon-sdk */ "hzei");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _account_account_provider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../account/account.provider */ "57MG");
/* harmony import */ var _beacon_beacon_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../beacon/beacon.service */ "q3zY");
/* harmony import */ var _data_data_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../data/data.service */ "1y+R");
/* harmony import */ var _price_price_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../price/price.service */ "QMTT");
/* harmony import */ var _sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../sentry-error-handler/sentry-error-handler */ "hPkG");
/* harmony import */ var _storage_storage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../storage/storage */ "AFs5");
/* harmony import */ var _walletconnect_walletconnect_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../walletconnect/walletconnect.service */ "8xAc");
/* harmony import */ var _custom_handlers_address_handler__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./custom-handlers/address-handler */ "iGlN");
/* harmony import */ var _custom_handlers_beacon_handler__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./custom-handlers/beacon-handler */ "kSIm");
/* harmony import */ var _custom_handlers_walletconnect_handler__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./custom-handlers/walletconnect-handler */ "ptnW");
/* harmony import */ var src_app_models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! src/app/models/AirGapMarketWalletGroup */ "z4jU");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/core */ "fXoL");

























class IACService extends _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["BaseIACService"] {
    constructor(uiEventElementsService, beaconService, deeplinkService, accountProvider, walletConnectService, dataService, clipboard, protocolService, storageSerivce, priceService, router, appConfig) {
        super(uiEventElementsService, clipboard, Promise.resolve(), [
            new _custom_handlers_beacon_handler__WEBPACK_IMPORTED_MODULE_13__["BeaconHandler"](beaconService),
            new _custom_handlers_walletconnect_handler__WEBPACK_IMPORTED_MODULE_14__["WalletConnectHandler"](walletConnectService),
            new _custom_handlers_address_handler__WEBPACK_IMPORTED_MODULE_12__["AddressHandler"](accountProvider, dataService, router) // Address handler is flexible because of regex, so it should be last.
        ], deeplinkService, appConfig);
        this.beaconService = beaconService;
        this.deeplinkService = deeplinkService;
        this.walletConnectService = walletConnectService;
        this.dataService = dataService;
        this.clipboard = clipboard;
        this.protocolService = protocolService;
        this.storageSerivce = storageSerivce;
        this.priceService = priceService;
        this.router = router;
        this.serializerMessageHandlers[_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3__["IACMessageType"].AccountShareResponse] = this.handleWalletSync.bind(this);
        this.serializerMessageHandlers[_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3__["IACMessageType"].TransactionSignResponse] = this.handleSignedTransaction.bind(this);
        this.serializerMessageHandlers[_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3__["IACMessageType"].MessageSignResponse] = this.handleMessageSignResponse.bind(this);
    }
    relay(data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const info = {
                data: data.messages,
                isRelay: true
            };
            this.dataService.setData(_data_data_service__WEBPACK_IMPORTED_MODULE_7__["DataServiceKey"].INTERACTION, info);
            this.router.navigateByUrl('/interaction-selection/' + _data_data_service__WEBPACK_IMPORTED_MODULE_7__["DataServiceKey"].INTERACTION).catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_9__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_9__["ErrorCategory"].NAVIGATION));
        });
    }
    handleWalletSync(deserializedSyncs, transport) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.storageSerivce.set(_storage_storage__WEBPACK_IMPORTED_MODULE_10__["WalletStorageKey"].DEEP_LINK, true).catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_9__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_9__["ErrorCategory"].STORAGE));
            const accountSyncs = yield Promise.all(deserializedSyncs.map((deserializedSync) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const accountShare = deserializedSync.payload;
                const protocol = yield this.protocolService.getProtocol(deserializedSync.protocol);
                const wallet = new _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3__["AirGapMarketWallet"](protocol, accountShare.publicKey, accountShare.isExtendedPublicKey, accountShare.derivationPath, accountShare.masterFingerprint || /* backwards compatibility */ '', accountShare.isActive === undefined
                    ? /* backwards compatibility */ _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3__["AirGapWalletStatus"].ACTIVE
                    : accountShare.isActive
                        ? _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3__["AirGapWalletStatus"].ACTIVE
                        : _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3__["AirGapWalletStatus"].HIDDEN, this.priceService);
                return {
                    wallet,
                    groupId: accountShare.groupId,
                    groupLabel: accountShare.groupLabel,
                    interactionSetting: Object(src_app_models_AirGapMarketWalletGroup__WEBPACK_IMPORTED_MODULE_15__["transportToInteractionSetting"])(transport)
                };
            })));
            if (this.router) {
                this.dataService.setData(_data_data_service__WEBPACK_IMPORTED_MODULE_7__["DataServiceKey"].SYNC_ACCOUNTS, accountSyncs);
                this.router.navigateByUrl(`/account-import/${_data_data_service__WEBPACK_IMPORTED_MODULE_7__["DataServiceKey"].SYNC_ACCOUNTS}`).catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_9__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_9__["ErrorCategory"].NAVIGATION));
                return true;
            }
            return false;
        });
    }
    handleSignedTransaction(messageDefinitionObjects) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.router) {
                const info = {
                    messageDefinitionObjects: messageDefinitionObjects
                };
                this.dataService.setData(_data_data_service__WEBPACK_IMPORTED_MODULE_7__["DataServiceKey"].TRANSACTION, info);
                this.router.navigateByUrl(`/transaction-confirm/${_data_data_service__WEBPACK_IMPORTED_MODULE_7__["DataServiceKey"].TRANSACTION}`).catch(Object(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_9__["handleErrorSentry"])(_sentry_error_handler_sentry_error_handler__WEBPACK_IMPORTED_MODULE_9__["ErrorCategory"].NAVIGATION));
                return true;
            }
            return false;
        });
    }
    handleMessageSignResponse(deserializedMessages) {
        var _a;
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const cachedRequest = yield this.beaconService.getVaultRequest();
            const messageSignResponse = deserializedMessages[0].payload;
            const protocol = deserializedMessages[0].protocol;
            const response = {
                type: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_2__["BeaconMessageType"].SignPayloadResponse,
                id: (_a = cachedRequest[0]) === null || _a === void 0 ? void 0 : _a.id,
                signature: messageSignResponse.signature,
                signingType: _airgap_beacon_sdk__WEBPACK_IMPORTED_MODULE_2__["SigningType"].RAW
            };
            if (protocol === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3__["MainProtocolSymbols"].XTZ) {
                yield this.beaconService.respond(response, cachedRequest[0]);
            }
            else if (protocol === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3__["MainProtocolSymbols"].ETH || protocol === _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_3__["MainProtocolSymbols"].RBTC) {
                yield this.walletConnectService.approveRequest(response.id, response.signature);
            }
            return false;
        });
    }
}
IACService.ɵfac = function IACService_Factory(t) { return new (t || IACService)(_angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["UiEventElementsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵinject"](_beacon_beacon_service__WEBPACK_IMPORTED_MODULE_6__["BeaconService"]), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["DeeplinkService"]), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵinject"](_account_account_provider__WEBPACK_IMPORTED_MODULE_5__["AccountProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵinject"](_walletconnect_walletconnect_service__WEBPACK_IMPORTED_MODULE_11__["WalletconnectService"]), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵinject"](_data_data_service__WEBPACK_IMPORTED_MODULE_7__["DataService"]), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ClipboardService"]), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ProtocolService"]), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵinject"](_storage_storage__WEBPACK_IMPORTED_MODULE_10__["WalletStorageService"]), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵinject"](_price_price_service__WEBPACK_IMPORTED_MODULE_8__["PriceService"]), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵinject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["APP_CONFIG"])); };
IACService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_16__["ɵɵdefineInjectable"]({ token: IACService, factory: IACService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "wcx9":
/*!*********************************************************************!*\
  !*** ./src/app/components/widget-reward-list/widget-reward-list.ts ***!
  \*********************************************************************/
/*! exports provided: WidgetRewardList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WidgetRewardList", function() { return WidgetRewardList; });
/* harmony import */ var src_app_models_widgets_display_UIRewardList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/models/widgets/display/UIRewardList */ "76Ou");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");





function WidgetRewardList_ion_row_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "ion-row", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "ion-col", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "ion-col");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "ion-col");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](7, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const reward_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](reward_r1.index);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](reward_r1.amount);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind2"](7, 3, reward_r1.timestamp, "dd.LL.yy"));
} }
class WidgetRewardList {
}
WidgetRewardList.ɵfac = function WidgetRewardList_Factory(t) { return new (t || WidgetRewardList)(); };
WidgetRewardList.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: WidgetRewardList, selectors: [["widget-reward-list"]], inputs: { widget: "widget" }, decls: 15, vars: 10, consts: [[1, "ion-padding"], [1, "ion-justify-content-center", "ion-padding-bottom"], ["size", "2"], ["class", "ion-justify-content-center ion-padding-bottom", 4, "ngFor", "ngForOf"]], template: function WidgetRewardList_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "ion-card", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "ion-row", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "ion-col", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "ion-col");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](9, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "ion-col");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](12);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](13, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](14, WidgetRewardList_ion_row_14_Template, 8, 6, "ion-row", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 4, ctx.widget.indexColLabel));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](9, 6, ctx.widget.amountColLabel));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](13, 8, ctx.widget.payoutColLabel));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.widget.rewards);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonCard"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonCol"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_4__["TranslatePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["DatePipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ3aWRnZXQtcmV3YXJkLWxpc3Quc2NzcyJ9 */"] });


/***/ }),

/***/ "xnpP":
/*!***********************************************************!*\
  !*** ./src/app/services/draw-chart/draw-chart.service.ts ***!
  \***********************************************************/
/*! exports provided: DrawChartService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DrawChartService", function() { return DrawChartService; });
/* harmony import */ var _airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @airgap/coinlib-core/wallet/AirGapMarketWallet */ "wEhd");
/* harmony import */ var _airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");



class DrawChartService {
    constructor() {
        this.chartSubject = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](_airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_0__["TimeInterval"].HOURS);
    }
    getChartObservable() {
        return this.chartSubject.asObservable();
    }
    drawChart(interval) {
        this.chartSubject.next(interval || _airgap_coinlib_core_wallet_AirGapMarketWallet__WEBPACK_IMPORTED_MODULE_0__["TimeInterval"].HOURS);
    }
}
DrawChartService.ɵfac = function DrawChartService_Factory(t) { return new (t || DrawChartService)(); };
DrawChartService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: DrawChartService, factory: DrawChartService.ɵfac });


/***/ }),

/***/ "xuQ1":
/*!*******************************************!*\
  !*** ./src/app/pages/error/error.page.ts ***!
  \*******************************************/
/*! exports provided: ErrorPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorPage", function() { return ErrorPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");







function ErrorPage_pre_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "pre");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](ctx_r0.parsedData);
} }
class ErrorPage {
    constructor(clipboardService, modalController) {
        this.clipboardService = clipboardService;
        this.modalController = modalController;
    }
    ngAfterViewInit() {
        this.parsedData = typeof this.data === 'object' ? JSON.stringify(this.data, null, 2) : this.data + '';
    }
    dismiss() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.modalController.dismiss(true);
        });
    }
    copyToClipboard() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.clipboardService.copyAndShowToast(this.parsedData);
        });
    }
}
ErrorPage.ɵfac = function ErrorPage_Factory(t) { return new (t || ErrorPage)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_1__["ClipboardService"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"])); };
ErrorPage.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({ type: ErrorPage, selectors: [["app-error"]], decls: 13, vars: 3, consts: [[1, "ion-no-border"], [1, "ion-padding"], [1, "ion-margin-bottom"], [3, "click"], [4, "ngIf"], ["vertical", "bottom", "horizontal", "end", "slot", "fixed"], ["shape", "round", "color", "primary", 3, "click"]], template: function ErrorPage_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "ion-header", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "ion-toolbar");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](2, "ion-title");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](4, "ion-content", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](5, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](7, "ion-button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function ErrorPage_Template_ion_button_click_7_listener() { return ctx.copyToClipboard(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](8, "Copy Error To Clipboard");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](9, ErrorPage_pre_9_Template, 2, 1, "pre", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](10, "ion-fab", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](11, "ion-button", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function ErrorPage_Template_ion_button_click_11_listener() { return ctx.dismiss(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](12, "Close");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](ctx.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](ctx.message);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.data);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonHeader"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonToolbar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonTitle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonContent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonButton"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["IonFab"]], styles: ["pre[_ngcontent-%COMP%] {\n  background-color: var(--ion-color-light);\n  padding: 8px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2Vycm9yLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHdDQUFBO0VBQ0EsWUFBQTtBQUNGIiwiZmlsZSI6ImVycm9yLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInByZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XG4gIHBhZGRpbmc6IDhweDtcbn1cbiJdfQ== */"] });


/***/ }),

/***/ "xxIo":
/*!***************************************************************!*\
  !*** ./src/app/ledger/connection/LedgerConnectionElectron.ts ***!
  \***************************************************************/
/*! exports provided: LedgerConnectionElectron */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(Buffer) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LedgerConnectionElectron", function() { return LedgerConnectionElectron; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! events */ "+qE3");
/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _bridge_LedgerElectronBridge__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bridge/LedgerElectronBridge */ "RpFw");



class TransportElectron {
    constructor(id, bridge) {
        this.id = id;
        this.bridge = bridge;
        this.exchangeTimeout = 30000;
        this.unresponsiveTimeout = 15000;
        this.deviceModel = null;
        this._events = new events__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this._appAPIlock = null;
        this.exchangeAtomicImpl = (_f) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            throw new Error('Method not implemented.');
        });
    }
    send(cla, ins, p1, p2, data, _statusList) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const { response } = yield this.bridge.sendToLedger(_bridge_LedgerElectronBridge__WEBPACK_IMPORTED_MODULE_2__["LedgerProcessMessageType"].SEND, {
                transportId: this.id,
                cla,
                ins,
                p1,
                p2,
                hexData: data ? data.toString('hex') : undefined
            }, `${this.id}_${cla}_${ins}_${new Date().getTime().toString()}`);
            return Buffer.isBuffer(response) ? response : Buffer.from(response, 'hex');
        });
    }
    close() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.bridge.sendToLedger(_bridge_LedgerElectronBridge__WEBPACK_IMPORTED_MODULE_2__["LedgerProcessMessageType"].CLOSE, {
                transportId: this.id
            }, this.id);
        });
    }
    decorateAppAPIMethods(self, methods, scrambleKey) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.bridge.sendToLedger(_bridge_LedgerElectronBridge__WEBPACK_IMPORTED_MODULE_2__["LedgerProcessMessageType"].DECORATE_APP, {
                transportId: this.id,
                self,
                methods,
                scrambleKey
            }, `${this.id}_decorateAppAPIMethods_${new Date().getTime().toString()}`);
        });
    }
    setScrambleKey(key) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.bridge.sendToLedger(_bridge_LedgerElectronBridge__WEBPACK_IMPORTED_MODULE_2__["LedgerProcessMessageType"].SET_SCRAMBLE_KEY, {
                transportId: this.id,
                key
            }, `${this.id}_setScrambleKey_${new Date().getTime().toString()}`);
        });
    }
    exchange(apdu) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const { response } = yield this.bridge.sendToLedger(_bridge_LedgerElectronBridge__WEBPACK_IMPORTED_MODULE_2__["LedgerProcessMessageType"].EXCHANGE, {
                transportId: this.id,
                apdu: apdu.toString('hex')
            }, `${this.id}_exchange_${new Date().getTime().toString()}`);
            return Buffer.isBuffer(response) ? response : Buffer.from(response, 'hex');
        });
    }
    setExchangeTimeout(exchangeTimeout) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.bridge.sendToLedger(_bridge_LedgerElectronBridge__WEBPACK_IMPORTED_MODULE_2__["LedgerProcessMessageType"].SET_EXCHANGE_TIMEOUT, {
                transportId: this.id,
                timeout: exchangeTimeout
            }, `${this.id}_setExchangeTimeout_${new Date().getTime().toString()}`);
        });
    }
    on(_eventName, _cb) {
        // not needed
        throw new Error('Method not implemented.');
    }
    off(_eventName, _cb) {
        // not needed
        throw new Error('Method not implemented.');
    }
    emit(event, ...args) {
        this._events.emit(event, ...args);
    }
    setDebugMode() {
        // not needed
        throw new Error('Method not implemented.');
    }
    setExchangeUnresponsiveTimeout(unresponsiveTimeout) {
        this.unresponsiveTimeout = unresponsiveTimeout;
    }
    decorateAppAPIMethod(_methodName, _f, _ctx, _scrambleKey) {
        throw new Error('Method not implemented.');
    }
}
class LedgerConnectionElectron {
    constructor(type, transport) {
        this.type = type;
        this.transport = transport;
    }
    static get bridge() {
        return _bridge_LedgerElectronBridge__WEBPACK_IMPORTED_MODULE_2__["LedgerElectronBridge"].getInstance();
    }
    static getConnectedDevices(connectionType) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const { devices } = yield LedgerConnectionElectron.bridge.sendToLedger(_bridge_LedgerElectronBridge__WEBPACK_IMPORTED_MODULE_2__["LedgerProcessMessageType"].GET_DEVICES, {
                connectionType
            }, connectionType);
            return devices;
        });
    }
    static open(connectionType, descriptor) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const { transportId } = yield LedgerConnectionElectron.bridge.sendToLedger(_bridge_LedgerElectronBridge__WEBPACK_IMPORTED_MODULE_2__["LedgerProcessMessageType"].OPEN, {
                connectionType,
                descriptor
            }, `${connectionType}_${descriptor}`);
            const transport = new TransportElectron(transportId, LedgerConnectionElectron.bridge);
            return new LedgerConnectionElectron(connectionType, transport);
        });
    }
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/node-libs-browser/node_modules/buffer/index.js */ "HDXh").Buffer))

/***/ }),

/***/ "xxnn":
/*!*********************************!*\
  !*** ./src/app/app.reducers.ts ***!
  \*********************************/
/*! exports provided: reducers, metaReducers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reducers", function() { return reducers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "metaReducers", function() { return metaReducers; });
/* harmony import */ var src_environments_environment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/environments/environment */ "AytR");

const reducers = {};
function logger(reducer) {
    return (state, action) => {
        const newState = reducer(state, action);
        console.groupCollapsed(action.type);
        console.log('previous state', state);
        console.log('action', action);
        console.log('next state', newState);
        console.groupEnd();
        return newState;
    };
}
const metaReducers = !src_environments_environment__WEBPACK_IMPORTED_MODULE_0__["environment"].production ? [logger] : [];


/***/ }),

/***/ "y2gM":
/*!*************************************************************!*\
  !*** ./src/app/components/dapp-peer/dapp-peer.component.ts ***!
  \*************************************************************/
/*! exports provided: DappPeerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DappPeerComponent", function() { return DappPeerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "TEn/");



class DappPeerComponent {
    constructor() {
        this.removePeerEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    remove() {
        this.removePeerEmitter.emit(this.peer);
    }
}
DappPeerComponent.ɵfac = function DappPeerComponent_Factory(t) { return new (t || DappPeerComponent)(); };
DappPeerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: DappPeerComponent, selectors: [["dapp-peer"]], inputs: { peer: "peer" }, outputs: { removePeerEmitter: "removePeerEmitter" }, decls: 11, vars: 2, consts: [["lines", "none", 1, "ion-no-padding"], [1, "font--weight__med"], [1, "typography--mono"], ["color", "danger", "slot", "end", 3, "click"]], template: function DappPeerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ion-item");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "ion-item", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "ion-label");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "span", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "ion-item-option", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function DappPeerComponent_Template_ion_item_option_click_9_listener() { return ctx.remove(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10, "Delete");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.peer.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Dapp Id: ", ctx.peer.senderId, "");
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonItemOption"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkYXBwLXBlZXIuY29tcG9uZW50LnNjc3MifQ== */"] });


/***/ }),

/***/ "yJqF":
/*!**********************************************************!*\
  !*** ./src/app/pages/protocol-select/protocol-select.ts ***!
  \**********************************************************/
/*! exports provided: ProtocolSelectPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProtocolSelectPage", function() { return ProtocolSelectPage; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _components_currency_item_currency_item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/currency-item/currency-item */ "Bx04");
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ngx-translate/core */ "sYmb");








function ProtocolSelectPage_currency_item_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "currency-item", 12);
} if (rf & 2) {
    const protocol_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("protocol", protocol_r1)("radioList", true);
} }
class ProtocolSelectPage {
    constructor(navParams, viewCtrl) {
        this.navParams = navParams;
        this.viewCtrl = viewCtrl;
        this.searchTerm = '';
        this.selectedProtocol = this.navParams.get('selectedProtocol');
        this.protocols = this.navParams.get('protocols');
        this.searchTermChanged();
    }
    dismiss() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.viewCtrl.dismiss();
        });
    }
    onModelChange() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.viewCtrl.dismiss(this.selectedProtocol);
        });
    }
    searchTermChanged() {
        this.filteredProtocols = this.filterProtocols();
    }
    filterProtocols() {
        const lowerCaseSearchTerm = this.searchTerm.toLowerCase();
        return this.protocols.filter((protocol) => protocol.name.toLowerCase().includes(lowerCaseSearchTerm) || protocol.symbol.toLowerCase().includes(lowerCaseSearchTerm));
    }
}
ProtocolSelectPage.ɵfac = function ProtocolSelectPage_Factory(t) { return new (t || ProtocolSelectPage)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavParams"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"])); };
ProtocolSelectPage.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: ProtocolSelectPage, selectors: [["page-protocol-select"]], decls: 18, vars: 6, consts: [[1, "ion-no-border"], ["fixed", "true", 1, "ion-no-padding"], ["slot", "start"], ["defaultHref", "/"], ["slot", "end"], ["fill", "clear", "color", "secondary", 3, "click"], ["name", "close", "slot", "icon-only"], ["mode", "md", 3, "ngModel", "ngModelChange", "ionChange"], [1, "ion-padding"], ["lines", "none"], ["ngDefaultControl", "", "lines", "none", 3, "ngModel", "ngModelChange"], [3, "protocol", "radioList", 4, "ngFor", "ngForOf"], [3, "protocol", "radioList"]], template: function ProtocolSelectPage_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "ion-header", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "ion-grid", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "ion-toolbar");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "ion-buttons", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](4, "ion-back-button", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "ion-title");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](7, "translate");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](8, "ion-buttons", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](9, "ion-button", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function ProtocolSelectPage_Template_ion_button_click_9_listener() { return ctx.dismiss(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](10, "ion-icon", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](11, "ion-toolbar");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](12, "ion-searchbar", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("ngModelChange", function ProtocolSelectPage_Template_ion_searchbar_ngModelChange_12_listener($event) { return ctx.searchTerm = $event; })("ionChange", function ProtocolSelectPage_Template_ion_searchbar_ionChange_12_listener() { return ctx.searchTermChanged(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](13, "ion-content", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](14, "ion-grid", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](15, "ion-list", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](16, "ion-radio-group", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("ngModelChange", function ProtocolSelectPage_Template_ion_radio_group_ngModelChange_16_listener($event) { return ctx.selectedProtocol = $event; })("ngModelChange", function ProtocolSelectPage_Template_ion_radio_group_ngModelChange_16_listener() { return ctx.onModelChange(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](17, ProtocolSelectPage_currency_item_17_Template, 1, 2, "currency-item", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](7, 4, "protocol-select.title"));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngModel", ctx.searchTerm);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngModel", ctx.selectedProtocol);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngForOf", ctx.filteredProtocols);
    } }, directives: [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonHeader"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonGrid"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonToolbar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonButtons"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonBackButton"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonBackButtonDelegate"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonTitle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonButton"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonIcon"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonSearchbar"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["TextValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgModel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonContent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonList"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["IonRadioGroup"], _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["SelectValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["DefaultValueAccessor"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _components_currency_item_currency_item__WEBPACK_IMPORTED_MODULE_5__["CurrencyItemComponent"]], pipes: [_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__["TranslatePipe"]], encapsulation: 2 });


/***/ }),

/***/ "z26V":
/*!***************************************************!*\
  !*** ./src/app/services/ledger/ledger-service.ts ***!
  \***************************************************/
/*! exports provided: LedgerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LedgerService", function() { return LedgerService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "TEn/");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _ledger_app_substrate_KusamaLedgerApp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ledger/app/substrate/KusamaLedgerApp */ "Scg5");
/* harmony import */ var _ledger_app_substrate_PolkadotLedgerApp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ledger/app/substrate/PolkadotLedgerApp */ "f7Rz");
/* harmony import */ var _ledger_connection_LedgerConnection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ledger/connection/LedgerConnection */ "z8tp");
/* harmony import */ var _ledger_ReturnCode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ledger/ReturnCode */ "5T1b");
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/utils */ "oCjk");
/* harmony import */ var _price_price_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../price/price.service */ "QMTT");
/* harmony import */ var _ledger_connection_provider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ledger-connection-provider */ "YduV");
/* harmony import */ var src_app_ledger_app_tezos_TezosLedgerApp__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! src/app/ledger/app/tezos/TezosLedgerApp */ "qfnF");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/core */ "fXoL");















const MAX_RETRIES = 1;
class LedgerService {
    constructor(platform, connectionProvider, priceService) {
        this.platform = platform;
        this.connectionProvider = connectionProvider;
        this.priceService = priceService;
        this.supportedApps = new Map([
            [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].KUSAMA, (connection) => new _ledger_app_substrate_KusamaLedgerApp__WEBPACK_IMPORTED_MODULE_3__["KusamaLedgerApp"](connection)],
            [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].POLKADOT, (connection) => new _ledger_app_substrate_PolkadotLedgerApp__WEBPACK_IMPORTED_MODULE_4__["PolkadotLedgerApp"](connection)],
            [_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ, (connection) => new src_app_ledger_app_tezos_TezosLedgerApp__WEBPACK_IMPORTED_MODULE_10__["TezosLedgerApp"](connection)]
        ]);
        this.openConnections = new Map();
        this.runningApps = new Map();
    }
    getSupportedProtocols() {
        return Array.from(this.supportedApps.keys());
    }
    isProtocolSupported(protocol) {
        const identifier = typeof protocol === 'string' ? protocol : protocol.identifier;
        return this.getSupportedProtocols().includes(identifier);
    }
    getConnectedDevices(protocolIdentifier) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const devices = yield Promise.all([
                this.connectionProvider.getConnectedDevices(protocolIdentifier, _ledger_connection_LedgerConnection__WEBPACK_IMPORTED_MODULE_5__["LedgerConnectionType"].USB),
                this.connectionProvider.getConnectedDevices(protocolIdentifier, _ledger_connection_LedgerConnection__WEBPACK_IMPORTED_MODULE_5__["LedgerConnectionType"].BLE)
            ]);
            return devices.reduce((flatten, toFlatten) => flatten.concat(toFlatten), []);
        });
    }
    openConnection(protocolIdentifier, ledgerConnection) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.openLedgerConnection(protocolIdentifier, ledgerConnection);
        });
    }
    closeConnection(ledgerConnection) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!ledgerConnection) {
                return this.closeAllLedgerConnections();
            }
            else {
                return this.closeLedgerConnection(ledgerConnection);
            }
        });
    }
    importWallet(protocolIdentifier, ledgerConnection) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.withApp(protocolIdentifier, (app) => app.importWallet(this.priceService), ledgerConnection);
        });
    }
    signTransaction(protocolIdentifier, transaction, ledgerConnection) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return this.withApp(protocolIdentifier, (app) => app.signTransaction(transaction), ledgerConnection);
        });
    }
    withApp(identifier, action, ledgerConnection, actionTry = 0) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const appKey = this.getAppKey(identifier, ledgerConnection);
            let app = this.runningApps.get(appKey);
            if (!app) {
                app = yield this.openLedgerApp(identifier, ledgerConnection);
                app.init();
                this.runningApps.set(appKey, app);
            }
            return action(app)
                .catch((error) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                if (this.isDisconnectedDeviceError(error) && actionTry < MAX_RETRIES) {
                    yield this.closeLedgerConnection(ledgerConnection);
                    return this.withApp(identifier, action, ledgerConnection, actionTry + 1);
                }
                else {
                    return Promise.reject(this.getError(error));
                }
            }))
                .finally(() => this.closeLedgerConnection(ledgerConnection));
        });
    }
    openLedgerConnection(protocolIdentifier, ledgerConnection) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const connectionKey = this.getConnectionKey(ledgerConnection);
            let connection;
            if (!this.openConnections.has(connectionKey)) {
                connection = yield this.connectionProvider.open(protocolIdentifier, ledgerConnection);
                if (connection === null) {
                    return Promise.reject(`Platforms ${this.platform.platforms().join(', ')} not supported.`);
                }
                this.openConnections.set(connectionKey, connection);
            }
            else {
                connection = this.openConnections.get(connectionKey);
            }
            return connection;
        });
    }
    closeAllLedgerConnections() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield Promise.all(Array.from(this.openConnections.values()).map((connection) => connection.transport.close()));
            this.openConnections.clear();
            this.runningApps.clear();
        });
    }
    closeLedgerConnection(ledgerConnection) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const connectionKey = this.getConnectionKey(ledgerConnection);
            const connection = this.openConnections.get(connectionKey);
            if (connection) {
                try {
                    yield connection.transport.close();
                }
                catch (error) {
                    console.warn(`Could not close Ledger connection: ${error}`);
                }
                finally {
                    this.openConnections.delete(connectionKey);
                    Array.from(this.runningApps.keys())
                        .filter((key) => key.includes(connectionKey))
                        .forEach((key) => this.runningApps.delete(key));
                }
            }
        });
    }
    openLedgerApp(identifier, ledgerConnection) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const appFactory = this.supportedApps.get(identifier);
            if (!appFactory) {
                return Promise.reject(`${identifier} Ledger app is not supported`);
            }
            const connectionKey = this.getConnectionKey(ledgerConnection);
            let connection = this.openConnections.get(connectionKey);
            if (!connection) {
                connection = yield this.openLedgerConnection(identifier, ledgerConnection);
            }
            return appFactory(connection);
        });
    }
    getConnectionKey(ledgerConnection) {
        return ledgerConnection ? `${ledgerConnection.type}_${ledgerConnection.descriptor}` : 'defaultConnection';
    }
    getAppKey(identifier, ledgerConnection) {
        return `${identifier}_${this.getConnectionKey(ledgerConnection)}`;
    }
    isDisconnectedDeviceError(error) {
        return (Object(_utils_utils__WEBPACK_IMPORTED_MODULE_7__["isType"])(error, 'name') && (error.name === 'DisconnectedDevice' || error.name === 'DisconnectedDeviceDuringOperation'));
    }
    getError(error) {
        function getErrorFromStatusCode(statusCode) {
            switch (statusCode) {
                case _ledger_ReturnCode__WEBPACK_IMPORTED_MODULE_6__["ReturnCode"].CLA_NOT_SUPPORTED:
                    return "Could not detect the app. Make sure it's open.";
                default:
                    return null;
            }
        }
        if (Object(_utils_utils__WEBPACK_IMPORTED_MODULE_7__["isType"])(error, 'statusCode')) {
            const errorMessage = getErrorFromStatusCode(error.statusCode);
            if (errorMessage) {
                return errorMessage;
            }
        }
        if (Object(_utils_utils__WEBPACK_IMPORTED_MODULE_7__["isType"])(error, 'message')) {
            return error.message;
        }
        return error;
    }
}
LedgerService.ɵfac = function LedgerService_Factory(t) { return new (t || LedgerService)(_angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](_ledger_connection_provider__WEBPACK_IMPORTED_MODULE_9__["LedgerConnectionProvider"]), _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵinject"](_price_price_service__WEBPACK_IMPORTED_MODULE_8__["PriceService"])); };
LedgerService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_11__["ɵɵdefineInjectable"]({ token: LedgerService, factory: LedgerService.ɵfac, providedIn: 'root' });


/***/ }),

/***/ "z4jU":
/*!***************************************************!*\
  !*** ./src/app/models/AirGapMarketWalletGroup.ts ***!
  \***************************************************/
/*! exports provided: InteractionSetting, transportToInteractionSetting, AirGapMarketWalletGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InteractionSetting", function() { return InteractionSetting; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "transportToInteractionSetting", function() { return transportToInteractionSetting; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AirGapMarketWalletGroup", function() { return AirGapMarketWalletGroup; });
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core/wallet/AirGapWallet */ "7pxb");
/* harmony import */ var _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_1__);


var InteractionSetting;
(function (InteractionSetting) {
    InteractionSetting["UNDETERMINED"] = "undetermined";
    InteractionSetting["ALWAYS_ASK"] = "always";
    InteractionSetting["SAME_DEVICE"] = "same_device";
    InteractionSetting["OFFLINE_DEVICE"] = "offline_device";
    InteractionSetting["LEDGER"] = "ledger";
})(InteractionSetting || (InteractionSetting = {}));
const transportToInteractionSetting = (transport) => {
    switch (transport) {
        case _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["IACMessageTransport"].DEEPLINK:
            return InteractionSetting.SAME_DEVICE;
        case _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["IACMessageTransport"].QR_SCANNER:
            return InteractionSetting.OFFLINE_DEVICE;
        case _airgap_angular_core__WEBPACK_IMPORTED_MODULE_0__["IACMessageTransport"].PASTE:
            return InteractionSetting.UNDETERMINED;
    }
};
class AirGapMarketWalletGroup {
    constructor(id, label, interactionSetting, wallets, transient = false) {
        this.id = id;
        this.wallets = wallets;
        this.transient = transient;
        this.updateLabel(label);
        this.updateInteractionSetting(interactionSetting);
        this.updateStatus();
    }
    get label() {
        return this._label;
    }
    get interactionSetting() {
        return this._interactionSetting;
    }
    set interactionSetting(setting) {
        this._interactionSetting = setting;
    }
    get status() {
        return this._status;
    }
    updateLabel(label) {
        this._label = label;
    }
    updateStatus() {
        this._status = this.resolveStatus();
    }
    updateInteractionSetting(interactionSetting) {
        this._interactionSetting = interactionSetting ? interactionSetting : InteractionSetting.UNDETERMINED;
    }
    resolveStatus() {
        const status = {
            active: 0,
            hidden: 0,
            deleted: 0
        };
        for (const wallet of this.wallets) {
            status[wallet.status]++;
        }
        if (status.active > 0) {
            return _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_1__["AirGapWalletStatus"].ACTIVE;
        }
        else if (status.hidden > 0) {
            return _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_1__["AirGapWalletStatus"].HIDDEN;
        }
        else {
            return _airgap_coinlib_core_wallet_AirGapWallet__WEBPACK_IMPORTED_MODULE_1__["AirGapWalletStatus"].DELETED;
        }
    }
    toJSON() {
        return {
            id: this.id,
            label: this.label,
            status: this.status,
            interactionSetting: this.interactionSetting,
            wallets: this.wallets.map((wallet) => [wallet.protocol.identifier, wallet.publicKey])
        };
    }
    includesWallet(wallet) {
        return this.wallets.includes(wallet);
    }
}


/***/ }),

/***/ "z8tp":
/*!*******************************************************!*\
  !*** ./src/app/ledger/connection/LedgerConnection.ts ***!
  \*******************************************************/
/*! exports provided: LedgerConnectionType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LedgerConnectionType", function() { return LedgerConnectionType; });
var LedgerConnectionType;
(function (LedgerConnectionType) {
    LedgerConnectionType["USB"] = "USB";
    LedgerConnectionType["BLE"] = "BLE";
})(LedgerConnectionType || (LedgerConnectionType = {}));


/***/ }),

/***/ "zJ8R":
/*!**************************************************************!*\
  !*** ./src/app/ledger/connection/LedgerConnectionBrowser.ts ***!
  \**************************************************************/
/*! exports provided: LedgerConnectionBrowser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LedgerConnectionBrowser", function() { return LedgerConnectionBrowser; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ledgerhq_hw_transport_u2f__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ledgerhq/hw-transport-u2f */ "1BiQ");
/* harmony import */ var _ledgerhq_hw_transport_webhid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ledgerhq/hw-transport-webhid */ "g3jJ");
/* harmony import */ var _ledgerhq_hw_transport_webusb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ledgerhq/hw-transport-webusb */ "r+TU");
/* harmony import */ var _LedgerConnection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LedgerConnection */ "z8tp");






function getPrioritizedUSBTransportTypes(protocolIdentifier) {
    switch (protocolIdentifier) {
        case _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_1__["MainProtocolSymbols"].XTZ:
            return [_ledgerhq_hw_transport_webhid__WEBPACK_IMPORTED_MODULE_3__["default"], _ledgerhq_hw_transport_webusb__WEBPACK_IMPORTED_MODULE_4__["default"]];
        default:
            return [_ledgerhq_hw_transport_webusb__WEBPACK_IMPORTED_MODULE_4__["default"], _ledgerhq_hw_transport_u2f__WEBPACK_IMPORTED_MODULE_2__["default"]];
    }
}
function getPrioritizedBLETransportTypes(_protocolIdentifier) {
    return [_ledgerhq_hw_transport_u2f__WEBPACK_IMPORTED_MODULE_2__["default"]];
}
function getPrioritizedTransportTypes(protocolIdentifier, connectionType) {
    switch (connectionType) {
        case _LedgerConnection__WEBPACK_IMPORTED_MODULE_5__["LedgerConnectionType"].USB:
            return getPrioritizedUSBTransportTypes(protocolIdentifier);
        case _LedgerConnection__WEBPACK_IMPORTED_MODULE_5__["LedgerConnectionType"].BLE:
            return getPrioritizedBLETransportTypes(protocolIdentifier);
        default:
            return [];
    }
}
function getSupportedTransportType(protocolIdentifier, connectionType) {
    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
        const transportTypes = getPrioritizedTransportTypes(protocolIdentifier, connectionType);
        const areSupported = yield Promise.all(transportTypes.map((transport) => transport.isSupported()));
        const firstSupportedIndex = areSupported.indexOf(true);
        return firstSupportedIndex > -1 ? transportTypes[firstSupportedIndex] : null;
    });
}
class LedgerConnectionBrowser {
    constructor(type, transport) {
        this.type = type;
        this.transport = transport;
    }
    static getConnectedDevices(protocolIdentifier, connectionType) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const supportedTransportType = yield getSupportedTransportType(protocolIdentifier, connectionType);
            return supportedTransportType
                ? supportedTransportType.list()
                    .then((descriptors) => {
                    return descriptors.map((descriptor) => ({
                        descriptor,
                        type: connectionType
                    }));
                })
                    .catch(() => [])
                : [];
        });
    }
    static open(protocolIdentifier, connectionType = _LedgerConnection__WEBPACK_IMPORTED_MODULE_5__["LedgerConnectionType"].USB, descriptor) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            const supportedTransportType = yield getSupportedTransportType(protocolIdentifier, connectionType);
            if (supportedTransportType) {
                const transport = yield (descriptor ? supportedTransportType.open(descriptor) : supportedTransportType.create());
                return new LedgerConnectionBrowser(connectionType, transport);
            }
            else {
                return Promise.reject(`Connection type ${connectionType} is not supported`);
            }
        });
    }
}


/***/ }),

/***/ "zUnb":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "jhN1");
/* harmony import */ var _angular_compiler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/compiler */ "1uSB");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/app.module */ "ZAI4");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./environments/environment */ "AytR");





if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["enableProdMode"])();
}
_angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["platformBrowser"]()
    .bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_3__["AppModule"])
    .catch((err) => console.log(err));


/***/ }),

/***/ "zY7Z":
/*!*********************************************************!*\
  !*** ./src/app/components/from-to/from-to.component.ts ***!
  \*********************************************************/
/*! exports provided: FromToComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FromToComponent", function() { return FromToComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @airgap/coinlib-core */ "RKiA");
/* harmony import */ var _airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _airgap_angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @airgap/angular-core */ "138U");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ionic/angular */ "TEn/");










function FromToComponent_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "airgap-from-to", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const transaction_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("transaction", transaction_r2);
} }
function FromToComponent_ng_container_1_ng_container_7_ng_container_1_h6_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "h6");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const i_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().index;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("Operation #", i_r6 + 1, "");
} }
function FromToComponent_ng_container_1_ng_container_7_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, FromToComponent_ng_container_1_ng_container_7_ng_container_1_h6_1_Template, 3, 1, "h6", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "form", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "ion-row", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "ion-col", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "ion-item", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "ion-label", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7, "Fee");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](8, "ion-input", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "ion-col", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "ion-item", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "ion-label", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](12, "Gas Limit");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](13, "ion-input", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "ion-col", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](15, "ion-item", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "ion-label", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](17, "Storage Limit");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](18, "ion-input", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const wrappedOperation_r5 = ctx.$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r4.operationControls && ctx_r4.operationControls.length > 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", wrappedOperation_r5);
} }
function FromToComponent_ng_container_1_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, FromToComponent_ng_container_1_ng_container_7_ng_container_1_Template, 19, 2, "ng-container", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "ion-button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function FromToComponent_ng_container_1_ng_container_7_Template_ion_button_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2); return ctx_r9.updateOperationGroup(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3, "Update");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r3.operationControls.controls);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r3.formGroup.invalid);
} }
function FromToComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "ion-row", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "ion-col", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "ion-item", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "ion-label");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5, "Change Fees");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "ion-toggle", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("ngModelChange", function FromToComponent_ng_container_1_Template_ion_toggle_ngModelChange_6_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r12); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r11.advanced = $event; })("ngModelChange", function FromToComponent_ng_container_1_Template_ion_toggle_ngModelChange_6_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r12); const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r13.initForms(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, FromToComponent_ng_container_1_ng_container_7_Template, 4, 2, "ng-container", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngModel", ctx_r1.advanced);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r1.advanced && ctx_r1.formGroup !== undefined && ctx_r1.operationControls !== undefined);
} }
class FromToComponent {
    constructor(formBuilder, protocolService, feeConverterPipe) {
        this.formBuilder = formBuilder;
        this.protocolService = protocolService;
        this.feeConverterPipe = feeConverterPipe;
        this.onWrappedOperationUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.advanced = false;
    }
    get operationControls() {
        if (this.formGroup === undefined) {
            return undefined;
        }
        return this.formGroup.controls.operations;
    }
    initForms() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.wrappedOperation === undefined) {
                return;
            }
            const protocol = yield this.protocolService.getProtocol(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ);
            const formGroups = yield Promise.all(this.wrappedOperation.contents.map((operation) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const feeValue = yield this.feeConverterPipe.transform(operation.fee, { protocol, dropSymbol: true });
                const feeControl = this.formBuilder.control(feeValue, [
                    _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required,
                    _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].pattern(`^[0-9]+(\.[0-9]{1,${protocol.feeDecimals}})*$`)
                ]);
                const gasLimitControl = this.formBuilder.control(operation.gas_limit, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].min(0)]);
                const storageLimitControl = this.formBuilder.control(operation.storage_limit, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].min(0)]);
                return this.formBuilder.group({
                    fee: feeControl,
                    gasLimit: gasLimitControl,
                    storageLimit: storageLimitControl
                });
            })));
            this.formGroup = this.formBuilder.group({
                operations: this.formBuilder.array(formGroups)
            });
        });
    }
    updateOperationGroup() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.wrappedOperation === undefined) {
                return;
            }
            const protocol = yield this.protocolService.getProtocol(_airgap_coinlib_core__WEBPACK_IMPORTED_MODULE_2__["MainProtocolSymbols"].XTZ);
            this.wrappedOperation.contents = yield Promise.all(this.wrappedOperation.contents.map((operation, index) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
                const group = this.formGroup.controls.operations.controls[index];
                const fee = yield this.feeConverterPipe.transform(group.controls.fee.value, { protocol, dropSymbol: true, reverse: true });
                return Object.assign(Object.assign({}, operation), { fee, gas_limit: String(group.controls.gasLimit.value), storage_limit: String(group.controls.storageLimit.value) });
            })));
            this.onWrappedOperationUpdate.emit(this.wrappedOperation);
            this.advanced = false;
        });
    }
}
FromToComponent.ɵfac = function FromToComponent_Factory(t) { return new (t || FromToComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_4__["ProtocolService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_airgap_angular_core__WEBPACK_IMPORTED_MODULE_4__["FeeConverterPipe"])); };
FromToComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: FromToComponent, selectors: [["beacon-from-to"]], inputs: { transactions: "transactions", wrappedOperation: "wrappedOperation" }, outputs: { onWrappedOperationUpdate: "onWrappedOperationUpdate" }, decls: 2, vars: 2, consts: [[4, "ngFor", "ngForOf"], [4, "ngIf"], [3, "transaction"], [1, "rawdata--container", "ion-padding-bottom", "ion-margin-bottom"], [1, "ion-no-padding"], ["lines", "none", 1, "ion-no-padding"], ["slot", "end", 3, "ngModel", "ngModelChange"], ["color", "primary", 3, "disabled", "click"], [1, "ion-padding-bottom", 3, "formGroup"], [1, "padding-top"], ["size", "4"], ["mode", "md", "color", "light"], ["position", "stacked", 1, "ion-no-margin"], ["type", "text", "formControlName", "fee", "id", "fee"], ["mode", "md", "type", "number", "formControlName", "gasLimit", "id", "gas_limit"], ["mode", "md", "type", "number", "formControlName", "storageLimit", "id", "storage_limit"], [1, "style__strong", "color__primary"]], template: function FromToComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, FromToComponent_ng_container_0_Template, 2, 1, "ng-container", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, FromToComponent_ng_container_1_Template, 8, 2, "ng-container", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.transactions);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.wrappedOperation !== undefined);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _airgap_angular_core__WEBPACK_IMPORTED_MODULE_4__["FromToComponent"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonRow"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonCol"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonItem"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonLabel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonToggle"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["BooleanValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgModel"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonButton"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ɵangular_packages_forms_forms_ba"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormGroupDirective"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["IonInput"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["TextValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControlName"], _ionic_angular__WEBPACK_IMPORTED_MODULE_6__["NumericValueAccessor"]], styles: [".line[_ngcontent-%COMP%] {\n  border-left: 1px solid var(--ion-color-dark);\n  height: 96px;\n}\n\n.rawdata--container.ios[_ngcontent-%COMP%] {\n  margin-bottom: 48px;\n}\n\n.rawdata--container.md[_ngcontent-%COMP%] {\n  margin-bottom: var(--margin-bottom);\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2Zyb20tdG8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw0Q0FBQTtFQUNBLFlBQUE7QUFDRjs7QUFDQTtFQUNFLG1CQUFBO0FBRUY7O0FBQUE7RUFDRSxtQ0FBQTtBQUdGIiwiZmlsZSI6ImZyb20tdG8uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGluZSB7XG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICBoZWlnaHQ6IDk2cHg7XG59XG4ucmF3ZGF0YS0tY29udGFpbmVyLmlvcyB7XG4gIG1hcmdpbi1ib3R0b206IDQ4cHg7XG59XG4ucmF3ZGF0YS0tY29udGFpbmVyLm1kIHtcbiAgbWFyZ2luLWJvdHRvbTogdmFyKC0tbWFyZ2luLWJvdHRvbSk7XG59XG4iXX0= */"] });


/***/ }),

/***/ "zn8P":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "zn8P";

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map