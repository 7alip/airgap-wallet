{"version":3,"sources":["./src/app/pages/dapp-permission-list/dapp-permission-list-routing.module.ts","./src/app/pages/dapp-permission-list/dapp-permission-list.module.ts","./src/app/pages/dapp-permission-list/dapp-permission-list.page.ts","./src/app/pages/dapp-permission-list/dapp-permission-list.page.html"],"names":[],"mappings":"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","file":"pages-dapp-permission-list-dapp-permission-list-module.js","sourcesContent":["import { NgModule } from '@angular/core'\nimport { Routes, RouterModule } from '@angular/router'\n\nimport { DappPermissionListPage } from './dapp-permission-list.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DappPermissionListPage\n  }\n]\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DappPermissionListPageRoutingModule {}\n","import { AirGapAngularCoreModule } from '@airgap/angular-core'\nimport { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { ComponentsModule } from 'src/app/components/components.module'\n\nimport { DappPermissionListPageRoutingModule } from './dapp-permission-list-routing.module'\nimport { DappPermissionListPage } from './dapp-permission-list.page'\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    ComponentsModule,\n    DappPermissionListPageRoutingModule,\n    AirGapAngularCoreModule\n  ],\n  declarations: [DappPermissionListPage]\n})\nexport class DappPermissionListPageModule {}\n","import { NetworkType, PermissionInfo } from '@airgap/beacon-sdk'\nimport { Component } from '@angular/core'\nimport { AlertController } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\nimport { BeaconService } from 'src/app/services/beacon/beacon.service'\n\n@Component({\n  selector: 'app-dapp-permission-list',\n  templateUrl: './dapp-permission-list.page.html',\n  styleUrls: ['./dapp-permission-list.page.scss']\n})\nexport class DappPermissionListPage {\n  public networkType: typeof NetworkType = NetworkType\n\n  public beaconPermissions: PermissionInfo[] = []\n\n  constructor(\n    private readonly beaconService: BeaconService,\n    private readonly alertController: AlertController,\n    private readonly translate: TranslateService\n  ) {\n    this.loadPermissions().catch(console.error)\n  }\n\n  public async loadPermissions(): Promise<void> {\n    this.beaconPermissions = await this.beaconService.client.getPermissions()\n  }\n\n  public async deletePermission(permission: PermissionInfo): Promise<void> {\n    this.translate\n      .get([\n        'dapp-permission-list.delete-permission-alert.header',\n        'dapp-permission-list.delete-permission-alert.message',\n        'dapp-permission-list.delete-permission-alert.cancel_label',\n        'dapp-permission-list.delete-permission-alert.yes_label'\n      ])\n      .subscribe(async (translated: { [key: string]: string | undefined }) => {\n        const alert: HTMLIonAlertElement = await this.alertController.create({\n          header: translated['dapp-permission-list.delete-permission-alert.header'],\n          message: translated['dapp-permission-list.delete-permission-alert.message'],\n          buttons: [\n            {\n              text: translated['dapp-permission-list.delete-permission-alert.cancel_label'],\n              role: 'cancel',\n              cssClass: 'secondary'\n            },\n            {\n              text: translated['dapp-permission-list.delete-permission-alert.yes_label'],\n              handler: async (): Promise<void> => {\n                await this.beaconService.client.removePermission(permission.accountIdentifier)\n\n                await this.loadPermissions()\n              }\n            }\n          ]\n        })\n\n        await alert.present()\n      })\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-toolbar>\n      <ion-buttons slot=\"start\">\n        <ion-back-button defaultHref=\"/tabs/settings\"></ion-back-button>\n      </ion-buttons>\n      <ion-title>{{ 'dapp-permission-list.title' | translate }}</ion-title>\n    </ion-toolbar>\n  </ion-grid>\n</ion-header>\n\n<ion-content>\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-list>\n      <ion-list-header>\n        <ion-label>{{ 'dapp-permission-list.connected-dapps' | translate }}</ion-label>\n      </ion-list-header>\n      <div *ngIf=\"beaconPermissions.length === 0\" class=\"empty-list ion-padding-horizontal\">\n        <img class=\"ion-padding-vertical\" src=\"assets/img/empty-state-no-transaction.svg\" />\n        <p>{{ 'dapp-permission-list.no-permissions' | translate }}</p>\n      </div>\n      <ion-item lines=\"none\" *ngFor=\"let permission of beaconPermissions\">\n        <ion-label>\n          <h3>\n            <strong>{{ permission.appMetadata.name }}</strong>\n          </h3>\n          <div class=\"d-flex ion-align-items-center\">\n            <airgap-identicon [address]=\"permission.address\"></airgap-identicon>\n            <p class=\"ion-no-margin\">{{ permission.address }}</p>\n          </div>\n          <ion-badge color=\"light\">{{ permission.scopes }}</ion-badge>\n          <div>\n            <ion-badge class=\"badge__margin\" color=\"danger\">{{ permission.network.type }}</ion-badge>\n\n            <ion-badge class=\"badge__margin\" *ngIf=\"permission.network.rpcUrl\">{{ permission.network.rpcUrl }}</ion-badge>\n          </div>\n        </ion-label>\n        <ion-button slot=\"end\" size=\"small\" fill=\"outline\" (click)=\"deletePermission(permission)\">\n          {{ 'dapp-permission-list.remove_label' | translate }}\n        </ion-button>\n      </ion-item>\n    </ion-list>\n  </ion-grid>\n</ion-content>\n"],"sourceRoot":"webpack:///"}