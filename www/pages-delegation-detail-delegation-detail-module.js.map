{"version":3,"sources":["./src/app/pages/delegation-detail/delegation-detail.ts","./src/app/pages/delegation-detail/delegation-detail.html","./src/app/pages/delegation-detail/delegation-detail.module.ts"],"names":[],"mappings":"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","file":"pages-delegation-detail-delegation-detail-module.js","sourcesContent":["import { AmountConverterPipe } from '@airgap/angular-core'\nimport { Component } from '@angular/core'\nimport { FormBuilder, FormGroup } from '@angular/forms'\nimport { ActivatedRoute, Router } from '@angular/router'\nimport { LoadingController, NavController, PopoverController, ToastController } from '@ionic/angular'\nimport { OverlayEventDetail } from '@ionic/core'\nimport { AirGapMarketWallet, IACMessageType } from '@airgap/coinlib-core'\nimport { BehaviorSubject } from 'rxjs'\nimport { DelegateActionPopoverComponent } from 'src/app/components/delegate-action-popover/delegate-action-popover.component'\nimport { supportsAirGapDelegation } from 'src/app/helpers/delegation'\nimport {\n  AirGapDelegateeDetails,\n  AirGapDelegationDetails,\n  AirGapDelegatorAction,\n  AirGapDelegatorDetails\n} from 'src/app/interfaces/IAirGapCoinDelegateProtocol'\nimport { UIAccount } from 'src/app/models/widgets/display/UIAccount'\nimport { UIAlert } from 'src/app/models/widgets/display/UIAlert'\nimport { UIIconText } from 'src/app/models/widgets/display/UIIconText'\nimport { UIRewardList } from 'src/app/models/widgets/display/UIRewardList'\nimport { UIWidget } from 'src/app/models/widgets/UIWidget'\nimport { DataService, DataServiceKey } from 'src/app/services/data/data.service'\nimport { ExtensionsService } from 'src/app/services/extensions/extensions.service'\nimport { OperationsProvider } from 'src/app/services/operations/operations'\nimport { ErrorCategory, handleErrorSentry } from 'src/app/services/sentry-error-handler/sentry-error-handler'\nimport { isType } from 'src/app/utils/utils'\nimport { AccountProvider } from 'src/app/services/account/account.provider'\n\n@Component({\n  selector: 'app-delegation-detail',\n  templateUrl: './delegation-detail.html',\n  styleUrls: ['./delegation-detail.scss']\n})\nexport class DelegationDetailPage {\n  public wallet: AirGapMarketWallet\n\n  public showOverflowMenu: boolean\n\n  public delegationForms: Map<string, FormGroup> = new Map()\n  public delegationAlertWidgets: UIAlert[] | undefined\n\n  public delegateeLabel: string\n  public delegateeLabelPlural: string\n  public delegateeAccountWidget: UIAccount\n\n  public delegatorBalanceWidget: UIIconText\n\n  public activeDelegatorAction: string | null = null\n  public activeDelegatorActionConfirmButton: string | null = null\n\n  public delegateeDetails$: BehaviorSubject<AirGapDelegateeDetails | null> = new BehaviorSubject(null)\n  public delegatorDetails$: BehaviorSubject<AirGapDelegatorDetails | null> = new BehaviorSubject(null)\n  public rewardDisplay$: BehaviorSubject<UIRewardList | null> = new BehaviorSubject(null)\n\n  public canProceed: boolean = true\n  public hasRewardDetails: boolean | undefined = undefined\n\n  public get shouldDisplaySegmentButtons(): boolean {\n    const details = this.delegatorDetails$.value\n\n    return details.mainActions && details.mainActions.some((action) => !!action.description || !!action.args)\n  }\n\n  private get isAirGapDelegatee(): boolean {\n    return supportsAirGapDelegation(this.wallet.protocol)\n      ? this.wallet.protocol.airGapDelegatee() && this.delegateeAddress$.value === this.wallet.protocol.airGapDelegatee()\n      : false\n  }\n\n  private get hideAirGapOverflow(): boolean {\n    return supportsAirGapDelegation(this.wallet.protocol)\n      ? !this.wallet.protocol.airGapDelegatee() || this.isAirGapDelegatee\n      : this.isAirGapDelegatee\n  }\n\n  private readonly delegateeAddress$: BehaviorSubject<string | null> = new BehaviorSubject(null)\n  private areMultipleDelegationsSupported: boolean = false\n\n  private loader: HTMLIonLoadingElement | undefined\n\n  private publicKey: string\n  private protocolID: string\n  private addressIndex\n\n  constructor(\n    private readonly router: Router,\n    private readonly navController: NavController,\n    private readonly dataService: DataService,\n    private readonly operations: OperationsProvider,\n    private readonly extensionsService: ExtensionsService,\n    private readonly loadingController: LoadingController,\n    private readonly popoverController: PopoverController,\n    private readonly toastController: ToastController,\n    private readonly route: ActivatedRoute,\n    private readonly formBuilder: FormBuilder,\n    private readonly amountConverter: AmountConverterPipe,\n    public readonly accountProvider: AccountProvider\n  ) {}\n\n  ngOnInit() {\n    this.publicKey = this.route.snapshot.params.publicKey\n    this.protocolID = this.route.snapshot.params.protocolID\n    this.addressIndex = this.route.snapshot.params.addressIndex\n    if (this.addressIndex === 'undefined') {\n      this.addressIndex = undefined\n    } else {\n      this.addressIndex = Number(this.addressIndex)\n    }\n    this.wallet = this.accountProvider.walletByPublicKeyAndProtocolAndAddressIndex(this.publicKey, this.protocolID, this.addressIndex)\n\n    this.extensionsService.loadDelegationExtensions().then(() => {\n      this.initView()\n    })\n  }\n\n  public filterVisible(widgets?: UIWidget[]): UIWidget[] {\n    return widgets ? widgets.filter((widget) => widget.isVisible) : []\n  }\n\n  public async presentEditPopover(event: Event): Promise<void> {\n    const delegatorDetails = this.delegatorDetails$.value\n    const secondaryActions = delegatorDetails ? delegatorDetails.secondaryActions : undefined\n\n    const popover: HTMLIonPopoverElement = await this.popoverController.create({\n      component: DelegateActionPopoverComponent,\n      componentProps: {\n        hideAirGap: this.hideAirGapOverflow,\n        delegateeLabel: this.delegateeLabel,\n        secondaryDelegatorActions: secondaryActions\n      },\n      event,\n      translucent: true\n    })\n\n    popover\n      .onDidDismiss()\n      .then(async ({ data }: OverlayEventDetail<unknown>) => {\n        if (isType<{ changeToAirGap: boolean }>(data, 'changeToAirGap') && supportsAirGapDelegation(this.wallet.protocol)) {\n          this.changeDisplayedDetails(this.wallet.protocol.airGapDelegatee())\n        } else if (isType<{ secondaryActionType: string }>(data, 'secondaryActionType')) {\n          this.callSecondaryAction(data.secondaryActionType)\n        } else {\n          console.log('Unknown option selected.')\n        }\n      })\n      .catch(handleErrorSentry(ErrorCategory.IONIC_ALERT))\n\n    return popover.present().catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n\n  public callMainAction(type: string) {\n    const delegatorDetails = this.delegatorDetails$.value\n    if (!delegatorDetails) {\n      return\n    }\n\n    if (!delegatorDetails.mainActions || delegatorDetails.mainActions.length === 0) {\n      this.navController.back()\n      return\n    }\n\n    this.callAction(delegatorDetails.mainActions, type)\n  }\n\n  public callSecondaryAction(type: string) {\n    const delegatorDetails = this.delegatorDetails$.value\n    if (!delegatorDetails) {\n      return\n    }\n\n    this.callAction(delegatorDetails.secondaryActions || [], type)\n  }\n\n  public onActiveActionChange(activeDelegatorAction: string | null) {\n    const activeAction = this.delegatorDetails$.value.mainActions\n      ? this.delegatorDetails$.value.mainActions.find((action) => action.type.toString() === activeDelegatorAction)\n      : null\n\n    this.activeDelegatorAction = activeDelegatorAction\n    this.activeDelegatorActionConfirmButton =\n      activeAction && !activeAction.disabled ? activeAction.confirmLabel || activeAction.label : null\n  }\n\n  public showDelegateesList() {\n    const info = {\n      wallet: this.wallet,\n      delegateeLabel: this.delegateeLabel,\n      delegateeLabelPlural: this.delegateeLabelPlural,\n      areMultipleDelegationsSupported: this.areMultipleDelegationsSupported,\n      currentDelegatees: this.delegatorDetails$.value.delegatees,\n      callback: (address: string) => {\n        this.changeDisplayedDetails(address)\n      }\n    }\n\n    this.dataService.setData(DataServiceKey.DETAIL, info)\n    this.router\n      .navigateByUrl('/delegation-list/' + DataServiceKey.DETAIL, { skipLocationChange: true })\n      .catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n\n  private initView() {\n    this.delegateeLabel = supportsAirGapDelegation(this.wallet.protocol)\n      ? this.wallet.protocol.delegateeLabel\n      : 'delegation-detail.default-delegatee-label'\n\n    this.delegateeLabelPlural = supportsAirGapDelegation(this.wallet.protocol)\n      ? this.wallet.protocol.delegateeLabelPlural\n      : 'delegation-detail.defailt-delegatee-label-plural'\n\n    this.areMultipleDelegationsSupported = supportsAirGapDelegation(this.wallet.protocol)\n      ? this.wallet.protocol.supportsMultipleDelegations\n      : false\n\n    this.subscribeObservables()\n\n    this.operations.getCurrentDelegatees(this.wallet).then((addresses) => {\n      if (addresses) {\n        this.delegateeAddress$.next(addresses[0])\n      }\n    })\n  }\n\n  private subscribeObservables() {\n    this.delegateeAddress$.subscribe(async (address) => {\n      if (address) {\n        this.updateDisplayedDetails(null)\n        this.updateDisplayedRewards(null)\n\n        this.operations.getDelegationDetails(this.wallet, [address]).then((details) => {\n          if (details && details.length > 0) {\n            this.updateDisplayedDetails(details)\n          }\n        })\n        this.operations.getRewardDisplayDetails(this.wallet, [address]).then((rewards) => {\n          this.hasRewardDetails = rewards !== undefined\n          if (rewards) {\n            this.updateDisplayedRewards(rewards)\n          }\n        })\n      }\n    })\n\n    this.delegateeDetails$.subscribe((details) => {\n      this.delegateeAccountWidget = details\n        ? new UIAccount({\n            name: details.name,\n            address: details.address,\n            logo: details.logo,\n            shortenAddress: true\n          })\n        : null\n    })\n\n    this.delegatorDetails$.subscribe(async (details) => {\n      this.showOverflowMenu =\n        !(this.isAirGapDelegatee || this.hideAirGapOverflow) || (details && details.secondaryActions && details.secondaryActions.length > 0)\n\n      if (details) {\n        this.delegatorBalanceWidget = new UIIconText({\n          iconName: 'wallet-outline',\n          text: await this.amountConverter.transform(details.balance, {\n            protocol: this.wallet.protocol,\n            maxDigits: this.wallet.protocol.decimals\n          }),\n          description: 'delegation-detail.your-balance_label'\n        })\n\n        this.setupAllActions(details)\n        this.setupFormObservers()\n        this.initActiveDelegatorAction(details)\n      }\n    })\n  }\n\n  private setupAllActions(details: AirGapDelegatorDetails) {\n    this.setupActions(details.mainActions || [])\n    this.setupActions(details.secondaryActions || [])\n  }\n\n  private setupActions(actions: AirGapDelegatorAction[]) {\n    actions.forEach((action) => {\n      this.setupFormForAction(action)\n      action.form = this.delegationForms.get(action.type)\n\n      if (action.args) {\n        action.args.forEach((arg) => {\n          arg.wallet = this.wallet\n        })\n      }\n    })\n  }\n\n  private setupFormForAction(action: AirGapDelegatorAction) {\n    if (action.form) {\n      this.delegationForms.set(action.type, action.form)\n    }\n\n    const form = this.delegationForms.get(action.type)\n    const formArgs = {}\n\n    if (action.args) {\n      action.args.forEach((arg) => {\n        formArgs[arg.id] = form ? form.value[arg.id] : null\n      })\n    }\n\n    if (!form) {\n      this.delegationForms.set(action.type, this.formBuilder.group(formArgs))\n    } else {\n      Object.keys(formArgs)\n        .map((key) => [key, formArgs[key]] as [string, any])\n        .forEach(([key, value]) => form.addControl(key, value))\n    }\n  }\n\n  private setupFormObservers() {\n    Array.from(this.delegationForms.entries()).forEach(([type, formGroup]) => {\n      formGroup.valueChanges.subscribe(() => {\n        if (this.activeDelegatorAction === type.toString()) {\n          setTimeout(() => {\n            this.canProceed = formGroup.valid\n          })\n        }\n      })\n    })\n  }\n\n  private initActiveDelegatorAction(details: AirGapDelegatorDetails) {\n    const activeAction = details.mainActions ? details.mainActions[0] : null\n    this.onActiveActionChange(activeAction ? activeAction.type.toString() : null)\n  }\n\n  private updateDisplayedDetails(details: AirGapDelegationDetails[] | null) {\n    // TODO: support multiple cases\n    this.delegationAlertWidgets = details ? details[0].alerts : undefined\n\n    this.delegateeDetails$.next(details ? details[0].delegatees[0] : null)\n    this.delegatorDetails$.next(details ? details[0].delegator : null)\n  }\n\n  private updateDisplayedRewards(rewardDisplay: UIRewardList) {\n    this.rewardDisplay$.next(rewardDisplay)\n  }\n\n  private changeDisplayedDetails(address: string) {\n    this.delegateeAddress$.next(address)\n  }\n\n  private callAction(actions: AirGapDelegatorAction[], type: string) {\n    const action = actions.find((action) => action.type.toString() === type)\n    const actionType = action ? action.type : undefined\n\n    if (action.disabled) {\n      this.navController.back()\n      return\n    }\n\n    if (actionType) {\n      this.prepareDelegationAction(actionType)\n    } else {\n      console.warn('Unknown action')\n    }\n  }\n\n  private async prepareDelegationAction(actionType: any): Promise<void> {\n    this.loader = await this.loadingController.create({\n      message: 'Preparing transaction...'\n    })\n\n    await this.loader.present().catch(handleErrorSentry(ErrorCategory.IONIC_LOADER))\n\n    try {\n      const form = this.delegationForms.get(actionType)\n      const data = form ? form.value : undefined\n      const { airGapTxs, unsignedTx } = await this.operations.prepareDelegatorAction(this.wallet, actionType, data)\n\n      this.dismissLoader()\n\n      this.accountProvider.startInteraction(this.wallet, unsignedTx, IACMessageType.TransactionSignRequest, airGapTxs)\n    } catch (error) {\n      this.dismissLoader()\n\n      console.warn(error)\n      this.showToast(error.message)\n    }\n  }\n\n  private dismissLoader() {\n    if (this.loader) {\n      this.loader.dismiss().catch(handleErrorSentry(ErrorCategory.IONIC_LOADER))\n    }\n  }\n\n  private async showToast(message: string): Promise<void> {\n    const toast: HTMLIonToastElement = await this.toastController.create({\n      message: message,\n      duration: 3000,\n      position: 'bottom'\n    })\n    toast.present().catch(handleErrorSentry(ErrorCategory.IONIC_TOAST))\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-toolbar>\n      <ion-buttons slot=\"start\">\n        <ion-back-button defaultHref=\"/\"></ion-back-button>\n      </ion-buttons>\n      <ion-title>{{ \"delegation-detail.title\" | translate: { delegateeLabel: (delegateeLabel | translate) } }}</ion-title>\n      <ion-buttons slot=\"end\">\n        <ion-button *ngIf=\"showOverflowMenu\" (click)=\"presentEditPopover($event)\" color=\"secondary\">\n          <ion-icon name=\"ellipsis-vertical-outline\"></ion-icon>\n        </ion-button>\n      </ion-buttons>\n    </ion-toolbar>\n  </ion-grid>\n</ion-header>\n\n<ion-content>\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-row class=\"ion-padding-horizontal\">\n      <ion-col size=\"12\">\n        <widget-account *ngIf=\"delegateeAccountWidget; else delegateeAvatarSkeleton\" [widget]=\"delegateeAccountWidget\"></widget-account>\n        <ng-template #delegateeAvatarSkeleton>\n          <div>\n            <ion-item lines=\"none\" class=\"ion-no-padding\">\n              <ion-avatar slot=\"start\">\n                <ion-skeleton-text animated></ion-skeleton-text>\n              </ion-avatar>\n              <ion-label>\n                <h2>\n                  <ion-skeleton-text animated style=\"width: 40%; height: 19px;\"></ion-skeleton-text>\n                </h2>\n                <p>\n                  <ion-skeleton-text animated style=\"width: 80%\"></ion-skeleton-text>\n                </p>\n              </ion-label>\n            </ion-item>\n          </div>\n        </ng-template>\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"ion-padding-horizontal action--container\" *ngIf=\"(delegateeDetails$ | async)\">\n      <ion-col size=\"12\" class=\"ion-no-padding\">\n        <ion-button (click)=\"showDelegateesList()\" color=\"secondary\" shape=\"round\" size=\"small\" fill=\"outline\">\n          <ion-icon slot=\"start\" name=\"swap-vertical-outline\"></ion-icon>\n          {{ \"delegation-detail.change-delegatee_label\" | translate: { delegateeLabel: (delegateeLabel | translate) } }}\n        </ion-button>\n      </ion-col>\n    </ion-row>\n    <ion-row class=\"ion-padding-horizontal ion-padding-bottom\">\n      <ion-col size=\"12\" class=\"ion-no-padding\">\n        <p>{{ ((delegateeDetails$ | async)?.status | translate) | titlecase }}</p>\n      </ion-col>\n      <ion-col size=\"12\" class=\"ion-no-padding\">\n        <div class=\"progress--container\">\n          <div\n            class=\"progress--current\"\n            [style.width]=\"((delegateeDetails$ | async)?.usageDetails?.usage.toNumber() * 100).toFixed(2) + '%'\"\n          ></div>\n        </div>\n      </ion-col>\n      <ion-col size=\"12\" class=\"ion-no-padding\">\n        <ion-row>\n          <ion-col size=\"6\" class=\"ion-no-padding\">\n            <small *ngIf=\"(delegateeDetails$ | async); else delegateeUsageSkeleton\">\n              <span *ngIf=\"(delegateeDetails$ | async).usageDetails\">\n                {{ (delegateeDetails$ | async).usageDetails.usage.toNumber() * 100 | number: '1.2-2' }}%\n              </span>\n            </small>\n            <ng-template #delegateeUsageSkeleton>\n              <div>\n                <p class=\"ion-no-margin\">\n                  <ion-skeleton-text animated style=\"width: 50%\"></ion-skeleton-text>\n                </p>\n              </div>\n            </ng-template>\n          </ion-col>\n          <ion-col size=\"6\" class=\"ion-no-padding ion-text-right\">\n            <small *ngIf=\"(delegateeDetails$ | async); else delegateeUsageDetailsSkeleton\">\n              <span *ngIf=\"(delegateeDetails$ | async).usageDetails\">\n                {{ (delegateeDetails$ | async).usageDetails.current.toFixed() | amountConverter: { protocol: wallet.protocol, maxDigits: 3 }\n                | async }} / {{ (delegateeDetails$ | async).usageDetails.total.toFixed() | amountConverter: { protocol: wallet.protocol,\n                maxDigits: 3 } | async }}\n              </span>\n            </small>\n            <ng-template #delegateeUsageDetailsSkeleton>\n              <div class=\"justify--content__end\">\n                <ion-skeleton-text animated style=\"width: 50%\"></ion-skeleton-text>\n              </div>\n            </ng-template>\n          </ion-col>\n        </ion-row>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"ion-padding-bottom\">\n      <ion-col size=\"12\">\n        <ng-container *ngIf=\"(delegateeDetails$ | async); else delegateeExtraSkeleton\">\n          <ion-card *ngIf=\"(delegateeDetails$ | async).displayDetails\">\n            <ng-container *ngFor=\"let extra of filterVisible((delegateeDetails$ | async).displayDetails)\">\n              <ion-item lines=\"none\">\n                <widget-selector [widget]=\"extra\"></widget-selector>\n              </ion-item>\n            </ng-container>\n          </ion-card>\n        </ng-container>\n        <ng-template #delegateeExtraSkeleton>\n          <ion-card>\n            <ion-item lines=\"none\">\n              <ion-avatar slot=\"start\">\n                <ion-skeleton-text animated></ion-skeleton-text>\n              </ion-avatar>\n              <ion-label>\n                <h2>\n                  <ion-skeleton-text animated style=\"width: 80%; height:19px;\"></ion-skeleton-text>\n                </h2>\n                <h3>\n                  <ion-skeleton-text animated style=\"width: 40%;\"></ion-skeleton-text>\n                </h3>\n              </ion-label>\n            </ion-item>\n          </ion-card>\n        </ng-template>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"ion-padding-horizontal\" *ngIf=\"delegationAlertWidgets\">\n      <ion-col size=\"12\">\n        <widget-alert *ngFor=\"let widget of delegationAlertWidgets\" [widget]=\"widget\"></widget-alert>\n      </ion-col>\n    </ion-row>\n\n    <ion-row *ngIf=\"(delegatorDetails$ | async)\">\n      <ion-col size=\"12\">\n        <ion-segment\n          scrollable=\"true\"\n          class=\"ion-padding-horizontal\"\n          [(ngModel)]=\"activeDelegatorAction\"\n          (ionChange)=\"onActiveActionChange(activeDelegatorAction)\"\n          *ngIf=\"shouldDisplaySegmentButtons\"\n        >\n          <ion-segment-button *ngFor=\"let main of (delegatorDetails$ | async).mainActions || []\" [value]=\"main.type\">\n            <ion-label>{{ main.label | translate }}</ion-label>\n          </ion-segment-button>\n        </ion-segment>\n\n        <div [ngClass]=\"{'segment--container': shouldDisplaySegmentButtons}\">\n          <ng-container *ngFor=\"let main of (delegatorDetails$ | async).mainActions || []\">\n            <ng-container *ngIf=\"activeDelegatorAction === main.type.toString()\">\n              <ion-row class=\"ion-padding-horizontal\" *ngIf=\"main.description\">\n                <ion-col size=\"12\">\n                  <p [innerHtml]=\"main.description | translate\"></p>\n                </ion-col>\n              </ion-row>\n              <ion-row *ngFor=\"let arg of filterVisible(main.args)\">\n                <ion-col size=\"12\">\n                  <form *ngIf=\"delegationForms.get(main.type)\" [formGroup]=\"delegationForms.get(main.type)\">\n                    <widget-selector [widget]=\"arg\" [widgetForm]=\"delegationForms.get(main.type)\"></widget-selector>\n                  </form>\n                  <widget-selector [widget]=\"arg\" *ngIf=\"!delegationForms.get(main.type)\"></widget-selector>\n                </ion-col>\n              </ion-row>\n            </ng-container>\n          </ng-container>\n        </div>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"ion-padding-horizontal\">\n      <ion-col size=\"12\" class=\"ion-no-padding\">\n        <ion-text color=\"primary\">\n          <p class=\"font--weight__bold ion-no-margin ion-ion-text\">\n            {{ \"delegation-detail.your-delegation_label\" | translate }}\n          </p>\n        </ion-text>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"ion-padding-bottom\">\n      <ion-col size=\"12\">\n        <ion-card>\n          <ng-container *ngIf=\"(delegatorDetails$ | async); else delegatorDetailsSkeleton\">\n            <ion-item lines=\"none\" *ngIf=\"delegatorBalanceWidget\">\n              <widget-icon-text [widget]=\"delegatorBalanceWidget\"></widget-icon-text>\n            </ion-item>\n            <ng-container *ngFor=\"let extra of filterVisible((delegatorDetails$ | async).displayDetails)\">\n              <ion-item lines=\"none\">\n                <widget-selector [widget]=\"extra\"></widget-selector>\n              </ion-item>\n            </ng-container>\n          </ng-container>\n          <ng-template #delegatorDetailsSkeleton>\n            <ion-item lines=\"none\">\n              <ion-avatar slot=\"start\">\n                <ion-skeleton-text animated></ion-skeleton-text>\n              </ion-avatar>\n              <ion-label>\n                <h2>\n                  <ion-skeleton-text animated style=\"width: 80%; height:19px;\"></ion-skeleton-text>\n                </h2>\n                <h3>\n                  <ion-skeleton-text animated style=\"width: 40%;\"></ion-skeleton-text>\n                </h3>\n              </ion-label>\n            </ion-item>\n          </ng-template>\n        </ion-card>\n      </ion-col>\n    </ion-row>\n\n    <ng-container *ngIf=\"(rewardDisplay$ | async) else rewardsSkeleton\">\n      <ion-row class=\"ion-padding-horizontal\">\n        <ion-text color=\"primary\">\n          <p ion-text class=\"font--weight__bold ion-no-margin\">\n            {{ \"delegation-detail.your-rewards_label\" | translate }}\n          </p>\n        </ion-text>\n      </ion-row>\n\n      <ion-row>\n        <ion-col size=\"12\">\n          <widget-reward-list [widget]=\"(rewardDisplay$ | async)\"></widget-reward-list>\n        </ion-col>\n      </ion-row>\n    </ng-container>\n    <ng-template #rewardsSkeleton>\n      <ng-container *ngIf=\"hasRewardDetails === undefined\">\n        <ion-card>\n          <ion-item lines=\"none\">\n            <ion-label>\n              <h2>\n                <ion-skeleton-text animated style=\"width: 100%; height:19px;\"></ion-skeleton-text>\n              </h2>\n              <h3>\n                <ion-skeleton-text animated></ion-skeleton-text>\n              </h3>\n              <h3>\n                <ion-skeleton-text animated></ion-skeleton-text>\n              </h3>\n              <h3>\n                <ion-skeleton-text animated></ion-skeleton-text>\n              </h3>\n            </ion-label>\n          </ion-item>\n        </ion-card>\n      </ng-container>\n    </ng-template>\n  </ion-grid>\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button shape=\"round\" color=\"primary\" (click)=\"callMainAction(activeDelegatorAction)\" [disabled]=\"!canProceed\">\n      {{ (activeDelegatorActionConfirmButton || \"delegation-detail.done_button\") | translate }}\n    </ion-button>\n  </ion-fab>\n</ion-content>\n","import { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common'\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms'\n\nimport { IonicModule } from '@ionic/angular'\n\nimport { AirGapAngularCoreModule } from '@airgap/angular-core'\nimport { RouterModule } from '@angular/router'\nimport { TranslateModule } from '@ngx-translate/core'\nimport { MomentModule } from 'ngx-moment'\nimport { ComponentsModule } from 'src/app/components/components.module'\nimport { PipesModule } from 'src/app/pipes/pipes.module'\nimport { DelegationDetailPage } from './delegation-detail'\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ComponentsModule,\n    TranslateModule,\n    PipesModule,\n    MomentModule,\n    RouterModule.forChild([{ path: '', component: DelegationDetailPage }]),\n    AirGapAngularCoreModule\n  ],\n  declarations: [DelegationDetailPage]\n})\nexport class DelegationDetailPageModule {}\n"],"sourceRoot":"webpack:///"}