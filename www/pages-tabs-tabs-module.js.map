{"version":3,"sources":["./src/app/pages/introduction/introdution.module.ts","./src/app/pages/tabs/tabs.router.module.ts","./src/app/pages/exchange/exchange.ts","./src/app/pages/exchange/exchange.html","./src/app/pages/tabs/tabs.page.ts","./src/app/pages/tabs/tabs.page.html","./src/app/pages/scan/scan.ts","./src/app/pages/scan/scan.html","./src/app/pages/portfolio/portfolio.ts","./src/app/pages/portfolio/portfolio.html","./src/app/pages/settings/settings.ts","./src/app/pages/settings/settings.html","./src/app/pages/introduction-download/introduction-download.ts","./src/app/pages/introduction-download/introduction-download.html","./src/app/pages/tabs/tabs.module.ts","./src/app/pages/introduction-download/introduction-download.module.ts","./src/app/pages/introduction/introduction.ts","./src/app/pages/introduction/introduction.html"],"names":[],"mappings":"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","file":"pages-tabs-tabs-module.js","sourcesContent":["import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { ComponentsModule } from '../../components/components.module'\nimport { IntroductionDownloadPageModule } from '../introduction-download/introduction-download.module'\n\nimport { IntroductionPage } from './introduction'\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ComponentsModule,\n    TranslateModule,\n    IntroductionDownloadPageModule,\n    RouterModule.forChild([{ path: '', component: IntroductionPage }])\n  ],\n  declarations: [IntroductionPage]\n})\nexport class IntroductionPageModule {}\n","import { NgModule } from '@angular/core'\nimport { RouterModule, Routes } from '@angular/router'\n\nimport { TabsPage } from './tabs.page'\n\nconst routes: Routes = [\n  {\n    path: 'tabs',\n    component: TabsPage,\n    children: [\n      {\n        path: 'portfolio',\n        children: [\n          {\n            path: '',\n            loadChildren: () => import('../portfolio/portfolio.module').then((m) => m.PortfolioPageModule)\n          }\n        ]\n      },\n      {\n        path: 'scan',\n        children: [\n          {\n            path: '',\n            loadChildren: () => import('../scan/scan.module').then((m) => m.ScanPageModule)\n          }\n        ]\n      },\n      {\n        path: 'exchange',\n        children: [\n          {\n            path: '',\n            loadChildren: () => import('../exchange/exchange.module').then((m) => m.ExchangePageModule)\n          }\n        ]\n      },\n      {\n        path: 'settings',\n        children: [\n          {\n            path: '',\n            loadChildren: () => import('../settings/settings.module').then((m) => m.SettingsPageModule)\n          }\n        ]\n      },\n      {\n        path: '',\n        redirectTo: '/tabs/portfolio',\n        pathMatch: 'full'\n      }\n    ]\n  },\n  {\n    path: '',\n    redirectTo: '/tabs/portfolio',\n    pathMatch: 'full'\n  }\n]\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TabsPageRoutingModule {}\n","import { ProtocolService } from '@airgap/angular-core'\nimport {\n  AirGapMarketWallet,\n  AirGapWalletStatus,\n  EthereumProtocol,\n  RskProtocol,\n  FeeDefaults,\n  ICoinProtocol,\n  MainProtocolSymbols,\n  ProtocolSymbols,\n  SubProtocolSymbols\n} from '@airgap/coinlib-core'\nimport { NetworkType } from '@airgap/coinlib-core/utils/ProtocolNetwork'\nimport { Component, NgZone } from '@angular/core'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\nimport { Router } from '@angular/router'\nimport { AlertController, LoadingController, ModalController } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\nimport { BigNumber } from 'bignumber.js'\nimport { BehaviorSubject, Subject } from 'rxjs'\nimport { debounceTime, first, takeUntil } from 'rxjs/operators'\n\nimport { UIWidget } from '../../models/widgets/UIWidget'\nimport { AccountProvider } from '../../services/account/account.provider'\nimport { DataService, DataServiceKey } from '../../services/data/data.service'\nimport { ExchangeEnum, ExchangeProvider, ExchangeTransactionDetails } from '../../services/exchange/exchange'\nimport { ExchangeTransaction, ExchangeUI } from '../../services/exchange/exchange.interface'\nimport { PriceService } from '../../services/price/price.service'\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\nimport { WalletStorageKey, WalletStorageService } from '../../services/storage/storage'\n\nimport { ExchangeSelectPage } from './../exchange-select/exchange-select.page'\n\ninterface ExchangeFormState<T> {\n  value: T\n  dirty: boolean\n}\ninterface ExchangeState {\n  feeDefaults: FeeDefaults\n  feeCurrentMarketPrice: number | null\n  disableFeeSlider: boolean\n  disableExchangeButton: boolean\n  disableAdvancedMode: boolean\n  estimatingFeeDefaults: boolean\n  fee: ExchangeFormState<string>\n  feeLevel: ExchangeFormState<number>\n  isAdvancedMode: ExchangeFormState<boolean>\n  providerState: {} | null\n\n  lastUpdated: (keyof Omit<ExchangeState, 'lastUpdated'>)[]\n}\n\nenum ExchangePageState {\n  LOADING,\n  ONBOARDING,\n  NOT_ENOUGH_CURRENCIES,\n  EXCHANGE\n}\n\n@Component({\n  selector: 'page-exchange',\n  templateUrl: 'exchange.html',\n  styleUrls: ['./exchange.scss']\n})\nexport class ExchangePage {\n  // TODO remove unused properties\n  public selectedFromProtocol: ICoinProtocol\n  public selectedToProtocol: ICoinProtocol\n  public supportedProtocolsFrom: ProtocolSymbols[] = []\n  public supportedProtocolsTo: ProtocolSymbols[] = []\n  public currentlyNotSupported: boolean = false\n  public fromWallet: AirGapMarketWallet\n  public supportedFromWallets: AirGapMarketWallet[]\n  public toWallet: AirGapMarketWallet\n  public supportedToWallets: AirGapMarketWallet[]\n  public minExchangeAmount: BigNumber = new BigNumber(0)\n  public amount: BigNumber = new BigNumber(0)\n  public exchangeAmount: BigNumber\n  public disableExchangeSelection: boolean = false\n\n  public activeExchange$: BehaviorSubject<ExchangeEnum | undefined> = new BehaviorSubject(undefined)\n  public activeExchange: ExchangeEnum\n\n  public exchangeForm: FormGroup\n\n  get isTZBTCExchange(): boolean {\n    return (\n      (this.selectedFromProtocol !== undefined && this.selectedFromProtocol.identifier === SubProtocolSymbols.XTZ_BTC) ||\n      (this.selectedToProtocol !== undefined && this.selectedToProtocol.identifier === SubProtocolSymbols.XTZ_BTC)\n    )\n  }\n\n  // temporary field until we figure out how to handle Substrate fee/tip model\n  private isSubstrate: boolean = false\n\n  public ExchangeEnum: typeof ExchangeEnum = ExchangeEnum\n\n  public exchangePageStates: typeof ExchangePageState = ExchangePageState\n  public exchangePageState: ExchangePageState = ExchangePageState.LOADING\n\n  public exchangeWidgets: UIWidget[] = []\n\n  public loading: HTMLIonLoadingElement\n\n  public state: ExchangeState\n  private walletList: AirGapMarketWallet[]\n  private _state: ExchangeState | undefined = undefined\n  private readonly state$: BehaviorSubject<ExchangeState> = new BehaviorSubject(this._state)\n  private readonly ngDestroyed$: Subject<void> = new Subject()\n\n  constructor(\n    public formBuilder: FormBuilder,\n    private readonly router: Router,\n    private readonly exchangeProvider: ExchangeProvider,\n    private readonly storageProvider: WalletStorageService,\n    private readonly accountProvider: AccountProvider,\n    private readonly dataService: DataService,\n    private readonly loadingController: LoadingController,\n    private readonly translateService: TranslateService,\n    private readonly modalController: ModalController,\n    private readonly alertCtrl: AlertController,\n    private readonly priceService: PriceService,\n    private readonly protocolService: ProtocolService,\n    private readonly _ngZone: NgZone\n  ) {}\n\n  public ionViewWillEnter() {\n    this.initForm()\n    this.initState()\n\n    this.accountProvider.allWallets$\n      .asObservable()\n      .pipe(takeUntil(this.ngDestroyed$))\n      .subscribe((wallets: AirGapMarketWallet[]) => {\n        this.walletList = wallets.filter((wallet) => wallet.status === AirGapWalletStatus.ACTIVE)\n      })\n\n    this.exchangeProvider\n      .getActiveExchange()\n      .pipe(takeUntil(this.ngDestroyed$))\n      .subscribe((exchange: ExchangeEnum) => {\n        this.changeExchange(exchange).catch(handleErrorSentry(ErrorCategory.OTHER))\n      })\n\n    this.activeExchange$.pipe(takeUntil(this.ngDestroyed$)).subscribe((exchange: ExchangeEnum) => {\n      this.activeExchange = exchange\n    })\n\n    this.setup()\n      .then(() => {\n        try {\n          this.onChanges()\n          this.updateFeeEstimate()\n        } catch (err) {\n          console.error(err)\n        }\n      })\n      .catch((err) => {\n        console.error(err)\n        this.showLoadingErrorAlert()\n      })\n  }\n\n  private async changeExchange(exchange: ExchangeEnum): Promise<void> {\n    this.exchangeForm.removeControl(this.activeExchange)\n    this.updateState({ providerState: null })\n\n    this.activeExchange$.next(exchange)\n\n    const exchangeUI: ExchangeUI = await this.exchangeProvider.getCustomUI()\n    this.exchangeWidgets = exchangeUI.widgets\n\n    if (exchangeUI.form) {\n      this.exchangeForm.addControl(this.activeExchange, exchangeUI.form)\n      this.updateState({ providerState: exchangeUI.form.value })\n      this.exchangeForm.controls[this.activeExchange].valueChanges.subscribe((providerState) => {\n        this.updateState({ providerState })\n      })\n    }\n  }\n\n  private initForm(): void {\n    this.exchangeForm = this.formBuilder.group({\n      feeLevel: [0, [Validators.required]],\n      fee: [0, Validators.compose([Validators.required])],\n      isAdvancedMode: [false, []]\n    })\n  }\n\n  private initState(): void {\n    this._state = {\n      feeDefaults: {\n        low: '0',\n        medium: '0',\n        high: '0'\n      },\n      disableAdvancedMode: this.isSubstrate,\n      feeCurrentMarketPrice: null,\n      disableFeeSlider: true,\n      disableExchangeButton: true,\n      estimatingFeeDefaults: false,\n      feeLevel: {\n        value: this.exchangeForm.controls.feeLevel.value,\n        dirty: false\n      },\n      fee: {\n        value: this.exchangeForm.controls.fee.value,\n        dirty: false\n      },\n      isAdvancedMode: {\n        value: this.exchangeForm.controls.isAdvancedMode.value,\n        dirty: false\n      },\n      providerState: null,\n\n      lastUpdated: []\n    }\n    this.state = this._state\n    this.updateState(this.state)\n  }\n\n  private updateTransactionForm(formState: { [key: string]: ExchangeFormState<any> }) {\n    const formValues = this.exchangeForm.value\n    const updated = {}\n\n    Object.keys(formValues).forEach((key: string) => {\n      if (key in formState && !formState[key].dirty && formState[key].value !== formValues[key]) {\n        updated[key] = formState[key].value\n      }\n    })\n\n    this._ngZone.run(() => {\n      this.exchangeForm.patchValue(updated, { emitEvent: false })\n      Object.keys(updated).forEach((key: string) => {\n        this.exchangeForm.controls[key].markAsDirty()\n      })\n    })\n  }\n\n  private onStateUpdated(newState: ExchangeState): void {\n    this.state = newState\n\n    this.updateTransactionForm({\n      fee: this.state.fee,\n      feeLevel: this.state.feeLevel,\n      isAdvancedMode: this.state.isAdvancedMode\n    })\n\n    if (this.state.lastUpdated.includes('providerState')) {\n      this.loadDataFromExchange().then(() => this.updateFeeEstimate())\n    }\n  }\n\n  public onChanges(): void {\n    this.state$.pipe(debounceTime(200)).subscribe((state: ExchangeState) => {\n      this.onStateUpdated(state)\n    })\n\n    this.exchangeForm\n      .get('fee')\n      .valueChanges.pipe(debounceTime(500))\n      .subscribe((value: string) => {\n        const fee = new BigNumber(value)\n        this.updateState({\n          fee: {\n            value: fee.isNaN() ? '' : fee.toFixed(),\n            dirty: true\n          }\n        })\n      })\n\n    this.exchangeForm.get('feeLevel').valueChanges.subscribe((value: number) => {\n      const fee = new BigNumber(this.getFeeFromLevel(value))\n      this.updateState(\n        {\n          fee: {\n            value: fee.toFixed(),\n            dirty: false\n          },\n          feeLevel: {\n            value,\n            dirty: true\n          },\n          disableExchangeButton: this.exchangeForm.invalid || this.amount.lte(0)\n        },\n        false\n      )\n    })\n\n    this.exchangeForm.get('isAdvancedMode').valueChanges.subscribe((value: boolean) => {\n      this.updateState(\n        {\n          isAdvancedMode: {\n            value,\n            dirty: true\n          },\n          disableExchangeButton: this.exchangeForm.invalid || new BigNumber(this.amount).lte(0)\n        },\n        false\n      )\n    })\n  }\n\n  private async updateFeeEstimate(): Promise<void> {\n    if (this._state) {\n      let feeCurrentMarketPrice\n      if (this.selectedFromProtocol.identifier.startsWith(SubProtocolSymbols.ETH_ERC20)) {\n        feeCurrentMarketPrice = this.priceService\n          .getCurrentMarketPrice(new EthereumProtocol(), 'USD')\n          .then((price: BigNumber) => price.toNumber())\n      } else if (this.selectedFromProtocol.identifier.startsWith(SubProtocolSymbols.RBTC_ERC20)) {\n        feeCurrentMarketPrice = this.priceService\n          .getCurrentMarketPrice(new RskProtocol(), 'USD')\n          .then((price: BigNumber) => price.toNumber())\n      } else {\n        feeCurrentMarketPrice = (await this.priceService.getCurrentMarketPrice(this.selectedFromProtocol, 'USD')).toNumber()\n      }\n\n      this.updateState({\n        feeCurrentMarketPrice\n      })\n      this.updateState({\n        estimatingFeeDefaults: true,\n        disableFeeSlider: true,\n        disableExchangeButton: true\n      })\n\n      const feeDefaults: FeeDefaults = await this.estimateFees().catch(() => undefined)\n\n      const feeLevel: number = feeDefaults && !this.isSubstrate ? 1 : this._state.feeLevel.value\n\n      this.updateState({\n        estimatingFeeDefaults: false,\n        feeDefaults,\n        fee: {\n          value: new BigNumber(this.getFeeFromLevel(feeLevel, feeDefaults)).toFixed(),\n          dirty: false\n        },\n        feeLevel: {\n          value: feeLevel,\n          dirty: false\n        },\n        disableFeeSlider: !feeDefaults,\n        disableExchangeButton: !feeDefaults || this.exchangeForm.invalid || this.amount.lte(0)\n      })\n    }\n  }\n\n  private async estimateFees(amount?: BigNumber): Promise<FeeDefaults | undefined> {\n    return this.exchangeProvider.estimateFee(this.fromWallet, this.toWallet, (amount ?? this.amount).toString(), this.state.providerState)\n  }\n\n  private getFeeFromLevel(feeLevel: number, feeDefaults?: FeeDefaults): string {\n    const defaults = feeDefaults || this._state.feeDefaults\n    switch (feeLevel) {\n      case 0:\n        return defaults.low\n      case 1:\n        return defaults.medium\n      case 2:\n        return defaults.high\n      default:\n        return defaults.medium\n    }\n  }\n\n  private async filterSupportedProtocols(protocols: ProtocolSymbols[], filterZeroBalance: boolean = true): Promise<ProtocolSymbols[]> {\n    const result: ProtocolSymbols[] = protocols.filter((supportedProtocol: ProtocolSymbols) =>\n      this.walletList.some(\n        (wallet: AirGapMarketWallet) =>\n          wallet.protocol.identifier === supportedProtocol &&\n          (!filterZeroBalance || (filterZeroBalance && wallet.currentBalance.isGreaterThan(0)))\n      )\n    )\n    const tzbtcIndex: number = result.indexOf(SubProtocolSymbols.XTZ_BTC)\n    if (\n      tzbtcIndex !== -1 &&\n      !this.walletList.some((wallet: AirGapMarketWallet) => wallet.protocol.identifier === MainProtocolSymbols.BTC)\n    ) {\n      result.splice(tzbtcIndex, 1)\n    }\n\n    return result\n  }\n\n  private async setup(): Promise<void> {\n    await this.activeExchange$.pipe(first()).toPromise()\n    const fromProtocols: ProtocolSymbols[] = await this.getSupportedFromProtocols()\n    if (fromProtocols.length === 0) {\n      this.supportedProtocolsFrom = []\n      this.supportedProtocolsTo = []\n      this.selectedFromProtocol = undefined\n      this.selectedToProtocol = undefined\n      this.exchangePageState = ExchangePageState.NOT_ENOUGH_CURRENCIES\n      throw new Error('could not set up exchange')\n    }\n    this.supportedProtocolsFrom = fromProtocols\n    let currentFromProtocol: ProtocolSymbols\n    if (this.selectedFromProtocol !== undefined && this.supportedProtocolsFrom.includes(this.selectedFromProtocol.identifier)) {\n      currentFromProtocol = this.selectedFromProtocol.identifier\n    } else {\n      currentFromProtocol = fromProtocols[0]\n    }\n    await this.setFromProtocol(await this.protocolService.getProtocol(currentFromProtocol))\n\n    if (this.exchangePageState === ExchangePageState.LOADING) {\n      const hasShownOnboarding = await this.storageProvider.get(WalletStorageKey.EXCHANGE_INTEGRATION)\n      if (!hasShownOnboarding) {\n        this.exchangePageState = ExchangePageState.ONBOARDING\n        return\n      }\n    }\n\n    if (this.supportedProtocolsFrom.length > 0 && this.supportedProtocolsTo.length > 0) {\n      this.exchangePageState = ExchangePageState.EXCHANGE\n    }\n  }\n\n  private async showLoadingErrorAlert() {\n    const faultyExchange = this.activeExchange\n    this.exchangeProvider.switchActiveExchange()\n    const newExchange = this.activeExchange\n    this.setup() // setup new exchange\n      .then(() => this.switchExchange(faultyExchange, newExchange))\n      .then(() => {\n        this.onChanges()\n      })\n      .catch(() => this.displaySetupFail())\n  }\n\n  private async switchExchange(faultyExchange: string, newExchange: string) {\n    const alert: HTMLIonAlertElement = await this.alertCtrl.create({\n      header: this.translateService.instant('exchange.loading.setup'),\n      message: `${faultyExchange} could currently not be loaded, switched to ${newExchange}`, // this.translateService.instant('exchange.loading.message'),\n      backdropDismiss: false,\n      buttons: [\n        {\n          text: 'ok',\n          role: 'cancel'\n        }\n      ]\n    })\n    this.disableExchangeSelection = true // temporarily disable user to switch to exchange for which loading error occured\n    alert.present().catch(handleErrorSentry(ErrorCategory.IONIC_ALERT))\n  }\n\n  private async displaySetupFail() {\n    const alert: HTMLIonAlertElement = await this.alertCtrl.create({\n      header: this.translateService.instant('exchange.loading.setup'),\n      message: this.translateService.instant('exchange.loading.message'),\n      backdropDismiss: false,\n      buttons: [\n        {\n          text: 'ok',\n          role: 'cancel'\n        }\n      ]\n    })\n    alert.present().catch(handleErrorSentry(ErrorCategory.IONIC_ALERT))\n  }\n\n  private async getSupportedFromProtocols(): Promise<ProtocolSymbols[]> {\n    const allFromProtocols = await this.exchangeProvider.getAvailableFromCurrencies()\n    allFromProtocols.push(SubProtocolSymbols.XTZ_BTC)\n    const supportedFromProtocols = await this.filterSupportedProtocols(allFromProtocols)\n    const exchangeableFromProtocols = (\n      await Promise.all(\n        supportedFromProtocols.map(async (fromProtocol) => {\n          if (fromProtocol === SubProtocolSymbols.XTZ_BTC) {\n            return fromProtocol\n          }\n          const availableToCurrencies = await this.exchangeProvider.getAvailableToCurrenciesForCurrency(fromProtocol)\n          return availableToCurrencies.length > 0 ? fromProtocol : undefined\n        })\n      )\n    ).filter((fromProtocol) => fromProtocol !== undefined)\n    return exchangeableFromProtocols\n  }\n\n  private async getSupportedToProtocols(from: string): Promise<ProtocolSymbols[]> {\n    if (from === SubProtocolSymbols.XTZ_BTC) {\n      return this.filterSupportedProtocols([MainProtocolSymbols.BTC], false)\n    }\n    const toProtocols = await this.exchangeProvider.getAvailableToCurrenciesForCurrency(from)\n    if (from === MainProtocolSymbols.BTC) {\n      toProtocols.push(SubProtocolSymbols.XTZ_BTC)\n    }\n    return this.filterSupportedProtocols(toProtocols, false)\n  }\n\n  async setFromProtocol(protocol: ICoinProtocol): Promise<void> {\n    this.selectedFromProtocol = protocol\n    this.supportedProtocolsTo = await this.getSupportedToProtocols(protocol.identifier)\n\n    if (this.supportedProtocolsTo.length === 0) {\n      this.supportedProtocolsFrom = []\n      this.supportedProtocolsTo = []\n      this.selectedFromProtocol = undefined\n      this.selectedToProtocol = undefined\n      this.exchangePageState = ExchangePageState.NOT_ENOUGH_CURRENCIES\n      return\n    }\n\n    if (\n      this.selectedToProtocol === undefined ||\n      this.selectedFromProtocol.identifier === this.selectedToProtocol.identifier ||\n      !this.supportedProtocolsTo.includes(this.selectedToProtocol.identifier)\n    ) {\n      const toProtocol = await this.protocolService.getProtocol(this.supportedProtocolsTo[0])\n      this.selectedToProtocol = toProtocol\n      this.loadWalletsForSelectedToProtocol()\n    }\n\n    this.loadWalletsForSelectedFromProtocol()\n    this.loadDataFromExchange()\n    // TODO: this is needed to update the amount in the portfolio-item component, need to find a better way to do this.\n    this.accountProvider.triggerWalletChanged()\n    this.updateFeeEstimate()\n  }\n\n  async setToProtocol(protocol: ICoinProtocol): Promise<void> {\n    this.selectedToProtocol = protocol\n    this.loadWalletsForSelectedToProtocol()\n    this.loadDataFromExchange()\n    // TODO: this is needed to update the amount in the portfolio-item component, need to find a better way to do this.\n    this.accountProvider.triggerWalletChanged()\n  }\n\n  private loadWalletsForSelectedFromProtocol() {\n    this.supportedFromWallets = this.walletsForProtocol(this.selectedFromProtocol.identifier, true)\n    // Only set wallet if it's another protocol or not available\n    if (this.shouldReplaceActiveWallet(this.fromWallet, this.supportedFromWallets)) {\n      this.fromWallet = this.supportedFromWallets[0]\n    }\n  }\n\n  private loadWalletsForSelectedToProtocol() {\n    this.supportedToWallets = this.walletsForProtocol(this.selectedToProtocol.identifier, false)\n    this.toWallet = this.supportedToWallets[0]\n    // Only set wallet if it's another protocol or not available\n    if (this.shouldReplaceActiveWallet(this.toWallet, this.supportedToWallets)) {\n      this.toWallet = this.supportedToWallets[0]\n    }\n  }\n\n  private walletsForProtocol(protocol: string, filterZeroBalance: boolean = true): AirGapMarketWallet[] {\n    return this.walletList.filter(\n      (wallet) =>\n        wallet.protocol.identifier === protocol &&\n        wallet.protocol.options.network.type === NetworkType.MAINNET &&\n        (!filterZeroBalance || wallet.currentBalance.isGreaterThan(0))\n    )\n  }\n\n  private shouldReplaceActiveWallet(wallet: AirGapMarketWallet, walletArray: AirGapMarketWallet[]): boolean {\n    return (\n      !wallet ||\n      wallet.protocol.identifier !== walletArray[0].protocol.identifier ||\n      walletArray.every((supportedWallet) => !this.accountProvider.isSameWallet(supportedWallet, wallet))\n    )\n  }\n\n  async setFromWallet(wallet: AirGapMarketWallet) {\n    this.fromWallet = wallet\n    this.isSubstrate =\n      this.fromWallet.protocol.identifier === MainProtocolSymbols.KUSAMA ||\n      this.selectedFromProtocol.identifier === MainProtocolSymbols.POLKADOT\n    this.loadDataFromExchange()\n    // TODO: this is needed to update the amount in the portfolio-item component, need to find a better way to do this.\n    this.accountProvider.triggerWalletChanged()\n  }\n\n  async setToWallet(wallet: AirGapMarketWallet) {\n    this.toWallet = wallet\n    this.loadDataFromExchange()\n    // TODO: this is needed to update the amount in the portfolio-item component, need to find a better way to do this.\n    this.accountProvider.triggerWalletChanged()\n  }\n\n  async amountSet(amount: string) {\n    this.amount = new BigNumber(amount)\n    this.updateFeeEstimate()\n    this.loadDataFromExchange()\n  }\n\n  private async loadDataFromExchange() {\n    this.currentlyNotSupported = false\n    try {\n      if (this.fromWallet && this.toWallet) {\n        this.minExchangeAmount = await this.getMinAmountForCurrency()\n      }\n      if (this.fromWallet && this.toWallet && this.amount.isGreaterThan(0)) {\n        this.exchangeAmount = new BigNumber(await this.getExchangeAmount())\n      } else {\n        this.exchangeAmount = new BigNumber(0)\n      }\n    } catch (error) {\n      this.currentlyNotSupported = true\n    }\n  }\n\n  private async getMinAmountForCurrency(): Promise<BigNumber> {\n    if (this.isTZBTCExchange) {\n      return new BigNumber(0)\n    }\n    return new BigNumber(\n      await this.exchangeProvider.getMinAmountForCurrency(this.fromWallet.protocol.identifier, this.toWallet.protocol.identifier)\n    )\n  }\n\n  private async getExchangeAmount(): Promise<string> {\n    if (this.isTZBTCExchange) {\n      return this.amount.toFixed()\n    }\n    return await this.exchangeProvider.getExchangeAmount(\n      this.fromWallet.protocol.identifier,\n      this.toWallet.protocol.identifier,\n      this.amount.toString(),\n      this.state.providerState\n    )\n  }\n\n  async startExchange() {\n    if (this.isTZBTCExchange) {\n      this.router.navigateByUrl('/exchange-custom').catch(handleErrorSentry(ErrorCategory.STORAGE))\n    } else {\n      const loader = await this.getAndShowLoader()\n      try {\n        const transaction: ExchangeTransaction = await this.exchangeProvider.createTransaction(\n          this.fromWallet,\n          this.toWallet,\n          this.amount.toString(),\n          this.state.fee.value,\n          this.state.providerState\n        )\n\n        const info = {\n          ...transaction,\n          fromWallet: this.fromWallet,\n          fromCurrency: this.fromWallet.protocol.marketSymbol,\n          toWallet: this.toWallet,\n          toCurrency: this.toWallet.protocol.marketSymbol\n        }\n\n        this.dataService.setData(DataServiceKey.EXCHANGE, info)\n        this.router.navigateByUrl('/exchange-confirm/' + DataServiceKey.EXCHANGE).catch(handleErrorSentry(ErrorCategory.STORAGE))\n\n        const txId = transaction.id\n        let txStatus: string = (await this.exchangeProvider.getStatus(txId)).status\n\n        const exchangeTxInfo: ExchangeTransactionDetails = {\n          receivingAddress: this.toWallet.addresses[0],\n          sendingAddress: this.fromWallet.addresses[0],\n          fromCurrency: this.fromWallet.protocol.identifier,\n          toCurrency: this.toWallet.protocol.identifier,\n          amountExpectedFrom: this.amount,\n          amountExpectedTo: transaction.amountExpectedTo,\n          fee: transaction.fee,\n          status: txStatus,\n          exchange: this.activeExchange as ExchangeEnum,\n          id: txId,\n          timestamp: new BigNumber(Date.now()).toNumber()\n        }\n\n        this.exchangeProvider.pushExchangeTransaction(exchangeTxInfo)\n      } catch (error) {\n        console.error(error)\n      } finally {\n        this.hideLoader(loader)\n      }\n    }\n  }\n\n  async doRadio(): Promise<void> {\n    const modal: HTMLIonModalElement = await this.modalController.create({\n      component: ExchangeSelectPage,\n      componentProps: {\n        activeExchange: this.activeExchange\n      }\n    })\n\n    modal.present().catch((err) => console.error(err))\n\n    modal\n      .onDidDismiss()\n      .then(async () => {\n        await this.setup()\n      })\n      .catch(handleErrorSentry(ErrorCategory.IONIC_MODAL))\n  }\n\n  dismissExchangeOnboarding() {\n    this.setup()\n    this.storageProvider.set(WalletStorageKey.EXCHANGE_INTEGRATION, true).catch(handleErrorSentry(ErrorCategory.STORAGE))\n  }\n\n  goToAddCoinPage() {\n    this.router.navigateByUrl('/account-add')\n  }\n\n  private async getAndShowLoader() {\n    const loader = await this.loadingController.create({\n      message: 'Preparing transaction...'\n    })\n\n    await loader.present().catch(handleErrorSentry(ErrorCategory.IONIC_LOADER))\n\n    return loader\n  }\n\n  private hideLoader(loader: HTMLIonLoadingElement) {\n    loader.dismiss().catch(handleErrorSentry(ErrorCategory.IONIC_LOADER))\n  }\n\n  private updateState(newState: Partial<ExchangeState>, debounce: boolean = true): void {\n    if (!this._state) {\n      return\n    }\n\n    this._state = this.reduceState(this._state, newState)\n\n    if (debounce) {\n      this.state$.next(this._state)\n    } else {\n      this.onStateUpdated(this._state)\n    }\n  }\n\n  private reduceState(currentState: ExchangeState, newState: Partial<Omit<ExchangeState, 'lastUpdated'>>): ExchangeState {\n    return {\n      feeDefaults: newState.feeDefaults || currentState.feeDefaults,\n      feeCurrentMarketPrice:\n        newState.feeCurrentMarketPrice !== undefined ? newState.feeCurrentMarketPrice : currentState.feeCurrentMarketPrice,\n\n      disableAdvancedMode:\n        this.isSubstrate || (newState.disableAdvancedMode !== undefined ? newState.disableAdvancedMode : currentState.disableAdvancedMode),\n      disableFeeSlider:\n        this.isSubstrate || (newState.disableFeeSlider !== undefined ? newState.disableFeeSlider : currentState.disableFeeSlider),\n      disableExchangeButton:\n        newState.disableExchangeButton !== undefined ? newState.disableExchangeButton : currentState.disableExchangeButton,\n      estimatingFeeDefaults:\n        newState.estimatingFeeDefaults !== undefined ? newState.estimatingFeeDefaults : currentState.estimatingFeeDefaults,\n      feeLevel: newState.feeLevel || currentState.feeLevel,\n      fee: newState.fee || currentState.fee,\n      isAdvancedMode: newState.isAdvancedMode || currentState.isAdvancedMode,\n      providerState: newState.providerState !== undefined ? newState.providerState : currentState.providerState,\n\n      lastUpdated: Object.keys(newState) as ExchangeState['lastUpdated']\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.ngDestroyed$.next()\n    this.ngDestroyed$.complete()\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-toolbar>\n      <ion-buttons slot=\"start\">\n        <ion-menu-button></ion-menu-button>\n      </ion-buttons>\n      <ion-title>{{ 'exchange.title' | translate }}</ion-title>\n    </ion-toolbar>\n  </ion-grid>\n</ion-header>\n\n<ion-content>\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ng-container *ngIf=\"exchangePageState === exchangePageStates.ONBOARDING\">\n      <ion-row class=\"onboarding__container ion-padding\">\n        <ion-col size=\"12\">\n          <h3 class=\"ion-no-margin\" [innerHTML]=\"'exchange.onboarding.heading' | translate\"></h3>\n          <ion-col class=\"content--align__center-center ion-no-padding\"><img src=\"./assets/img/token_swap.svg\" /></ion-col>\n          <p class=\"ion-no-margin ion-padding-bottom\">{{ 'exchange.onboarding.description' | translate }}</p>\n          <ion-button (click)=\"dismissExchangeOnboarding()\" shape=\"round\" color=\"primary\" expand=\"full\">\n            {{ 'exchange.onboarding.exchange_label' | translate }}\n          </ion-button>\n        </ion-col>\n      </ion-row>\n    </ng-container>\n\n    <ng-container *ngIf=\"exchangePageState === exchangePageStates.NOT_ENOUGH_CURRENCIES\">\n      <ion-row class=\"onboarding__container ion-padding\">\n        <ion-col size=\"12\">\n          <h3 class=\"ion-no-margin\" [innerHTML]=\"'exchange.no-currencies.heading' | translate\"></h3>\n          <ion-col class=\"content--align__center-center ion-no-padding\"><img src=\"./assets/img/token_swap.svg\" /></ion-col>\n          <p class=\"ion-no-margin ion-padding-bottom\">{{ 'exchange.no-currencies.description' | translate }}</p>\n          <ion-button (click)=\"goToAddCoinPage()\" shape=\"round\" color=\"primary\" expand=\"full\">\n            {{ 'exchange.no-currencies.exchange_label' | translate }}\n          </ion-button>\n        </ion-col>\n      </ion-row>\n    </ng-container>\n\n    <ng-container *ngIf=\"exchangePageState === exchangePageStates.EXCHANGE\">\n      <swap\n        [selectedWallet]=\"fromWallet\"\n        [supportedWallets]=\"supportedFromWallets\"\n        [selectedProtocol]=\"selectedFromProtocol\"\n        [supportedProtocols]=\"supportedProtocolsFrom\"\n        [exchangeAmount]=\"amount\"\n        [minExchangeAmount]=\"minExchangeAmount\"\n        [currentlyNotSupported]=\"currentlyNotSupported\"\n        (protocolSetEmitter)=\"setFromProtocol($event)\"\n        (walletSetEmitter)=\"setFromWallet($event)\"\n        (amountSetEmitter)=\"amountSet($event)\"\n      ></swap>\n      <swap\n        [selectedWallet]=\"toWallet\"\n        [supportedWallets]=\"supportedToWallets\"\n        [selectedProtocol]=\"selectedToProtocol\"\n        [supportedProtocols]=\"supportedProtocolsTo\"\n        [exchangeAmount]=\"exchangeAmount\"\n        (protocolSetEmitter)=\"setToProtocol($event)\"\n        (walletSetEmitter)=\"setToWallet($event)\"\n        [swapSell]=\"false\"\n      ></swap>\n      <div class=\"divider--line\"></div>\n      <ion-row class=\"powered__container ion-padding ion-align-items-center\" *ngIf=\"!isTZBTCExchange\">\n        <ion-col class=\"ion-no-padding\">\n          <ion-row class=\"powered__container ion-align-items-center\">\n            <ion-text color=\"blackLight\">\n              <small>{{ 'exchange.powered-by_label' | translate }}</small>\n            </ion-text>\n            <img *ngIf=\"activeExchange === ExchangeEnum.CHANGENOW\" src=\"./assets/img/changenow_logo.svg\" />\n            <img *ngIf=\"activeExchange === ExchangeEnum.CHANGELLY\" src=\"./assets/img/changelly_logo.svg\" />\n            <img *ngIf=\"activeExchange === ExchangeEnum.QUIPUSWAP\" src=\"./assets/img/quipuswap_logo.svg\" />\n          </ion-row>\n        </ion-col>\n        <ion-col class=\"ion-no-padding justify--content__end\">\n          <ion-button fill=\"clear\" color=\"secondary\" size=\"small\" (click)=\"doRadio()\" [disabled]=\"disableExchangeSelection\">\n            {{ 'exchange.switch-exchange_label' | translate }}\n            <ion-icon name=\"chevron-down-outline\"></ion-icon>\n          </ion-button>\n        </ion-col>\n      </ion-row>\n\n      <ion-row *ngFor=\"let widget of exchangeWidgets\" class=\"ion-padding-horizontal ion-padding-bottom\">\n        <ion-col size=\"12\">\n          <widget-selector [widget]=\"widget\" [widgetForm]=\"exchangeForm.controls[activeExchange]\"></widget-selector>\n        </ion-col>\n      </ion-row>\n\n      <fee [state]=\"state\" [form]=\"exchangeForm\" [wallet]=\"fromWallet\"></fee>\n    </ng-container>\n  </ion-grid>\n</ion-content>\n\n<ng-container *ngIf=\"exchangePageState === exchangePageStates.EXCHANGE\">\n  <ion-fab vertical=\"bottom\" horizontal=\"end\">\n    <ion-button\n      color=\"primary\"\n      [disabled]=\"\n      amount?.isNaN() ||\n      amount?.isZero() ||\n      amount?.isLessThan(minExchangeAmount) ||\n      amount?.isGreaterThan(fromWallet.currentBalance.shiftedBy(-1 * fromWallet.protocol.decimals)) ||currentlyNotSupported\n    \"\n      (click)=\"startExchange()\"\n      shape=\"round\"\n    >\n      {{ 'exchange.exchange_label' | translate }}\n    </ion-button>\n  </ion-fab>\n</ng-container>\n","import { Component } from '@angular/core'\nimport { IonTabs, ModalController, Platform } from '@ionic/angular'\n\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\nimport { WalletStorageKey, WalletStorageService } from '../../services/storage/storage'\nimport { ExchangePage } from '../exchange/exchange'\nimport { IntroductionPage } from '../introduction/introduction'\nimport { PortfolioPage } from '../portfolio/portfolio'\nimport { ScanPage } from '../scan/scan'\nimport { SettingsPage } from '../settings/settings'\n\n@Component({\n  selector: 'app-tabs',\n  templateUrl: 'tabs.page.html',\n  styleUrls: ['tabs.page.scss']\n})\nexport class TabsPage {\n  private activeTab?: HTMLElement\n\n  public tab1Root = PortfolioPage\n  public tab2Root = ScanPage\n  public tab3Root = ExchangePage\n  public tab4Root = SettingsPage\n\n  public isMobile = false\n\n  constructor(\n    public modalController: ModalController,\n    private readonly storageProvider: WalletStorageService,\n    private readonly platform: Platform\n  ) {\n    this.showIntroductions().catch(handleErrorSentry(ErrorCategory.OTHER))\n    this.isMobile = this.platform.is('android') || this.platform.is('ios')\n  }\n\n  private async showIntroductions() {\n    const alreadyOpenByDeepLink = await this.storageProvider.get(WalletStorageKey.DEEP_LINK)\n    if (!alreadyOpenByDeepLink) {\n      await this.showWalletIntroduction().catch(console.error)\n    }\n  }\n\n  private async showWalletIntroduction() {\n    return this.showModal(WalletStorageKey.WALLET_INTRODUCTION, IntroductionPage)\n  }\n\n  private async showModal(settingsKey: WalletStorageKey, page: any): Promise<void> {\n    const introduction = await this.storageProvider.get(settingsKey)\n    if (!introduction) {\n      return new Promise<void>(async (resolve) => {\n        const modal = await this.modalController.create({\n          component: page\n        })\n        modal\n          .onDidDismiss()\n          .then(async () => {\n            await this.storageProvider.set(settingsKey, true)\n            resolve(undefined)\n          })\n          .catch(handleErrorSentry(ErrorCategory.IONIC_MODAL))\n        modal.present().catch(handleErrorSentry(ErrorCategory.IONIC_MODAL))\n      })\n    } else {\n      return Promise.resolve()\n    }\n  }\n\n  tabChange(tabsRef: IonTabs) {\n    this.activeTab = tabsRef.outlet.activatedView.element\n  }\n\n  ionViewWillEnter() {\n    this.propagateToActiveTab('ionViewWillEnter')\n  }\n\n  private propagateToActiveTab(eventName: string) {\n    if (this.activeTab) {\n      this.activeTab.dispatchEvent(new CustomEvent(eventName))\n    }\n  }\n}\n","<ion-tabs #tabs (ionTabsDidChange)=\"tabChange(tabs)\">\n  <ion-tab-bar slot=\"bottom\" *ngIf=\"isMobile\">\n    <ion-tab-button tab=\"portfolio\">\n      <ion-icon name=\"list-outline\"></ion-icon>\n      <ion-label>{{ 'tabs.wallets' | translate }}</ion-label>\n    </ion-tab-button>\n\n    <ion-tab-button tab=\"scan\">\n      <ion-icon name=\"barcode-outline\"></ion-icon>\n      <ion-label>{{ 'tabs.scan' | translate }}</ion-label>\n    </ion-tab-button>\n\n    <ion-tab-button tab=\"exchange\">\n      <ion-icon name=\"repeat-outline\"></ion-icon>\n      <ion-label>{{ 'tabs.exchange' | translate }}</ion-label>\n    </ion-tab-button>\n\n    <ion-tab-button tab=\"settings\">\n      <ion-icon name=\"settings-outline\"></ion-icon>\n      <ion-label>{{ 'tabs.settings' | translate }}</ion-label>\n    </ion-tab-button>\n  </ion-tab-bar>\n</ion-tabs>\n","import { IACMessageTransport, PermissionsService, QrScannerService } from '@airgap/angular-core'\nimport { PercentPipe } from '@angular/common'\nimport { Component, NgZone, ViewChild } from '@angular/core'\n// import { Router } from '@angular/router'\nimport { Platform } from '@ionic/angular'\nimport { ZXingScannerComponent } from '@zxing/ngx-scanner'\nimport { IACService } from 'src/app/services/iac/iac.service'\n\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\nimport { ScanBasePage } from '../scan-base/scan-base'\n\n@Component({\n  selector: 'page-scan',\n  templateUrl: 'scan.html',\n  styleUrls: ['./scan.scss'],\n  providers: [PercentPipe]\n})\nexport class ScanPage extends ScanBasePage {\n  @ViewChild('scanner')\n  public zxingScanner?: ZXingScannerComponent\n\n  public percentageScanned: number = 0\n\n  private parts: Set<string> = new Set()\n\n  public isMultiQr: boolean = false\n\n  constructor(\n    protected platform: Platform,\n    protected scanner: QrScannerService,\n    protected permissionsProvider: PermissionsService,\n    private readonly iacService: IACService,\n    private readonly ngZone: NgZone\n  ) {\n    super(platform, scanner, permissionsProvider)\n  }\n\n  public async ionViewWillEnter(): Promise<void> {\n    await super.ionViewWillEnter()\n    this.resetScannerPage()\n    this.iacService.resetHandlers()\n  }\n\n  private resetScannerPage(): void {\n    this.parts = new Set()\n    this.percentageScanned = 0\n    this.isMultiQr = false\n    this.iacService.resetHandlers()\n  }\n\n  public async checkScan(data: string): Promise<boolean | void> {\n    const sizeBefore: number = this.parts.size\n    this.parts.add(data)\n\n    if (sizeBefore === this.parts.size) {\n      // We scanned a string we already have in our cache, ignoring it and starting scan again.\n      this.startScan()\n      return undefined\n    }\n\n    this.ngZone.run(() => {\n      this.iacService\n        .handleRequest(data, IACMessageTransport.QR_SCANNER, (progress: number) => {\n          this.isMultiQr = true\n          this.percentageScanned = progress ?? 0\n          this.startScan()\n        })\n        .catch(handleErrorSentry(ErrorCategory.SCHEME_ROUTING))\n    })\n  }\n\n  public ionViewWillLeave(): void {\n    super.ionViewWillLeave()\n    this.resetScannerPage()\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-toolbar>\n      <ion-buttons slot=\"start\">\n        <ion-menu-button></ion-menu-button>\n        <ion-back-button defaultHref=\"/\"></ion-back-button>\n      </ion-buttons>\n      <ion-title>{{ 'scan.title' | translate }}</ion-title>\n      <ion-text slot=\"end\" class=\"ion-padding-end\" *ngIf=\"isMultiQr\">{{ percentageScanned | percentage }}</ion-text>\n    </ion-toolbar>\n  </ion-grid>\n</ion-header>\n\n<ion-content forceOverscroll=\"false\" [class.transparent]=\"hasCameraPermission\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-text color=\"secondary\">\n      <p class=\"ion-padding ion-no-margin\">\n        <ng-container *ngIf=\"!isMultiQr\">{{ 'scan.text' | translate }}</ng-container>\n        <ng-container *ngIf=\"isMultiQr\">{{ 'scan.multi-qr_text' | translate }}</ng-container>\n      </p>\n    </ion-text>\n    <ion-progress-bar *ngIf=\"isMultiQr\" style=\"height: 8px\" color=\"secondary\" [value]=\"percentageScanned\"></ion-progress-bar>\n\n    <ion-row [hidden]=\"!hasCameraPermission\" class=\"row--height__100 ion-justify-content-center ion-align-items-center\">\n      <ion-col class=\"guides--container content--align__center-center\">\n        <img class=\"guides--container__img\" src=\"./assets/img/qr_code_guides.svg\" />\n      </ion-col>\n      <zxing-scanner\n        #scanner\n        [formats]=\"['QR_CODE']\"\n        [timeBetweenScans]=\"0\"\n        [delayBetweenScanSuccess]=\"0\"\n        *ngIf=\"isBrowser || isElectron\"\n        (scanSuccess)=\"checkScan($event)\"\n      ></zxing-scanner>\n    </ion-row>\n\n    <ion-row\n      class=\"row--height__100 ion-justify-content-center ion-align-items-center\"\n      [hidden]=\"hasCameraPermission\"\n      (click)=\"requestPermission()\"\n    >\n      <ion-col class=\"ion-text-center\">\n        <img src=\"./assets/img/permission_onboarding_camera.svg\" />\n        <h3 class=\"ion-padding-horizontal\" [innerHTML]=\"'scan.empty-state_heading' | translate\"></h3>\n        <ion-button shape=\"round\" color=\"primary\">{{ 'scan.grant-permission_label' | translate }}</ion-button>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-content>\n","import { Component } from '@angular/core'\nimport { Router } from '@angular/router'\nimport { AirGapMarketWallet, ICoinSubProtocol } from '@airgap/coinlib-core'\nimport { forkJoin, from, Observable, ReplaySubject, Subscription } from 'rxjs'\nimport { Platform } from '@ionic/angular'\n\nimport { CryptoToFiatPipe } from '../../pipes/crypto-to-fiat/crypto-to-fiat.pipe'\nimport { AccountProvider } from '../../services/account/account.provider'\nimport { DataServiceKey } from '../../services/data/data.service'\nimport { OperationsProvider } from '../../services/operations/operations'\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\nimport { ProtocolService } from '@airgap/angular-core'\nimport BigNumber from 'bignumber.js'\nimport { AirGapWallet, AirGapWalletStatus } from '@airgap/coinlib-core/wallet/AirGapWallet'\nimport { map, take } from 'rxjs/operators'\n\ninterface WalletGroup {\n  mainWallet: AirGapMarketWallet\n  subWallets: AirGapMarketWallet[]\n}\n\n@Component({\n  selector: 'page-portfolio',\n  templateUrl: 'portfolio.html',\n  styleUrls: ['./portfolio.scss']\n})\nexport class PortfolioPage {\n  private subscription: Subscription\n\n  public isVisible = 'hidden'\n\n  public total: number = 0\n  public changePercentage: number = 0\n\n  public wallets: Observable<AirGapMarketWallet[]>\n  public activeWallets: Observable<AirGapMarketWallet[]>\n  public walletGroups: ReplaySubject<WalletGroup[]> = new ReplaySubject(1)\n  public isDesktop: boolean = false\n\n  public readonly AirGapWalletStatus: typeof AirGapWalletStatus = AirGapWalletStatus\n\n  constructor(\n    private readonly router: Router,\n    private readonly walletsProvider: AccountProvider,\n    private readonly operationsProvider: OperationsProvider,\n    private readonly protocolService: ProtocolService,\n    public platform: Platform\n  ) {\n    this.isDesktop = !this.platform.is('hybrid')\n\n    this.wallets = this.walletsProvider.wallets$.asObservable()\n    this.activeWallets = this.wallets.pipe(map((wallets) => wallets.filter((wallet) => wallet.status === AirGapWalletStatus.ACTIVE) ?? []))\n\n    // If a wallet gets added or removed, recalculate all values\n    this.wallets.subscribe((wallets: AirGapMarketWallet[]) => {\n      this.calculateTotal(wallets)\n\n      this.refreshWalletGroups(wallets)\n    })\n    this.walletsProvider.walletChangedObservable.subscribe(() => {\n      this.calculateTotal(this.walletsProvider.getWalletList())\n    })\n  }\n\n  private refreshWalletGroups(wallets: AirGapMarketWallet[]) {\n    const groups: WalletGroup[] = []\n\n    const walletMap: Map<string, WalletGroup> = new Map()\n\n    wallets\n      .filter((wallet: AirGapWallet) => wallet.status === AirGapWalletStatus.ACTIVE)\n      .forEach((wallet: AirGapMarketWallet) => {\n        const isSubProtocol: boolean = ((wallet.protocol as any) as ICoinSubProtocol).isSubProtocol\n        const identifier: string = isSubProtocol ? wallet.protocol.identifier.split('-')[0] : wallet.protocol.identifier\n\n        const walletKey: string = `${wallet.publicKey}_${identifier}`\n\n        if (walletMap.has(walletKey)) {\n          const group: WalletGroup = walletMap.get(walletKey)\n          if (isSubProtocol) {\n            group.subWallets.push(wallet)\n          } else {\n            group.mainWallet = wallet\n          }\n        } else {\n          if (isSubProtocol) {\n            walletMap.set(walletKey, { mainWallet: undefined, subWallets: [wallet] })\n          } else {\n            walletMap.set(walletKey, { mainWallet: wallet, subWallets: [] })\n          }\n        }\n      })\n\n    walletMap.forEach((value: WalletGroup) => {\n      groups.push(value)\n    })\n\n    groups.sort((group1: WalletGroup, group2: WalletGroup) => {\n      if (group1.mainWallet && group2.mainWallet) {\n        return group1.mainWallet.protocol.symbol.localeCompare(group2.mainWallet.protocol.symbol)\n      } else if (group1.mainWallet) {\n        return -1\n      } else if (group2.mainWallet) {\n        return 1\n      } else {\n        return 0\n      }\n    })\n\n    // TODO: Find a solution to this\n    /*\n    It seems like this is an Ionic / Angular bug. If a wallet is deleted on a sub-page\n    (which is how it is done currently), then the UI end up in a weird state. There is no\n    crash, but some wallets are not shown and empty cards are being displayed. To resolve this,\n    the app has to be restarted or another wallet has to be added. When investigating,\n    we saw that it is related to the transition phase. If the observable emits at the same time\n    as the transition is happening, then this weird state occurs. If we simply wait, everything\n    works as intended. \n    */\n    setTimeout(() => {\n      this.walletGroups.next(groups)\n    }, 500)\n  }\n\n  public ionViewDidEnter() {\n    this.doRefresh().catch(handleErrorSentry())\n  }\n\n  public openDetail(mainWallet: AirGapMarketWallet, subWallet?: AirGapMarketWallet) {\n    const info = subWallet\n      ? {\n          mainWallet,\n          wallet: subWallet\n        }\n      : {\n          wallet: mainWallet\n        }\n    this.router\n      .navigateByUrl(\n        `/account-transaction-list/${DataServiceKey.ACCOUNTS}/${info.wallet.publicKey}/${info.wallet.protocol.identifier}/${info.wallet.addressIndex}`\n      )\n      .catch(console.error)\n  }\n\n  public openAccountAddPage() {\n    this.router.navigateByUrl('/account-add').catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n  public async doRefresh(event: any = null) {\n    // XTZ: Refresh delegation status\n    this.operationsProvider.refreshAllDelegationStatuses(this.walletsProvider.getWalletList())\n\n    const observables = [\n      this.walletsProvider.getWalletList().map((wallet) => {\n        return from(wallet.synchronize())\n      })\n    ]\n    /**\n     * if we use await Promise.all() instead, then each wallet\n     * is synchronized asynchronously, leading to blocking behaviour.\n     * Instead we want to synchronize all wallets simultaneously\n     */\n    const allWalletsSynced = forkJoin([observables])\n\n    this.subscription = allWalletsSynced.subscribe(() => {\n      this.calculateTotal(this.walletsProvider.getWalletList(), event ? event.target : null)\n      this.wallets.pipe(take(1)).subscribe(wallets => this.refreshWalletGroups(wallets))\n    })\n  }\n\n  public async calculateTotal(wallets: AirGapMarketWallet[], refresher: any = null): Promise<void> {\n    const cryptoToFiatPipe = new CryptoToFiatPipe(this.protocolService)\n    wallets = wallets.filter((wallet) => wallet.status === AirGapWalletStatus.ACTIVE)\n    this.total = (\n      await Promise.all(\n        wallets.map((wallet) =>\n          cryptoToFiatPipe.transform(wallet.currentBalance, {\n            protocolIdentifier: wallet.protocol.identifier,\n            currentMarketPrice: wallet.currentMarketPrice\n          })\n        )\n      )\n    )\n      .reduce((sum: BigNumber, next: string) => sum.plus(next), new BigNumber(0))\n      .toNumber()\n\n    if (refresher) {\n      refresher.complete()\n    }\n\n    this.isVisible = 'visible'\n  }\n\n  public ngOnDestroy(): void {\n    this.subscription.unsubscribe()\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar color=\"translucent\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n<ion-content fullscreen=\"true\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ng-container *ngIf=\"activeWallets | async as walletsArray\">\n      <chart *ngIf=\"walletsArray.length > 0\" [total]=\"total\"></chart>\n    </ng-container>\n    <ion-toolbar color=\"translucent\">\n      <current-wallet-group></current-wallet-group>\n    </ion-toolbar>\n    <ion-refresher slot=\"fixed\" (ionRefresh)=\"doRefresh($event)\"><ion-refresher-content></ion-refresher-content></ion-refresher>\n\n    <ng-container *ngIf=\"walletGroups | async as walletGroupsArray; else loading\">\n      <ng-container *ngIf=\"walletGroupsArray.length; else noItems\">\n        <ion-list class=\"walletGroups ion-no-padding\" lines=\"none\" *ngFor=\"let walletGroup of walletGroupsArray\">\n          <ion-card>\n            <portfolio-item\n              *ngIf=\"walletGroup.mainWallet\"\n              class=\"mainWallet\"\n              [wallet]=\"walletGroup.mainWallet\"\n              tappable\n              (click)=\"openDetail(walletGroup.mainWallet)\"\n            ></portfolio-item>\n            <portfolio-item\n              *ngFor=\"let subWallet of walletGroup.subWallets | walletFilter: { network: walletGroup.mainWallet?.protocol?.options?.network }\"\n              [wallet]=\"subWallet\"\n              tappable\n              (click)=\"openDetail(walletGroup.mainWallet, subWallet)\"\n            ></portfolio-item>\n          </ion-card>\n        </ion-list>\n      </ng-container>\n      <ng-template #noItems>\n        <empty-state\n          *ngIf=\"isDesktop\"\n          [text]=\"'portfolio.empty-state_desktop_text' | translate\"\n          [imageName]=\"'signer-vault-ledger-desktop.svg'\"\n          [fullHeight]=\"true\"\n        ></empty-state>\n        <empty-state\n          *ngIf=\"!isDesktop\"\n          [text]=\"'portfolio.empty-state_text' | translate\"\n          [imageName]=\"'sync_wallet_onboarding_1.svg'\"\n          [fullHeight]=\"true\"\n        ></empty-state>\n      </ng-template>\n    </ng-container>\n    <ng-template #loading>\n      <ion-list lines=\"none\" class=\"ion-margin-top\">\n        <ion-card>\n          <portfolio-item></portfolio-item>\n        </ion-card>\n        <ion-card>\n          <portfolio-item></portfolio-item>\n        </ion-card>\n        <ion-card>\n          <portfolio-item></portfolio-item>\n        </ion-card>\n        <ion-card>\n          <portfolio-item></portfolio-item>\n        </ion-card>\n      </ion-list>\n    </ng-template>\n  </ion-grid>\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ng-container *ngIf=\"wallets | async | walletFilter: { status: AirGapWalletStatus.ACTIVE } as walletsArray\">\n      <ion-fab-button *ngIf=\"walletsArray.length > 0\" id=\"add-more-coins-button\" color=\"secondary\" (click)=\"openAccountAddPage()\">\n        <ion-icon name=\"add\"></ion-icon>\n      </ion-fab-button>\n      <ion-button\n        *ngIf=\"walletsArray.length === 0\"\n        id=\"add-initial-coin-button\"\n        color=\"secondary\"\n        (click)=\"openAccountAddPage()\"\n        shape=\"round\"\n      >\n        <ion-icon slot=\"start\" name=\"add\"></ion-icon>\n        {{ 'portfolio.add-coins_label' | translate }}\n      </ion-button>\n    </ng-container>\n  </ion-fab>\n</ion-content>\n","import { ClipboardService, SerializerService, IACMessageTransport } from '@airgap/angular-core'\nimport { Component, Inject } from '@angular/core'\nimport { Router } from '@angular/router'\nimport { Capacitor } from '@capacitor/core'\nimport { SharePlugin } from '@capacitor/share'\nimport { AlertController, ModalController } from '@ionic/angular'\nimport { SHARE_PLUGIN } from 'src/app/capacitor-plugins/injection-tokens'\nimport { BrowserService } from 'src/app/services/browser/browser.service'\nimport { IACService } from 'src/app/services/iac/iac.service'\n\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\nimport { IntroductionPage } from '../introduction/introduction'\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\nexport class SettingsPage {\n  public readonly platform: string = Capacitor.getPlatform()\n\n  constructor(\n    public readonly alertCtrl: AlertController,\n    public readonly serializerService: SerializerService,\n    private readonly router: Router,\n    private readonly modalController: ModalController,\n    private readonly clipboardProvider: ClipboardService,\n    private readonly iacService: IACService,\n    private readonly browserService: BrowserService,\n    @Inject(SHARE_PLUGIN) private readonly sharePlugin: SharePlugin\n  ) {}\n\n  public about(): void {\n    this.navigate('/about')\n  }\n\n  public dappPermissions(): void {\n    this.navigate('/dapp-permission-list')\n  }\n\n  public dappSettings(): void {\n    this.navigate('/dapp-settings')\n  }\n\n  public share(): void {\n    const options = {\n      title: 'Check out AirGap Wallet', // Set a title for any message. This will be the subject if sharing to email\n      text: \"Take a look at this app I found. It's the most secure way to do crypto transactions.\", // Set some text to share\n      url: 'https://www.airgap.it', // Set a URL to share\n      dialogTitle: 'Pick an app' // Set a title for the share modal. Android only\n    }\n\n    this.sharePlugin\n      .share(options)\n      .then((result) => {\n        console.log(`Share completed: ${result}`)\n      })\n      .catch((error) => {\n        console.log('Sharing failed with error: ' + error)\n      })\n  }\n\n  public async introduction(): Promise<void> {\n    const modal: HTMLIonModalElement = await this.modalController.create({\n      component: IntroductionPage\n    })\n\n    modal\n      .dismiss(async () => {\n        //\n      })\n      .catch(handleErrorSentry(ErrorCategory.IONIC_MODAL))\n    modal.present().catch(handleErrorSentry(ErrorCategory.IONIC_MODAL))\n  }\n\n  public feedback(): void {\n    this.browserService.openUrl('https://github.com/airgap-it/airgap-wallet/issues')\n  }\n\n  public async discord(): Promise<void> {\n    this.browserService.openUrl('https://discord.gg/gnWqCQsteh')\n  }\n\n  public translate(): void {\n    this.browserService.openUrl('https://translate.sook.ch/')\n  }\n\n  /*\n  // Removed because of google policies\n  public donate(): void {\n    this.openUrl('https://airgap.it/#donate')\n  }\n  */\n\n  public githubDistro(): void {\n    this.browserService.openUrl('https://github.com/airgap-it/airgap-distro')\n  }\n\n  public githubWebSigner(): void {\n    this.browserService.openUrl('https://github.com/airgap-it/airgap-web-signer')\n  }\n\n  public githubWallet(): void {\n    this.browserService.openUrl('https://github.com/airgap-it')\n  }\n\n  public faq(): void {\n    this.browserService.openUrl('https://support.airgap.it')\n  }\n\n  public aboutBeacon(): void {\n    this.browserService.openUrl('https://walletbeacon.io')\n  }\n\n  public goToQrSettings(): void {\n    this.navigate('/qr-settings')\n  }\n\n  public goToHealthCheck(): void {\n    this.navigate('/health-check')\n  }\n\n  public goToWalletInteraction(): void {\n    this.navigate('/interaction-selection-settings')\n  }\n\n  private navigate(url: string) {\n    this.router.navigateByUrl(url, { replaceUrl: true }).catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n  public pasteClipboard(): void {\n    this.clipboardProvider.paste().then(\n      (text: string) => {\n        this.iacService.handleRequest(text, IACMessageTransport.PASTE).catch((error) => console.error(error))\n      },\n      (err: string) => {\n        console.error('Error: ' + err)\n      }\n    )\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-toolbar>\n      <ion-buttons slot=\"start\">\n        <ion-menu-button></ion-menu-button>\n      </ion-buttons>\n      <ion-title>{{ 'settings.title' | translate }}</ion-title>\n    </ion-toolbar>\n  </ion-grid>\n</ion-header>\n\n<ion-content>\n  <ion-grid fixed=\"true\" class=\"ion-no-padding\">\n    <ion-list lines=\"none\">\n      <ion-list-header class=\"ion-no-margin\" lines=\"none\">\n        <ion-label>{{ 'settings.help_label' | translate }}</ion-label>\n      </ion-list-header>\n      <ion-item (click)=\"introduction()\" detail=\"true\">\n        <ion-icon name=\"bulb-outline\" slot=\"start\"></ion-icon>\n        {{ 'settings.introduction_label' | translate }}\n      </ion-item>\n      <ion-item (click)=\"faq()\" detail=\"true\">\n        <ion-icon name=\"help-circle-outline\" slot=\"start\"></ion-icon>\n        {{ 'settings.faq_label' | translate }}\n      </ion-item>\n      <ion-item (click)=\"discord()\" detail=\"true\">\n        <ion-icon name=\"chatbubbles-outline\" slot=\"start\"></ion-icon>\n        {{ 'settings.discord_label' | translate }}\n      </ion-item>\n      <ion-item (click)=\"share()\" detail=\"true\">\n        <ion-icon name=\"share-outline\" slot=\"start\"></ion-icon>\n        {{ 'settings.share_label' | translate }}\n      </ion-item>\n    </ion-list>\n    <ion-list lines=\"none\">\n      <ion-list-header class=\"ion-no-margin\" lines=\"none\">\n        <ion-label>{{ 'settings.information_label' | translate }}</ion-label>\n      </ion-list-header>\n      <ion-item (click)=\"githubWallet()\" detail=\"true\">\n        <ion-icon name=\"logo-github\" slot=\"start\"></ion-icon>\n        {{ 'settings.github_label' | translate }}\n      </ion-item>\n      <ion-item *ngIf=\"platform !== 'web'\" (click)=\"about()\" detail=\"true\">\n        <ion-icon name=\"information-circle-outline\" slot=\"start\"></ion-icon>\n        {{ 'settings.about_label' | translate }}\n      </ion-item>\n\n      <ion-item (click)=\"goToHealthCheck()\" detail=\"true\">\n        <ion-icon name=\"pulse-outline\" slot=\"start\"></ion-icon>\n        {{ 'settings.health-check' | translate }}\n      </ion-item>\n    </ion-list>\n    <ion-list lines=\"none\">\n      <ion-list-header class=\"ion-no-margin\" lines=\"none\">\n        <ion-label>{{ 'settings.dapp.label' | translate }}</ion-label>\n      </ion-list-header>\n      <ion-item (click)=\"dappPermissions()\" detail=\"true\">\n        <ion-icon src=\"assets/img/beacon_logo_black.svg\" slot=\"start\"></ion-icon>\n        {{ 'settings.dapp.permission-list_label' | translate }}\n      </ion-item>\n      <ion-item (click)=\"dappSettings()\" detail=\"true\">\n        <ion-icon src=\"assets/img/beacon_logo_black.svg\" slot=\"start\"></ion-icon>\n        {{ 'settings.dapp.settings_label' | translate }}\n      </ion-item>\n      <ion-item (click)=\"aboutBeacon()\" detail=\"true\">\n        <ion-icon name=\"information-circle-outline\" slot=\"start\"></ion-icon>\n        {{ 'settings.dapp.about_label' | translate }}\n      </ion-item>\n    </ion-list>\n    <ion-list lines=\"none\">\n      <ion-list-header class=\"ion-no-margin\" lines=\"none\">\n        <ion-label>{{ 'settings.interaction.label' | translate }}</ion-label>\n      </ion-list-header>\n      <ion-item (click)=\"goToWalletInteraction()\" detail=\"true\">\n        <ion-icon src=\"assets/icon/md-swap_horiz.svg\" slot=\"start\"></ion-icon>\n        {{ 'settings.interaction.text' | translate }}\n      </ion-item>\n    </ion-list>\n\n    <ion-list lines=\"none\">\n      <ion-list-header class=\"ion-no-margin\" lines=\"none\">\n        <ion-label>{{ 'settings.qr.settings_label' | translate }}</ion-label>\n      </ion-list-header>\n      <ion-item (click)=\"pasteClipboard()\">\n        <ion-icon name=\"return-up-forward-outline\" slot=\"start\"></ion-icon>\n        {{ 'settings.paste-from-clipboard_label' | translate }}\n      </ion-item>\n      <ion-item (click)=\"goToQrSettings()\">\n        <ion-icon name=\"qr-code-outline\" slot=\"start\"></ion-icon>\n        {{ 'settings.qr-advanced-settings_label' | translate }}\n      </ion-item>\n    </ion-list>\n  </ion-grid>\n</ion-content>\n","import { Component } from '@angular/core'\nimport { ModalController, Platform } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\n\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\n\n@Component({\n  selector: 'page-introduction-download',\n  templateUrl: 'introduction-download.html'\n})\nexport class IntroductionDownloadPage {\n  public appStoreText: string = 'android-device-iOS_text'\n  public playStoreText: string = 'iOS-device-android_text'\n  public isIOS: boolean = true\n\n  constructor(\n    private readonly platform: Platform,\n    public viewController: ModalController,\n    private readonly translateService: TranslateService\n  ) {\n    this.isIOS = this.platform.is('ios')\n\n    if (!this.translateService.currentLang.startsWith('en')) {\n      this.appStoreText = 'app-store_text'\n      this.playStoreText = 'play-store_text'\n    } else {\n      if (this.platform.is('ios')) {\n        this.appStoreText = 'iOS-device-iOS_text'\n        this.playStoreText = 'iOS-device-android_text'\n      } else if (this.platform.is('android')) {\n        this.appStoreText = 'android-device-iOS_text'\n        this.playStoreText = 'android-device-android_text'\n      }\n    }\n  }\n\n  public dismiss(shouldCloseAllModals: boolean = false): void {\n    this.viewController.dismiss(shouldCloseAllModals).catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n\n  public downloadAndroid(): void {\n    if (this.platform.is('android')) {\n      window.open('https://play.google.com/store/apps/details?id=it.airgap.vault', '_system')\n    } else if (this.platform.is('hybrid')) {\n      window.open('https://play.google.com/store/apps/details?id=it.airgap.vault', '_system')\n    } else {\n      window.open('https://play.google.com/store/apps/details?id=it.airgap.vault', '_blank')\n    }\n    this.dismiss(true)\n  }\n\n  public downloadIos(): void {\n    if (this.platform.is('ios')) {\n      window.open('itms-apps://itunes.apple.com/app/id1417126841', '_system')\n    } else if (this.platform.is('hybrid')) {\n      window.open('https://itunes.apple.com/us/app/airgap-vault-secure-secrets/id1417126841?mt=8', '_system')\n    } else {\n      window.open('https://itunes.apple.com/us/app/airgap-vault-secure-secrets/id1417126841?mt=8', '_blank')\n    }\n    this.dismiss(true)\n  }\n\n  public downloadDistribution(): void {\n    if (this.platform.is('hybrid')) {\n      window.open('https://github.com/airgap-it/airgap-distro', '_system')\n    } else {\n      window.open('https://github.com/airgap-it/airgap-distro', '_blank')\n    }\n    this.dismiss(true)\n  }\n\n  public openGuide(): void {\n    if (this.platform.is('hybrid')) {\n      window.open('https://medium.com/airgap-it/airgap-the-step-by-step-guide-c4c3d3fe9a05', '_system')\n    } else {\n      window.open('https://medium.com/airgap-it/airgap-the-step-by-step-guide-c4c3d3fe9a05', '_blank')\n    }\n    this.dismiss(true)\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"/\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>{{ 'introduction-download.title' | translate }}</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"dismiss()\" color=\"secondary\"><ion-icon name=\"close-outline\"></ion-icon></ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <h1>{{ 'introduction-download.heading' | translate }}</h1>\n\n  <ion-button class=\"ion-margin-top\" color=\"primary\" (click)=\"openGuide()\" shape=\"round\">\n    <ion-icon slot=\"start\" name=\"open-outline\"></ion-icon>\n    {{ 'introduction-download.guide-link_label' | translate }}\n  </ion-button>\n  <p class=\"ion-padding-bottom\">{{ 'introduction-download.description' | translate }}</p>\n\n  <h5 *ngIf=\"!isIOS\">{{ 'introduction-download.text' | translate }}</h5>\n\n  <ion-button id=\"btn-import-secret\" color=\"primary\" (click)=\"downloadIos()\" shape=\"round\">\n    <ion-icon slot=\"start\" name=\"phone-portrait-outline\"></ion-icon>\n    {{ 'introduction-download.iOS' | translate }}\n  </ion-button>\n\n  <p>{{ 'introduction-download.' + appStoreText | translate }}</p>\n\n  <ng-container *ngIf=\"!isIOS\">\n    <!-- TODO: We have to hide this to get through the review. We should re-add this later and open a dispute to get it resolved -->\n\n    <ion-button class=\"ion-margin-top\" id=\"btn-generate-secret\" color=\"primary\" (click)=\"downloadAndroid()\" shape=\"round\">\n      <ion-icon slot=\"start\" name=\"logo-android\"></ion-icon>\n      {{ 'introduction-download.android' | translate }}\n    </ion-button>\n\n    <p class=\"ion-padding-bottom\">\n      {{ 'introduction-download.' + playStoreText | translate }}\n    </p>\n\n    <ion-button id=\"btn-recover-secret\" color=\"primary\" (click)=\"downloadDistribution()\" shape=\"round\">\n      <ion-icon slot=\"start\" name=\"desktop-outline\"></ion-icon>\n      {{ 'introduction-download.linux-distro_label' | translate }}\n    </ion-button>\n\n    <p>{{ 'introduction-download.install-distro_text' | translate }}</p>\n  </ng-container>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button shape=\"round\" color=\"primary\" (click)=\"dismiss()\">{{ 'introduction-download.go_label' | translate }}</ion-button>\n  </ion-fab>\n</ion-content>\n","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { IntroductionPageModule } from '../introduction/introdution.module'\n\nimport { TabsPage } from './tabs.page'\nimport { TabsPageRoutingModule } from './tabs.router.module'\n\n@NgModule({\n  imports: [IonicModule, CommonModule, FormsModule, TabsPageRoutingModule, TranslateModule, IntroductionPageModule],\n  declarations: [TabsPage]\n})\nexport class TabsPageModule {}\n","import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { ComponentsModule } from '../../components/components.module'\n\nimport { IntroductionDownloadPage } from './introduction-download'\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ComponentsModule,\n    TranslateModule,\n    RouterModule.forChild([{ path: '', component: IntroductionDownloadPage }])\n  ],\n  declarations: [IntroductionDownloadPage]\n})\nexport class IntroductionDownloadPageModule {}\n","import { Component } from '@angular/core'\nimport { ModalController, Platform } from '@ionic/angular'\n\nimport { ErrorCategory, handleErrorSentry } from '../../services/sentry-error-handler/sentry-error-handler'\nimport { IntroductionDownloadPage } from '../introduction-download/introduction-download'\n\n@Component({\n  selector: 'page-introduction',\n  templateUrl: 'introduction.html',\n  styleUrls: ['./introduction.scss']\n})\nexport class IntroductionPage {\n  public security: string = 'highest'\n  public isDesktop: boolean = false\n\n  constructor(public platform: Platform, public modalController: ModalController) {\n    this.isDesktop = !this.platform.is('hybrid')\n  }\n\n  public dismiss() {\n    this.modalController.dismiss().catch(handleErrorSentry(ErrorCategory.NAVIGATION))\n  }\n\n  public async openIntroductionDownloadPage() {\n    const modal = await this.modalController.create({\n      component: IntroductionDownloadPage\n    })\n\n    modal.dismiss((shouldCloseAllModals) => {\n      if (shouldCloseAllModals) {\n        this.dismiss()\n      }\n    })\n\n    modal.present().catch(handleErrorSentry(ErrorCategory.IONIC_MODAL))\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar>\n    <ion-title>{{ 'introduction.title' | translate }}</ion-title>\n    <ion-buttons slot=\"end\">\n      <ion-button (click)=\"dismiss()\" color=\"secondary\">\n        <ion-icon name=\"close-outline\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\" forceOverflow=\"false\">\n  <ion-segment [(ngModel)]=\"security\" color=\"secondary\" *ngIf=\"!isDesktop\" value=\"highest\">\n    <ion-segment-button value=\"highest\">\n      <ion-label>{{ 'introduction.highest.label' | translate }}</ion-label>\n    </ion-segment-button>\n    <ion-segment-button value=\"medium\">\n      <ion-label>{{ 'introduction.medium.label' | translate }}</ion-label>\n    </ion-segment-button>\n  </ion-segment>\n\n  <ng-container *ngIf=\"security === 'highest'\">\n    <ion-row>\n      <p [innerHTML]=\"'introduction.highest.text' | translate\" *ngIf=\"!isDesktop\"></p>\n      <p [innerHTML]=\"'introduction.highest.desktop_text' | translate\" *ngIf=\"isDesktop\"></p>\n    </ion-row>\n\n    <ion-row class=\"ion-padding-top ion-align-items-center\">\n      <ion-col size=\"5\" *ngIf=\"isDesktop\"><img src=\"./assets/img/airgap_onboarding_wallet-notebook.svg\" /></ion-col>\n      <ion-col size=\"5\" *ngIf=\"!isDesktop\"><img src=\"./assets/img/airgap_onboarding_wallet.svg\" /></ion-col>\n      <ion-col size=\"7\">\n        <h5>{{ 'introduction.wallet.heading' | translate }}</h5>\n        <p [innerHTML]=\"'introduction.wallet.text' | translate\"></p>\n      </ion-col>\n    </ion-row>\n\n    <ng-container *ngIf=\"!isDesktop\">\n      <ion-row class=\"ion-padding-vertical ion-align-items-center\">\n        <ion-col size=\"5\" class=\"ion-text-center\"><img class=\"connector--img\" src=\"./assets/img/qrcode.svg\" /></ion-col>\n        <ion-col size=\"7\">\n          <strong>{{ 'introduction.communication.highest_text' | translate }}</strong>\n        </ion-col>\n      </ion-row>\n\n      <ion-row class=\"ion-align-items-center\">\n        <ion-col size=\"5\"><img src=\"./assets/img/airgap_onboarding_vault.svg\" /></ion-col>\n        <ion-col size=\"7\">\n          <h5>{{ 'introduction.vault.heading' | translate }}</h5>\n          <p [innerHTML]=\"'introduction.vault.text' | translate\"></p>\n        </ion-col>\n      </ion-row>\n    </ng-container>\n    <ng-container *ngIf=\"isDesktop\">\n      <ion-row class=\"ion-align-items-center\">\n        <ion-col size=\"5\"><img src=\"./assets/img/signer-vault-ledger-desktop.svg\" /></ion-col>\n        <ion-col size=\"7\">\n          <h5>{{ 'introduction.vault.desktop_heading' | translate }}</h5>\n          <p [innerHTML]=\"'introduction.vault.desktop_text' | translate\"></p>\n        </ion-col>\n      </ion-row>\n    </ng-container>\n  </ng-container>\n\n  <ng-container *ngIf=\"security === 'medium'\">\n    <ion-row>\n      <p [innerHTML]=\"'introduction.medium.text' | translate\"></p>\n    </ion-row>\n\n    <ion-row class=\"ion-padding-top ion-align-items-center\">\n      <ion-col size=\"5\"><img src=\"./assets/img/airgap_onboarding_wallet.svg\" /></ion-col>\n      <ion-col size=\"7\">\n        <h5>{{ 'introduction.wallet.heading' | translate }}</h5>\n        <p [innerHTML]=\"'introduction.wallet.text' | translate\"></p>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"ion-padding-vertical ion-align-items-center\">\n      <ion-col size=\"5\" class=\"ion-text-center\"><img class=\"connector--img\" src=\"./assets/img/clone.svg\" /></ion-col>\n      <ion-col size=\"7\">\n        <strong>{{ 'introduction.communication.medium_text' | translate }}</strong>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class=\"ion-align-items-center\">\n      <ion-col size=\"5\"><img src=\"./assets/img/airgap_onboarding_vault.svg\" /></ion-col>\n      <ion-col size=\"7\">\n        <h5>{{ 'introduction.vault.heading' | translate }}</h5>\n        <p [innerHTML]=\"'introduction.vault.text' | translate\"></p>\n      </ion-col>\n    </ion-row>\n  </ng-container>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button id=\"introduction-button\" shape=\"round\" color=\"secondary\" (click)=\"openIntroductionDownloadPage()\">\n      {{ 'introduction.vault-install_label' | translate }}\n    </ion-button>\n    <ion-button id=\"dismiss-button\" shape=\"round\" color=\"primary\" (click)=\"dismiss()\">\n      {{ 'introduction.continue_label' | translate }}\n    </ion-button>\n  </ion-fab>\n</ion-content>\n"],"sourceRoot":"webpack:///"}