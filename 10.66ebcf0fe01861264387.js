(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"4HcY":function(t,e,n){"use strict";n.d(e,"a",function(){return M});var o=n("mrSG"),i=n("RKiA"),a=n("kB5k"),r=n("nxqh"),c=n("57MG"),s=n("1y+R"),l=n("dW0/"),b=n("hPkG"),u=n("AFs5"),g=n("TxTD"),d=n("14cC"),p=n("3Pt+"),h=n("2Vo4"),_=n("QMTT"),m=n("Kj3r"),f=n("fXoL"),P=n("tyNb"),v=n("TEn/"),O=n("sYmb"),y=n("138U"),w=n("ofXK"),x=n("R0Ic"),S=n("yJqF"),T=n("F07p"),_c0=function(t){return{minExchangeAmount:t}};function SwapComponent_span_6_Template(t,e){if(1&t&&(f.Kb(0,"span",16),f.Zb(1,"translate")),2&t){var n=f.Yb();f.ec("innerHTML",f.bc(1,1,"swap.min-amount_label",f.ic(4,_c0,n.minExchangeAmount.toString())),f.nc)}}function SwapComponent_ion_input_7_Template(t,e){if(1&t){var n=f.Pb();f.Ob(0,"ion-input",17),f.Wb("input",function SwapComponent_ion_input_7_Template_ion_input_input_0_listener(t){return f.mc(n),f.Yb().amountSet(t.target.value)}),f.Nb()}if(2&t){var o=f.Yb();f.ec("disabled",o.currentlyNotSupported)}}function SwapComponent_ion_input_8_Template(t,e){if(1&t){var n=f.Pb();f.Ob(0,"ion-input",18),f.Wb("ngModelChange",function SwapComponent_ion_input_8_Template_ion_input_ngModelChange_0_listener(t){return f.mc(n),f.Yb().exchangeAmount=t}),f.Nb()}if(2&t){var o=f.Yb();f.ec("disabled",!0)("ngModel",o.exchangeAmount)}}function SwapComponent_ion_row_13_Template(t,e){if(1&t&&(f.Ob(0,"ion-row",19),f.Ob(1,"ion-text",20),f.Kb(2,"p",21),f.Zb(3,"translate"),f.Nb(),f.Nb()),2&t){var n=f.Yb();f.yb(2),f.ec("innerHTML",f.bc(3,1,"swap.min-amount-error_label",f.ic(4,_c0,n.minExchangeAmount.toString())),f.nc)}}function SwapComponent_ion_row_14_Template(t,e){1&t&&(f.Ob(0,"ion-row",19),f.Ob(1,"ion-text",20),f.Ob(2,"p",22),f.vc(3),f.Zb(4,"translate"),f.Nb(),f.Nb(),f.Nb()),2&t&&(f.yb(3),f.xc(" ",f.ac(4,1,"swap.currently_not_supported")," "))}var _c1=function(t){return{accountBalance:t}};function SwapComponent_ion_row_15_Template(t,e){if(1&t&&(f.Ob(0,"ion-row",19),f.Ob(1,"ion-text",23),f.Kb(2,"p",24),f.Zb(3,"translate"),f.Nb(),f.Nb()),2&t){var n=f.Yb();f.yb(2),f.ec("innerHTML",f.bc(3,1,"swap.amount-higher-than-balance-error_label",f.ic(4,_c1,n.selectedWallet.currentBalance.shiftedBy(-1*n.selectedWallet.protocol.decimals))),f.nc)}}function SwapComponent_ng_container_25_ng_container_2_portfolio_item_1_Template(t,e){if(1&t){var n=f.Pb();f.Ob(0,"portfolio-item",28),f.Wb("click",function SwapComponent_ng_container_25_ng_container_2_portfolio_item_1_Template_portfolio_item_click_0_listener(){f.mc(n);var t=f.Yb().$implicit;return f.Yb(2).walletSet(t)}),f.Nb()}if(2&t){var o=f.Yb().$implicit;f.ec("wallet",o)("hideFiatAmounts",!0)("isExpendable",!1)}}function SwapComponent_ng_container_25_ng_container_2_Template(t,e){if(1&t&&(f.Mb(0),f.tc(1,SwapComponent_ng_container_25_ng_container_2_portfolio_item_1_Template,1,3,"portfolio-item",27),f.Lb()),2&t){var n=e.$implicit,o=f.Yb(2);f.yb(1),f.ec("ngIf",o.selectedWallet!==n)}}function SwapComponent_ng_container_25_Template(t,e){if(1&t&&(f.Mb(0),f.Ob(1,"ion-list",25),f.tc(2,SwapComponent_ng_container_25_ng_container_2_Template,2,1,"ng-container",26),f.Nb(),f.Lb()),2&t){var n=f.Yb();f.yb(1),f.ec("@expandWalletAnimation",void 0),f.yb(1),f.ec("ngForOf",n.supportedWallets)}}var C=function(){function SwapComponent(t,e,n){this.alertCtrl=t,this.modalController=e,this.protocolService=n,this.expandWalletSelection=!1,this.currentlyNotSupported=!1,this.swapSell=!0,this.supportedProtocols=[],this.protocolSetEmitter=new f.o,this.walletSetEmitter=new f.o,this.amountSetEmitter=new f.o}return SwapComponent.prototype.amountSet=function(t){this._amount=t,this.amountSetEmitter.emit(t)},SwapComponent.prototype.walletSet=function(t){this.walletSetEmitter.emit(t),this.expandWalletSelection=!1},SwapComponent.prototype.doRadio=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n=this;return Object(o.e)(this,function(i){switch(i.label){case 0:return[4,Promise.all(this.supportedProtocols.map(function(t){return Object(o.b)(n,void 0,void 0,function(){return Object(o.e)(this,function(e){return[2,this.protocolService.getProtocol(t).catch(function(){})]})})}))];case 1:return t=i.sent().filter(function(t){return void 0!==t}),[4,this.modalController.create({component:S.a,componentProps:{selectedProtocol:this.selectedProtocol.identifier,protocols:t}})];case 2:return(e=i.sent()).onDidDismiss().then(function(t){return Object(o.b)(n,void 0,void 0,function(){var e,n;return Object(o.e)(this,function(o){switch(o.label){case 0:return t&&t.data?(n=(e=this.protocolSetEmitter).emit,[4,this.protocolService.getProtocol(t.data)]):[3,2];case 1:n.apply(e,[o.sent()]),o.label=2;case 2:return[2]}})})}).catch(Object(b.b)(b.a.IONIC_MODAL)),e.present().catch(Object(b.b)(b.a.IONIC_MODAL)),[2]}})})},SwapComponent.\u0275fac=function SwapComponent_Factory(t){return new(t||SwapComponent)(f.Jb(v.a),f.Jb(v.lb),f.Jb(y.x))},SwapComponent.\u0275cmp=f.Db({type:SwapComponent,selectors:[["swap"]],inputs:{currentlyNotSupported:"currentlyNotSupported",swapSell:"swapSell",selectedWallet:"selectedWallet",supportedWallets:"supportedWallets",selectedProtocol:"selectedProtocol",supportedProtocols:"supportedProtocols",minExchangeAmount:"minExchangeAmount",exchangeAmount:"exchangeAmount"},outputs:{protocolSetEmitter:"protocolSetEmitter",walletSetEmitter:"walletSetEmitter",amountSetEmitter:"amountSetEmitter"},decls:26,vars:22,consts:[[1,"amount__container","border--vertical","ion-no-padding","ion-align-items-stretch"],["size","8",1,"ion-padding"],["lines","none",1,"ion-no-padding"],["position","stacked","color","blackLight",1,"ion-no-margin"],[3,"innerHTML",4,"ngIf"],["type","number","id","buy-input","placeholder","0.0",3,"disabled","input",4,"ngIf"],["type","number","id","sell-input","placeholder","0.0",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["color","blackLight"],[1,"ion-no-margin"],["class","ion-padding-top",4,"ngIf"],["size","4",1,"coin__selection","ion-padding",3,"click"],[3,"src"],["name","chevron-down-outline"],[1,"ion-no-margin","ion-padding-vertical"],["tappable","",3,"wallet","hideDelegationBadge","isExpendable","hideFiatAmounts","isExtended","click"],[4,"ngIf"],[3,"innerHTML"],["type","number","id","buy-input","placeholder","0.0",3,"disabled","input"],["type","number","id","sell-input","placeholder","0.0",3,"disabled","ngModel","ngModelChange"],[1,"ion-padding-top"],["no-margin","","color","danger"],["color","danger",1,"ion-no-margin",3,"innerHTML"],["color","danger",1,"ion-no-margin"],["color","danger"],[1,"ion-no-margin",3,"innerHTML"],["lines","none","margin-top",""],[4,"ngFor","ngForOf"],["tappable","",3,"wallet","hideFiatAmounts","isExpendable","click",4,"ngIf"],["tappable","",3,"wallet","hideFiatAmounts","isExpendable","click"]],template:function SwapComponent_Template(t,e){if(1&t&&(f.Ob(0,"ion-row",0),f.Ob(1,"ion-col",1),f.Ob(2,"ion-item",2),f.Ob(3,"ion-label",3),f.vc(4),f.Zb(5,"translate"),f.tc(6,SwapComponent_span_6_Template,2,6,"span",4),f.Nb(),f.tc(7,SwapComponent_ion_input_7_Template,1,1,"ion-input",5),f.tc(8,SwapComponent_ion_input_8_Template,1,2,"ion-input",6),f.Nb(),f.Ob(9,"ion-text",7),f.Ob(10,"p",8),f.vc(11),f.Zb(12,"number"),f.Nb(),f.Nb(),f.tc(13,SwapComponent_ion_row_13_Template,4,6,"ion-row",9),f.tc(14,SwapComponent_ion_row_14_Template,5,3,"ion-row",9),f.tc(15,SwapComponent_ion_row_15_Template,4,6,"ion-row",9),f.Nb(),f.Ob(16,"ion-col",10),f.Wb("click",function SwapComponent_Template_ion_col_click_16_listener(){return e.doRadio()}),f.Ob(17,"ion-row"),f.Kb(18,"img",11),f.Nb(),f.Ob(19,"ion-row"),f.Ob(20,"h5"),f.vc(21),f.Kb(22,"ion-icon",12),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Ob(23,"ion-list",13),f.Ob(24,"portfolio-item",14),f.Wb("click",function SwapComponent_Template_portfolio_item_click_24_listener(){return(null==e.supportedWallets?null:e.supportedWallets.length)>1?e.expandWalletSelection=!e.expandWalletSelection:{}}),f.Nb(),f.tc(25,SwapComponent_ng_container_25_Template,3,2,"ng-container",15),f.Nb()),2&t){var n=null;f.yb(4),f.xc(" ",f.ac(5,17,e.swapSell?"swap.sell_label":"swap.buy_label")," "),f.yb(2),f.ec("ngIf",e.minExchangeAmount),f.yb(1),f.ec("ngIf",e.swapSell),f.yb(1),f.ec("ngIf",!e.swapSell),f.yb(3),f.xc(" $",f.bc(12,19,null==e.exchangeAmount||null==(n=e.exchangeAmount.multipliedBy(null==e.selectedWallet?null:e.selectedWallet.currentMarketPrice))?null:n.toNumber(),"1.2-2")," "),f.yb(2),f.ec("ngIf",e.swapSell&&!(null!=e.exchangeAmount&&e.exchangeAmount.isZero())&&(null==e.exchangeAmount?null:e.exchangeAmount.isLessThan(e.minExchangeAmount))),f.yb(1),f.ec("ngIf",e.currentlyNotSupported),f.yb(1),f.ec("ngIf",e.swapSell&&(null==e.exchangeAmount?null:e.exchangeAmount.isGreaterThan(e.selectedWallet.currentBalance.shiftedBy(-1*e.selectedWallet.protocol.decimals)))),f.yb(3),f.ec("src","./assets/symbols/"+(null==e.selectedProtocol||null==e.selectedProtocol.symbol?null:e.selectedProtocol.symbol.toLowerCase())+".svg",f.oc),f.yb(3),f.xc(" ",null==e.selectedProtocol?null:e.selectedProtocol.symbol," "),f.yb(2),f.ec("@expandWalletAnimation",void 0),f.yb(1),f.ec("wallet",e.selectedWallet)("hideDelegationBadge",!0)("isExpendable",(null==e.supportedWallets?null:e.supportedWallets.length)>1)("hideFiatAmounts",!0)("isExtended",e.expandWalletSelection),f.yb(1),f.ec("ngIf",e.expandWalletSelection)}},directives:[v.R,v.p,v.A,v.E,w.n,v.db,v.w,v.F,T.a,v.z,v.ob,p.h,p.j,w.m],pipes:[O.c,w.f],styles:[".amount__container[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom-color:transparent!important;box-shadow:none!important}.amount__container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;margin:0}.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]{background-color:rgba(0,232,204,.24);display:flex;align-items:center;justify-content:center;flex-direction:column}.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{justify-content:center}.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:8px 0;display:flex;align-items:center}.border--vertical[_ngcontent-%COMP%]{border-top:1px solid rgba(0,232,204,.24)}"],data:{animation:[Object(x.i)("expandWalletAnimation",[Object(x.h)(":enter",[Object(x.g)({transform:"translateY(-20%)",opacity:0}),Object(x.e)("500ms",Object(x.g)({transform:"translateY(0)",opacity:1}))]),Object(x.h)(":leave",[Object(x.g)({transform:"translateY(0)",opacity:1}),Object(x.e)("500ms",Object(x.g)({transform:"translateY(-20%)",opacity:0}))])])]}}),SwapComponent}(),N=n("pNtj");function ExchangePage_ng_container_10_Template(t,e){if(1&t){var n=f.Pb();f.Mb(0),f.Ob(1,"ion-row",4),f.Ob(2,"ion-col",5),f.Kb(3,"h3",6),f.Zb(4,"translate"),f.Ob(5,"ion-col",7),f.Kb(6,"img",8),f.Nb(),f.Ob(7,"p",9),f.vc(8),f.Zb(9,"translate"),f.Nb(),f.Ob(10,"ion-button",10),f.Wb("click",function ExchangePage_ng_container_10_Template_ion_button_click_10_listener(){return f.mc(n),f.Yb().dismissExchangeOnboarding()}),f.vc(11),f.Zb(12,"translate"),f.Nb(),f.Nb(),f.Nb(),f.Lb()}2&t&&(f.yb(3),f.ec("innerHTML",f.ac(4,3,"exchange.onboarding.heading"),f.nc),f.yb(5),f.xc(" ",f.ac(9,5,"exchange.onboarding.description")," "),f.yb(3),f.xc(" ",f.ac(12,7,"exchange.onboarding.exchange_label")," "))}function ExchangePage_ng_container_11_Template(t,e){if(1&t){var n=f.Pb();f.Mb(0),f.Ob(1,"ion-row",4),f.Ob(2,"ion-col",5),f.Kb(3,"h3",6),f.Zb(4,"translate"),f.Ob(5,"ion-col",7),f.Kb(6,"img",8),f.Nb(),f.Ob(7,"p",9),f.vc(8),f.Zb(9,"translate"),f.Nb(),f.Ob(10,"ion-button",10),f.Wb("click",function ExchangePage_ng_container_11_Template_ion_button_click_10_listener(){return f.mc(n),f.Yb().goToAddCoinPage()}),f.vc(11),f.Zb(12,"translate"),f.Nb(),f.Nb(),f.Nb(),f.Lb()}2&t&&(f.yb(3),f.ec("innerHTML",f.ac(4,3,"exchange.no-currencies.heading"),f.nc),f.yb(5),f.xc(" ",f.ac(9,5,"exchange.no-currencies.description")," "),f.yb(3),f.xc(" ",f.ac(12,7,"exchange.no-currencies.exchange_label")," "))}function ExchangePage_ng_container_12_ion_row_4_img_7_Template(t,e){1&t&&f.Kb(0,"img",25)}function ExchangePage_ng_container_12_ion_row_4_img_8_Template(t,e){1&t&&f.Kb(0,"img",26)}function ExchangePage_ng_container_12_ion_row_4_Template(t,e){if(1&t){var n=f.Pb();f.Ob(0,"ion-row",16),f.Ob(1,"ion-col",17),f.Ob(2,"ion-row",18),f.Ob(3,"ion-text",19),f.Ob(4,"small"),f.vc(5),f.Zb(6,"translate"),f.Nb(),f.Nb(),f.tc(7,ExchangePage_ng_container_12_ion_row_4_img_7_Template,1,0,"img",20),f.tc(8,ExchangePage_ng_container_12_ion_row_4_img_8_Template,1,0,"img",21),f.Nb(),f.Nb(),f.Ob(9,"ion-col",22),f.Ob(10,"ion-button",23),f.Wb("click",function ExchangePage_ng_container_12_ion_row_4_Template_ion_button_click_10_listener(){return f.mc(n),f.Yb(2).doRadio()}),f.vc(11),f.Zb(12,"translate"),f.Kb(13,"ion-icon",24),f.Nb(),f.Nb(),f.Nb()}if(2&t){var o=f.Yb(2);f.yb(5),f.xc(" ",f.ac(6,5,"exchange.powered-by_label")," "),f.yb(2),f.ec("ngIf","ChangeNow"===o.activeExchange),f.yb(1),f.ec("ngIf","Changelly"===o.activeExchange),f.yb(2),f.ec("disabled",o.disableExchangeSelection),f.yb(1),f.xc(" ",f.ac(12,7,"exchange.switch-exchange_label")," ")}}function ExchangePage_ng_container_12_Template(t,e){if(1&t){var n=f.Pb();f.Mb(0),f.Ob(1,"swap",11),f.Wb("protocolSetEmitter",function ExchangePage_ng_container_12_Template_swap_protocolSetEmitter_1_listener(t){return f.mc(n),f.Yb().setFromProtocol(t)})("walletSetEmitter",function ExchangePage_ng_container_12_Template_swap_walletSetEmitter_1_listener(t){return f.mc(n),f.Yb().setFromWallet(t)})("amountSetEmitter",function ExchangePage_ng_container_12_Template_swap_amountSetEmitter_1_listener(t){return f.mc(n),f.Yb().amountSet(t)}),f.Nb(),f.Ob(2,"swap",12),f.Wb("protocolSetEmitter",function ExchangePage_ng_container_12_Template_swap_protocolSetEmitter_2_listener(t){return f.mc(n),f.Yb().setToProtocol(t)})("walletSetEmitter",function ExchangePage_ng_container_12_Template_swap_walletSetEmitter_2_listener(t){return f.mc(n),f.Yb().setToWallet(t)}),f.Nb(),f.Kb(3,"div",13),f.tc(4,ExchangePage_ng_container_12_ion_row_4_Template,14,9,"ion-row",14),f.Kb(5,"fee",15),f.Lb()}if(2&t){var o=f.Yb();f.yb(1),f.ec("selectedWallet",o.fromWallet)("supportedWallets",o.supportedFromWallets)("selectedProtocol",o.selectedFromProtocol)("supportedProtocols",o.supportedProtocolsFrom)("exchangeAmount",o.amount)("minExchangeAmount",o.minExchangeAmount)("currentlyNotSupported",o.currentlyNotSupported),f.yb(1),f.ec("selectedWallet",o.toWallet)("supportedWallets",o.supportedToWallets)("selectedProtocol",o.selectedToProtocol)("supportedProtocols",o.supportedProtocolsTo)("exchangeAmount",o.exchangeAmount)("swapSell",!1),f.yb(2),f.ec("ngIf",!o.isTZBTCExchange),f.yb(1),f.ec("state",o.state)("form",o.exchangeForm)("wallet",o.fromWallet)}}function ExchangePage_ng_container_13_Template(t,e){if(1&t){var n=f.Pb();f.Mb(0),f.Ob(1,"ion-fab",27),f.Ob(2,"ion-button",28),f.Wb("click",function ExchangePage_ng_container_13_Template_ion_button_click_2_listener(){return f.mc(n),f.Yb().startExchange()}),f.vc(3),f.Zb(4,"translate"),f.Nb(),f.Nb(),f.Lb()}if(2&t){var o=f.Yb();f.yb(2),f.ec("disabled",(null==o.amount?null:o.amount.isNaN())||(null==o.amount?null:o.amount.isZero())||(null==o.amount?null:o.amount.isLessThan(o.minExchangeAmount))||(null==o.amount?null:o.amount.isGreaterThan(o.fromWallet.currentBalance.shiftedBy(-1*o.fromWallet.protocol.decimals)))||o.currentlyNotSupported),f.yb(1),f.xc(" ",f.ac(4,2,"exchange.exchange_label")," ")}}var E=function(t){return t[t.LOADING=0]="LOADING",t[t.ONBOARDING=1]="ONBOARDING",t[t.NOT_ENOUGH_CURRENCIES=2]="NOT_ENOUGH_CURRENCIES",t[t.EXCHANGE=3]="EXCHANGE",t}({}),M=function(){function ExchangePage(t,e,n,o,i,r,c,s,l,b,u,g,d,p){var _=this;this.formBuilder=t,this.router=e,this.exchangeProvider=n,this.storageProvider=o,this.accountProvider=i,this.dataService=r,this.loadingController=c,this.translateService=s,this.modalController=l,this.alertCtrl=b,this.priceService=u,this.operationsProvider=g,this.protocolService=d,this._ngZone=p,this.supportedProtocolsFrom=[],this.supportedProtocolsTo=[],this.currentlyNotSupported=!1,this.minExchangeAmount=new a.BigNumber(0),this.amount=new a.BigNumber(0),this.disableExchangeSelection=!1,this.isSubstrate=!1,this.exchangePageStates=E,this.exchangePageState=E.LOADING,this._state=void 0,this.state$=new h.a(this._state),this.exchangeProvider.getActiveExchange().subscribe(function(t){_.activeExchange=t})}return Object.defineProperty(ExchangePage.prototype,"isTZBTCExchange",{get:function(){return void 0!==this.selectedFromProtocol&&this.selectedFromProtocol.identifier===i.SubProtocolSymbols.XTZ_BTC||void 0!==this.selectedToProtocol&&this.selectedToProtocol.identifier===i.SubProtocolSymbols.XTZ_BTC},enumerable:!1,configurable:!0}),ExchangePage.prototype.ionViewWillEnter=function(){var t=this;this.exchangeForm=this.formBuilder.group({feeLevel:[0,[p.m.required]],fee:[0,p.m.compose([p.m.required])],isAdvancedMode:[!1,[]]}),this.setup().then(function(){t.initState().then(function(){return Object(o.b)(t,void 0,void 0,function(){return Object(o.e)(this,function(t){return this.onChanges(),this.updateFeeEstimate(),[2]})})}).catch(function(t){return console.error(t)})}).catch(function(){return t.showLoadingErrorAlert()})},ExchangePage.prototype.initState=function(){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(t){return this._state={feeDefaults:this.selectedFromProtocol.feeDefaults,disableAdvancedMode:this.isSubstrate,feeCurrentMarketPrice:null,disableFeeSlider:!0,disableExchangeButton:!0,estimatingFeeDefaults:!1,feeLevel:{value:this.exchangeForm.controls.feeLevel.value,dirty:!1},fee:{value:this.exchangeForm.controls.fee.value,dirty:!1},isAdvancedMode:{value:this.exchangeForm.controls.isAdvancedMode.value,dirty:!1}},this.state=this._state,this.updateState(this.state),[2]})})},ExchangePage.prototype.updateTransactionForm=function(t){var e=this,n=this.exchangeForm.value,o={};Object.keys(n).forEach(function(e){e in t&&!t[e].dirty&&t[e].value!==n[e]&&(o[e]=t[e].value)}),this._ngZone.run(function(){e.exchangeForm.patchValue(o,{emitEvent:!1}),Object.keys(o).forEach(function(t){e.exchangeForm.controls[t].markAsDirty()})})},ExchangePage.prototype.onStateUpdated=function(t){this.state=t,this.updateTransactionForm({fee:this.state.fee,feeLevel:this.state.feeLevel,isAdvancedMode:this.state.isAdvancedMode})},ExchangePage.prototype.onChanges=function(){var t=this;this.state$.pipe(Object(m.a)(200)).subscribe(function(e){t.onStateUpdated(e)}),this.exchangeForm.get("fee").valueChanges.pipe(Object(m.a)(500)).subscribe(function(e){var n=new a.BigNumber(e);t.updateState({fee:{value:n.isNaN()?"":n.toFixed(),dirty:!0}})}),this.exchangeForm.get("feeLevel").valueChanges.subscribe(function(e){var n=new a.BigNumber(t.getFeeFromLevel(e));t.updateState({fee:{value:n.toFixed(),dirty:!1},feeLevel:{value:e,dirty:!0},disableExchangeButton:t.exchangeForm.invalid||t.amount.lte(0)},!1)}),this.exchangeForm.get("isAdvancedMode").valueChanges.subscribe(function(e){t.updateState({isAdvancedMode:{value:e,dirty:!0},disableExchangeButton:t.exchangeForm.invalid||new a.BigNumber(t.amount).lte(0)},!1)})},ExchangePage.prototype.updateFeeEstimate=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n;return Object(o.e)(this,function(o){switch(o.label){case 0:return this._state?(t=void 0,this.selectedFromProtocol.identifier.startsWith(i.SubProtocolSymbols.ETH_ERC20)?(t=this.priceService.getCurrentMarketPrice(new i.EthereumProtocol,"USD").then(function(t){return t.toNumber()}),[3,3]):[3,1]):[3,5];case 1:return[4,this.priceService.getCurrentMarketPrice(this.selectedFromProtocol,"USD")];case 2:t=o.sent().toNumber(),o.label=3;case 3:return this.updateState({feeCurrentMarketPrice:t}),this.updateState({estimatingFeeDefaults:!0,disableFeeSlider:!0,disableExchangeButton:!0}),[4,this.estimateFees().catch(function(){})];case 4:e=o.sent(),n=e&&!this.isSubstrate?1:this._state.feeLevel.value,this.updateState({estimatingFeeDefaults:!1,feeDefaults:e,fee:{value:new a.BigNumber(this.getFeeFromLevel(n,e)).toFixed(),dirty:!1},feeLevel:{value:n,dirty:!1},disableFeeSlider:!e,disableExchangeButton:!e||this.exchangeForm.invalid||this.amount.lte(0)}),o.label=5;case 5:return[2]}})})},ExchangePage.prototype.estimateFees=function(){return Object(o.b)(this,void 0,void 0,function(){var t;return Object(o.e)(this,function(e){return[2,!(t=this.amount.shiftedBy(this.selectedFromProtocol.decimals)).isNaN()&&t.gt(0)?this.operationsProvider.estimateFees(this.fromWallet,this.fromWallet.addresses[0],t):void 0]})})},ExchangePage.prototype.getFeeFromLevel=function(t,e){var n=e||this._state.feeDefaults;switch(t){case 0:return n.low;case 1:return n.medium;case 2:return n.high;default:return n.medium}},ExchangePage.prototype.filterSupportedProtocols=function(t,e){return void 0===e&&(e=!0),Object(o.b)(this,void 0,void 0,function(){var n,a,r;return Object(o.e)(this,function(o){return n=this.accountProvider.getWalletList(),a=t.filter(function(t){return n.some(function(n){return n.protocol.identifier===t&&(!e||e&&n.currentBalance.isGreaterThan(0))})}),-1===(r=a.indexOf(i.SubProtocolSymbols.XTZ_BTC))||n.some(function(t){return t.protocol.identifier===i.MainProtocolSymbols.BTC})||a.splice(r,1),[2,a]})})},ExchangePage.prototype.setup=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n;return Object(o.e)(this,function(o){switch(o.label){case 0:return[4,this.getSupportedFromProtocols()];case 1:if(0===(t=o.sent()).length)throw this.supportedProtocolsFrom=[],this.supportedProtocolsTo=[],this.selectedFromProtocol=void 0,this.selectedToProtocol=void 0,this.exchangePageState=E.NOT_ENOUGH_CURRENCIES,new Error("could not set up exchange");return this.supportedProtocolsFrom=t,e=void 0!==this.selectedFromProtocol&&this.supportedProtocolsFrom.includes(this.selectedFromProtocol.identifier)?this.selectedFromProtocol.identifier:t[0],n=this.setFromProtocol,[4,this.protocolService.getProtocol(e)];case 2:return[4,n.apply(this,[o.sent()])];case 3:return o.sent(),this.exchangePageState!==E.LOADING?[3,5]:[4,this.storageProvider.get(u.a.EXCHANGE_INTEGRATION)];case 4:if(!o.sent())return this.exchangePageState=E.ONBOARDING,[2];o.label=5;case 5:return this.supportedProtocolsFrom.length>0&&this.supportedProtocolsTo.length>0&&(this.exchangePageState=E.EXCHANGE),[2]}})})},ExchangePage.prototype.showLoadingErrorAlert=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n=this;return Object(o.e)(this,function(o){return t=this.activeExchange,this.exchangeProvider.switchActiveExchange(),e=this.activeExchange,this.setup().then(function(){return n.switchExchange(t,e)}).catch(function(){return n.displaySetupFail()}),[2]})})},ExchangePage.prototype.switchExchange=function(t,e){return Object(o.b)(this,void 0,void 0,function(){var n;return Object(o.e)(this,function(o){switch(o.label){case 0:return[4,this.alertCtrl.create({header:this.translateService.instant("exchange.loading.setup"),message:t+" could currently not be loaded, switched to "+e,backdropDismiss:!1,buttons:[{text:"ok",role:"cancel"}]})];case 1:return n=o.sent(),this.disableExchangeSelection=!0,n.present().catch(Object(b.b)(b.a.IONIC_ALERT)),[2]}})})},ExchangePage.prototype.displaySetupFail=function(){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(t){switch(t.label){case 0:return[4,this.alertCtrl.create({header:this.translateService.instant("exchange.loading.setup"),message:this.translateService.instant("exchange.loading.message"),backdropDismiss:!1,buttons:[{text:"ok",role:"cancel"}]})];case 1:return t.sent().present().catch(Object(b.b)(b.a.IONIC_ALERT)),[2]}})})},ExchangePage.prototype.getSupportedFromProtocols=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n=this;return Object(o.e)(this,function(a){switch(a.label){case 0:return[4,this.exchangeProvider.getAvailableFromCurrencies()];case 1:return(t=a.sent()).push(i.SubProtocolSymbols.XTZ_BTC),[4,this.filterSupportedProtocols(t)];case 2:return e=a.sent(),[4,Promise.all(e.map(function(t){return Object(o.b)(n,void 0,void 0,function(){return Object(o.e)(this,function(e){switch(e.label){case 0:return t===i.SubProtocolSymbols.XTZ_BTC?[2,t]:[4,this.exchangeProvider.getAvailableToCurrenciesForCurrency(t)];case 1:return[2,e.sent().length>0?t:void 0]}})})}))];case 3:return[2,a.sent().filter(function(t){return void 0!==t})]}})})},ExchangePage.prototype.getSupportedToProtocols=function(t){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.e)(this,function(n){switch(n.label){case 0:return t===i.SubProtocolSymbols.XTZ_BTC?[2,this.filterSupportedProtocols([i.MainProtocolSymbols.BTC],!1)]:[4,this.exchangeProvider.getAvailableToCurrenciesForCurrency(t)];case 1:return e=n.sent(),t===i.MainProtocolSymbols.BTC&&e.push(i.SubProtocolSymbols.XTZ_BTC),[2,this.filterSupportedProtocols(e,!1)]}})})},ExchangePage.prototype.setFromProtocol=function(t){return Object(o.b)(this,void 0,void 0,function(){var e,n;return Object(o.e)(this,function(o){switch(o.label){case 0:return this.selectedFromProtocol=t,e=this,[4,this.getSupportedToProtocols(t.identifier)];case 1:return e.supportedProtocolsTo=o.sent(),0===this.supportedProtocolsTo.length?(this.supportedProtocolsFrom=[],this.supportedProtocolsTo=[],this.selectedFromProtocol=void 0,this.selectedToProtocol=void 0,this.exchangePageState=E.NOT_ENOUGH_CURRENCIES,[2]):void 0!==this.selectedToProtocol&&this.selectedFromProtocol.identifier!==this.selectedToProtocol.identifier&&this.supportedProtocolsTo.includes(this.selectedToProtocol.identifier)?[3,3]:[4,this.protocolService.getProtocol(this.supportedProtocolsTo[0])];case 2:n=o.sent(),this.selectedToProtocol=n,this.loadWalletsForSelectedToProtocol(),o.label=3;case 3:return this.loadWalletsForSelectedFromProtocol(),this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),this.updateFeeEstimate(),[2]}})})},ExchangePage.prototype.setToProtocol=function(t){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(e){return this.selectedToProtocol=t,this.loadWalletsForSelectedToProtocol(),this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),[2]})})},ExchangePage.prototype.loadWalletsForSelectedFromProtocol=function(){this.supportedFromWallets=this.walletsForProtocol(this.selectedFromProtocol.identifier,!0),this.shouldReplaceActiveWallet(this.fromWallet,this.supportedFromWallets)&&(this.fromWallet=this.supportedFromWallets[0])},ExchangePage.prototype.loadWalletsForSelectedToProtocol=function(){this.supportedToWallets=this.walletsForProtocol(this.selectedToProtocol.identifier,!1),this.toWallet=this.supportedToWallets[0],this.shouldReplaceActiveWallet(this.toWallet,this.supportedToWallets)&&(this.toWallet=this.supportedToWallets[0])},ExchangePage.prototype.walletsForProtocol=function(t,e){return void 0===e&&(e=!0),this.accountProvider.getWalletList().filter(function(n){return n.protocol.identifier===t&&n.protocol.options.network.type===d.NetworkType.MAINNET&&(!e||n.currentBalance.isGreaterThan(0))})},ExchangePage.prototype.shouldReplaceActiveWallet=function(t,e){var n=this;return!t||t.protocol.identifier!==e[0].protocol.identifier||e.every(function(e){return!n.accountProvider.isSameWallet(e,t)})},ExchangePage.prototype.setFromWallet=function(t){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(e){return this.fromWallet=t,this.isSubstrate=this.fromWallet.protocol.identifier===i.MainProtocolSymbols.KUSAMA||this.selectedFromProtocol.identifier===i.MainProtocolSymbols.POLKADOT,this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),[2]})})},ExchangePage.prototype.setToWallet=function(t){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(e){return this.toWallet=t,this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),[2]})})},ExchangePage.prototype.amountSet=function(t){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(e){return this.amount=new a.BigNumber(t),this.updateFeeEstimate(),this.loadDataFromExchange(),[2]})})},ExchangePage.prototype.loadDataFromExchange=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n;return Object(o.e)(this,function(o){switch(o.label){case 0:this.currentlyNotSupported=!1,o.label=1;case 1:return o.trys.push([1,7,,8]),this.fromWallet&&this.toWallet?(t=this,[4,this.getMinAmountForCurrency()]):[3,3];case 2:t.minExchangeAmount=o.sent(),o.label=3;case 3:return this.fromWallet&&this.toWallet&&this.amount.isGreaterThan(0)?(e=this,n=a.BigNumber.bind,[4,this.getExchangeAmount()]):[3,5];case 4:return e.exchangeAmount=new(n.apply(a.BigNumber,[void 0,o.sent()])),[3,6];case 5:this.exchangeAmount=new a.BigNumber(0),o.label=6;case 6:return[3,8];case 7:return o.sent(),this.currentlyNotSupported=!0,[3,8];case 8:return[2]}})})},ExchangePage.prototype.getMinAmountForCurrency=function(){return Object(o.b)(this,void 0,void 0,function(){var t;return Object(o.e)(this,function(e){switch(e.label){case 0:return this.isTZBTCExchange?[2,new a.BigNumber(0)]:(t=a.BigNumber.bind,[4,this.exchangeProvider.getMinAmountForCurrency(this.fromWallet.protocol.identifier,this.toWallet.protocol.identifier)]);case 1:return[2,new(t.apply(a.BigNumber,[void 0,e.sent()]))]}})})},ExchangePage.prototype.getExchangeAmount=function(){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(t){switch(t.label){case 0:return this.isTZBTCExchange?[2,this.amount.toFixed()]:[4,this.exchangeProvider.getExchangeAmount(this.fromWallet.protocol.identifier,this.toWallet.protocol.identifier,this.amount.toString())];case 1:return[2,t.sent()]}})})},ExchangePage.prototype.startExchange=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n,i,r,c,l,u,g,d;return Object(o.e)(this,function(o){switch(o.label){case 0:return this.isTZBTCExchange?(this.router.navigateByUrl("/exchange-custom").catch(Object(b.b)(b.a.STORAGE)),[3,10]):[3,1];case 1:return[4,this.getAndShowLoader()];case 2:t=o.sent(),o.label=3;case 3:return o.trys.push([3,8,9,10]),[4,this.exchangeProvider.createTransaction(this.fromWallet.protocol.identifier,this.toWallet.protocol.identifier,this.toWallet.receivingPublicAddress,this.amount.toString(),this.fromWallet.receivingPublicAddress)];case 4:return e=o.sent(),[4,this.getExchangeAmount()];case 5:return n=o.sent(),i=e.amountExpectedFrom?new a.BigNumber(e.amountExpectedFrom):this.amount,[4,this.operationsProvider.estimateFees(this.fromWallet,e.payinAddress,i.shiftedBy(this.fromWallet.protocol.decimals))];case 6:return r=o.sent(),c={fromWallet:this.fromWallet,fromCurrency:this.fromWallet.protocol.marketSymbol,toWallet:this.toWallet,toCurrency:this.exchangeProvider.convertAirGapIdentifierToExchangeIdentifier([this.toWallet.protocol.identifier])[0],exchangeResult:e,amountExpectedFrom:this.amount.toString(),amountExpectedTo:n,fee:this.state.fee.value,memo:e.payinExtraId?e.payinExtraId:void 0},this.dataService.setData(s.b.EXCHANGE,c),this.router.navigateByUrl("/exchange-confirm/"+s.b.EXCHANGE).catch(Object(b.b)(b.a.STORAGE)),l=e.id,[4,this.exchangeProvider.getStatus(l)];case 7:return u=o.sent().status,g={receivingAddress:this.toWallet.addresses[0],sendingAddress:this.fromWallet.addresses[0],fromCurrency:this.fromWallet.protocol.identifier,toCurrency:this.toWallet.protocol.identifier,amountExpectedFrom:this.amount,amountExpectedTo:n.toString(),fee:r.medium,status:u,exchange:this.activeExchange,id:l,timestamp:new a.BigNumber(Date.now()).toNumber()},this.exchangeProvider.pushExchangeTransaction(g),[3,10];case 8:return d=o.sent(),console.error(d),[3,10];case 9:return this.hideLoader(t),[7];case 10:return[2]}})})},ExchangePage.prototype.doRadio=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e=this;return Object(o.e)(this,function(n){switch(n.label){case 0:return[4,this.modalController.create({component:g.a,componentProps:{activeExchange:this.activeExchange}})];case 1:return(t=n.sent()).present().catch(function(t){return console.error(t)}),t.onDidDismiss().then(function(){return Object(o.b)(e,void 0,void 0,function(){return Object(o.e)(this,function(t){switch(t.label){case 0:return[4,this.setup()];case 1:return t.sent(),[2]}})})}).catch(Object(b.b)(b.a.IONIC_MODAL)),[2]}})})},ExchangePage.prototype.dismissExchangeOnboarding=function(){this.setup(),this.storageProvider.set(u.a.EXCHANGE_INTEGRATION,!0).catch(Object(b.b)(b.a.STORAGE))},ExchangePage.prototype.goToAddCoinPage=function(){this.router.navigateByUrl("/account-add")},ExchangePage.prototype.getAndShowLoader=function(){return Object(o.b)(this,void 0,void 0,function(){var t;return Object(o.e)(this,function(e){switch(e.label){case 0:return[4,this.loadingController.create({message:"Preparing transaction..."})];case 1:return[4,(t=e.sent()).present().catch(Object(b.b)(b.a.IONIC_LOADER))];case 2:return e.sent(),[2,t]}})})},ExchangePage.prototype.hideLoader=function(t){t.dismiss().catch(Object(b.b)(b.a.IONIC_LOADER))},ExchangePage.prototype.updateState=function(t,e){void 0===e&&(e=!0),this._state=this.reduceState(this._state,t),e?this.state$.next(this._state):this.onStateUpdated(this._state)},ExchangePage.prototype.reduceState=function(t,e){return{feeDefaults:e.feeDefaults||t.feeDefaults,feeCurrentMarketPrice:void 0!==e.feeCurrentMarketPrice?e.feeCurrentMarketPrice:t.feeCurrentMarketPrice,disableAdvancedMode:this.isSubstrate||(void 0!==e.disableAdvancedMode?e.disableAdvancedMode:t.disableAdvancedMode),disableFeeSlider:this.isSubstrate||(void 0!==e.disableFeeSlider?e.disableFeeSlider:t.disableFeeSlider),disableExchangeButton:void 0!==e.disableExchangeButton?e.disableExchangeButton:t.disableExchangeButton,estimatingFeeDefaults:void 0!==e.estimatingFeeDefaults?e.estimatingFeeDefaults:t.estimatingFeeDefaults,feeLevel:e.feeLevel||t.feeLevel,fee:e.fee||t.fee,isAdvancedMode:e.isAdvancedMode||t.isAdvancedMode}},ExchangePage.\u0275fac=function ExchangePage_Factory(t){return new(t||ExchangePage)(f.Jb(p.b),f.Jb(P.g),f.Jb(l.a),f.Jb(u.b),f.Jb(c.a),f.Jb(s.a),f.Jb(v.kb),f.Jb(O.d),f.Jb(v.lb),f.Jb(v.a),f.Jb(_.a),f.Jb(r.a),f.Jb(y.x),f.Jb(f.A))},ExchangePage.\u0275cmp=f.Db({type:ExchangePage,selectors:[["page-exchange"]],decls:14,vars:7,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],[4,"ngIf"],[1,"onboarding__container","ion-padding"],["size","12"],[1,"ion-no-margin",3,"innerHTML"],[1,"content--align__center-center","ion-no-padding"],["src","./assets/img/token_swap.svg"],[1,"ion-no-margin","ion-padding-bottom"],["shape","round","color","primary","expand","full",3,"click"],[3,"selectedWallet","supportedWallets","selectedProtocol","supportedProtocols","exchangeAmount","minExchangeAmount","currentlyNotSupported","protocolSetEmitter","walletSetEmitter","amountSetEmitter"],[3,"selectedWallet","supportedWallets","selectedProtocol","supportedProtocols","exchangeAmount","swapSell","protocolSetEmitter","walletSetEmitter"],[1,"divider--line"],["class","powered__container ion-padding ion-align-items-center ",4,"ngIf"],[3,"state","form","wallet"],[1,"powered__container","ion-padding","ion-align-items-center"],[1,"ion-no-padding"],[1,"powered__container","ion-align-items-center"],["color","blackLight"],["src","./assets/img/changenow_logo.svg",4,"ngIf"],["src","./assets/img/changelly_logo.svg",4,"ngIf"],[1,"ion-no-padding","justify--content__end"],["fill","clear","color","secondary","size","small",3,"disabled","click"],["name","chevron-down-outline"],["src","./assets/img/changenow_logo.svg"],["src","./assets/img/changelly_logo.svg"],["vertical","bottom","horizontal","end"],["color","primary","shape","round",3,"disabled","click"]],template:function ExchangePage_Template(t,e){1&t&&(f.Ob(0,"ion-header",0),f.Ob(1,"ion-grid",1),f.Ob(2,"ion-toolbar"),f.Ob(3,"ion-buttons",2),f.Kb(4,"ion-menu-button"),f.Nb(),f.Ob(5,"ion-title"),f.vc(6),f.Zb(7,"translate"),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Ob(8,"ion-content"),f.Ob(9,"ion-grid",1),f.tc(10,ExchangePage_ng_container_10_Template,13,9,"ng-container",3),f.tc(11,ExchangePage_ng_container_11_Template,13,9,"ng-container",3),f.tc(12,ExchangePage_ng_container_12_Template,6,17,"ng-container",3),f.Nb(),f.Nb(),f.tc(13,ExchangePage_ng_container_13_Template,5,4,"ng-container",3)),2&t&&(f.yb(6),f.wc(f.ac(7,5,"exchange.title")),f.yb(4),f.ec("ngIf",e.exchangePageState===e.exchangePageStates.ONBOARDING),f.yb(1),f.ec("ngIf",e.exchangePageState===e.exchangePageStates.NOT_ENOUGH_CURRENCIES),f.yb(1),f.ec("ngIf",e.exchangePageState===e.exchangePageStates.EXCHANGE),f.yb(1),f.ec("ngIf",e.exchangePageState===e.exchangePageStates.EXCHANGE))},directives:[v.v,v.u,v.hb,v.j,v.I,v.fb,v.q,w.n,v.R,v.p,v.i,C,N.a,v.db,v.w,v.r],pipes:[O.c],styles:[".onboarding__container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50vh;height:50vh}.divider--line[_ngcontent-%COMP%]{border-top:1px solid rgba(var(--ion-color-primary-rgb),.24)}.powered__container[_ngcontent-%COMP%]{padding-bottom:8px}.powered__container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:24px;margin-left:8px}ion-content[_ngcontent-%COMP%]{--padding-bottom:108px}"]}),ExchangePage}()},XvSo:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var o=n("mrSG"),i=n("138U"),a=n("wTY4"),r=n("hPkG"),c=n("AffV"),s=n("fXoL"),l=n("TEn/"),b=n("ofXK"),u=n("IyRd"),g=n("sYmb"),d=["scanner"];function ScanPage_ion_title_9_Template(t,e){if(1&t&&(s.Ob(0,"ion-title",19),s.vc(1),s.Nb()),2&t){var n=s.Yb();s.yb(1),s.yc("",n.numberOfQrsScanned,"/",n.numberOfQrsTotal,"")}}function ScanPage_ng_container_14_Template(t,e){1&t&&(s.Mb(0),s.vc(1),s.Zb(2,"translate"),s.Lb()),2&t&&(s.yb(1),s.xc(" ",s.ac(2,1,"scan.text")," "))}function ScanPage_ng_container_15_Template(t,e){1&t&&(s.Mb(0),s.vc(1),s.Zb(2,"translate"),s.Lb()),2&t&&(s.yb(1),s.xc(" ",s.ac(2,1,"scan.multi-qr_text")," "))}function ScanPage_ion_progress_bar_16_Template(t,e){if(1&t&&s.Kb(0,"ion-progress-bar",20),2&t){var n=s.Yb();s.ec("value",n.percentageScanned)}}function ScanPage_zxing_scanner_20_Template(t,e){if(1&t){var n=s.Pb();s.Ob(0,"zxing-scanner",21,22),s.Wb("scanSuccess",function ScanPage_zxing_scanner_20_Template_zxing_scanner_scanSuccess_0_listener(t){return s.mc(n),s.Yb().checkScan(t)}),s.Nb()}}var p=function(t){function ScanPage(e,n,o,i,a){var r=t.call(this,e,n,o)||this;return r.platform=e,r.scanner=n,r.permissionsProvider=o,r.iacService=i,r.ngZone=a,r.percentageScanned=0,r.numberOfQrsScanned=0,r.numberOfQrsTotal=0,r.parts=new Set,r.isMultiQr=!1,r}return Object(o.d)(ScanPage,t),ScanPage.prototype.ionViewWillEnter=function(){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(e){switch(e.label){case 0:return[4,t.prototype.ionViewWillEnter.call(this)];case 1:return e.sent(),this.resetScannerPage(),[2]}})})},ScanPage.prototype.resetScannerPage=function(){this.parts=new Set,this.percentageScanned=0,this.isMultiQr=!1},ScanPage.prototype.checkScan=function(t){return Object(o.b)(this,void 0,void 0,function(){var e,n=this;return Object(o.e)(this,function(o){return e=this.parts.size,this.parts.add(t),e===this.parts.size?(console.log("[SCAN:checkScan]: Already scanned string skipping "+t),this.startScan(),[2]):(console.log("[SCAN:checkScan]: Trying to decode string "+t),this.ngZone.run(function(){n.iacService.handleRequest(Array.from(n.parts),i.q.QR_SCANNER,function(t){console.log("scan result",t);var e=t;t&&e.availablePages&&(n.isMultiQr=!0,n.numberOfQrsScanned=e.availablePages.length,n.numberOfQrsTotal=e.totalPages,n.percentageScanned=Math.max(0,Math.min(1,e.availablePages.length/e.totalPages))),n.startScan()}).then(function(t){t===i.o.SUCCESS&&n.resetScannerPage()}).catch(Object(r.b)(r.a.SCHEME_ROUTING))}),[2])})})},ScanPage.\u0275fac=function ScanPage_Factory(t){return new(t||ScanPage)(s.Jb(l.pb),s.Jb(i.z),s.Jb(i.w),s.Jb(a.a),s.Jb(s.A))},ScanPage.\u0275cmp=s.Db({type:ScanPage,selectors:[["page-scan"]],viewQuery:function ScanPage_Query(t,e){var n;1&t&&s.Ac(d,!0),2&t&&s.kc(n=s.Xb())&&(e.zxingScanner=n.first)},features:[s.vb],decls:29,vars:18,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],["slot","end",4,"ngIf"],["forceOverscroll","false"],["color","secondary"],[1,"ion-padding","ion-no-margin"],[4,"ngIf"],["style","height: 8px","color","secondary",3,"value",4,"ngIf"],[1,"row--height__100","ion-justify-content-center","ion-align-items-center",3,"hidden"],[1,"guides--container","content--align__center-center"],["src","./assets/img/qr_code_guides.svg",1,"guides--container__img"],[3,"scanSuccess",4,"ngIf"],[1,"row--height__100","ion-justify-content-center","ion-align-items-center",3,"hidden","click"],[1,"ion-text-center"],["src","./assets/img/permission_onboarding_camera.svg"],[1,"ion-padding-horizontal",3,"innerHTML"],["shape","round","color","primary"],["slot","end"],["color","secondary",2,"height","8px",3,"value"],[3,"scanSuccess"],["scanner",""]],template:function ScanPage_Template(t,e){1&t&&(s.Ob(0,"ion-header",0),s.Ob(1,"ion-grid",1),s.Ob(2,"ion-toolbar"),s.Ob(3,"ion-buttons",2),s.Kb(4,"ion-menu-button"),s.Kb(5,"ion-back-button",3),s.Nb(),s.Ob(6,"ion-title"),s.vc(7),s.Zb(8,"translate"),s.Nb(),s.tc(9,ScanPage_ion_title_9_Template,2,2,"ion-title",4),s.Nb(),s.Nb(),s.Nb(),s.Ob(10,"ion-content",5),s.Ob(11,"ion-grid",1),s.Ob(12,"ion-text",6),s.Ob(13,"p",7),s.tc(14,ScanPage_ng_container_14_Template,3,3,"ng-container",8),s.tc(15,ScanPage_ng_container_15_Template,3,3,"ng-container",8),s.Nb(),s.Nb(),s.tc(16,ScanPage_ion_progress_bar_16_Template,1,1,"ion-progress-bar",9),s.Ob(17,"ion-row",10),s.Ob(18,"ion-col",11),s.Kb(19,"img",12),s.Nb(),s.tc(20,ScanPage_zxing_scanner_20_Template,2,0,"zxing-scanner",13),s.Nb(),s.Ob(21,"ion-row",14),s.Wb("click",function ScanPage_Template_ion_row_click_21_listener(){return e.requestPermission()}),s.Ob(22,"ion-col",15),s.Kb(23,"img",16),s.Kb(24,"h3",17),s.Zb(25,"translate"),s.Ob(26,"ion-button",18),s.vc(27),s.Zb(28,"translate"),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&t&&(s.yb(7),s.wc(s.ac(8,12,"scan.title")),s.yb(2),s.ec("ngIf",e.isMultiQr),s.yb(1),s.Bb("transparent",e.hasCameraPermission),s.yb(4),s.ec("ngIf",!e.isMultiQr),s.yb(1),s.ec("ngIf",e.isMultiQr),s.yb(1),s.ec("ngIf",e.isMultiQr),s.yb(1),s.ec("hidden",!e.hasCameraPermission),s.yb(3),s.ec("ngIf",e.isBrowser||e.isElectron),s.yb(1),s.ec("hidden",e.hasCameraPermission),s.yb(3),s.ec("innerHTML",s.ac(25,14,"scan.empty-state_heading"),s.nc),s.yb(3),s.wc(s.ac(28,16,"scan.grant-permission_label")))},directives:[l.v,l.u,l.hb,l.j,l.I,l.f,l.g,l.fb,b.n,l.q,l.db,l.R,l.p,l.i,l.K,u.a],pipes:[g.c],styles:["[_ngcontent-%COMP%]:root{--ion-color-primary:#00e8cc;--ion-color-primary-rgb:0,232,204;--ion-color-primary-contrast:#311b58;--ion-color-primary-contrast-rgb:49,27,88;--ion-color-primary-shade:#00ccb4;--ion-color-primary-tint:#1aead1;--ion-color-secondary:#311b58;--ion-color-secondary-rgb:49,27,88;--ion-color-secondary-contrast:#00e8cc;--ion-color-secondary-contrast-rgb:0,232,204;--ion-color-secondary-shade:#2b184d;--ion-color-secondary-tint:#463269;--ion-color-tertiary:#7044ff;--ion-color-tertiary-rgb:112,68,255;--ion-color-tertiary-contrast:#fff;--ion-color-tertiary-contrast-rgb:255,255,255;--ion-color-tertiary-shade:#633ce0;--ion-color-tertiary-tint:#7e57ff;--ion-color-success:#10dc60;--ion-color-success-rgb:16,220,96;--ion-color-success-contrast:#fff;--ion-color-success-contrast-rgb:255,255,255;--ion-color-success-shade:#0ec254;--ion-color-success-tint:#28e070;--ion-color-warning:#ffce00;--ion-color-warning-rgb:255,206,0;--ion-color-warning-contrast:#fff;--ion-color-warning-contrast-rgb:255,255,255;--ion-color-warning-shade:#e0b500;--ion-color-warning-tint:#ffd31a;--ion-color-danger:#f04141;--ion-color-danger-rgb:245,61,61;--ion-color-danger-contrast:#fff;--ion-color-danger-contrast-rgb:255,255,255;--ion-color-danger-shade:#d33939;--ion-color-danger-tint:#f25454;--ion-color-dark:#222428;--ion-color-dark-rgb:34,34,34;--ion-color-dark-contrast:#fff;--ion-color-dark-contrast-rgb:255,255,255;--ion-color-dark-shade:#1e2023;--ion-color-dark-tint:#383a3e;--ion-color-medium:#989aa2;--ion-color-medium-rgb:152,154,162;--ion-color-medium-contrast:#fff;--ion-color-medium-contrast-rgb:255,255,255;--ion-color-medium-shade:#86888f;--ion-color-medium-tint:#a2a4ab;--ion-color-light:#f4f4f4;--ion-color-light-rgb:244,244,244;--ion-color-light-contrast:#000;--ion-color-light-contrast-rgb:0,0,0;--ion-color-light-shade:#d7d8da;--ion-color-light-tint:#f5f6f9;--ion-color-secondaryLight:#440094;--ion-color-secondaryLight-rgb:68,0,148;--ion-color-secondaryLight-contrast:#fff;--ion-color-secondaryLight-contrast-rgb:255,255,255;--ion-color-secondaryLight-shade:#3c0082;--ion-color-secondaryLight-tint:#571a9f;--ion-color-gray:#d3d3d3;--ion-color-gray-rgb:211,211,211;--ion-color-gray-contrast:#000;--ion-color-gray-contrast-rgb:255,255,255;--ion-color-gray-shade:#bababa;--ion-color-gray-tint:#d7d7d7;--ion-color-grayLight:#f4f4f4;--ion-color-grayLight-rgb:244,244,244;--ion-color-grayLight-contrast:#000;--ion-color-grayLight-contrast-rgb:255,255,255;--ion-color-grayLight-shade:#d7d7d7;--ion-color-grayLight-tint:#f5f5f5}[_ngcontent-%COMP%]:root   ion-back-button[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   ion-title[_ngcontent-%COMP%]{--color:var(--ion-color-secondary)}[_ngcontent-%COMP%]:root   ion-back-button[_ngcontent-%COMP%]{--icon-margin-end:0}[_ngcontent-%COMP%]:root   ion-button[_ngcontent-%COMP%]{--border-width:1px;--padding-start:1.5rem;--padding-end:1.5rem}[_ngcontent-%COMP%]:root   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start:0.5rem;--padding-end:0.5rem}[_ngcontent-%COMP%]:root   ion-alert[_ngcontent-%COMP%]{--max-width:calc(100% - 32px)}[_ngcontent-%COMP%]:root   page-exchange[_ngcontent-%COMP%]   .button-small[_ngcontent-%COMP%]{--padding-start:0;--padding-end:0;margin:0}[_ngcontent-%COMP%]:root   ion-split-pane[_ngcontent-%COMP%]{--side-max-width:10vw}.ion-color-white[_ngcontent-%COMP%]{--ion-color-base:#fff;--ion-color-base-rgb:255,255,255;--ion-color-contrast:#000;--ion-color-contrast-rgb:0,0,0;--ion-color-shade:#e0e0e0;--ion-color-tint:#fff}.ion-color-black[_ngcontent-%COMP%]{--ion-color-base:#000;--ion-color-base-rgb:0,0,0;--ion-color-contrast:#000;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#5ca56c;--ion-color-tint:#78c288}.ion-color-whiteLight[_ngcontent-%COMP%]{--ion-color-base:#311b58;--ion-color-base-rgb:49,27,88;--ion-color-contrast:#fff;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#2b184d;--ion-color-tint:#463269}.ion-color-blackLight[_ngcontent-%COMP%]{--ion-color-base:rgba(0,0,0,0.54);--ion-color-base-rgb:49,27,88;--ion-color-contrast:#fff;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#5ca56c;--ion-color-tint:#78c288}.ion-color-grayLight[_ngcontent-%COMP%]{--ion-color-base:#f4f4f4;--ion-color-base-rgb:0,0,0;--ion-color-contrast:#000;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#5ca56c;--ion-color-tint:#78c288}ion-avatar[_ngcontent-%COMP%]{min-width:48px;min-height:48px}page-account-address[_ngcontent-%COMP%]   identicon[_ngcontent-%COMP%], page-account-address[_ngcontent-%COMP%]   identicon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], page-account-address[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:64px;height:64px}portfolio-item[_ngcontent-%COMP%]   div[slot=end][_ngcontent-%COMP%]{-webkit-margin-start:8px;margin-inline-start:8px}page-portfolio[_ngcontent-%COMP%]   portfolio-item[_ngcontent-%COMP%]   div[slot=end][_ngcontent-%COMP%]{-webkit-margin-end:0;margin-inline-end:0}.item__image[slot=start][_ngcontent-%COMP%]{margin:8px 16px 8px 0}ion-content[_ngcontent-%COMP%]{--background:none transparent}.transparent[_ngcontent-%COMP%]{background:none!important}p[_ngcontent-%COMP%]{background:var(--ion-color-primary)}.row--height__100[_ngcontent-%COMP%]{height:calc(100% - 48px)}.row--height__100[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:45vh}.guides--container[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}.guides--container[_ngcontent-%COMP%]   .guides--container__img[_ngcontent-%COMP%]{width:60%;max-width:400px;margin-top:3em;max-height:50%}ion-grid[_ngcontent-%COMP%]{height:100%}"]}),ScanPage}(c.a)},fOEu:function(t,e,n){"use strict";n.d(e,"a",function(){return E});var o=n("mrSG"),i=n("jtHE"),a=n("Cfvw"),r=n("cp0P"),c=n("onrW"),s=n("57MG"),l=n("1y+R"),b=n("nxqh"),u=n("hPkG"),g=n("kB5k"),d=n.n(g),p=n("fXoL"),h=n("tyNb"),_=n("138U"),m=n("TEn/"),f=n("ofXK"),P=n("wd/R"),v=n("wEhd"),O=n("xnpP"),y=n("DUVq"),w=n("LPYB"),x=["baseChart"];function ChartComponent_span_7_Template(t,e){1&t&&(p.Ob(0,"span"),p.vc(1,"+"),p.Nb())}var S=function(){function ChartComponent(t,e){var n=this;this.drawChartProvider=t,this.marketDataProvider=e,this.timeInterval=v.TimeInterval,this.currentChart=void 0,this.chartType="line",this.chartLabels=[],this.chartOptions={},this.chartColors=[],this.chartDatasets=[{data:[],label:"Price"}],this.chartOptions={layout:{padding:{left:0,right:0,top:0,bottom:0}},animation:{duration:1250},hover:{animationDuration:250},responsiveAnimationDuration:0,legend:{display:!1},responsive:!0,scaleFontColor:"white",type:"line",scales:{yAxes:[{display:!1,gridLines:{display:!1}}],xAxes:[{display:!1,gridLines:{display:!1}}]},elements:{point:{radius:1},line:{tension:0}},tooltips:{mode:"x-axis",intersect:!1,displayColors:!1,callbacks:{title:function(t){return P.unix(t[0].label).format("DD.MM.YYYY")},label:function(t){return Number(t.value)%1!=0?"$"+parseFloat(t.value).toFixed(2):t.value}}},annotation:{annotations:[{type:"line",mode:"vertical",scaleID:"x-axis-0",borderColor:"orange",borderWidth:2,label:{enabled:!0,fontColor:"orange",content:"LineAnno"}}]}},this.subscription=this.drawChartProvider.getChartObservable().subscribe(function(t){return Object(o.b)(n,void 0,void 0,function(){return Object(o.e)(this,function(e){return this.drawChart(t),[2]})})})}return ChartComponent.prototype.drawChart=function(t){return Object(o.b)(this,void 0,void 0,function(){var e=this;return Object(o.e)(this,function(n){return t===this.currentChart||(this.chartLabels=[],this.chartDatasets=[{data:[],label:"$"}],this.currentChart=t,this.marketDataProvider.fetchAllValues(this.currentChart).then(function(t){return Object(o.b)(e,void 0,void 0,function(){var e,n,i,a,r;return Object(o.e)(this,function(c){this.chartDatasets[0].data=t.map(function(t){return t.usdValue});try{for(e=Object(o.j)(t),n=e.next();!n.done;n=e.next())i=n.value,this.chartLabels.push(i.timestamp.toString())}catch(s){a={error:s}}finally{try{n&&!n.done&&(r=e.return)&&r.call(e)}finally{if(a)throw a.error}}return this.percentageChange=this.displayPercentageChange(t.map(function(t){return t.usdValue})),[2]})})})),[2]})})},ChartComponent.prototype.setLabel24h=function(){this.currentChart=v.TimeInterval.HOURS},ChartComponent.prototype.displayPercentageChange=function(t){var e=t.find(function(t){return t>0});if(void 0!==e){var n=(t.slice(-1)[0]-e)/e*100;return Number(parseFloat(String(Math.round(100*n)/100)).toFixed(2))}return 0},ChartComponent.prototype.ngAfterViewInit=function(){if(this.chartDatasets=[{data:[],label:"$"}],this.chartLabels=[],this.chart){var t=this.chart.ctx,e=t.createLinearGradient(0,10,0,0);e.addColorStop(0,"#26E8CD");var n=t.createLinearGradient(0,100,0,0);n.addColorStop(1,"rgba(38,232,205,0.34)"),n.addColorStop(0,"rgba(38,232,205,0.04) "),this.chartColors[0]={backgroundColor:n,borderColor:e,pointBackgroundColor:e,pointBorderColor:e,pointHoverBackgroundColor:e,pointHoverBorderColor:e}}},ChartComponent.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},ChartComponent.\u0275fac=function ChartComponent_Factory(t){return new(t||ChartComponent)(p.Jb(O.a),p.Jb(y.a))},ChartComponent.\u0275cmp=p.Db({type:ChartComponent,selectors:[["chart"]],viewQuery:function ChartComponent_Query(t,e){var n;1&t&&p.rc(x,!0),2&t&&p.kc(n=p.Xb())&&(e.chart=n.first)},inputs:{total:"total"},decls:20,vars:16,consts:[[1,"ion-padding-horizontal","ion-align-items-end","ion-justify-content-center"],[1,"ion-no-margin"],[3,"color"],[4,"ngIf"],["baseChart","","width","700","height","200px",3,"chartType","datasets","labels","colors","options","legend"],["baseChart","base-chart"],[1,"ion-padding-horizontal","ion-padding-bottom","ion-align-items-end","ion-justify-content-center"],["size","small","fill","clear",3,"color","click"]],template:function ChartComponent_Template(t,e){1&t&&(p.Ob(0,"ion-row",0),p.Ob(1,"h1",1),p.vc(2),p.Zb(3,"number"),p.Nb(),p.Nb(),p.Ob(4,"ion-row",0),p.Ob(5,"ion-text",2),p.Ob(6,"small"),p.tc(7,ChartComponent_span_7_Template,2,0,"span",3),p.Ob(8,"span"),p.vc(9),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Ob(10,"div"),p.Kb(11,"canvas",4,5),p.Nb(),p.Ob(13,"ion-row",6),p.Ob(14,"ion-button",7),p.Wb("click",function ChartComponent_Template_ion_button_click_14_listener(){return e.drawChart(e.timeInterval.HOURS)}),p.vc(15," 24h "),p.Nb(),p.Ob(16,"ion-button",7),p.Wb("click",function ChartComponent_Template_ion_button_click_16_listener(){return e.drawChart(e.timeInterval.DAYS)}),p.vc(17," 7d "),p.Nb(),p.Ob(18,"ion-button",7),p.Wb("click",function ChartComponent_Template_ion_button_click_18_listener(){return e.drawChart(e.timeInterval.MONTH)}),p.vc(19," 30d "),p.Nb(),p.Nb()),2&t&&(p.yb(2),p.xc("$",p.bc(3,13,e.total,"1.2-2"),""),p.yb(3),p.ec("color",e.percentageChange>=0?"primary":"danger"),p.yb(2),p.ec("ngIf",e.percentageChange>=0),p.yb(2),p.xc("",e.percentageChange,"%"),p.yb(2),p.ec("chartType",e.chartType)("datasets",e.chartDatasets)("labels",e.chartLabels)("colors",e.chartColors)("options",e.chartOptions)("legend",!1),p.yb(3),p.ec("color",e.currentChart!==e.timeInterval.HOURS&&e.chartDatasets[0].data.length>0?"primary":"secondary"),p.yb(2),p.ec("color",e.currentChart!==e.timeInterval.DAYS&&e.chartDatasets[0].data.length>0?"primary":"secondary"),p.yb(2),p.ec("color",e.currentChart!==e.timeInterval.MONTH&&e.chartDatasets[0].data.length>0?"primary":"secondary"))},directives:[m.R,m.db,f.n,w.a,m.i],pipes:[f.f],encapsulation:2}),ChartComponent}(),T=n("F07p"),C=n("1Mpf"),N=n("sYmb");function PortfolioPage_ng_container_6_chart_1_Template(t,e){if(1&t&&p.Kb(0,"chart",11),2&t){var n=p.Yb(2);p.ec("total",n.total)}}function PortfolioPage_ng_container_6_Template(t,e){if(1&t&&(p.Mb(0),p.tc(1,PortfolioPage_ng_container_6_chart_1_Template,1,1,"chart",10),p.Lb()),2&t){var n=e.ngIf;p.yb(1),p.ec("ngIf",n.length>0)}}function PortfolioPage_ng_container_10_ng_container_1_ion_list_1_portfolio_item_2_Template(t,e){if(1&t){var n=p.Pb();p.Ob(0,"portfolio-item",17),p.Wb("click",function PortfolioPage_ng_container_10_ng_container_1_ion_list_1_portfolio_item_2_Template_portfolio_item_click_0_listener(){p.mc(n);var t=p.Yb().$implicit;return p.Yb(3).openDetail(t.mainWallet)}),p.Nb()}if(2&t){var o=p.Yb().$implicit;p.ec("wallet",o.mainWallet)}}function PortfolioPage_ng_container_10_ng_container_1_ion_list_1_portfolio_item_3_Template(t,e){if(1&t){var n=p.Pb();p.Ob(0,"portfolio-item",18),p.Wb("click",function PortfolioPage_ng_container_10_ng_container_1_ion_list_1_portfolio_item_3_Template_portfolio_item_click_0_listener(){p.mc(n);var t=e.$implicit,o=p.Yb().$implicit;return p.Yb(3).openDetail(o.mainWallet,t)}),p.Nb()}if(2&t){var o=e.$implicit;p.ec("wallet",o)}}function PortfolioPage_ng_container_10_ng_container_1_ion_list_1_Template(t,e){if(1&t&&(p.Ob(0,"ion-list",14),p.Ob(1,"ion-card"),p.tc(2,PortfolioPage_ng_container_10_ng_container_1_ion_list_1_portfolio_item_2_Template,1,1,"portfolio-item",15),p.tc(3,PortfolioPage_ng_container_10_ng_container_1_ion_list_1_portfolio_item_3_Template,1,1,"portfolio-item",16),p.Nb(),p.Nb()),2&t){var n=e.$implicit;p.yb(2),p.ec("ngIf",n.mainWallet),p.yb(1),p.ec("ngForOf",n.subWallets)}}function PortfolioPage_ng_container_10_ng_container_1_Template(t,e){if(1&t&&(p.Mb(0),p.tc(1,PortfolioPage_ng_container_10_ng_container_1_ion_list_1_Template,4,2,"ion-list",13),p.Lb()),2&t){var n=p.Yb().ngIf;p.yb(1),p.ec("ngForOf",n)}}function PortfolioPage_ng_container_10_ng_template_2_empty_state_0_Template(t,e){1&t&&(p.Kb(0,"empty-state",20),p.Zb(1,"translate")),2&t&&p.ec("text",p.ac(1,3,"portfolio.empty-state_desktop_text"))("imageName","signer-vault-ledger-desktop.svg")("fullHeight",!0)}function PortfolioPage_ng_container_10_ng_template_2_empty_state_1_Template(t,e){1&t&&(p.Kb(0,"empty-state",20),p.Zb(1,"translate")),2&t&&p.ec("text",p.ac(1,3,"portfolio.empty-state_text"))("imageName","sync_wallet_onboarding_1.svg")("fullHeight",!0)}function PortfolioPage_ng_container_10_ng_template_2_Template(t,e){if(1&t&&(p.tc(0,PortfolioPage_ng_container_10_ng_template_2_empty_state_0_Template,2,5,"empty-state",19),p.tc(1,PortfolioPage_ng_container_10_ng_template_2_empty_state_1_Template,2,5,"empty-state",19)),2&t){var n=p.Yb(2);p.ec("ngIf",n.isDesktop),p.yb(1),p.ec("ngIf",!n.isDesktop)}}function PortfolioPage_ng_container_10_Template(t,e){if(1&t&&(p.Mb(0),p.tc(1,PortfolioPage_ng_container_10_ng_container_1_Template,2,1,"ng-container",7),p.tc(2,PortfolioPage_ng_container_10_ng_template_2_Template,2,2,"ng-template",null,12,p.uc),p.Lb()),2&t){var n=e.ngIf,o=p.lc(3);p.yb(1),p.ec("ngIf",n.length)("ngIfElse",o)}}function PortfolioPage_ng_template_12_Template(t,e){1&t&&(p.Ob(0,"ion-list",21),p.Ob(1,"ion-card"),p.Kb(2,"portfolio-item"),p.Nb(),p.Ob(3,"ion-card"),p.Kb(4,"portfolio-item"),p.Nb(),p.Ob(5,"ion-card"),p.Kb(6,"portfolio-item"),p.Nb(),p.Ob(7,"ion-card"),p.Kb(8,"portfolio-item"),p.Nb(),p.Nb())}function PortfolioPage_ng_container_15_ion_fab_button_1_Template(t,e){if(1&t){var n=p.Pb();p.Ob(0,"ion-fab-button",24),p.Wb("click",function PortfolioPage_ng_container_15_ion_fab_button_1_Template_ion_fab_button_click_0_listener(){return p.mc(n),p.Yb(2).openAccountAddPage()}),p.Kb(1,"ion-icon",25),p.Nb()}}function PortfolioPage_ng_container_15_ion_button_2_Template(t,e){if(1&t){var n=p.Pb();p.Ob(0,"ion-button",26),p.Wb("click",function PortfolioPage_ng_container_15_ion_button_2_Template_ion_button_click_0_listener(){return p.mc(n),p.Yb(2).openAccountAddPage()}),p.Kb(1,"ion-icon",27),p.vc(2),p.Zb(3,"translate"),p.Nb()}2&t&&(p.yb(2),p.xc(" ",p.ac(3,1,"portfolio.add-coins_label")," "))}function PortfolioPage_ng_container_15_Template(t,e){if(1&t&&(p.Mb(0),p.tc(1,PortfolioPage_ng_container_15_ion_fab_button_1_Template,2,0,"ion-fab-button",22),p.tc(2,PortfolioPage_ng_container_15_ion_button_2_Template,4,3,"ion-button",23),p.Lb()),2&t){var n=e.ngIf;p.yb(1),p.ec("ngIf",n.length>0),p.yb(1),p.ec("ngIf",0===n.length)}}var E=function(){function PortfolioPage(t,e,n,o,a){var r=this;this.router=t,this.walletsProvider=e,this.operationsProvider=n,this.protocolService=o,this.platform=a,this.isVisible="hidden",this.total=0,this.changePercentage=0,this.walletGroups=new i.a(1),this.isDesktop=!1,this.isDesktop=!this.platform.is("hybrid"),this.wallets=this.walletsProvider.wallets.asObservable(),this.wallets.subscribe(function(t){r.calculateTotal(t),r.refreshWalletGroups(t)}),this.walletsProvider.walletChangedObservable.subscribe(function(){r.calculateTotal(r.walletsProvider.getWalletList())})}return PortfolioPage.prototype.refreshWalletGroups=function(t){var e=this,n=[],o=new Map;t.forEach(function(t){var e=t.protocol.isSubProtocol,n=e?t.protocol.identifier.split("-")[0]:t.protocol.identifier,i=t.publicKey+"_"+n;if(o.has(i)){var a=o.get(i);e?a.subWallets.push(t):a.mainWallet=t}else e?o.set(i,{mainWallet:void 0,subWallets:[t]}):o.set(i,{mainWallet:t,subWallets:[]})}),o.forEach(function(t){n.push(t)}),n.sort(function(t,e){return t.mainWallet&&e.mainWallet?t.mainWallet.protocol.symbol.localeCompare(e.mainWallet.protocol.symbol):t.mainWallet?-1:e.mainWallet?1:0}),setTimeout(function(){e.walletGroups.next(n)},500)},PortfolioPage.prototype.ionViewDidEnter=function(){this.doRefresh().catch(Object(u.b)())},PortfolioPage.prototype.openDetail=function(t,e){var n=e?{mainWallet:t,wallet:e}:{wallet:t};console.log(n),this.router.navigateByUrl("/account-transaction-list/"+l.b.WALLET+"/"+n.wallet.publicKey+"/"+n.wallet.protocol.identifier+"/"+n.wallet.addressIndex).catch(console.error)},PortfolioPage.prototype.openAccountAddPage=function(){this.router.navigateByUrl("/account-add").catch(Object(u.b)(u.a.NAVIGATION))},PortfolioPage.prototype.doRefresh=function(t){return void 0===t&&(t=null),Object(o.b)(this,void 0,void 0,function(){var e,n,i=this;return Object(o.e)(this,function(o){return this.operationsProvider.refreshAllDelegationStatuses(this.walletsProvider.getWalletList()),e=[this.walletsProvider.getWalletList().map(function(t){return Object(a.a)(t.synchronize())})],n=Object(r.a)([e]),this.subscription=n.subscribe(function(){i.calculateTotal(i.walletsProvider.getWalletList(),t?t.target:null)}),[2]})})},PortfolioPage.prototype.calculateTotal=function(t,e){return void 0===e&&(e=null),Object(o.b)(this,void 0,void 0,function(){var n,i;return Object(o.e)(this,function(o){switch(o.label){case 0:return n=new c.a(this.protocolService),i=this,[4,Promise.all(t.map(function(t){return n.transform(t.currentBalance,{protocolIdentifier:t.protocol.identifier,currentMarketPrice:t.currentMarketPrice})}))];case 1:return i.total=o.sent().reduce(function(t,e){return t.plus(e)},new d.a(0)).toNumber(),e&&e.complete(),this.isVisible="visible",[2]}})})},PortfolioPage.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},PortfolioPage.\u0275fac=function PortfolioPage_Factory(t){return new(t||PortfolioPage)(p.Jb(h.g),p.Jb(s.a),p.Jb(b.a),p.Jb(_.x),p.Jb(m.pb))},PortfolioPage.\u0275cmp=p.Db({type:PortfolioPage,selectors:[["page-portfolio"]],decls:17,vars:10,consts:[[1,"ion-no-border"],["color","translucent"],["slot","start"],["fullscreen","true"],["fixed","true",1,"ion-no-padding"],[4,"ngIf"],["slot","fixed",3,"ionRefresh"],[4,"ngIf","ngIfElse"],["loading",""],["vertical","bottom","horizontal","end","slot","fixed"],[3,"total",4,"ngIf"],[3,"total"],["noItems",""],["class","walletGroups ion-no-padding","lines","none",4,"ngFor","ngForOf"],["lines","none",1,"walletGroups","ion-no-padding"],["class","mainWallet","tappable","",3,"wallet","click",4,"ngIf"],["tappable","",3,"wallet","click",4,"ngFor","ngForOf"],["tappable","",1,"mainWallet",3,"wallet","click"],["tappable","",3,"wallet","click"],[3,"text","imageName","fullHeight",4,"ngIf"],[3,"text","imageName","fullHeight"],["lines","none",1,"ion-margin-top"],["id","add-more-coins-button","color","secondary",3,"click",4,"ngIf"],["id","add-initial-coin-button","color","secondary","shape","round",3,"click",4,"ngIf"],["id","add-more-coins-button","color","secondary",3,"click"],["name","add"],["id","add-initial-coin-button","color","secondary","shape","round",3,"click"],["slot","start","name","add"]],template:function PortfolioPage_Template(t,e){if(1&t&&(p.Ob(0,"ion-header",0),p.Ob(1,"ion-toolbar",1),p.Ob(2,"ion-buttons",2),p.Kb(3,"ion-menu-button"),p.Nb(),p.Nb(),p.Nb(),p.Ob(4,"ion-content",3),p.Ob(5,"ion-grid",4),p.tc(6,PortfolioPage_ng_container_6_Template,2,1,"ng-container",5),p.Zb(7,"async"),p.Ob(8,"ion-refresher",6),p.Wb("ionRefresh",function PortfolioPage_Template_ion_refresher_ionRefresh_8_listener(t){return e.doRefresh(t)}),p.Kb(9,"ion-refresher-content"),p.Nb(),p.tc(10,PortfolioPage_ng_container_10_Template,4,2,"ng-container",7),p.Zb(11,"async"),p.tc(12,PortfolioPage_ng_template_12_Template,9,0,"ng-template",null,8,p.uc),p.Nb(),p.Ob(14,"ion-fab",9),p.tc(15,PortfolioPage_ng_container_15_Template,3,2,"ng-container",5),p.Zb(16,"async"),p.Nb(),p.Nb()),2&t){var n=p.lc(13);p.yb(6),p.ec("ngIf",p.ac(7,4,e.wallets)),p.yb(4),p.ec("ngIf",p.ac(11,6,e.walletGroups))("ngIfElse",n),p.yb(5),p.ec("ngIf",p.ac(16,8,e.wallets))}},directives:[m.v,m.hb,m.j,m.I,m.q,m.u,f.n,m.O,m.P,m.r,S,f.m,m.F,m.k,T.a,C.a,m.s,m.w,m.i],pipes:[f.b,N.c],styles:[".loading-header[_ngcontent-%COMP%]{color:#fff;font-weight:300;width:100%;text-align:center}.loading-header[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:28px;height:28px;stroke:#fff!important}.loading-content[_ngcontent-%COMP%]{color:#fff;font-weight:300;width:100%;margin-top:20vh;text-align:center}.loading-content[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:28px;height:28px}.sc-ion-card-ios-h[_ngcontent-%COMP%], .sc-ion-card-md-h[_ngcontent-%COMP%]{padding:4px 0;margin-bottom:16px;margin-top:0}.sc-ion-card-ios-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .sc-ion-card-md-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:inherit}.sc-ion-card-ios-h[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%], .sc-ion-card-md-h[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding-bottom:4px}.list-ios[_ngcontent-%COMP%]{margin:0}ion-card[_ngcontent-%COMP%]{margin:0 8px 16px}.container__empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30vh}.content-ios[_ngcontent-%COMP%]   ion-fab[bottom][_ngcontent-%COMP%]{bottom:10px}.portfolio--hero[_ngcontent-%COMP%]{background:url(/assets/img/portfolio-lines.svg) no-repeat;height:25vh;background-position:bottom}.portfolio--hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:48px;font-weight:700}"]}),PortfolioPage}()},ipgs:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var o=n("mrSG"),i=n("138U"),a=n("Bpmc"),r=n("jysE"),c=n("wTY4"),s=n("hPkG"),l=n("xWVS"),b=n("fXoL"),u=n("TEn/"),g=n("tyNb"),d=n("sYmb"),p=function(){function SettingsPage(t,e,n,o,i,a,r,c,s,l){this.platform=t,this.alertCtrl=e,this.serializerService=n,this.router=o,this.modalController=i,this.translateService=a,this.clipboardProvider=r,this.iacService=c,this.browserService=s,this.sharePlugin=l}return SettingsPage.prototype.about=function(){this.router.navigateByUrl("/about").catch(Object(s.b)(s.a.NAVIGATION))},SettingsPage.prototype.beaconPermissions=function(){this.router.navigateByUrl("/beacon-permission-list").catch(Object(s.b)(s.a.NAVIGATION))},SettingsPage.prototype.beaconSettings=function(){this.router.navigateByUrl("/settings-beacon").catch(Object(s.b)(s.a.NAVIGATION))},SettingsPage.prototype.share=function(){this.sharePlugin.share({title:"Checkout airgap.it",text:"Take a look at the app I found. It's the most secure way to do crypto transactions.",url:"https://www.airgap.it",dialogTitle:"Pick an app"}).then(function(t){console.log("Share completed: "+t)}).catch(function(t){console.log("Sharing failed with error: "+t)})},SettingsPage.prototype.introduction=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e=this;return Object(o.e)(this,function(n){switch(n.label){case 0:return[4,this.modalController.create({component:l.a})];case 1:return(t=n.sent()).dismiss(function(){return Object(o.b)(e,void 0,void 0,function(){return Object(o.e)(this,function(t){return[2]})})}).catch(Object(s.b)(s.a.IONIC_MODAL)),t.present().catch(Object(s.b)(s.a.IONIC_MODAL)),[2]}})})},SettingsPage.prototype.feedback=function(){this.browserService.openUrl("https://github.com/airgap-it/airgap-wallet/issues")},SettingsPage.prototype.telegram=function(){return Object(o.b)(this,void 0,void 0,function(){var t=this;return Object(o.e)(this,function(e){switch(e.label){case 0:return[4,this.alertCtrl.create({header:this.translateService.instant("settings.alert_title"),inputs:[{type:"radio",label:this.translateService.instant("settings.channel.international"),value:"International",checked:!0},{type:"radio",label:this.translateService.instant("settings.channel.chinese"),value:"Chinese"}],buttons:[{text:this.translateService.instant("settings.alert_cancel"),role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:this.translateService.instant("settings.telegram_label"),handler:function(e){switch(e){case"Chinese":t.browserService.openUrl("https://t.me/AirGap_cn");break;case"International":default:t.browserService.openUrl("https://t.me/AirGap")}}}]})];case 1:return e.sent().present().catch(Object(s.b)(s.a.IONIC_ALERT)),[2]}})})},SettingsPage.prototype.translate=function(){this.browserService.openUrl("https://translate.sook.ch/")},SettingsPage.prototype.githubDistro=function(){this.browserService.openUrl("https://github.com/airgap-it/airgap-distro")},SettingsPage.prototype.githubWebSigner=function(){this.browserService.openUrl("https://github.com/airgap-it/airgap-web-signer")},SettingsPage.prototype.githubWallet=function(){this.browserService.openUrl("https://github.com/airgap-it")},SettingsPage.prototype.faq=function(){this.browserService.openUrl("https://airgap.it/#faq")},SettingsPage.prototype.aboutBeacon=function(){this.browserService.openUrl("https://walletbeacon.io")},SettingsPage.prototype.goToQrSettings=function(){this.router.navigateByUrl("/qr-settings").catch(function(t){return console.error(t)})},SettingsPage.prototype.pasteClipboard=function(){var t=this;this.clipboardProvider.paste().then(function(e){t.iacService.handleRequest(e,i.q.PASTE).catch(Object(s.b)(s.a.SCHEME_ROUTING))},function(t){console.error("Error: "+t)})},SettingsPage.\u0275fac=function SettingsPage_Factory(t){return new(t||SettingsPage)(b.Jb(u.pb),b.Jb(u.a),b.Jb(i.D),b.Jb(g.g),b.Jb(u.lb),b.Jb(d.d),b.Jb(i.j),b.Jb(c.a),b.Jb(r.a),b.Jb(a.c))},SettingsPage.\u0275cmp=b.Db({type:SettingsPage,selectors:[["page-settings"]],decls:74,vars:48,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["lines","none"],["lines","none",1,"ion-no-margin"],["detail","true",3,"click"],["name","bulb-outline","slot","start"],["name","help-circle-outline","slot","start"],["name","chatbubbles-outline","slot","start"],["name","share-outline","slot","start"],["name","logo-github","slot","start"],["name","information-circle-outline","slot","start"],["src","assets/img/beacon_logo_black.svg","slot","start"],[3,"click"],["name","return-up-forward-outline","slot","start"],["name","qr-code-outline","slot","start"]],template:function SettingsPage_Template(t,e){1&t&&(b.Ob(0,"ion-header",0),b.Ob(1,"ion-grid",1),b.Ob(2,"ion-toolbar"),b.Ob(3,"ion-buttons",2),b.Kb(4,"ion-menu-button"),b.Nb(),b.Ob(5,"ion-title"),b.vc(6),b.Zb(7,"translate"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(8,"ion-content"),b.Ob(9,"ion-grid",1),b.Ob(10,"ion-list",3),b.Ob(11,"ion-list-header",4),b.Ob(12,"ion-label"),b.vc(13),b.Zb(14,"translate"),b.Nb(),b.Nb(),b.Ob(15,"ion-item",5),b.Wb("click",function SettingsPage_Template_ion_item_click_15_listener(){return e.introduction()}),b.Kb(16,"ion-icon",6),b.vc(17),b.Zb(18,"translate"),b.Nb(),b.Ob(19,"ion-item",5),b.Wb("click",function SettingsPage_Template_ion_item_click_19_listener(){return e.faq()}),b.Kb(20,"ion-icon",7),b.vc(21),b.Zb(22,"translate"),b.Nb(),b.Ob(23,"ion-item",5),b.Wb("click",function SettingsPage_Template_ion_item_click_23_listener(){return e.telegram()}),b.Kb(24,"ion-icon",8),b.vc(25),b.Zb(26,"translate"),b.Nb(),b.Ob(27,"ion-item",5),b.Wb("click",function SettingsPage_Template_ion_item_click_27_listener(){return e.share()}),b.Kb(28,"ion-icon",9),b.vc(29),b.Zb(30,"translate"),b.Nb(),b.Nb(),b.Ob(31,"ion-list",3),b.Ob(32,"ion-list-header",4),b.Ob(33,"ion-label"),b.vc(34),b.Zb(35,"translate"),b.Nb(),b.Nb(),b.Ob(36,"ion-item",5),b.Wb("click",function SettingsPage_Template_ion_item_click_36_listener(){return e.githubWallet()}),b.Kb(37,"ion-icon",10),b.vc(38),b.Zb(39,"translate"),b.Nb(),b.Ob(40,"ion-item",5),b.Wb("click",function SettingsPage_Template_ion_item_click_40_listener(){return e.about()}),b.Kb(41,"ion-icon",11),b.vc(42),b.Zb(43,"translate"),b.Nb(),b.Nb(),b.Ob(44,"ion-list",3),b.Ob(45,"ion-list-header",4),b.Ob(46,"ion-label"),b.vc(47),b.Zb(48,"translate"),b.Nb(),b.Nb(),b.Ob(49,"ion-item",5),b.Wb("click",function SettingsPage_Template_ion_item_click_49_listener(){return e.beaconPermissions()}),b.Kb(50,"ion-icon",12),b.vc(51),b.Zb(52,"translate"),b.Nb(),b.Ob(53,"ion-item",5),b.Wb("click",function SettingsPage_Template_ion_item_click_53_listener(){return e.beaconSettings()}),b.Kb(54,"ion-icon",12),b.vc(55),b.Zb(56,"translate"),b.Nb(),b.Ob(57,"ion-item",5),b.Wb("click",function SettingsPage_Template_ion_item_click_57_listener(){return e.aboutBeacon()}),b.Kb(58,"ion-icon",11),b.vc(59),b.Zb(60,"translate"),b.Nb(),b.Nb(),b.Ob(61,"ion-list",3),b.Ob(62,"ion-list-header",4),b.Ob(63,"ion-label"),b.vc(64),b.Zb(65,"translate"),b.Nb(),b.Nb(),b.Ob(66,"ion-item",13),b.Wb("click",function SettingsPage_Template_ion_item_click_66_listener(){return e.pasteClipboard()}),b.Kb(67,"ion-icon",14),b.vc(68),b.Zb(69,"translate"),b.Nb(),b.Ob(70,"ion-item",13),b.Wb("click",function SettingsPage_Template_ion_item_click_70_listener(){return e.goToQrSettings()}),b.Kb(71,"ion-icon",15),b.vc(72),b.Zb(73,"translate"),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&t&&(b.yb(6),b.wc(b.ac(7,16,"settings.title")),b.yb(7),b.wc(b.ac(14,18,"settings.help_label")),b.yb(4),b.xc(" ",b.ac(18,20,"settings.introduction_label")," "),b.yb(4),b.xc(" ",b.ac(22,22,"settings.faq_label")," "),b.yb(4),b.xc(" ",b.ac(26,24,"settings.telegram_label")," "),b.yb(4),b.xc(" ",b.ac(30,26,"settings.share_label")," "),b.yb(5),b.wc(b.ac(35,28,"settings.information_label")),b.yb(4),b.xc(" ",b.ac(39,30,"settings.github_label")," "),b.yb(4),b.xc(" ",b.ac(43,32,"settings.about_label")," "),b.yb(5),b.wc(b.ac(48,34,"settings.beacon.label")),b.yb(4),b.xc(" ",b.ac(52,36,"settings.beacon.permission-list_label")," "),b.yb(4),b.xc(" ",b.ac(56,38,"settings.beacon.settings_label")," "),b.yb(4),b.xc(" ",b.ac(60,40,"settings.beacon.about_label")," "),b.yb(5),b.wc(b.ac(65,42,"settings.qr.settings_label")),b.yb(4),b.xc(" ",b.ac(69,44,"settings.paste-from-clipboard_label")," "),b.yb(4),b.xc(" ",b.ac(73,46,"settings.qr-advanced-settings_label")," "))},directives:[u.v,u.u,u.hb,u.j,u.I,u.fb,u.q,u.F,u.G,u.E,u.A,u.w],pipes:[d.c],encapsulation:2}),SettingsPage}()},lkre:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n("hPkG"),i=n("fXoL"),a=n("TEn/"),r=n("sYmb"),c=n("ofXK");function IntroductionDownloadPage_h5_21_Template(t,e){1&t&&(i.Ob(0,"h5"),i.vc(1),i.Zb(2,"translate"),i.Nb()),2&t&&(i.yb(1),i.wc(i.ac(2,1,"introduction-download.text")))}function IntroductionDownloadPage_ng_container_29_Template(t,e){if(1&t){var n=i.Pb();i.Mb(0),i.Ob(1,"ion-button",15),i.Wb("click",function IntroductionDownloadPage_ng_container_29_Template_ion_button_click_1_listener(){return i.mc(n),i.Yb().downloadAndroid()}),i.Kb(2,"ion-icon",16),i.vc(3),i.Zb(4,"translate"),i.Nb(),i.Ob(5,"p",9),i.vc(6),i.Zb(7,"translate"),i.Nb(),i.Ob(8,"ion-button",17),i.Wb("click",function IntroductionDownloadPage_ng_container_29_Template_ion_button_click_8_listener(){return i.mc(n),i.Yb().downloadDistribution()}),i.Kb(9,"ion-icon",18),i.vc(10),i.Zb(11,"translate"),i.Nb(),i.Ob(12,"p"),i.vc(13),i.Zb(14,"translate"),i.Nb(),i.Lb()}if(2&t){var o=i.Yb();i.yb(3),i.xc(" ",i.ac(4,4,"introduction-download.android")," "),i.yb(3),i.xc(" ",i.ac(7,6,"introduction-download."+o.playStoreText)," "),i.yb(4),i.xc(" ",i.ac(11,8,"introduction-download.linux-distro_label")," "),i.yb(3),i.wc(i.ac(14,10,"introduction-download.install-distro_text"))}}var s=function(){function IntroductionDownloadPage(t,e,n){this.platform=t,this.viewController=e,this.translateService=n,this.appStoreText="android-device-iOS_text",this.playStoreText="iOS-device-android_text",this.isIOS=!0,this.isIOS=this.platform.is("ios"),this.translateService.currentLang.startsWith("en")?this.platform.is("ios")?(this.appStoreText="iOS-device-iOS_text",this.playStoreText="iOS-device-android_text"):this.platform.is("android")&&(this.appStoreText="android-device-iOS_text",this.playStoreText="android-device-android_text"):(this.appStoreText="app-store_text",this.playStoreText="play-store_text")}return IntroductionDownloadPage.prototype.dismiss=function(t){void 0===t&&(t=!1),this.viewController.dismiss(t).catch(Object(o.b)(o.a.NAVIGATION))},IntroductionDownloadPage.prototype.downloadAndroid=function(){this.platform.is("android")||this.platform.is("hybrid")?window.open("https://play.google.com/store/apps/details?id=it.airgap.vault","_system"):window.open("https://play.google.com/store/apps/details?id=it.airgap.vault","_blank"),this.dismiss(!0)},IntroductionDownloadPage.prototype.downloadIos=function(){this.platform.is("ios")?window.open("itms-apps://itunes.apple.com/app/id1417126841","_system"):this.platform.is("hybrid")?window.open("https://itunes.apple.com/us/app/airgap-vault-secure-secrets/id1417126841?mt=8","_system"):window.open("https://itunes.apple.com/us/app/airgap-vault-secure-secrets/id1417126841?mt=8","_blank"),this.dismiss(!0)},IntroductionDownloadPage.prototype.downloadDistribution=function(){this.platform.is("hybrid")?window.open("https://github.com/airgap-it/airgap-distro","_system"):window.open("https://github.com/airgap-it/airgap-distro","_blank"),this.dismiss(!0)},IntroductionDownloadPage.prototype.openGuide=function(){this.platform.is("hybrid")?window.open("https://medium.com/airgap-it/airgap-the-step-by-step-guide-c4c3d3fe9a05","_system"):window.open("https://medium.com/airgap-it/airgap-the-step-by-step-guide-c4c3d3fe9a05","_blank"),this.dismiss(!0)},IntroductionDownloadPage.\u0275fac=function IntroductionDownloadPage_Factory(t){return new(t||IntroductionDownloadPage)(i.Jb(a.pb),i.Jb(a.lb),i.Jb(r.d))},IntroductionDownloadPage.\u0275cmp=i.Db({type:IntroductionDownloadPage,selectors:[["page-introduction-download"]],decls:34,vars:23,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","/"],["slot","end"],["color","secondary",3,"click"],["name","close-outline"],[1,"ion-padding"],["color","primary","shape","round",1,"ion-margin-top",3,"click"],["slot","start","name","open-outline"],[1,"ion-padding-bottom"],[4,"ngIf"],["id","btn-import-secret","color","primary","shape","round",3,"click"],["slot","start","name","phone-portrait-outline"],["vertical","bottom","horizontal","end","slot","fixed"],["shape","round","color","primary",3,"click"],["id","btn-generate-secret","color","primary","shape","round",1,"ion-margin-top",3,"click"],["slot","start","name","logo-android"],["id","btn-recover-secret","color","primary","shape","round",3,"click"],["slot","start","name","desktop-outline"]],template:function IntroductionDownloadPage_Template(t,e){1&t&&(i.Ob(0,"ion-header",0),i.Ob(1,"ion-toolbar"),i.Ob(2,"ion-buttons",1),i.Kb(3,"ion-back-button",2),i.Nb(),i.Ob(4,"ion-title"),i.vc(5),i.Zb(6,"translate"),i.Nb(),i.Ob(7,"ion-buttons",3),i.Ob(8,"ion-button",4),i.Wb("click",function IntroductionDownloadPage_Template_ion_button_click_8_listener(){return e.dismiss()}),i.Kb(9,"ion-icon",5),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Ob(10,"ion-content",6),i.Ob(11,"h1"),i.vc(12),i.Zb(13,"translate"),i.Nb(),i.Ob(14,"ion-button",7),i.Wb("click",function IntroductionDownloadPage_Template_ion_button_click_14_listener(){return e.openGuide()}),i.Kb(15,"ion-icon",8),i.vc(16),i.Zb(17,"translate"),i.Nb(),i.Ob(18,"p",9),i.vc(19),i.Zb(20,"translate"),i.Nb(),i.tc(21,IntroductionDownloadPage_h5_21_Template,3,3,"h5",10),i.Ob(22,"ion-button",11),i.Wb("click",function IntroductionDownloadPage_Template_ion_button_click_22_listener(){return e.downloadIos()}),i.Kb(23,"ion-icon",12),i.vc(24),i.Zb(25,"translate"),i.Nb(),i.Ob(26,"p"),i.vc(27),i.Zb(28,"translate"),i.Nb(),i.tc(29,IntroductionDownloadPage_ng_container_29_Template,15,12,"ng-container",10),i.Ob(30,"ion-fab",13),i.Ob(31,"ion-button",14),i.Wb("click",function IntroductionDownloadPage_Template_ion_button_click_31_listener(){return e.dismiss()}),i.vc(32),i.Zb(33,"translate"),i.Nb(),i.Nb(),i.Nb()),2&t&&(i.yb(5),i.wc(i.ac(6,9,"introduction-download.title")),i.yb(7),i.wc(i.ac(13,11,"introduction-download.heading")),i.yb(4),i.xc(" ",i.ac(17,13,"introduction-download.guide-link_label")," "),i.yb(3),i.wc(i.ac(20,15,"introduction-download.description")),i.yb(2),i.ec("ngIf",!e.isIOS),i.yb(3),i.xc(" ",i.ac(25,17,"introduction-download.iOS")," "),i.yb(3),i.wc(i.ac(28,19,"introduction-download."+e.appStoreText)),i.yb(2),i.ec("ngIf",!e.isIOS),i.yb(3),i.wc(i.ac(33,21,"introduction-download.go_label")))},directives:[a.v,a.hb,a.j,a.f,a.g,a.fb,a.i,a.w,a.q,c.n,a.r],pipes:[r.c],encapsulation:2}),IntroductionDownloadPage}()},qiIP:function(t,e,n){"use strict";n.r(e),n.d(e,"TabsPageModule",function(){return w});var o=n("ofXK"),i=n("3Pt+"),a=n("TEn/"),r=n("sYmb"),c=n("tyNb"),s=n("j1ZV"),l=n("lkre"),b=n("fXoL"),u=function(){function IntroductionDownloadPageModule(){}return IntroductionDownloadPageModule.\u0275mod=b.Hb({type:IntroductionDownloadPageModule}),IntroductionDownloadPageModule.\u0275inj=b.Gb({factory:function IntroductionDownloadPageModule_Factory(t){return new(t||IntroductionDownloadPageModule)},imports:[[a.ib,o.c,i.e,s.a,r.b,c.j.forChild([{path:"",component:l.a}])]]}),IntroductionDownloadPageModule}(),g=n("xWVS"),d=function(){function IntroductionPageModule(){}return IntroductionPageModule.\u0275mod=b.Hb({type:IntroductionPageModule}),IntroductionPageModule.\u0275inj=b.Gb({factory:function IntroductionPageModule_Factory(t){return new(t||IntroductionPageModule)},imports:[[a.ib,o.c,i.e,s.a,r.b,u,c.j.forChild([{path:"",component:g.a}])]]}),IntroductionPageModule}(),p=n("mrSG"),h=n("hPkG"),_=n("AFs5"),m=n("4HcY"),f=n("fOEu"),P=n("XvSo"),v=n("ipgs");function TabsPage_ion_tab_bar_1_Template(t,e){1&t&&(b.Ob(0,"ion-tab-bar",1),b.Ob(1,"ion-tab-button",2),b.Kb(2,"ion-icon",3),b.Ob(3,"ion-label"),b.vc(4),b.Zb(5,"translate"),b.Nb(),b.Nb(),b.Ob(6,"ion-tab-button",4),b.Kb(7,"ion-icon",5),b.Ob(8,"ion-label"),b.vc(9),b.Zb(10,"translate"),b.Nb(),b.Nb(),b.Ob(11,"ion-tab-button",6),b.Kb(12,"ion-icon",7),b.Ob(13,"ion-label"),b.vc(14),b.Zb(15,"translate"),b.Nb(),b.Nb(),b.Ob(16,"ion-tab-button",8),b.Kb(17,"ion-icon",9),b.Ob(18,"ion-label"),b.vc(19),b.Zb(20,"translate"),b.Nb(),b.Nb(),b.Nb()),2&t&&(b.yb(4),b.wc(b.ac(5,4,"tabs.wallets")),b.yb(5),b.wc(b.ac(10,6,"tabs.scan")),b.yb(5),b.wc(b.ac(15,8,"tabs.exchange")),b.yb(5),b.wc(b.ac(20,10,"tabs.settings")))}var O=[{path:"tabs",component:function(){function TabsPage(t,e,n){this.modalController=t,this.storageProvider=e,this.plaftorm=n,this.tab1Root=f.a,this.tab2Root=P.a,this.tab3Root=m.a,this.tab4Root=v.a,this.isMobile=!1,this.showIntroductions().catch(Object(h.b)(h.a.OTHER)),this.isMobile=this.plaftorm.is("mobile")}return TabsPage.prototype.showIntroductions=function(){return Object(p.b)(this,void 0,void 0,function(){return Object(p.e)(this,function(t){switch(t.label){case 0:return[4,this.storageProvider.get(_.a.DEEP_LINK)];case 1:return t.sent()?[3,3]:[4,this.showWalletIntroduction().catch(console.error)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},TabsPage.prototype.showWalletIntroduction=function(){return Object(p.b)(this,void 0,void 0,function(){return Object(p.e)(this,function(t){return[2,this.showModal(_.a.WALLET_INTRODUCTION,g.a)]})})},TabsPage.prototype.showModal=function(t,e){return Object(p.b)(this,void 0,void 0,function(){var n=this;return Object(p.e)(this,function(o){switch(o.label){case 0:return[4,this.storageProvider.get(t)];case 1:return o.sent()?[2,Promise.resolve()]:[2,new Promise(function(o){return Object(p.b)(n,void 0,void 0,function(){var n,i=this;return Object(p.e)(this,function(a){switch(a.label){case 0:return[4,this.modalController.create({component:e})];case 1:return(n=a.sent()).onDidDismiss().then(function(){return Object(p.b)(i,void 0,void 0,function(){return Object(p.e)(this,function(e){switch(e.label){case 0:return[4,this.storageProvider.set(t,!0)];case 1:return e.sent(),o(void 0),[2]}})})}).catch(Object(h.b)(h.a.IONIC_MODAL)),n.present().catch(Object(h.b)(h.a.IONIC_MODAL)),[2]}})})})]}})})},TabsPage.\u0275fac=function TabsPage_Factory(t){return new(t||TabsPage)(b.Jb(a.lb),b.Jb(_.b),b.Jb(a.pb))},TabsPage.\u0275cmp=b.Db({type:TabsPage,selectors:[["app-tabs"]],decls:2,vars:1,consts:[["slot","bottom",4,"ngIf"],["slot","bottom"],["tab","portfolio"],["name","list-outline"],["tab","scan"],["name","barcode-outline"],["tab","exchange"],["name","repeat-outline"],["tab","settings"],["name","settings-outline"]],template:function TabsPage_Template(t,e){1&t&&(b.Ob(0,"ion-tabs"),b.tc(1,TabsPage_ion_tab_bar_1_Template,21,12,"ion-tab-bar",0),b.Nb()),2&t&&(b.yb(1),b.ec("ngIf",e.isMobile))},directives:[a.cb,o.n,a.ab,a.bb,a.w,a.E],pipes:[r.c],styles:["ion-tab-button[_ngcontent-%COMP%]{font-weight:500;--color-selected:var(--ion-color-secondary)}"]}),TabsPage}(),children:[{path:"portfolio",children:[{path:"",loadChildren:function(){return n.e(28).then(n.bind(null,"0rid")).then(function(t){return t.PortfolioPageModule})}}]},{path:"scan",children:[{path:"",loadChildren:function(){return n.e(31).then(n.bind(null,"Fo4Z")).then(function(t){return t.ScanPageModule})}}]},{path:"exchange",children:[{path:"",loadChildren:function(){return n.e(25).then(n.bind(null,"l1L9")).then(function(t){return t.ExchangePageModule})}}]},{path:"settings",children:[{path:"",loadChildren:function(){return n.e(34).then(n.bind(null,"yPrK")).then(function(t){return t.SettingsPageModule})}}]},{path:"",redirectTo:"/tabs/portfolio",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/portfolio",pathMatch:"full"}],y=function(){function TabsPageRoutingModule(){}return TabsPageRoutingModule.\u0275mod=b.Hb({type:TabsPageRoutingModule}),TabsPageRoutingModule.\u0275inj=b.Gb({factory:function TabsPageRoutingModule_Factory(t){return new(t||TabsPageRoutingModule)},imports:[[c.j.forChild(O)],c.j]}),TabsPageRoutingModule}(),w=function(){function TabsPageModule(){}return TabsPageModule.\u0275mod=b.Hb({type:TabsPageModule}),TabsPageModule.\u0275inj=b.Gb({factory:function TabsPageModule_Factory(t){return new(t||TabsPageModule)},imports:[[a.ib,o.c,i.e,y,r.b,d]]}),TabsPageModule}()},xWVS:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n("mrSG"),i=n("hPkG"),a=n("lkre"),r=n("fXoL"),c=n("TEn/"),s=n("ofXK"),l=n("3Pt+"),b=n("sYmb");function IntroductionPage_ion_segment_9_Template(t,e){if(1&t){var n=r.Pb();r.Ob(0,"ion-segment",10),r.Wb("ngModelChange",function IntroductionPage_ion_segment_9_Template_ion_segment_ngModelChange_0_listener(t){return r.mc(n),r.Yb().security=t}),r.Ob(1,"ion-segment-button",11),r.Ob(2,"ion-label"),r.vc(3),r.Zb(4,"translate"),r.Nb(),r.Nb(),r.Ob(5,"ion-segment-button",12),r.Ob(6,"ion-label"),r.vc(7),r.Zb(8,"translate"),r.Nb(),r.Nb(),r.Nb()}if(2&t){var o=r.Yb();r.ec("ngModel",o.security),r.yb(3),r.wc(r.ac(4,3,"introduction.highest.label")),r.yb(4),r.wc(r.ac(8,5,"introduction.medium.label"))}}function IntroductionPage_ng_container_10_p_2_Template(t,e){1&t&&(r.Kb(0,"p",17),r.Zb(1,"translate")),2&t&&r.ec("innerHTML",r.ac(1,1,"introduction.highest.text"),r.nc)}function IntroductionPage_ng_container_10_p_3_Template(t,e){1&t&&(r.Kb(0,"p",17),r.Zb(1,"translate")),2&t&&r.ec("innerHTML",r.ac(1,1,"introduction.highest.desktop_text"),r.nc)}function IntroductionPage_ng_container_10_ion_col_5_Template(t,e){1&t&&(r.Ob(0,"ion-col",18),r.Kb(1,"img",19),r.Nb())}function IntroductionPage_ng_container_10_ion_col_6_Template(t,e){1&t&&(r.Ob(0,"ion-col",18),r.Kb(1,"img",20),r.Nb())}function IntroductionPage_ng_container_10_ng_container_13_Template(t,e){1&t&&(r.Mb(0),r.Ob(1,"ion-row",21),r.Ob(2,"ion-col",22),r.Kb(3,"img",23),r.Nb(),r.Ob(4,"ion-col",16),r.Ob(5,"strong"),r.vc(6),r.Zb(7,"translate"),r.Nb(),r.Nb(),r.Nb(),r.Ob(8,"ion-row",24),r.Ob(9,"ion-col",18),r.Kb(10,"img",25),r.Nb(),r.Ob(11,"ion-col",16),r.Ob(12,"h5"),r.vc(13),r.Zb(14,"translate"),r.Nb(),r.Kb(15,"p",17),r.Zb(16,"translate"),r.Nb(),r.Nb(),r.Lb()),2&t&&(r.yb(6),r.wc(r.ac(7,3,"introduction.communication.highest_text")),r.yb(7),r.wc(r.ac(14,5,"introduction.vault.heading")),r.yb(2),r.ec("innerHTML",r.ac(16,7,"introduction.vault.text"),r.nc))}function IntroductionPage_ng_container_10_ng_container_14_Template(t,e){1&t&&(r.Mb(0),r.Ob(1,"ion-row",24),r.Ob(2,"ion-col",18),r.Kb(3,"img",26),r.Nb(),r.Ob(4,"ion-col",16),r.Ob(5,"h5"),r.vc(6),r.Zb(7,"translate"),r.Nb(),r.Kb(8,"p",17),r.Zb(9,"translate"),r.Nb(),r.Nb(),r.Lb()),2&t&&(r.yb(6),r.wc(r.ac(7,2,"introduction.vault.desktop_heading")),r.yb(2),r.ec("innerHTML",r.ac(9,4,"introduction.vault.desktop_text"),r.nc))}function IntroductionPage_ng_container_10_Template(t,e){if(1&t&&(r.Mb(0),r.Ob(1,"ion-row"),r.tc(2,IntroductionPage_ng_container_10_p_2_Template,2,3,"p",13),r.tc(3,IntroductionPage_ng_container_10_p_3_Template,2,3,"p",13),r.Nb(),r.Ob(4,"ion-row",14),r.tc(5,IntroductionPage_ng_container_10_ion_col_5_Template,2,0,"ion-col",15),r.tc(6,IntroductionPage_ng_container_10_ion_col_6_Template,2,0,"ion-col",15),r.Ob(7,"ion-col",16),r.Ob(8,"h5"),r.vc(9),r.Zb(10,"translate"),r.Nb(),r.Kb(11,"p",17),r.Zb(12,"translate"),r.Nb(),r.Nb(),r.tc(13,IntroductionPage_ng_container_10_ng_container_13_Template,17,9,"ng-container",6),r.tc(14,IntroductionPage_ng_container_10_ng_container_14_Template,10,6,"ng-container",6),r.Lb()),2&t){var n=r.Yb();r.yb(2),r.ec("ngIf",!n.isDesktop),r.yb(1),r.ec("ngIf",n.isDesktop),r.yb(2),r.ec("ngIf",n.isDesktop),r.yb(1),r.ec("ngIf",!n.isDesktop),r.yb(3),r.wc(r.ac(10,8,"introduction.wallet.heading")),r.yb(2),r.ec("innerHTML",r.ac(12,10,"introduction.wallet.text"),r.nc),r.yb(2),r.ec("ngIf",!n.isDesktop),r.yb(1),r.ec("ngIf",n.isDesktop)}}function IntroductionPage_ng_container_11_Template(t,e){1&t&&(r.Mb(0),r.Ob(1,"ion-row"),r.Kb(2,"p",17),r.Zb(3,"translate"),r.Nb(),r.Ob(4,"ion-row",14),r.Ob(5,"ion-col",18),r.Kb(6,"img",20),r.Nb(),r.Ob(7,"ion-col",16),r.Ob(8,"h5"),r.vc(9),r.Zb(10,"translate"),r.Nb(),r.Kb(11,"p",17),r.Zb(12,"translate"),r.Nb(),r.Nb(),r.Ob(13,"ion-row",21),r.Ob(14,"ion-col",22),r.Kb(15,"img",27),r.Nb(),r.Ob(16,"ion-col",16),r.Ob(17,"strong"),r.vc(18),r.Zb(19,"translate"),r.Nb(),r.Nb(),r.Nb(),r.Ob(20,"ion-row",24),r.Ob(21,"ion-col",18),r.Kb(22,"img",25),r.Nb(),r.Ob(23,"ion-col",16),r.Ob(24,"h5"),r.vc(25),r.Zb(26,"translate"),r.Nb(),r.Kb(27,"p",17),r.Zb(28,"translate"),r.Nb(),r.Nb(),r.Lb()),2&t&&(r.yb(2),r.ec("innerHTML",r.ac(3,6,"introduction.medium.text"),r.nc),r.yb(7),r.wc(r.ac(10,8,"introduction.wallet.heading")),r.yb(2),r.ec("innerHTML",r.ac(12,10,"introduction.wallet.text"),r.nc),r.yb(7),r.wc(r.ac(19,12,"introduction.communication.medium_text")),r.yb(7),r.wc(r.ac(26,14,"introduction.vault.heading")),r.yb(2),r.ec("innerHTML",r.ac(28,16,"introduction.vault.text"),r.nc))}var u=function(){function IntroductionPage(t,e){this.platform=t,this.modalController=e,this.security="highest",this.isDesktop=!1,this.isDesktop=!this.platform.is("hybrid")}return IntroductionPage.prototype.dismiss=function(){this.modalController.dismiss().catch(Object(i.b)(i.a.NAVIGATION))},IntroductionPage.prototype.openIntroductionDownloadPage=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e=this;return Object(o.e)(this,function(n){switch(n.label){case 0:return[4,this.modalController.create({component:a.a})];case 1:return(t=n.sent()).dismiss(function(t){t&&e.dismiss()}),t.present().catch(Object(i.b)(i.a.IONIC_MODAL)),[2]}})})},IntroductionPage.\u0275fac=function IntroductionPage_Factory(t){return new(t||IntroductionPage)(r.Jb(c.pb),r.Jb(c.lb))},IntroductionPage.\u0275cmp=r.Db({type:IntroductionPage,selectors:[["page-introduction"]],decls:19,vars:12,consts:[[1,"ion-no-border"],["slot","end"],["color","secondary",3,"click"],["name","close-outline"],["forceOverflow","false",1,"ion-padding"],["color","secondary","value","highest",3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["id","introduction-button","shape","round","color","secondary",3,"click"],["id","dismiss-button","shape","round","color","primary",3,"click"],["color","secondary","value","highest",3,"ngModel","ngModelChange"],["value","highest"],["value","medium"],[3,"innerHTML",4,"ngIf"],[1,"ion-padding-top","ion-align-items-center"],["size","5",4,"ngIf"],["size","7"],[3,"innerHTML"],["size","5"],["src","./assets/img/airgap_onboarding_wallet-notebook.svg"],["src","./assets/img/airgap_onboarding_wallet.svg"],[1,"ion-padding-vertical","ion-align-items-center"],["size","5",1,"ion-text-center"],["src","./assets/img/qrcode.svg",1,"connector--img"],[1,"ion-align-items-center"],["src","./assets/img/airgap_onboarding_vault.svg"],["src","./assets/img/signer-vault-ledger-desktop.svg"],["src","./assets/img/clone.svg",1,"connector--img"]],template:function IntroductionPage_Template(t,e){1&t&&(r.Ob(0,"ion-header",0),r.Ob(1,"ion-toolbar"),r.Ob(2,"ion-title"),r.vc(3),r.Zb(4,"translate"),r.Nb(),r.Ob(5,"ion-buttons",1),r.Ob(6,"ion-button",2),r.Wb("click",function IntroductionPage_Template_ion_button_click_6_listener(){return e.dismiss()}),r.Kb(7,"ion-icon",3),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(8,"ion-content",4),r.tc(9,IntroductionPage_ion_segment_9_Template,9,7,"ion-segment",5),r.tc(10,IntroductionPage_ng_container_10_Template,15,12,"ng-container",6),r.tc(11,IntroductionPage_ng_container_11_Template,29,18,"ng-container",6),r.Ob(12,"ion-fab",7),r.Ob(13,"ion-button",8),r.Wb("click",function IntroductionPage_Template_ion_button_click_13_listener(){return e.openIntroductionDownloadPage()}),r.vc(14),r.Zb(15,"translate"),r.Nb(),r.Ob(16,"ion-button",9),r.Wb("click",function IntroductionPage_Template_ion_button_click_16_listener(){return e.dismiss()}),r.vc(17),r.Zb(18,"translate"),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.yb(3),r.wc(r.ac(4,6,"introduction.title")),r.yb(6),r.ec("ngIf",!e.isDesktop),r.yb(1),r.ec("ngIf","highest"===e.security),r.yb(1),r.ec("ngIf","medium"===e.security),r.yb(3),r.xc(" ",r.ac(15,8,"introduction.vault-install_label")," "),r.yb(3),r.xc(" ",r.ac(18,10,"introduction.continue_label")," "))},directives:[c.v,c.hb,c.fb,c.j,c.i,c.w,c.q,s.n,c.r,c.T,c.tb,l.h,l.j,c.U,c.E,c.R,c.p],pipes:[b.c],styles:[".connector--img[_ngcontent-%COMP%]{height:40px;width:40px}"]}),IntroductionPage}()}}]);