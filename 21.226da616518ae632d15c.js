(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{lbWX:function(e,t,n){"use strict";n.r(t),n.d(t,"DelegationListPageModule",function(){return v});var i=n("138U"),a=n("ofXK"),o=n("3Pt+"),l=n("tyNb"),s=n("TEn/"),r=n("sYmb"),c=n("j1ZV"),g=n("iTUp"),b=n("mrSG"),d=n("fXoL"),_c0=function(e){return{delegateeLabel:e}};function DelegateEditPopoverComponent_span_7_Template(e,t){if(1&e&&(d.Ob(0,"span"),d.vc(1),d.Zb(2,"translate"),d.Zb(3,"translate"),d.Nb()),2&e){var n=d.Yb();d.yb(1),d.xc(" ",d.bc(2,1,"delegate-edit-popover.change-delegatee_label",d.ic(6,_c0,d.ac(3,4,n.delegateeLabel)))," ")}}var _=function(){function DelegateEditPopoverComponent(e,t,n,i){this.alertController=e,this.popoverController=t,this.navParams=n,this.translateService=i;var a=this.navParams.get("delegateeLabel"),o=this.navParams.get("delegateeLabelPlural");this.delegateeLabel=void 0!==a?a:"delegation-detail.default-delegatee-label",this.delegateeLabelPlural=void 0!==o?o:"delegation-detail.default-delegatee-label-plural"}return DelegateEditPopoverComponent.prototype.changeDelegatee=function(){return Object(b.b)(this,void 0,void 0,function(){var e;return Object(b.e)(this,function(t){switch(t.label){case 0:return[4,this.createAlertOptions()];case 1:return e=t.sent(),[4,this.alertController.create(e)];case 2:return[4,t.sent().present()];case 3:return t.sent(),[2]}})})},DelegateEditPopoverComponent.prototype.createAlertOptions=function(){return Object(b.b)(this,void 0,void 0,function(){var e=this;return Object(b.e)(this,function(t){return[2,{header:this.translateService.instant("delegate-edit-popover.delegation-settings_label"),message:this.translateService.instant("delegate-edit-popover.change-alert.text",{delegateeLabel:this.translateService.instant(this.delegateeLabel)}),inputs:[{name:"delegateeAddress",id:"delegatee-address",placeholder:this.translateService.instant("delegate-edit-popover.change-alert.placeholder_text",{delegateeLabel:this.translateService.instant(this.delegateeLabel)})}],buttons:[{text:this.translateService.instant("delegate-edit-popover.change-alert.cancel_label"),role:"cancel",cssClass:"secondary",handler:function(){e.popoverController.dismiss()}},{text:this.translateService.instant("delegate-edit-popover.change-alert.set-delegatee_label",{delegateeLabel:this.translateService.instant(this.delegateeLabel)}),handler:function(t){var n=t.delegateeAddress;return e.popoverController.dismiss({delegateeAddress:n}),!0}}]}]})})},DelegateEditPopoverComponent.\u0275fac=function DelegateEditPopoverComponent_Factory(e){return new(e||DelegateEditPopoverComponent)(d.Jb(s.a),d.Jb(s.qb),d.Jb(s.nb),d.Jb(r.d))},DelegateEditPopoverComponent.\u0275cmp=d.Db({type:DelegateEditPopoverComponent,selectors:[["app-delegate-edit-popover"]],decls:8,vars:4,consts:[["lines","none","no-detail","",1,"ion-no-padding","ion-no-margin"],["button","","detail","false",3,"click"],["name","create-outline","color","dark","slot","end"],[4,"ngIf"]],template:function DelegateEditPopoverComponent_Template(e,t){1&e&&(d.Ob(0,"ion-list",0),d.Ob(1,"ion-list-header"),d.Ob(2,"ion-label"),d.vc(3),d.Zb(4,"translate"),d.Nb(),d.Nb(),d.Ob(5,"ion-item",1),d.Wb("click",function DelegateEditPopoverComponent_Template_ion_item_click_5_listener(){return t.changeDelegatee()}),d.Kb(6,"ion-icon",2),d.tc(7,DelegateEditPopoverComponent_span_7_Template,4,8,"span",3),d.Nb(),d.Nb()),2&e&&(d.yb(3),d.wc(d.ac(4,2,"delegate-edit-popover.delegation-settings_label")),d.yb(4),d.ec("ngIf",t.delegateeLabel))},directives:[s.F,s.G,s.E,s.A,s.w,a.n],pipes:[r.c],styles:[""]}),DelegateEditPopoverComponent}(),p=n("nxqh"),u=n("hPkG"),h=n("oCjk"),f=n("2Eq5");function DelegationListPage_ng_container_16_ion_list_1_div_7_Template(e,t){if(1&e){var n=d.Pb();d.Ob(0,"div",15),d.Wb("click",function DelegationListPage_ng_container_16_ion_list_1_div_7_Template_div_click_0_listener(){d.mc(n);var e=t.$implicit;return d.Yb(3).navigateToDetails(e.address)}),d.Kb(1,"widget-account-summary",16),d.Nb()}if(2&e){var i=t.$implicit;d.yb(1),d.ec("widget",i)}}var delegation_list_page_c0=function(e){return{delegateeLabelPlural:e}};function DelegationListPage_ng_container_16_ion_list_1_Template(e,t){if(1&e&&(d.Ob(0,"ion-list",12),d.Ob(1,"ion-list-header"),d.Ob(2,"ion-label"),d.Ob(3,"ion-text",13),d.vc(4),d.Zb(5,"translate"),d.Zb(6,"translate"),d.Nb(),d.Nb(),d.Nb(),d.tc(7,DelegationListPage_ng_container_16_ion_list_1_div_7_Template,2,1,"div",14),d.Nb()),2&e){var n=d.Yb(2);d.yb(4),d.xc(" ",d.bc(5,2,"delegation-list.your-delegatees_label",d.ic(7,delegation_list_page_c0,d.ac(6,5,n.areMultipleDelegationsSupported?n.delegateeLabelPlural:n.delegateeLabel)))," "),d.yb(3),d.ec("ngForOf",n.currentDelegatees)}}function DelegationListPage_ng_container_16_Template(e,t){if(1&e&&(d.Mb(0),d.tc(1,DelegationListPage_ng_container_16_ion_list_1_Template,8,9,"ion-list",11),d.Lb()),2&e){var n=d.Yb();d.yb(1),d.ec("ngIf",n.currentDelegatees.length>0)}}function DelegationListPage_ng_template_17_Template(e,t){if(1&e&&(d.Ob(0,"ion-list",12),d.Ob(1,"ion-list-header"),d.Ob(2,"ion-label"),d.Ob(3,"ion-text",13),d.vc(4),d.Zb(5,"translate"),d.Zb(6,"translate"),d.Nb(),d.Nb(),d.Nb(),d.Ob(7,"ion-item"),d.Ob(8,"ion-avatar",2),d.Kb(9,"airgap-identicon"),d.Nb(),d.Ob(10,"ion-label"),d.Ob(11,"ion-text"),d.Ob(12,"ion-row",17),d.Ob(13,"ion-col",18),d.Ob(14,"h2"),d.Kb(15,"ion-skeleton-text",19),d.Nb(),d.Nb(),d.Ob(16,"ion-col",20),d.Kb(17,"ion-skeleton-text",21),d.Nb(),d.Nb(),d.Nb(),d.Ob(18,"ion-row",17),d.Ob(19,"ion-col",22),d.Ob(20,"ion-text"),d.Kb(21,"ion-skeleton-text",19),d.Nb(),d.Nb(),d.Ob(22,"ion-col",23),d.Ob(23,"ion-text"),d.Ob(24,"p",24),d.Kb(25,"ion-skeleton-text",21),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb()),2&e){var n=d.Yb();d.yb(4),d.xc(" ",d.bc(5,1,"delegation-list.your-delegatees_label",d.ic(6,delegation_list_page_c0,d.ac(6,4,n.delegateeLabelPlural)))," ")}}function DelegationListPage_ng_container_19_div_8_Template(e,t){if(1&e){var n=d.Pb();d.Ob(0,"div",15),d.Wb("click",function DelegationListPage_ng_container_19_div_8_Template_div_click_0_listener(){d.mc(n);var e=t.$implicit;return d.Yb(2).navigateToDetails(e.address)}),d.Kb(1,"widget-account-summary",16),d.Nb()}if(2&e){var i=t.$implicit;d.yb(1),d.ec("widget",i)}}function DelegationListPage_ng_container_19_p_9_Template(e,t){if(1&e&&(d.Ob(0,"p",28),d.vc(1),d.Zb(2,"translate"),d.Zb(3,"translate"),d.Nb()),2&e){var n=d.Yb(2);d.yb(1),d.xc(" ",d.bc(2,1,"delegation-list.not-supported_text",d.ic(6,delegation_list_page_c0,d.ac(3,4,n.delegateeLabelPlural)))," ")}}function DelegationListPage_ng_container_19_ion_infinite_scroll_10_Template(e,t){if(1&e){var n=d.Pb();d.Ob(0,"ion-infinite-scroll",29),d.Wb("ionInfinite",function DelegationListPage_ng_container_19_ion_infinite_scroll_10_Template_ion_infinite_scroll_ionInfinite_0_listener(){return d.mc(n),d.Yb(2).loadMoreItems()}),d.Kb(1,"ion-infinite-scroll-content"),d.Nb()}if(2&e){var i=d.Yb(2);d.ec("disabled",i.displayedDelegatees.length>=i.filteredDelegatees.length)}}function DelegationListPage_ng_container_19_ion_button_11_Template(e,t){if(1&e){var n=d.Pb();d.Ob(0,"ion-button",30),d.Wb("click",function DelegationListPage_ng_container_19_ion_button_11_Template_ion_button_click_0_listener(){return d.mc(n),d.Yb(2).loadMoreItems()}),d.vc(1),d.Zb(2,"translate"),d.Nb()}2&e&&(d.yb(1),d.xc(" ",d.ac(2,1,"delegation-list.load-more_label")," "))}function DelegationListPage_ng_container_19_Template(e,t){if(1&e&&(d.Mb(0),d.Ob(1,"ion-list",12),d.Ob(2,"ion-list-header"),d.Ob(3,"ion-label"),d.Ob(4,"ion-text",13),d.vc(5),d.Zb(6,"translate"),d.Zb(7,"translate"),d.Nb(),d.Nb(),d.Nb(),d.tc(8,DelegationListPage_ng_container_19_div_8_Template,2,1,"div",14),d.Nb(),d.tc(9,DelegationListPage_ng_container_19_p_9_Template,4,8,"p",25),d.tc(10,DelegationListPage_ng_container_19_ion_infinite_scroll_10_Template,2,1,"ion-infinite-scroll",26),d.tc(11,DelegationListPage_ng_container_19_ion_button_11_Template,3,3,"ion-button",27),d.Lb()),2&e){var n=d.Yb();d.yb(5),d.xc(" ",d.bc(6,5,"delegation-list.known-delegatees_label",d.ic(10,delegation_list_page_c0,d.ac(7,8,n.delegateeLabelPlural)))," "),d.yb(3),d.ec("ngForOf",n.displayedDelegatees),d.yb(1),d.ec("ngIf",0===n.knownDelegatees.length),d.yb(1),d.ec("ngIf",!n.isDesktop),d.yb(1),d.ec("ngIf",n.isDesktop&&n.displayedDelegatees.length<n.filteredDelegatees.length)}}function DelegationListPage_ng_template_20_Template(e,t){if(1&e&&(d.Ob(0,"ion-list",12),d.Ob(1,"ion-list-header"),d.Ob(2,"ion-label"),d.Ob(3,"ion-text",13),d.vc(4),d.Zb(5,"translate"),d.Zb(6,"translate"),d.Nb(),d.Nb(),d.Nb(),d.Ob(7,"ion-item"),d.Ob(8,"ion-avatar",2),d.Kb(9,"airgap-identicon"),d.Nb(),d.Ob(10,"ion-label"),d.Ob(11,"ion-text"),d.Ob(12,"ion-row",17),d.Ob(13,"ion-col",18),d.Ob(14,"h2"),d.Kb(15,"ion-skeleton-text",19),d.Nb(),d.Nb(),d.Ob(16,"ion-col",20),d.Kb(17,"ion-skeleton-text",21),d.Nb(),d.Nb(),d.Nb(),d.Ob(18,"ion-row",17),d.Ob(19,"ion-col",22),d.Ob(20,"ion-text"),d.Kb(21,"ion-skeleton-text",19),d.Nb(),d.Nb(),d.Ob(22,"ion-col",23),d.Ob(23,"ion-text"),d.Ob(24,"p",24),d.Kb(25,"ion-skeleton-text",21),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Nb()),2&e){var n=d.Yb();d.yb(4),d.xc(" ",d.bc(5,1,"delegation-list.known-delegatees_label",d.ic(6,delegation_list_page_c0,d.ac(6,4,n.delegateeLabelPlural)))," ")}}var D=[{path:"",component:function(){function DelegationListPage(e,t,n,i,a,o){this.route=e,this.navController=t,this.operations=n,this.popoverController=i,this.ngZone=a,this.platform=o,this.searchTerm="",this.currentDelegatees=[],this.knownDelegatees=[],this.filteredDelegatees=[],this.displayedDelegatees=[],this.isDesktop=this.platform.is("desktop")}return Object.defineProperty(DelegationListPage.prototype,"itemLoadingStep",{get:function(){return this.isDesktop?DelegationListPage.DESKTOP_ITEM_LOADING_STEP:DelegationListPage.DEFAULT_ITEM_LOADING_STEP},enumerable:!1,configurable:!0}),DelegationListPage.prototype.ngOnInit=function(){var e=this;if(this.route.snapshot.data.special){var t=this.route.snapshot.data.special;this.wallet=t.wallet,this.delegateeLabel=t.delegateeLabel,this.delegateeLabelPlural=t.delegateeLabelPlural,this.areMultipleDelegationsSupported=t.areMultipleDelegationsSupported,this.callback=t.callback,this.operations.getDelegateesSummary(this.wallet,t.currentDelegatees).then(function(n){e.currentDelegatees=n.filter(function(e){return void 0!==e.address&&t.currentDelegatees.includes(e.address)}),e.knownDelegatees=n.filter(function(e){return!t.currentDelegatees.includes(e.address)}),e.filteredDelegatees=e.knownDelegatees,e.ngZone.run(function(){e.loadMoreItems(e.itemLoadingStep)})})}},DelegationListPage.prototype.presentPopover=function(e){return Object(b.b)(this,void 0,void 0,function(){var t,n=this;return Object(b.e)(this,function(i){switch(i.label){case 0:return[4,this.popoverController.create({component:_,componentProps:{delegateeLabel:this.delegateeLabel,delegateeLabelPlural:this.delegateeLabelPlural},event:e,translucent:!0})];case 1:return(t=i.sent()).onDidDismiss().then(function(e){var t=e.data;return Object(b.b)(n,void 0,void 0,function(){return Object(b.e)(this,function(e){return Object(h.b)(t,"delegateeAddress")?this.navigateToDetails(t.delegateeAddress):console.log("Unknown option selected."),[2]})})}).catch(Object(u.b)(u.a.IONIC_ALERT)),[2,t.present().catch(Object(u.b)(u.a.NAVIGATION))]}})})},DelegationListPage.prototype.setFilteredItems=function(e){0===e.length?this.filteredDelegatees=this.knownDelegatees:this.filteredDelegatees=this.knownDelegatees.filter(function(t){var n=e.toLowerCase(),i=t.address.toLowerCase().includes(n),a=t.header[0].toLowerCase().includes(n);return i||a}),this.displayedDelegatees=this.getFilteredDlegatees()},DelegationListPage.prototype.loadMoreItems=function(e){return void 0===e&&(e=this.itemLoadingStep),Object(b.b)(this,void 0,void 0,function(){return Object(b.e)(this,function(t){switch(t.label){case 0:return 0===this.searchTerm.length&&(this.displayedDelegatees=Object(b.i)(this.displayedDelegatees,this.getFilteredDlegatees(Math.max(this.displayedDelegatees.length-1,0),e)).filter(function(e,t,n){return n.indexOf(e)===t})),this.infiniteScroll?[4,this.infiniteScroll.complete()]:[3,2];case 1:t.sent(),this.displayedDelegatees.length===this.knownDelegatees.length&&(this.infiniteScroll.disabled=!0),t.label=2;case 2:return[2]}})})},DelegationListPage.prototype.navigateToDetails=function(e){this.callback(e),this.navController.pop()},DelegationListPage.prototype.getFilteredDlegatees=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.itemLoadingStep),this.filteredDelegatees.slice(0,e+t)},DelegationListPage.DEFAULT_ITEM_LOADING_STEP=10,DelegationListPage.DESKTOP_ITEM_LOADING_STEP=30,DelegationListPage.\u0275fac=function DelegationListPage_Factory(e){return new(e||DelegationListPage)(d.Jb(l.a),d.Jb(s.mb),d.Jb(p.a),d.Jb(s.qb),d.Jb(d.A),d.Jb(s.pb))},DelegationListPage.\u0275cmp=d.Db({type:DelegationListPage,selectors:[["delegation-list"]],viewQuery:function DelegationListPage_Query(e,t){var n;1&e&&d.Ac(s.x,!0),2&e&&d.kc(n=d.Xb())&&(t.infiniteScroll=n.first)},decls:22,vars:13,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],["slot","end"],["color","secondary",3,"click"],["name","ellipsis-vertical-outline"],[3,"ngModel","ngModelChange","ionChange"],[4,"ngIf","ngIfElse"],["currentLoadingTemplate",""],["filteredLoadingTemplate",""],["lines","none",4,"ngIf"],["lines","none"],["color","primary",1,"font--weight__bold","ion-ion-text"],["class","ion-padding-horizontal",3,"click",4,"ngFor","ngForOf"],[1,"ion-padding-horizontal",3,"click"],[3,"widget"],[1,"ion-no-padding"],["size","9",1,"ion-no-padding"],["animated","",2,"width","80%"],["size","3",1,"ion-no-padding"],["animated","",2,"width","100%"],["size","4",1,"ion-no-padding"],["size","8",1,"ion-no-padding"],[1,"ion-no-margin"],["class","ion-padding-horizontal",4,"ngIf"],[3,"disabled","ionInfinite",4,"ngIf"],["fill","outline","expand","block",3,"click",4,"ngIf"],[1,"ion-padding-horizontal"],[3,"disabled","ionInfinite"],["fill","outline","expand","block",3,"click"]],template:function DelegationListPage_Template(e,t){if(1&e&&(d.Ob(0,"ion-header",0),d.Ob(1,"ion-grid",1),d.Ob(2,"ion-toolbar"),d.Ob(3,"ion-buttons",2),d.Kb(4,"ion-back-button",3),d.Nb(),d.Ob(5,"ion-title"),d.vc(6),d.Zb(7,"translate"),d.Zb(8,"translate"),d.Nb(),d.Ob(9,"ion-buttons",4),d.Ob(10,"ion-button",5),d.Wb("click",function DelegationListPage_Template_ion_button_click_10_listener(e){return t.presentPopover(e)}),d.Kb(11,"ion-icon",6),d.Nb(),d.Nb(),d.Nb(),d.Ob(12,"ion-toolbar"),d.Ob(13,"ion-searchbar",7),d.Wb("ngModelChange",function DelegationListPage_Template_ion_searchbar_ngModelChange_13_listener(e){return t.searchTerm=e})("ionChange",function DelegationListPage_Template_ion_searchbar_ionChange_13_listener(){return t.setFilteredItems(t.searchTerm)}),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Ob(14,"ion-content"),d.Ob(15,"ion-grid",1),d.tc(16,DelegationListPage_ng_container_16_Template,2,1,"ng-container",8),d.tc(17,DelegationListPage_ng_template_17_Template,26,8,"ng-template",null,9,d.uc),d.tc(19,DelegationListPage_ng_container_19_Template,12,12,"ng-container",8),d.tc(20,DelegationListPage_ng_template_20_Template,26,8,"ng-template",null,10,d.uc),d.Nb(),d.Nb()),2&e){var n=d.lc(18),i=d.lc(21);d.yb(6),d.wc(d.bc(7,6,"delegation-list.title",d.ic(11,delegation_list_page_c0,d.ac(8,9,t.delegateeLabelPlural)))),d.yb(7),d.ec("ngModel",t.searchTerm),d.yb(3),d.ec("ngIf",t.currentDelegatees)("ngIfElse",n),d.yb(3),d.ec("ngIf",t.displayedDelegatees)("ngIfElse",i)}},directives:[s.v,s.u,s.hb,s.j,s.f,s.g,s.fb,s.i,s.w,s.S,s.ub,o.h,o.j,s.q,a.n,s.F,s.G,s.E,s.db,a.m,f.a,s.A,s.e,i.r,s.R,s.p,s.V,s.x,s.y],pipes:[r.c],styles:[".sc-ion-label-ios-s[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .sc-ion-label-md-s[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.list-ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:8px}"]}),DelegationListPage}()}],v=function(){function DelegationListPageModule(){}return DelegationListPageModule.\u0275mod=d.Hb({type:DelegationListPageModule}),DelegationListPageModule.\u0275inj=d.Gb({factory:function DelegationListPageModule_Factory(e){return new(e||DelegationListPageModule)},imports:[[a.c,o.e,s.ib,r.b,c.a,g.a,l.j.forChild(D),i.d]]}),DelegationListPageModule}()}}]);