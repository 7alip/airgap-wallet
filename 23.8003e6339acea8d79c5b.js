(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"68Zl":function(e,t,n){"use strict";n.r(t),n.d(t,"ExchangeConfirmPageModule",function(){return w});var i=n("138U"),o=n("ofXK"),a=n("3Pt+"),r=n("tyNb"),c=n("TEn/"),s=n("sYmb"),b=n("j1ZV"),l=n("mrSG"),h=n("RKiA"),d=n("kB5k"),u=n.n(d),m=n("1y+R"),p=n("nxqh"),f=n("hPkG"),g=n("dW0/"),y=n("jysE"),x=n("fXoL");function v(e,t){if(1&e){var n=x.Pb();x.Ob(0,"ion-row",19),x.Wb("click",function(){return x.mc(n),x.Yb().changellyUrl()}),x.Kb(1,"small",20),x.Zb(2,"translate"),x.Nb()}2&e&&(x.yb(1),x.ec("innerHTML",x.ac(2,1,"exchange-confirm.changelly_disclaimer"),x.nc))}function N(e,t){if(1&e){var n=x.Pb();x.Ob(0,"ion-row",19),x.Wb("click",function(){return x.mc(n),x.Yb().changeNowUrl()}),x.Kb(1,"small",20),x.Zb(2,"translate"),x.Nb()}2&e&&(x.yb(1),x.ec("innerHTML",x.ac(2,1,"exchange-confirm.changenow_disclaimer"),x.nc))}var O=function(){function e(e,t,n,i,o,a){var r=this;if(this.router=e,this.exchangeProvider=t,this.route=n,this.operationsProvider=i,this.dataService=o,this.browserService=a,this.route.snapshot.data.special){var c=this.route.snapshot.data.special;this.fromWallet=c.fromWallet,this.toWallet=c.toWallet,this.fromCurrency=c.fromCurrency,this.toCurrency=c.toCurrency,this.exchangeResult=c.exchangeResult,this.fee=c.fee,this.memo=c.memo,this.amountExpectedFrom=this.exchangeResult.amountExpectedFrom?this.exchangeResult.amountExpectedFrom:c.amountExpectedFrom,this.amountExpectedTo=this.exchangeResult.amountExpectedTo?this.exchangeResult.amountExpectedTo:c.amountExpectedTo,this.feeFiatAmount=new u.a(this.fee).multipliedBy(this.fromWallet.currentMarketPrice).toString(),this.fromFiatAmount=new u.a(this.amountExpectedFrom).multipliedBy(this.fromWallet.currentMarketPrice).toNumber(),this.toFiatAmount=new u.a(this.amountExpectedTo).multipliedBy(this.toWallet.currentMarketPrice).toNumber()}this.exchangeProvider.getActiveExchange().subscribe(function(e){r.activeExchange=e})}return e.prototype.prepareTransaction=function(){return Object(l.b)(this,void 0,void 0,function(){var e,t,n,i;return Object(l.e)(this,function(o){switch(o.label){case 0:e=this.fromWallet,t=new u.a(new u.a(this.amountExpectedFrom)).shiftedBy(e.protocol.decimals),n=new u.a(this.fee).shiftedBy(e.protocol.feeDecimals),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.operationsProvider.prepareTransaction(e,this.exchangeResult.payinAddress,t,n,this.memo)];case 2:return i=o.sent(),this.dataService.setData(m.b.INTERACTION,{wallet:e,airGapTxs:i.airGapTxs,data:i.unsignedTx,type:h.IACMessageType.TransactionSignRequest}),this.router.navigateByUrl("/interaction-selection/"+m.b.INTERACTION).catch(Object(f.b)(f.a.NAVIGATION)),[3,4];case 3:return o.sent(),[3,4];case 4:return[2]}})})},e.prototype.changellyUrl=function(){this.browserService.openUrl("https://old.changelly.com/aml-kyc")},e.prototype.changeNowUrl=function(){this.browserService.openUrl("https://support.changenow.io/hc/en-us/articles/360011609979")},e.\u0275fac=function(t){return new(t||e)(x.Jb(r.g),x.Jb(g.a),x.Jb(r.a),x.Jb(p.a),x.Jb(m.a),x.Jb(y.a))},e.\u0275cmp=x.Db({type:e,selectors:[["page-exchange-confirm"]],decls:53,vars:47,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],[1,"ion-padding-end"],[1,"ion-padding-start","ion-padding-bottom",3,"innerHTML"],[3,"address","title","hasSymbol","symbol"],[1,"ion-align-items-center","ion-padding-vertical"],["size","3",1,"ion-no-padding"],[1,"ion-justify-content-center"],[1,"line--first"],["size","9",1,"ion-padding-bottom"],["position","stacked",1,"ion-text-uppercase"],["item-content","",1,"typography--mono"],[1,"typography--mono"],[1,"line--second"],["class","ion-padding ion-margin-vertical",3,"click",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","primary","shape","round",3,"click"],[1,"ion-padding","ion-margin-vertical",3,"click"],[3,"innerHTML"]],template:function(e,t){1&e&&(x.Ob(0,"ion-header",0),x.Ob(1,"ion-grid",1),x.Ob(2,"ion-toolbar"),x.Ob(3,"ion-buttons",2),x.Kb(4,"ion-back-button",3),x.Nb(),x.Ob(5,"ion-title"),x.vc(6),x.Zb(7,"translate"),x.Nb(),x.Nb(),x.Nb(),x.Nb(),x.Ob(8,"ion-content",4),x.Ob(9,"ion-grid",1),x.Kb(10,"h3",5),x.Zb(11,"translate"),x.Kb(12,"airgap-titled-address",6),x.Ob(13,"ion-row",7),x.Ob(14,"ion-col",8),x.Ob(15,"ion-row",9),x.Kb(16,"div",10),x.Nb(),x.Nb(),x.Ob(17,"ion-col",11),x.Ob(18,"ion-label",12),x.vc(19),x.Zb(20,"translate"),x.Nb(),x.Ob(21,"div",13),x.Ob(22,"span",14),x.vc(23),x.Zb(24,"number"),x.Nb(),x.Nb(),x.Mb(25),x.Ob(26,"ion-label",12),x.vc(27),x.Zb(28,"translate"),x.Nb(),x.Ob(29,"div",13),x.Ob(30,"span",14),x.vc(31),x.Zb(32,"number"),x.Nb(),x.Nb(),x.Lb(),x.Nb(),x.Nb(),x.Kb(33,"airgap-titled-address",6),x.Ob(34,"ion-row",7),x.Ob(35,"ion-col",8),x.Ob(36,"ion-row",9),x.Kb(37,"div",15),x.Nb(),x.Nb(),x.Ob(38,"ion-col",11),x.Ob(39,"ion-label",12),x.vc(40),x.Zb(41,"translate"),x.Nb(),x.Ob(42,"div",13),x.Ob(43,"span",14),x.vc(44),x.Zb(45,"number"),x.Nb(),x.Nb(),x.Nb(),x.Nb(),x.Kb(46,"airgap-titled-address",6),x.tc(47,v,3,3,"ion-row",16),x.tc(48,N,3,3,"ion-row",16),x.Nb(),x.Ob(49,"ion-fab",17),x.Ob(50,"ion-button",18),x.Wb("click",function(){return t.prepareTransaction()}),x.vc(51),x.Zb(52,"translate"),x.Nb(),x.Nb(),x.Nb()),2&e&&(x.yb(6),x.wc(x.ac(7,26,"exchange-confirm.title")),x.yb(4),x.ec("innerHTML",x.ac(11,28,"exchange-confirm.heading"),x.nc),x.yb(2),x.ec("address",t.fromWallet.receivingPublicAddress)("title","exchange-confirm.sell_label")("hasSymbol",!0)("symbol",t.fromCurrency),x.yb(7),x.wc(x.ac(20,30,"exchange-confirm.sell-amount_label")),x.yb(4),x.yc("",t.amountExpectedFrom," (~$",x.bc(24,32,t.fromFiatAmount,"1.2-2"),")"),x.yb(4),x.wc(x.ac(28,35,"exchange-confirm.fee_label")),x.yb(4),x.yc("",t.fee," (~$",x.bc(32,37,t.feeFiatAmount,"1.2-2"),")"),x.yb(2),x.ec("address",t.exchangeResult.payinAddress)("title","exchange-confirm.exchange-address_label")("hasSymbol",!0)("symbol",t.fromCurrency),x.yb(7),x.wc(x.ac(41,40,"exchange-confirm.buy-amount_label")),x.yb(4),x.yc("",t.amountExpectedTo," (~$",x.bc(45,42,t.toFiatAmount,"1.2-2"),")"),x.yb(2),x.ec("address",t.toWallet.receivingPublicAddress)("title","exchange-confirm.receiving-to_label")("hasSymbol",!0)("symbol",t.toCurrency),x.yb(1),x.ec("ngIf","Changelly"===t.activeExchange),x.yb(1),x.ec("ngIf","ChangeNow"===t.activeExchange),x.yb(3),x.xc(" ",x.ac(52,45,"exchange-confirm.confirm-exchange_label")," "))},directives:[c.v,c.u,c.hb,c.j,c.f,c.g,c.fb,c.q,i.E,c.R,c.p,c.E,o.n,c.r,c.i],pipes:[s.c,o.f],styles:[".line--first[_ngcontent-%COMP%]{height:96px}.line--second[_ngcontent-%COMP%]{height:48px}.line--first[_ngcontent-%COMP%], .line--second[_ngcontent-%COMP%]{border-left:1px solid var(--ion-color-dark)}"]}),e}(),w=function(){function e(){}return e.\u0275mod=x.Hb({type:e}),e.\u0275inj=x.Gb({factory:function(t){return new(t||e)},imports:[[c.ib,o.c,a.e,b.a,s.b,r.j.forChild([{path:"",component:O}]),i.d]]}),e}()}}]);