(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"+hnQ":function(t,o,e){"use strict";e.r(o),e.d(o,"AccountAddPageModule",function(){return y});var c=e("ofXK"),n=e("3Pt+"),r=e("tyNb"),i=e("TEn/"),a=e("sYmb"),u=e("j1ZV"),d=e("mrSG"),l=e("RKiA"),s=e("14cC"),b=e("57MG"),A=e("1y+R"),p=e("z26V"),f=e("hPkG"),m=e("X9E/"),_=e("fXoL"),g=e("138U"),h=e("Bx04");function AccountAddPage_ion_text_13_Template(t,o){1&t&&(_.Ob(0,"ion-text",12),_.Ob(1,"p",13),_.vc(2),_.Zb(3,"translate"),_.Nb(),_.Nb()),2&t&&(_.yb(2),_.xc(" ",_.ac(3,1,"account-add.featured")," "))}function AccountAddPage_currency_item_14_Template(t,o){if(1&t){var e=_.Pb();_.Ob(0,"currency-item",14),_.Wb("click",function AccountAddPage_currency_item_14_Template_currency_item_click_0_listener(){_.mc(e);var t=o.$implicit;return _.Yb().addAccount(t)}),_.Nb()}if(2&t){var c=o.$implicit;_.ec("protocol",c)}}function AccountAddPage_currency_item_15_Template(t,o){if(1&t){var e=_.Pb();_.Ob(0,"currency-item",14),_.Wb("click",function AccountAddPage_currency_item_15_Template_currency_item_click_0_listener(){_.mc(e);var t=o.$implicit;return _.Yb().addSubAccount(t)}),_.Nb()}if(2&t){var c=o.$implicit;_.ec("protocol",c)}}function AccountAddPage_ion_text_16_Template(t,o){1&t&&(_.Ob(0,"ion-text",12),_.Ob(1,"p",13),_.vc(2),_.Zb(3,"translate"),_.Nb(),_.Nb()),2&t&&(_.yb(2),_.xc(" ",_.ac(3,1,"account-add.others")," "))}function AccountAddPage_currency_item_17_Template(t,o){if(1&t){var e=_.Pb();_.Ob(0,"currency-item",14),_.Wb("click",function AccountAddPage_currency_item_17_Template_currency_item_click_0_listener(){_.mc(e);var t=o.$implicit;return _.Yb().addSubAccount(t)}),_.Nb()}if(2&t){var c=o.$implicit;_.ec("protocol",c)}}var P=function(){function AccountAddPage(t,o,e,c,n,r){this.platform=t,this.accountProvider=o,this.protocolService=e,this.router=c,this.ledgerService=n,this.dataService=r,this.searchTerm="",this.supportedAccountProtocols=[],this.featuredSubAccountProtocols=[],this.otherSubAccountProtocols=[],this.filteredAccountProtocols=[],this.filteredFeaturedSubAccountProtocols=[],this.filteredOtherSubAccountProtocols=[],this.featuredSubProtocols=[l.SubProtocolSymbols.XTZ_KT,l.SubProtocolSymbols.XTZ_BTC,l.SubProtocolSymbols.XTZ_USD,l.SubProtocolSymbols.XTZ_STKR,l.SubProtocolSymbols.ETH_ERC20_XCHF]}return AccountAddPage.prototype.ionViewWillEnter=function(){return Object(d.b)(this,void 0,void 0,function(){var t,o,e,c,n,r=this;return Object(d.e)(this,function(i){switch(i.label){case 0:return t=this,[4,this.protocolService.getActiveProtocols()];case 1:return t.supportedAccountProtocols=i.sent().filter(function(t){return t.options.network.type===s.NetworkType.MAINNET}),c=(e=Array.prototype.concat).apply,n=[[]],[4,Promise.all(Object.values(l.MainProtocolSymbols).map(function(t){return r.protocolService.getSubProtocols(t)}))];case 2:return o=c.apply(e,n.concat([i.sent()])),this.featuredSubAccountProtocols=o.filter(function(t){return r.featuredSubProtocols.includes(t.identifier.toLowerCase())&&t.options.network.type===s.NetworkType.MAINNET&&t.identifier!==l.SubProtocolSymbols.XTZ_KT}),this.otherSubAccountProtocols=o.filter(function(t){return!r.featuredSubProtocols.includes(t.identifier.toLowerCase())&&t.options.network.type===s.NetworkType.MAINNET&&t.identifier!==l.SubProtocolSymbols.XTZ_KT}),this.filterProtocols(),[2]}})})},AccountAddPage.prototype.searchTermChanged=function(){this.filterProtocols()},AccountAddPage.prototype.filterProtocols=function(){var t=this.searchTerm.toLowerCase();this.filteredAccountProtocols=this.supportedAccountProtocols.filter(function(o){return o.name.toLowerCase().includes(t)||o.symbol.toLowerCase().includes(t)}),this.filteredFeaturedSubAccountProtocols=this.featuredSubAccountProtocols.filter(function(o){return o.name.toLowerCase().includes(t)||o.symbol.toLowerCase().includes(t)}),this.filteredOtherSubAccountProtocols=this.otherSubAccountProtocols.filter(function(o){return o.name.toLowerCase().includes(t)||o.symbol.toLowerCase().includes(t)})},AccountAddPage.prototype.addAccount=function(t){this.ledgerService.isProtocolSupported(t)&&this.platform.is("desktop")?this.showImportInteractionSelection(t):this.importFromVault(t)},AccountAddPage.prototype.addSubAccount=function(t){var o=t.identifier.split("-")[0];this.accountProvider.getWalletList().filter(function(e){return e.protocol.identifier===o&&e.protocol.options.network.identifier===t.options.network.identifier}).length>0?this.router.navigateByUrl("/sub-account-import/"+A.b.PROTOCOL+"/"+t.identifier+"/"+t.options.network.identifier).catch(function(t){return console.error(t)}):this.router.navigateByUrl("/account-import-onboarding/"+A.b.PROTOCOL+"/"+t.identifier).catch(Object(f.b)(f.a.NAVIGATION))},AccountAddPage.prototype.showImportInteractionSelection=function(t){var o=this,e={callback:function(e){switch(e){case m.a.VAULT:o.importFromVault(t);break;case m.a.LEDGER:o.importFromLedger(t);break;default:console.log("Unkonw import interaction type selected.")}}};this.dataService.setData(A.b.INTERACTION,e),this.router.navigateByUrl("/account-import-interaction-selection/"+A.b.INTERACTION,{skipLocationChange:!0}).catch(Object(f.b)(f.a.NAVIGATION))},AccountAddPage.prototype.importFromLedger=function(t){return Object(d.b)(this,void 0,void 0,function(){return Object(d.e)(this,function(o){return this.router.navigateByUrl("/account-import-ledger-onboarding/"+A.b.PROTOCOL+"/"+t.identifier).catch(Object(f.b)(f.a.NAVIGATION)),[2]})})},AccountAddPage.prototype.importFromVault=function(t){this.router.navigateByUrl("/account-import-onboarding/"+A.b.PROTOCOL+"/"+t.identifier).catch(Object(f.b)(f.a.NAVIGATION))},AccountAddPage.prototype.navigateToScan=function(){this.router.navigateByUrl("/tabs/scan").catch(Object(f.b)(f.a.NAVIGATION))},AccountAddPage.\u0275fac=function AccountAddPage_Factory(t){return new(t||AccountAddPage)(_.Jb(i.pb),_.Jb(b.a),_.Jb(g.x),_.Jb(r.g),_.Jb(p.a),_.Jb(A.a))},AccountAddPage.\u0275cmp=_.Db({type:AccountAddPage,selectors:[["page-account-add"]],decls:21,vars:9,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],["mode","md",3,"ngModel","ngModelChange","ionChange"],[1,"ion-padding"],["lines","none"],["color","primary",4,"ngIf"],[3,"protocol","click",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["id","add-more-coins-button","color","secondary",3,"click"],["name","barcode-outline"],["color","primary"],[1,"font--weight__bold"],[3,"protocol","click"]],template:function AccountAddPage_Template(t,o){1&t&&(_.Ob(0,"ion-header",0),_.Ob(1,"ion-grid",1),_.Ob(2,"ion-toolbar"),_.Ob(3,"ion-buttons",2),_.Kb(4,"ion-back-button",3),_.Nb(),_.Ob(5,"ion-title"),_.vc(6),_.Zb(7,"translate"),_.Nb(),_.Nb(),_.Ob(8,"ion-toolbar"),_.Ob(9,"ion-searchbar",4),_.Wb("ngModelChange",function AccountAddPage_Template_ion_searchbar_ngModelChange_9_listener(t){return o.searchTerm=t})("ionChange",function AccountAddPage_Template_ion_searchbar_ionChange_9_listener(){return o.searchTermChanged()}),_.Nb(),_.Nb(),_.Nb(),_.Nb(),_.Ob(10,"ion-content",5),_.Ob(11,"ion-grid",1),_.Ob(12,"ion-list",6),_.tc(13,AccountAddPage_ion_text_13_Template,4,3,"ion-text",7),_.tc(14,AccountAddPage_currency_item_14_Template,1,1,"currency-item",8),_.tc(15,AccountAddPage_currency_item_15_Template,1,1,"currency-item",8),_.tc(16,AccountAddPage_ion_text_16_Template,4,3,"ion-text",7),_.tc(17,AccountAddPage_currency_item_17_Template,1,1,"currency-item",8),_.Nb(),_.Nb(),_.Nb(),_.Ob(18,"ion-fab",9),_.Ob(19,"ion-fab-button",10),_.Wb("click",function AccountAddPage_Template_ion_fab_button_click_19_listener(){return o.navigateToScan()}),_.Kb(20,"ion-icon",11),_.Nb(),_.Nb()),2&t&&(_.yb(6),_.wc(_.ac(7,7,"add-account.title")),_.yb(3),_.ec("ngModel",o.searchTerm),_.yb(4),_.ec("ngIf",o.filteredAccountProtocols.length>0||o.filteredFeaturedSubAccountProtocols.length>0),_.yb(1),_.ec("ngForOf",o.filteredAccountProtocols),_.yb(1),_.ec("ngForOf",o.filteredFeaturedSubAccountProtocols),_.yb(1),_.ec("ngIf",o.filteredOtherSubAccountProtocols.length>0),_.yb(1),_.ec("ngForOf",o.filteredOtherSubAccountProtocols))},directives:[i.v,i.u,i.hb,i.j,i.f,i.g,i.fb,i.S,i.ub,n.h,n.j,i.q,i.F,c.n,c.m,i.r,i.s,i.w,i.db,h.a],pipes:[a.c],styles:[".item__image[_ngcontent-%COMP%]{width:32px;height:32px}"]}),AccountAddPage}(),y=function(){function AccountAddPageModule(){}return AccountAddPageModule.\u0275mod=_.Hb({type:AccountAddPageModule}),AccountAddPageModule.\u0275inj=_.Gb({factory:function AccountAddPageModule_Factory(t){return new(t||AccountAddPageModule)},imports:[[i.ib,c.c,n.e,u.a,a.b,r.j.forChild([{path:"",component:P}])]]}),AccountAddPageModule}()}}]);