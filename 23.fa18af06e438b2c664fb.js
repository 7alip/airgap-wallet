(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"68Zl":function(e,n,t){"use strict";t.r(n),t.d(n,"ExchangeConfirmPageModule",function(){return E});var o=t("138U"),i=t("ofXK"),a=t("3Pt+"),r=t("tyNb"),c=t("TEn/"),s=t("sYmb"),l=t("j1ZV"),b=t("mrSG"),h=t("RKiA"),m=t("kB5k"),g=t.n(m),d=t("1y+R"),u=t("nxqh"),f=t("hPkG"),p=t("dW0/"),x=t("jysE"),y=t("fXoL");function ExchangeConfirmPage_ion_row_47_Template(e,n){if(1&e){var t=y.Pb();y.Ob(0,"ion-row",19),y.Wb("click",function ExchangeConfirmPage_ion_row_47_Template_ion_row_click_0_listener(){return y.mc(t),y.Yb().changellyUrl()}),y.Kb(1,"small",20),y.Zb(2,"translate"),y.Nb()}2&e&&(y.yb(1),y.ec("innerHTML",y.ac(2,1,"exchange-confirm.changelly_disclaimer"),y.nc))}function ExchangeConfirmPage_ion_row_48_Template(e,n){if(1&e){var t=y.Pb();y.Ob(0,"ion-row",19),y.Wb("click",function ExchangeConfirmPage_ion_row_48_Template_ion_row_click_0_listener(){return y.mc(t),y.Yb().changeNowUrl()}),y.Kb(1,"small",20),y.Zb(2,"translate"),y.Nb()}2&e&&(y.yb(1),y.ec("innerHTML",y.ac(2,1,"exchange-confirm.changenow_disclaimer"),y.nc))}var _=function(){function ExchangeConfirmPage(e,n,t,o,i,a){var r=this;if(this.router=e,this.exchangeProvider=n,this.route=t,this.operationsProvider=o,this.dataService=i,this.browserService=a,this.route.snapshot.data.special){var c=this.route.snapshot.data.special;this.fromWallet=c.fromWallet,this.toWallet=c.toWallet,this.fromCurrency=c.fromCurrency,this.toCurrency=c.toCurrency,this.exchangeResult=c.exchangeResult,this.fee=c.fee,this.memo=c.memo,this.amountExpectedFrom=this.exchangeResult.amountExpectedFrom?this.exchangeResult.amountExpectedFrom:c.amountExpectedFrom,this.amountExpectedTo=this.exchangeResult.amountExpectedTo?this.exchangeResult.amountExpectedTo:c.amountExpectedTo,this.feeFiatAmount=new g.a(this.fee).multipliedBy(this.fromWallet.currentMarketPrice).toString(),this.fromFiatAmount=new g.a(this.amountExpectedFrom).multipliedBy(this.fromWallet.currentMarketPrice).toNumber(),this.toFiatAmount=new g.a(this.amountExpectedTo).multipliedBy(this.toWallet.currentMarketPrice).toNumber()}this.exchangeProvider.getActiveExchange().subscribe(function(e){r.activeExchange=e})}return ExchangeConfirmPage.prototype.prepareTransaction=function(){return Object(b.b)(this,void 0,void 0,function(){var e,n,t,o,i,a,r;return Object(b.e)(this,function(c){switch(c.label){case 0:e=this.fromWallet,n=new g.a(new g.a(this.amountExpectedFrom)).shiftedBy(e.protocol.decimals),t=new g.a(this.fee).shiftedBy(e.protocol.feeDecimals),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.operationsProvider.prepareTransaction(e,this.exchangeResult.payinAddress,n,t,this.memo)];case 2:return o=c.sent(),i=o.airGapTxs,a=o.unsignedTx,r={wallet:e,airGapTxs:i,data:a,type:h.IACMessageType.TransactionSignRequest},this.dataService.setData(d.b.INTERACTION,r),this.router.navigateByUrl("/interaction-selection/"+d.b.INTERACTION).catch(Object(f.b)(f.a.NAVIGATION)),[3,4];case 3:return c.sent(),[3,4];case 4:return[2]}})})},ExchangeConfirmPage.prototype.changellyUrl=function(){this.browserService.openUrl("https://old.changelly.com/aml-kyc")},ExchangeConfirmPage.prototype.changeNowUrl=function(){this.browserService.openUrl("https://support.changenow.io/hc/en-us/articles/360011609979")},ExchangeConfirmPage.\u0275fac=function ExchangeConfirmPage_Factory(e){return new(e||ExchangeConfirmPage)(y.Jb(r.g),y.Jb(p.a),y.Jb(r.a),y.Jb(u.a),y.Jb(d.a),y.Jb(x.a))},ExchangeConfirmPage.\u0275cmp=y.Db({type:ExchangeConfirmPage,selectors:[["page-exchange-confirm"]],decls:53,vars:47,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],[1,"ion-padding-end"],[1,"ion-padding-start","ion-padding-bottom",3,"innerHTML"],[3,"address","title","hasSymbol","symbol"],[1,"ion-align-items-center","ion-padding-vertical"],["size","3",1,"ion-no-padding"],[1,"ion-justify-content-center"],[1,"line--first"],["size","9",1,"ion-padding-bottom"],["position","stacked",1,"ion-text-uppercase"],["item-content","",1,"typography--mono"],[1,"typography--mono"],[1,"line--second"],["class","ion-padding ion-margin-vertical",3,"click",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["color","primary","shape","round",3,"click"],[1,"ion-padding","ion-margin-vertical",3,"click"],[3,"innerHTML"]],template:function ExchangeConfirmPage_Template(e,n){1&e&&(y.Ob(0,"ion-header",0),y.Ob(1,"ion-grid",1),y.Ob(2,"ion-toolbar"),y.Ob(3,"ion-buttons",2),y.Kb(4,"ion-back-button",3),y.Nb(),y.Ob(5,"ion-title"),y.vc(6),y.Zb(7,"translate"),y.Nb(),y.Nb(),y.Nb(),y.Nb(),y.Ob(8,"ion-content",4),y.Ob(9,"ion-grid",1),y.Kb(10,"h3",5),y.Zb(11,"translate"),y.Kb(12,"airgap-titled-address",6),y.Ob(13,"ion-row",7),y.Ob(14,"ion-col",8),y.Ob(15,"ion-row",9),y.Kb(16,"div",10),y.Nb(),y.Nb(),y.Ob(17,"ion-col",11),y.Ob(18,"ion-label",12),y.vc(19),y.Zb(20,"translate"),y.Nb(),y.Ob(21,"div",13),y.Ob(22,"span",14),y.vc(23),y.Zb(24,"number"),y.Nb(),y.Nb(),y.Mb(25),y.Ob(26,"ion-label",12),y.vc(27),y.Zb(28,"translate"),y.Nb(),y.Ob(29,"div",13),y.Ob(30,"span",14),y.vc(31),y.Zb(32,"number"),y.Nb(),y.Nb(),y.Lb(),y.Nb(),y.Nb(),y.Kb(33,"airgap-titled-address",6),y.Ob(34,"ion-row",7),y.Ob(35,"ion-col",8),y.Ob(36,"ion-row",9),y.Kb(37,"div",15),y.Nb(),y.Nb(),y.Ob(38,"ion-col",11),y.Ob(39,"ion-label",12),y.vc(40),y.Zb(41,"translate"),y.Nb(),y.Ob(42,"div",13),y.Ob(43,"span",14),y.vc(44),y.Zb(45,"number"),y.Nb(),y.Nb(),y.Nb(),y.Nb(),y.Kb(46,"airgap-titled-address",6),y.tc(47,ExchangeConfirmPage_ion_row_47_Template,3,3,"ion-row",16),y.tc(48,ExchangeConfirmPage_ion_row_48_Template,3,3,"ion-row",16),y.Nb(),y.Ob(49,"ion-fab",17),y.Ob(50,"ion-button",18),y.Wb("click",function ExchangeConfirmPage_Template_ion_button_click_50_listener(){return n.prepareTransaction()}),y.vc(51),y.Zb(52,"translate"),y.Nb(),y.Nb(),y.Nb()),2&e&&(y.yb(6),y.wc(y.ac(7,26,"exchange-confirm.title")),y.yb(4),y.ec("innerHTML",y.ac(11,28,"exchange-confirm.heading"),y.nc),y.yb(2),y.ec("address",n.fromWallet.receivingPublicAddress)("title","exchange-confirm.sell_label")("hasSymbol",!0)("symbol",n.fromCurrency),y.yb(7),y.wc(y.ac(20,30,"exchange-confirm.sell-amount_label")),y.yb(4),y.yc("",n.amountExpectedFrom," (~$",y.bc(24,32,n.fromFiatAmount,"1.2-2"),")"),y.yb(4),y.wc(y.ac(28,35,"exchange-confirm.fee_label")),y.yb(4),y.yc("",n.fee," (~$",y.bc(32,37,n.feeFiatAmount,"1.2-2"),")"),y.yb(2),y.ec("address",n.exchangeResult.payinAddress)("title","exchange-confirm.exchange-address_label")("hasSymbol",!0)("symbol",n.fromCurrency),y.yb(7),y.wc(y.ac(41,40,"exchange-confirm.buy-amount_label")),y.yb(4),y.yc("",n.amountExpectedTo," (~$",y.bc(45,42,n.toFiatAmount,"1.2-2"),")"),y.yb(2),y.ec("address",n.toWallet.receivingPublicAddress)("title","exchange-confirm.receiving-to_label")("hasSymbol",!0)("symbol",n.toCurrency),y.yb(1),y.ec("ngIf","Changelly"===n.activeExchange),y.yb(1),y.ec("ngIf","ChangeNow"===n.activeExchange),y.yb(3),y.xc(" ",y.ac(52,45,"exchange-confirm.confirm-exchange_label")," "))},directives:[c.v,c.u,c.hb,c.j,c.f,c.g,c.fb,c.q,o.E,c.R,c.p,c.E,i.n,c.r,c.i],pipes:[s.c,i.f],styles:[".line--first[_ngcontent-%COMP%]{height:96px}.line--second[_ngcontent-%COMP%]{height:48px}.line--first[_ngcontent-%COMP%], .line--second[_ngcontent-%COMP%]{border-left:1px solid var(--ion-color-dark)}"]}),ExchangeConfirmPage}(),E=function(){function ExchangeConfirmPageModule(){}return ExchangeConfirmPageModule.\u0275mod=y.Hb({type:ExchangeConfirmPageModule}),ExchangeConfirmPageModule.\u0275inj=y.Gb({factory:function ExchangeConfirmPageModule_Factory(e){return new(e||ExchangeConfirmPageModule)},imports:[[c.ib,i.c,a.e,l.a,s.b,r.j.forChild([{path:"",component:_}]),o.d]]}),ExchangeConfirmPageModule}()}}]);