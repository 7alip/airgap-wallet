(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{MsxR:function(t,i,e){"use strict";e.r(i),e.d(i,"AccountImportPageModule",function(){return y});var n=e("ofXK"),o=e("3Pt+"),r=e("tyNb"),s=e("TEn/"),a=e("sYmb"),c=e("j1ZV"),l=e("mrSG"),b=e("1y+R"),u=e("57MG"),d=e("hPkG"),h=e("fXoL"),p=e("F07p");function f(t,i){1&t&&(h.Qb(0,"ion-row"),h.Qb(1,"p"),h.wc(2),h.bc(3,"translate"),h.Pb(),h.Pb()),2&t&&(h.Ab(2),h.xc(h.cc(3,1,"account-import.text")))}function w(t,i){1&t&&(h.Qb(0,"ion-item",11),h.wc(1),h.bc(2,"translate"),h.Pb()),2&t&&(h.Ab(1),h.yc(" ",h.cc(2,1,"account-import.warning")," "))}function g(t,i){if(1&t){var e=h.Rb();h.Qb(0,"ion-button",12),h.Yb("click",function(){return h.oc(e),h.ac().import()}),h.wc(1),h.bc(2,"translate"),h.Pb()}2&t&&(h.Ab(1),h.yc(" ",h.cc(2,1,"account-import.import_label")," "))}var m=function(){function t(t,i,e,n,o,r,s,a){if(this.platform=t,this.loadingCtrl=i,this.navController=e,this.route=n,this.router=o,this.wallets=r,this.dataService=s,this.ngZone=a,this.walletAlreadyExists=!1,!this.route.snapshot.data.special)throw this.router.navigateByUrl("/"),window.alert("The address you're trying to access is invalid."),new Error}return t.prototype.ionViewWillEnter=function(){return Object(l.b)(this,void 0,void 0,function(){var t,i=this;return Object(l.e)(this,function(e){switch(e.label){case 0:return this.route.snapshot.data.special&&(this.subscription=this.dataService.getImportWallet().subscribe(function(t){i.wallet=t,i.ionViewDidEnter()})),[4,this.platform.ready()];case 1:return e.sent(),t=this,[4,this.loadingCtrl.create({message:"Syncing..."})];case 2:return t.loading=e.sent(),this.loading.present().catch(Object(d.b)(d.a.NAVIGATION)),this.walletAlreadyExists=!1,[2]}})})},t.prototype.ionViewDidEnter=function(){return Object(l.b)(this,void 0,void 0,function(){var t,i=this;return Object(l.e)(this,function(e){return this.wallets.walletExists(this.wallet)?(this.wallet=this.wallets.walletByPublicKeyAndProtocolAndAddressIndex(this.wallet.publicKey,this.wallet.protocol.identifier,this.wallet.addressIndex),this.walletAlreadyExists=!0,this.loading.dismiss().catch(Object(d.b)(d.a.NAVIGATION)),[2]):((t=new Worker("./assets/workers/airgap-coin-lib.js")).onmessage=function(t){i.wallet.addresses=t.data.addresses,i.wallet.synchronize().then(function(){i.ngZone.run(function(){i.wallets.triggerWalletChanged()})}).catch(Object(d.b)(d.a.WALLET_PROVIDER)),i.loading.dismiss().catch(Object(d.b)(d.a.NAVIGATION))},t.postMessage({protocolIdentifier:this.wallet.protocol.identifier,publicKey:this.wallet.publicKey,isExtendedPublicKey:this.wallet.isExtendedPublicKey,derivationPath:this.wallet.derivationPath}),[2])})})},t.prototype.dismiss=function(){return Object(l.b)(this,void 0,void 0,function(){return Object(l.e)(this,function(t){return this.navController.back(),[2]})})},t.prototype.import=function(){return Object(l.b)(this,void 0,void 0,function(){return Object(l.e)(this,function(t){switch(t.label){case 0:return[4,this.wallets.addWallet(this.wallet)];case 1:return t.sent(),[4,this.router.navigateByUrl("/tabs/portfolio",{skipLocationChange:!0})];case 2:return t.sent(),[2]}})})},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.\u0275fac=function(i){return new(i||t)(h.Lb(s.pb),h.Lb(s.kb),h.Lb(s.mb),h.Lb(r.a),h.Lb(r.g),h.Lb(u.a),h.Lb(b.a),h.Lb(h.B))},t.\u0275cmp=h.Fb({type:t,selectors:[["page-account-import"]],decls:18,vars:10,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],[1,"ion-padding"],[4,"ngIf"],[3,"wallet"],["color","danger","class","ion-margin-top ion-text-wrap",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["id","dismiss","shape","round","color","secondary",3,"click"],["id","import","shape","round","color","primary",3,"click",4,"ngIf"],["color","danger",1,"ion-margin-top","ion-text-wrap"],["id","import","shape","round","color","primary",3,"click"]],template:function(t,i){1&t&&(h.Qb(0,"ion-header",0),h.Qb(1,"ion-grid",1),h.Qb(2,"ion-toolbar"),h.Qb(3,"ion-buttons",2),h.Mb(4,"ion-back-button",3),h.Pb(),h.Qb(5,"ion-title"),h.wc(6),h.bc(7,"translate"),h.Pb(),h.Pb(),h.Pb(),h.Pb(),h.Qb(8,"ion-content",4),h.Qb(9,"ion-grid",1),h.uc(10,f,4,3,"ion-row",5),h.Mb(11,"portfolio-item",6),h.uc(12,w,3,3,"ion-item",7),h.Pb(),h.Qb(13,"ion-fab",8),h.Qb(14,"ion-button",9),h.Yb("click",function(){return i.dismiss()}),h.wc(15),h.bc(16,"translate"),h.Pb(),h.uc(17,g,3,3,"ion-button",10),h.Pb(),h.Pb()),2&t&&(h.Ab(6),h.xc(h.cc(7,6,"account-import.title")),h.Ab(4),h.gc("ngIf",!i.walletAlreadyExists),h.Ab(1),h.gc("wallet",i.wallet),h.Ab(1),h.gc("ngIf",i.walletAlreadyExists),h.Ab(3),h.yc(" ",h.cc(16,8,"account-import.cancel_label")," "),h.Ab(2),h.gc("ngIf",!i.walletAlreadyExists))},directives:[s.v,s.u,s.hb,s.j,s.f,s.g,s.fb,s.q,n.n,p.a,s.r,s.i,s.R,s.A],pipes:[a.c],encapsulation:2}),t}(),y=function(){function t(){}return t.\u0275mod=h.Jb({type:t}),t.\u0275inj=h.Ib({factory:function(i){return new(i||t)},imports:[[s.ib,n.c,o.e,c.a,a.b,r.j.forChild([{path:"",component:m}])]]}),t}()}}]);