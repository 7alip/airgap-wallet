(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{RpAR:function(t,e,n){"use strict";n.r(e),n.d(e,"TransactionPreparePageModule",function(){return K});var a=n("138U"),o=n("ofXK"),i=n("3Pt+"),r=n("tyNb"),s=n("TEn/"),c=n("sYmb"),l=n("j1ZV"),d=n("iTUp"),u=n("mrSG"),b=n("RKiA"),p=n("14cC"),m=n("kB5k"),f=n("2Vo4"),h=n("Kj3r"),v=n("57MG"),g=n("QMTT"),M=n("1y+R"),O=n("nxqh"),y=n("hPkG"),N=function(){function t(){}return t.validate=function(t){var e=t.addressValidationPattern;return function(t){return null===String(t.value).match(e)?{addressFormat:"Address format is unknown."}:null}},t}(),_=n("fUHw"),w=n("fXoL"),P=n("pNtj");function x(t,e){if(1&t&&(w.Ob(0,"ion-badge"),w.vc(1),w.Nb()),2&t){var n=w.Yb(2);w.yb(1),w.xc(" ",n.wallet.protocol.options.network.rpcUrl," ")}}function A(t,e){if(1&t&&(w.Mb(0,45),w.Ob(1,"ion-badge",46),w.vc(2),w.Nb(),w.tc(3,x,2,1,"ion-badge",13),w.Lb()),2&t){var n=w.Yb();w.yb(2),w.wc(n.wallet.protocol.options.network.name),w.yb(1),w.ec("ngIf",n.wallet.protocol.options.network.type===n.networkType.CUSTOM)}}var S=function(t,e){return{protocol:t,maxDigits:e}};function F(t,e){if(1&t&&(w.Mb(0),w.vc(1),w.Zb(2,"async"),w.Zb(3,"amountConverter"),w.Lb()),2&t){var n=w.Yb();w.yb(1),w.xc(" ",w.ac(2,1,w.bc(3,3,n.state.availableBalance,w.jc(6,S,n.wallet.protocol.identifier,n.wallet.protocol.decimals+1)))," ")}}function C(t,e){1&t&&w.Kb(0,"ion-spinner",47)}function B(t,e){1&t&&(w.Ob(0,"span"),w.vc(1),w.Zb(2,"translate"),w.Nb()),2&t&&(w.yb(1),w.wc(w.ac(2,1,"transaction-prepare.fee.max_label")))}function k(t,e){1&t&&(w.Ob(0,"ion-col",48),w.Ob(1,"ion-text",49),w.Ob(2,"p",27),w.vc(3),w.Zb(4,"translate"),w.Nb(),w.Nb(),w.Nb()),2&t&&(w.yb(3),w.xc(" ",w.ac(4,1,"transaction-prepare.error.amount_label")," "))}var j=function(t){return{addressPlaceholder:t}};function T(t,e){if(1&t&&(w.Ob(0,"ion-col",50),w.Ob(1,"ion-text",49),w.Kb(2,"p",51),w.Zb(3,"translate"),w.Nb(),w.Nb()),2&t){var n=w.Yb();w.yb(2),w.ec("innerHTML",w.bc(3,1,"transaction-prepare.error.address_label",w.ic(4,j,n.wallet.protocol.addressPlaceholder)),w.nc)}}function I(t,e){if(1&t){var n=w.Pb();w.Ob(0,"ion-button",52),w.Wb("click",function(){return w.mc(n),w.Yb().prepareTransaction()}),w.Kb(1,"ion-icon",53),w.vc(2),w.Zb(3,"translate"),w.Nb()}if(2&t){var a=w.Yb();w.ec("disabled",a.state.disablePrepareButton),w.yb(2),w.xc(" ",w.ac(3,2,"transaction-prepare.create-transaction")," ")}}function z(t,e){if(1&t){var n=w.Pb();w.Ob(0,"ion-button",52),w.Wb("click",function(){return w.mc(n),w.Yb().prepareTransaction()}),w.Kb(1,"ion-icon",53),w.vc(2),w.Zb(3,"translate"),w.Nb()}if(2&t){var a=w.Yb();w.ec("disabled",a.state.disablePrepareButton),w.yb(2),w.xc(" ",w.ac(3,2,"transaction-prepare.create-transaction")," ")}}var D=function(t){return{title:t}},L=function(){function t(t,e,n,a,o,r,s,c,l,d,m){var h=this;this.loadingCtrl=t,this.formBuilder=e,this.router=n,this.route=a,this._ngZone=o,this.clipboardProvider=r,this.operationsProvider=s,this.dataService=c,this.amountConverterPipe=l,this.priceService=d,this.accountProvider=m,this.networkType=p.NetworkType,this.publicKey=this.route.snapshot.params.publicKey,this.protocolID=this.route.snapshot.params.protocolID;var v=this.route.snapshot.params.addressIndex;this.addressIndex="undefined"===v?void 0:Number(v),this.state$=new f.a(this._state);var g="false"===this.route.snapshot.params.address?"":this.route.snapshot.params.address||"",M=Number(this.route.snapshot.params.amount)||0,O=this.accountProvider.walletByPublicKeyAndProtocolAndAddressIndex(this.publicKey,this.protocolID,this.addressIndex),w="forced"===this.route.snapshot.params.forceMigration||!1;this.transactionForm=this.formBuilder.group({address:[g,i.m.compose([i.m.required,N.validate(O.protocol)])],amount:[M,i.m.compose([i.m.required,_.a.validate(O.protocol.decimals)])],feeLevel:[0,[i.m.required]],fee:[0,i.m.compose([i.m.required,_.a.validate(O.protocol.feeDecimals)])],isAdvancedMode:[!1,[]]}),this.wallet=O,this.isSubstrate=O.protocol.identifier===b.MainProtocolSymbols.KUSAMA||O.protocol.identifier===b.MainProtocolSymbols.POLKADOT,this.initState().then(function(){return Object(u.b)(h,void 0,void 0,function(){return Object(u.e)(this,function(t){switch(t.label){case 0:return w?[4,this.forceMigration()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.onChanges(),this.updateFeeEstimate(),[2]}})})}).catch(Object(y.b)(y.a.OTHER))}return t.prototype.onChanges=function(){var t=this;this.state$.pipe(Object(h.a)(200)).subscribe(function(e){t.onStateUpdated(e)}),this.transactionForm.get("address").valueChanges.pipe(Object(h.a)(500)).subscribe(function(e){t.updateState({address:{value:e,dirty:!0},disableSendMaxAmount:!1,disablePrepareButton:t.transactionForm.invalid||new m.BigNumber(t._state.amount.value).lte(0)}),t.updateFeeEstimate()}),this.transactionForm.get("amount").valueChanges.pipe(Object(h.a)(500)).subscribe(function(e){var n=new m.BigNumber(e);t.updateState({sendMaxAmount:!1,amount:{value:n.isNaN()?"":n.toFixed(),dirty:!0},disablePrepareButton:t.transactionForm.invalid||n.isNaN()||n.lte(0)}),t.updateFeeEstimate()}),this.transactionForm.get("fee").valueChanges.pipe(Object(h.a)(500)).subscribe(function(e){var n=new m.BigNumber(e);t.updateState({fee:{value:n.isNaN()?"":n.toFixed(),dirty:!0},disablePrepareButton:t.transactionForm.invalid||new m.BigNumber(t._state.amount.value).lte(0)}),t._state.sendMaxAmount&&t.updateWithMaxAmount(n.toString(10))}),this.transactionForm.get("feeLevel").valueChanges.subscribe(function(e){var n=new m.BigNumber(t.getFeeFromLevel(e));t.updateState({fee:{value:n.toFixed(),dirty:!1},feeLevel:{value:e,dirty:!0},disablePrepareButton:t.transactionForm.invalid||new m.BigNumber(t._state.amount.value).lte(0)},!1),t._state.sendMaxAmount&&t.updateWithMaxAmount(n.toString(10))}),this.transactionForm.get("isAdvancedMode").valueChanges.subscribe(function(e){t.updateState({isAdvancedMode:{value:e,dirty:!0},disablePrepareButton:t.transactionForm.invalid||new m.BigNumber(t._state.amount.value).lte(0)},!1)})},t.prototype.initState=function(){return Object(u.b)(this,void 0,void 0,function(){var t;return Object(u.e)(this,function(e){switch(e.label){case 0:return this._state={availableBalance:null,forceMigration:!1,feeDefaults:this.wallet.protocol.feeDefaults,feeCurrentMarketPrice:null,sendMaxAmount:!1,disableSendMaxAmount:!0,disableAdvancedMode:this.isSubstrate,disableFeeSlider:!0,disablePrepareButton:!0,estimatingMaxAmount:!1,estimatingFeeDefaults:!1,address:{value:this.transactionForm.controls.address.value,dirty:!1},amount:{value:this.transactionForm.controls.amount.value,dirty:!1},feeLevel:{value:this.transactionForm.controls.feeLevel.value,dirty:!1},fee:{value:this.transactionForm.controls.fee.value,dirty:!1},isAdvancedMode:{value:this.transactionForm.controls.isAdvancedMode.value,dirty:!1}},this.state=this._state,[4,Promise.all([this.calculateFeeCurrentMarketPrice(this.wallet),this.getAvailableBalance(this.wallet)])];case 1:return t=u.h.apply(void 0,[e.sent(),2]),this.updateState({availableBalance:t[1],feeCurrentMarketPrice:t[0]}),[2]}})})},t.prototype.updateState=function(t,e){void 0===e&&(e=!0),this._state=this.reduceState(this._state,t),e?this.state$.next(this._state):this.onStateUpdated(this._state)},t.prototype.reduceState=function(t,e){return{availableBalance:void 0!==e.availableBalance?e.availableBalance:t.availableBalance,forceMigration:void 0!==e.forceMigration?e.forceMigration:t.forceMigration,feeDefaults:e.feeDefaults||t.feeDefaults,feeCurrentMarketPrice:void 0!==e.feeCurrentMarketPrice?e.feeCurrentMarketPrice:t.feeCurrentMarketPrice,sendMaxAmount:void 0!==e.sendMaxAmount?e.sendMaxAmount:t.sendMaxAmount,disableSendMaxAmount:void 0!==e.disableSendMaxAmount?e.disableSendMaxAmount:t.disableSendMaxAmount,disableAdvancedMode:this.isSubstrate||(void 0!==e.disableAdvancedMode?e.disableAdvancedMode:t.disableAdvancedMode),disableFeeSlider:this.isSubstrate||(void 0!==e.disableFeeSlider?e.disableFeeSlider:t.disableFeeSlider),disablePrepareButton:void 0!==e.disablePrepareButton?e.disablePrepareButton:t.disablePrepareButton,estimatingMaxAmount:void 0!==e.estimatingMaxAmount?e.estimatingMaxAmount:t.estimatingMaxAmount,estimatingFeeDefaults:void 0!==e.estimatingFeeDefaults?e.estimatingFeeDefaults:t.estimatingFeeDefaults,address:e.address||t.address,amount:e.amount||t.amount,feeLevel:e.feeLevel||t.feeLevel,fee:e.fee||t.fee,isAdvancedMode:e.isAdvancedMode||t.isAdvancedMode}},t.prototype.onStateUpdated=function(t){this.state=t,this.updateTransactionForm({address:this.state.address,amount:this.state.amount,fee:this.state.fee,feeLevel:this.state.feeLevel,isAdvancedMode:this.state.isAdvancedMode})},t.prototype.updateTransactionForm=function(t){var e=this,n=this.transactionForm.value,a={};Object.keys(n).forEach(function(e){e in t&&!t[e].dirty&&t[e].value!==n[e]&&(a[e]=t[e].value)}),this._ngZone.run(function(){e.transactionForm.patchValue(a,{emitEvent:!1}),Object.keys(a).forEach(function(t){e.transactionForm.controls[t].markAsDirty()})})},t.prototype.calculateFeeCurrentMarketPrice=function(t){return Object(u.b)(this,void 0,void 0,function(){return Object(u.e)(this,function(e){return t.protocol.identifier===b.SubProtocolSymbols.XTZ_BTC?[2,this.priceService.getCurrentMarketPrice(new b.TezosProtocol,"USD").then(function(t){return t.toNumber()})]:t.protocol.identifier.startsWith(b.SubProtocolSymbols.ETH_ERC20)?[2,this.priceService.getCurrentMarketPrice(new b.EthereumProtocol,"USD").then(function(t){return t.toNumber()})]:[2,t.currentMarketPrice.toNumber()]})})},t.prototype.getAvailableBalance=function(t){return Object(u.b)(this,void 0,void 0,function(){var e;return Object(u.e)(this,function(n){switch(n.label){case 0:return t.protocol.identifier!==b.MainProtocolSymbols.COSMOS&&t.protocol.identifier!==b.MainProtocolSymbols.KUSAMA&&t.protocol.identifier!==b.MainProtocolSymbols.POLKADOT?[3,2]:(e=m.BigNumber.bind,[4,t.protocol.getAvailableBalanceOfAddresses([t.addresses[0]])]);case 1:return[2,new(e.apply(m.BigNumber,[void 0,n.sent()]))];case 2:return[2,t.currentBalance]}})})},t.prototype.updateFeeEstimate=function(){return Object(u.b)(this,void 0,void 0,function(){var t,e;return Object(u.e)(this,function(n){switch(n.label){case 0:return this._state.isAdvancedMode.value?[3,2]:(this.updateState({estimatingFeeDefaults:!0,disableFeeSlider:!0,disablePrepareButton:!0}),[4,this.estimateFees().catch(function(){})]);case 1:t=n.sent(),this.updateState({estimatingFeeDefaults:!1,feeDefaults:t,fee:{value:new m.BigNumber(this.getFeeFromLevel(e=t&&!this.isSubstrate?1:this._state.feeLevel.value,t)).toFixed(),dirty:!1},feeLevel:{value:e,dirty:!1},disableFeeSlider:!t,disablePrepareButton:!t||this.transactionForm.invalid||new m.BigNumber(this._state.amount.value).lte(0)}),n.label=2;case 2:return[2]}})})},t.prototype.estimateFees=function(){return Object(u.b)(this,void 0,void 0,function(){var t,e,n;return Object(u.e)(this,function(a){return t=new m.BigNumber(this._state.amount.value).shiftedBy(this.wallet.protocol.decimals),e=this.transactionForm.controls.address.valid,n=this.transactionForm.controls.amount.valid&&!t.isNaN()&&t.gt(0),[2,e&&n?this.operationsProvider.estimateFees(this.wallet,this._state.address.value,t):void 0]})})},t.prototype.getFeeFromLevel=function(t,e){var n=e||this._state.feeDefaults;switch(t){case 0:return n.low;case 1:return n.medium;case 2:return n.high;default:return n.medium}},t.prototype.prepareTransaction=function(){return Object(u.b)(this,void 0,void 0,function(){var t,e,n;return Object(u.e)(this,function(a){switch(a.label){case 0:t=new m.BigNumber(this._state.amount.value).shiftedBy(this.wallet.protocol.decimals),e=new m.BigNumber(this._state.fee.value).shiftedBy(this.wallet.protocol.feeDecimals),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.operationsProvider.prepareTransaction(this.wallet,this._state.address.value,t,e)];case 2:return n=a.sent(),this.dataService.setData(M.b.INTERACTION,{wallet:this.wallet,airGapTxs:n.airGapTxs,data:n.unsignedTx,type:b.IACMessageType.TransactionSignRequest}),this.router.navigateByUrl("/interaction-selection/"+M.b.INTERACTION).catch(Object(y.b)(y.a.NAVIGATION)),[3,4];case 3:return a.sent(),[3,4];case 4:return[2]}})})},t.prototype.openScanner=function(){var t=this;this.dataService.setData(M.b.SCAN,{callback:function(e){t.updateState({address:{value:e,dirty:!1}})}}),this.router.navigateByUrl("/scan-address/"+M.b.SCAN).catch(Object(y.b)(y.a.NAVIGATION))},t.prototype.toggleMaxAmount=function(){return Object(u.b)(this,void 0,void 0,function(){return Object(u.e)(this,function(t){switch(t.label){case 0:return this.updateState({sendMaxAmount:!this._state.sendMaxAmount},!1),this._state.sendMaxAmount?[4,this.updateWithMaxAmount()]:[3,2];case 1:t.sent(),this.updateFeeEstimate(),t.label=2;case 2:return[2]}})})},t.prototype.forceMigration=function(){return Object(u.b)(this,void 0,void 0,function(){return Object(u.e)(this,function(t){switch(t.label){case 0:return this.updateState({forceMigration:!0,sendMaxAmount:!0,disablePrepareButton:!1},!1),[4,this.updateWithMaxAmount()];case 1:return t.sent(),[2]}})})},t.prototype.updateWithMaxAmount=function(t){return Object(u.b)(this,void 0,void 0,function(){var e,n,a;return Object(u.e)(this,function(o){switch(o.label){case 0:return this.updateState({estimatingMaxAmount:!0}),e=t?new m.BigNumber(t).shiftedBy(this.wallet.protocol.feeDecimals):void 0,[4,this.operationsProvider.estimateMaxTransferAmount(this.wallet,this._state.address.value,e)];case 1:return n=o.sent(),a=this.amountConverterPipe.transformValueOnly(n,this.wallet.protocol,this.wallet.protocol.decimals+1),n.isNaN()||this.updateState({estimatingMaxAmount:!1,amount:{value:a,dirty:!1},disablePrepareButton:this.transactionForm.invalid||n.isNaN()||n.lte(0)}),[2]}})})},t.prototype.pasteClipboard=function(){var t=this;this.clipboardProvider.paste().then(function(e){t.updateState({address:{value:e,dirty:!1},disableSendMaxAmount:!1,disablePrepareButton:t.transactionForm.invalid||new m.BigNumber(t._state.amount.value).lte(0)}),t.updateFeeEstimate()},function(t){console.error("Error: "+t)})},t.\u0275fac=function(e){return new(e||t)(w.Jb(s.kb),w.Jb(i.b),w.Jb(r.g),w.Jb(r.a),w.Jb(w.A),w.Jb(a.j),w.Jb(O.a),w.Jb(M.a),w.Jb(a.f),w.Jb(g.a),w.Jb(v.a))},t.\u0275cmp=w.Db({type:t,selectors:[["page-transaction-prepare"]],decls:76,vars:46,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/tabs/portfolio"],[1,"ion-no-padding"],["fixed","true"],[1,"ion-padding-horizontal"],["class","ion-no-padding","lines","none","slot","start",4,"ngIf"],[1,"ion-padding-bottom",3,"formGroup"],[1,"ion-justify-content-between"],["size","3"],["color","blackLight","position","stacked",1,"ion-no-margin"],["size","9",1,"ion-text-end"],[4,"ngIf"],[1,"amount__container"],["size","2",1,"d-flex","ion-align-items-center"],[3,"address"],["size","7",1,"ion-no-padding","amount--container__input"],["lines","none",1,"ion-no-padding"],["formControlName","amount","type","number","id","amount-input","placeholder","0.0"],["size","3",1,"ion-no-padding","d-flex","ion-align-items-center"],["slot","end"],["shape","round","size","small","color","secondary",3,"fill","click"],["name","lines-small","color","primary",4,"ngIf"],["size","10","offset","2","class","ion-no-padding error--container",4,"ngIf"],["offset","2",1,"ion-no-padding"],["color","blackLight",1,"ion-no-margin"],[1,"ion-no-margin"],[1,"ion-text-center","ion-no-padding","divider--container"],["name","arrow-down-outline","color","medium"],["size","12"],["color","blackLight","position","stacked"],[1,"to__container"],["size","2"],[1,"d-flex","ion-align-items-center"],["size","10",1,"ion-no-padding"],[1,"content--align-vert__center","to-address__item","ion-no-padding"],["formControlName","address","id","address-input",3,"placeholder"],["size","10","offset","2","class","ion-no-padding error--address",4,"ngIf"],["size","10","offset","2",1,"address-to__buttons"],["fill","outline","size","small","color","secondary","shape","round",3,"click"],["slot","start","name","barcode-outline"],[3,"wallet","state","form"],["vertical","bottom","horizontal","end","slot","fixed"],["id","prepare","size","default","color","primary","shape","round",3,"disabled","click",4,"ngIf"],["lines","none","slot","start",1,"ion-no-padding"],["color","danger"],["name","lines-small","color","primary"],["size","10","offset","2",1,"ion-no-padding","error--container"],["color","danger",1,"ion-no-margin"],["size","10","offset","2",1,"ion-no-padding","error--address"],[1,"ion-no-margin",3,"innerHTML"],["id","prepare","size","default","color","primary","shape","round",3,"disabled","click"],["slot","start","name","open"]],template:function(t,e){1&t&&(w.Ob(0,"ion-header",0),w.Ob(1,"ion-grid",1),w.Ob(2,"ion-toolbar"),w.Ob(3,"ion-buttons",2),w.Kb(4,"ion-back-button",3),w.Nb(),w.Ob(5,"ion-title"),w.vc(6),w.Zb(7,"translate"),w.Nb(),w.Nb(),w.Nb(),w.Nb(),w.Ob(8,"ion-content",4),w.Ob(9,"ion-grid",5),w.Ob(10,"ion-row",6),w.Ob(11,"ion-col",4),w.Ob(12,"ion-row"),w.tc(13,A,4,2,"ng-container",7),w.Nb(),w.Nb(),w.Nb(),w.Ob(14,"form",8),w.Ob(15,"ion-card"),w.Ob(16,"ion-row",9),w.Ob(17,"ion-col",10),w.Ob(18,"ion-label",11),w.vc(19),w.Zb(20,"translate"),w.Nb(),w.Nb(),w.Ob(21,"ion-col",12),w.Ob(22,"ion-label",11),w.vc(23),w.Zb(24,"translate"),w.tc(25,F,4,9,"ng-container",13),w.Nb(),w.Nb(),w.Nb(),w.Ob(26,"ion-row",14),w.Ob(27,"ion-col",15),w.Ob(28,"ion-avatar"),w.Kb(29,"airgap-identicon",16),w.Nb(),w.Nb(),w.Ob(30,"ion-col",17),w.Ob(31,"ion-item",18),w.Kb(32,"ion-input",19),w.Nb(),w.Nb(),w.Ob(33,"ion-col",20),w.Ob(34,"ion-toolbar"),w.Ob(35,"ion-buttons",21),w.Ob(36,"ion-button",22),w.Wb("click",function(){return e.toggleMaxAmount()}),w.tc(37,C,1,0,"ion-spinner",23),w.tc(38,B,3,3,"span",13),w.Nb(),w.Nb(),w.Nb(),w.Nb(),w.Nb(),w.Ob(39,"ion-row"),w.tc(40,k,5,3,"ion-col",24),w.Nb(),w.Ob(41,"ion-row"),w.Ob(42,"ion-col",25),w.Ob(43,"ion-text",26),w.Ob(44,"p",27),w.vc(45),w.Zb(46,"number"),w.Nb(),w.Nb(),w.Nb(),w.Nb(),w.Nb(),w.Ob(47,"ion-row"),w.Ob(48,"ion-col",28),w.Kb(49,"ion-icon",29),w.Nb(),w.Nb(),w.Ob(50,"ion-card"),w.Ob(51,"ion-row"),w.Ob(52,"ion-col",30),w.Ob(53,"ion-label",31),w.vc(54),w.Zb(55,"translate"),w.Nb(),w.Nb(),w.Nb(),w.Ob(56,"ion-row",32),w.Ob(57,"ion-col",33),w.Ob(58,"ion-avatar",34),w.Kb(59,"airgap-identicon",16),w.Nb(),w.Nb(),w.Ob(60,"ion-col",35),w.Ob(61,"ion-item",36),w.Kb(62,"ion-textarea",37),w.Nb(),w.Nb(),w.tc(63,T,4,6,"ion-col",38),w.Ob(64,"ion-col",39),w.Ob(65,"ion-button",40),w.Wb("click",function(){return e.pasteClipboard()}),w.vc(66),w.Zb(67,"translate"),w.Nb(),w.Ob(68,"ion-button",40),w.Wb("click",function(){return e.openScanner()}),w.Kb(69,"ion-icon",41),w.vc(70),w.Zb(71,"translate"),w.Nb(),w.Nb(),w.Nb(),w.Nb(),w.Kb(72,"fee",42),w.Nb(),w.Nb(),w.Ob(73,"ion-fab",43),w.tc(74,I,4,4,"ion-button",44),w.tc(75,z,4,4,"ion-button",44),w.Nb(),w.Nb()),2&t&&(w.yb(6),w.xc(" ",w.bc(7,28,"transaction-prepare.title",w.ic(44,D,e.wallet.protocol.symbol))," "),w.yb(7),w.ec("ngIf",e.wallet.protocol.options.network&&e.wallet.protocol.options.network.type!==e.networkType.MAINNET),w.yb(1),w.ec("formGroup",e.transactionForm),w.yb(5),w.xc(" ",w.ac(20,31,"transaction-prepare.amount_label")," "),w.yb(4),w.xc(" ",w.ac(24,33,"transaction-prepare.balance_label")," "),w.yb(2),w.ec("ngIf",null!==e.state.availableBalance),w.yb(4),w.ec("address",e.wallet.receivingPublicAddress),w.yb(3),w.zb("disabled",e.state.forceMigration),w.yb(4),w.ec("fill",e.state.sendMaxAmount?"solid":"outline"),w.zb("disabled",e.state.disableSendMaxAmount),w.yb(1),w.ec("ngIf",e.state.estimatingMaxAmount),w.yb(1),w.ec("ngIf",!e.state.estimatingMaxAmount),w.yb(2),w.ec("ngIf",!e.transactionForm.controls.amount.valid),w.yb(5),w.xc(" $",w.bc(46,35,e.wallet.currentMarketPrice.times(e.state.amount.value).toNumber(),"1.2-2")," "),w.yb(9),w.wc(w.ac(55,38,"transaction-prepare.to-address_label")),w.yb(5),w.ec("address",e.transactionForm.get("address").value),w.yb(3),w.ec("placeholder",e.wallet.protocol.addressPlaceholder),w.zb("disabled",e.state.forceMigration),w.yb(1),w.ec("ngIf",e.transactionForm.controls.address.dirty&&e.transactionForm.controls.address.invalid),w.yb(2),w.zb("disabled",e.state.forceMigration),w.yb(1),w.xc(" ",w.ac(67,40,"transaction-prepare.paste_label")," "),w.yb(2),w.zb("disabled",e.state.forceMigration),w.yb(2),w.xc(" ",w.ac(71,42,"transaction-prepare.to-address-scan_label")," "),w.yb(2),w.ec("wallet",e.wallet)("state",e.state)("form",e.transactionForm),w.yb(2),w.ec("ngIf",!e.state.forceMigration),w.yb(1),w.ec("ngIf",e.state.forceMigration))},directives:[s.v,s.u,s.hb,s.j,s.f,s.g,s.fb,s.q,s.R,s.p,o.n,i.n,i.i,i.d,s.k,s.E,s.e,a.r,s.A,s.z,s.ob,i.h,i.c,s.i,s.db,s.w,s.eb,s.ub,P.a,s.r,s.h,s.Y],pipes:[c.c,o.f,o.b,a.f],styles:[".item-ios.item-toggle[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .item-md.item-toggle[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .label-stacked[_ngcontent-%COMP%]{font-size:14px}.font--size__large[_ngcontent-%COMP%]{font-size:large}.to-address__item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{font-size:12px}.address-to__buttons[_ngcontent-%COMP%]{padding:4px 0 0}.amount__container[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom-color:transparent!important;box-shadow:none!important}.amount__container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin:0;--padding-top:12px}.amount__container[_ngcontent-%COMP%]   .md[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-bottom:0}.amount__container[_ngcontent-%COMP%]   .amount--container__input[_ngcontent-%COMP%], .amount__container[_ngcontent-%COMP%]   .amount--container__input[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{padding-right:0}.amount__container[_ngcontent-%COMP%], .to__container[_ngcontent-%COMP%]{padding-top:8px}.error--container[_ngcontent-%COMP%]{padding-bottom:8px}ion-avatar[_ngcontent-%COMP%]{height:40px;min-height:40px;width:40px;min-width:40px}.range-slider[_ngcontent-%COMP%]{--bar-background:rgba(var(--ion-color-secondary-rgb),0.12);--bar-background-active:var(--ion-color-primary)}.advanced-item[_ngcontent-%COMP%]{--border-color:var(--ion-color-primary)}ion-card[_ngcontent-%COMP%]{padding:12px}.divider--container[_ngcontent-%COMP%]{padding-top:8px}.native-textarea.sc-ion-textarea-md[_ngcontent-%COMP%]{padding-top:0}ion-textarea[_ngcontent-%COMP%]{--padding-top:0}"]}),t}(),K=function(){function t(){}return t.\u0275mod=w.Hb({type:t}),t.\u0275inj=w.Gb({factory:function(e){return new(e||t)},imports:[[s.ib,o.c,i.e,i.k,c.b,l.a,d.a,r.j.forChild([{path:"",component:L}]),a.d]]}),t}()}}]);