(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"4HcY":function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));var o=n("mrSG"),i=n("IVSH"),r=n("kB5k"),c=n("nxqh"),a=n("57MG"),s=n("1y+R"),l=n("dW0/"),b=n("hPkG"),u=n("AFs5"),d=n("TxTD"),h=n("1T0C"),g=n("3Pt+"),p=n("2Vo4"),f=n("QMTT"),m=n("Kj3r"),v=n("fXoL"),y=n("tyNb"),M=n("TEn/"),w=n("sYmb"),P=n("138U"),O=n("ofXK"),N=n("vs69"),x=n("pNtj");function _(t,e){if(1&t){var n=v.Ob();v.Lb(0),v.Nb(1,"ion-row",4),v.Nb(2,"ion-col",5),v.Jb(3,"h3",6),v.Yb(4,"translate"),v.Nb(5,"ion-col",7),v.Jb(6,"img",8),v.Mb(),v.Nb(7,"p",9),v.uc(8),v.Yb(9,"translate"),v.Mb(),v.Nb(10,"ion-button",10),v.Vb("click",(function(){return v.lc(n),v.Xb().dismissExchangeOnboarding()})),v.uc(11),v.Yb(12,"translate"),v.Mb(),v.Mb(),v.Mb(),v.Kb()}2&t&&(v.yb(3),v.dc("innerHTML",v.Zb(4,3,"exchange.onboarding.heading"),v.mc),v.yb(5),v.wc(" ",v.Zb(9,5,"exchange.onboarding.description")," "),v.yb(3),v.wc(" ",v.Zb(12,7,"exchange.onboarding.exchange_label")," "))}function S(t,e){if(1&t){var n=v.Ob();v.Lb(0),v.Nb(1,"ion-row",4),v.Nb(2,"ion-col",5),v.Jb(3,"h3",6),v.Yb(4,"translate"),v.Nb(5,"ion-col",7),v.Jb(6,"img",8),v.Mb(),v.Nb(7,"p",9),v.uc(8),v.Yb(9,"translate"),v.Mb(),v.Nb(10,"ion-button",10),v.Vb("click",(function(){return v.lc(n),v.Xb().goToAddCoinPage()})),v.uc(11),v.Yb(12,"translate"),v.Mb(),v.Mb(),v.Mb(),v.Kb()}2&t&&(v.yb(3),v.dc("innerHTML",v.Zb(4,3,"exchange.no-currencies.heading"),v.mc),v.yb(5),v.wc(" ",v.Zb(9,5,"exchange.no-currencies.description")," "),v.yb(3),v.wc(" ",v.Zb(12,7,"exchange.no-currencies.exchange_label")," "))}function C(t,e){1&t&&v.Jb(0,"img",27)}function I(t,e){1&t&&v.Jb(0,"img",28)}function k(t,e){if(1&t){var n=v.Ob();v.Nb(0,"ion-row",18),v.Nb(1,"ion-col",19),v.Nb(2,"ion-row",20),v.Nb(3,"ion-text",21),v.Nb(4,"small"),v.uc(5),v.Yb(6,"translate"),v.Mb(),v.Mb(),v.sc(7,C,1,0,"img",22),v.sc(8,I,1,0,"img",23),v.Mb(),v.Mb(),v.Nb(9,"ion-col",24),v.Nb(10,"ion-button",25),v.Vb("click",(function(){return v.lc(n),v.Xb(2).doRadio()})),v.uc(11),v.Yb(12,"translate"),v.Jb(13,"ion-icon",26),v.Mb(),v.Mb(),v.Mb()}if(2&t){var o=v.Xb(2);v.yb(5),v.wc(" ",v.Zb(6,5,"exchange.powered-by_label")," "),v.yb(2),v.dc("ngIf","ChangeNow"===o.activeExchange),v.yb(1),v.dc("ngIf","Changelly"===o.activeExchange),v.yb(2),v.dc("disabled",o.disableExchangeSelection),v.yb(1),v.wc(" ",v.Zb(12,7,"exchange.switch-exchange_label")," ")}}function T(t,e){if(1&t){var n=v.Ob();v.Lb(0),v.Nb(1,"swap",11),v.Vb("protocolSetEmitter",(function(t){return v.lc(n),v.Xb().setFromProtocol(t)}))("walletSetEmitter",(function(t){return v.lc(n),v.Xb().setFromWallet(t)}))("amountSetEmitter",(function(t){return v.lc(n),v.Xb().amountSet(t)})),v.Mb(),v.Nb(2,"swap",12),v.Vb("protocolSetEmitter",(function(t){return v.lc(n),v.Xb().setToProtocol(t)}))("walletSetEmitter",(function(t){return v.lc(n),v.Xb().setToWallet(t)})),v.Mb(),v.Jb(3,"div",13),v.sc(4,k,14,9,"ion-row",14),v.Jb(5,"fee",15),v.Nb(6,"ion-fab",16),v.Nb(7,"ion-button",17),v.Vb("click",(function(){return v.lc(n),v.Xb().startExchange()})),v.uc(8),v.Yb(9,"translate"),v.Mb(),v.Mb(),v.Kb()}if(2&t){var o=v.Xb();v.yb(1),v.dc("selectedWallet",o.fromWallet)("supportedWallets",o.supportedFromWallets)("selectedProtocol",o.selectedFromProtocol)("supportedProtocols",o.supportedProtocolsFrom)("exchangeAmount",o.amount)("minExchangeAmount",o.minExchangeAmount),v.yb(1),v.dc("selectedWallet",o.toWallet)("supportedWallets",o.supportedToWallets)("selectedProtocol",o.selectedToProtocol)("supportedProtocols",o.supportedProtocolsTo)("exchangeAmount",o.exchangeAmount)("swapSell",!1),v.yb(2),v.dc("ngIf",!o.isTZBTCExchange),v.yb(1),v.dc("state",o.state)("form",o.exchangeForm)("wallet",o.fromWallet),v.yb(2),v.dc("disabled",(null==o.amount?null:o.amount.isNaN())||(null==o.amount?null:o.amount.isZero())||(null==o.amount?null:o.amount.isLessThan(o.minExchangeAmount))||(null==o.amount?null:o.amount.isGreaterThan(o.fromWallet.currentBalance.shiftedBy(-1*o.fromWallet.protocol.decimals)))),v.yb(1),v.wc(" ",v.Zb(9,18,"exchange.exchange_label")," ")}}var E=function(t){return t[t.LOADING=0]="LOADING",t[t.ONBOARDING=1]="ONBOARDING",t[t.NOT_ENOUGH_CURRENCIES=2]="NOT_ENOUGH_CURRENCIES",t[t.EXCHANGE=3]="EXCHANGE",t}({}),A=function(){function t(t,e,n,i,c,a,s,l,b,u,d,h,f,m){var v=this;this.formBuilder=t,this.router=e,this.exchangeProvider=n,this.storageProvider=i,this.accountProvider=c,this.dataService=a,this.loadingController=s,this.translateService=l,this.modalController=b,this.alertCtrl=u,this.priceService=d,this.operationsProvider=h,this.protocolService=f,this._ngZone=m,this.supportedProtocolsFrom=[],this.supportedProtocolsTo=[],this.minExchangeAmount=new r.BigNumber(0),this.amount=new r.BigNumber(0),this.disableExchangeSelection=!1,this.isSubstrate=!1,this.exchangePageStates=E,this.exchangePageState=E.LOADING,this._state=void 0,this.state$=new p.a(this._state),this.exchangeProvider.getActiveExchange().subscribe((function(t){v.activeExchange=t})),this.exchangeForm=this.formBuilder.group({feeLevel:[0,[g.A.required]],fee:[0,g.A.compose([g.A.required])],isAdvancedMode:[!1,[]]}),this.setup().then((function(){v.initState().then((function(){return Object(o.b)(v,void 0,void 0,(function(){return Object(o.e)(this,(function(t){return this.onChanges(),this.updateFeeEstimate(),[2]}))}))})).catch((function(t){return console.error(t)}))})).catch((function(){return v.showLoadingErrorAlert()}))}return Object.defineProperty(t.prototype,"isTZBTCExchange",{get:function(){return void 0!==this.selectedFromProtocol&&this.selectedFromProtocol.identifier===i.SubProtocolSymbols.XTZ_BTC||void 0!==this.selectedToProtocol&&this.selectedToProtocol.identifier===i.SubProtocolSymbols.XTZ_BTC},enumerable:!1,configurable:!0}),t.prototype.initState=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.e)(this,(function(t){return this._state={feeDefaults:this.selectedFromProtocol.feeDefaults,disableAdvancedMode:this.isSubstrate,feeCurrentMarketPrice:null,disableFeeSlider:!0,disableExchangeButton:!0,estimatingFeeDefaults:!1,feeLevel:{value:this.exchangeForm.controls.feeLevel.value,dirty:!1},fee:{value:this.exchangeForm.controls.fee.value,dirty:!1},isAdvancedMode:{value:this.exchangeForm.controls.isAdvancedMode.value,dirty:!1}},this.state=this._state,[2]}))}))},t.prototype.updateTransactionForm=function(t){var e=this,n=this.exchangeForm.value,o={};Object.keys(n).forEach((function(e){e in t&&!t[e].dirty&&t[e].value!==n[e]&&(o[e]=t[e].value)})),this._ngZone.run((function(){e.exchangeForm.patchValue(o,{emitEvent:!1}),Object.keys(o).forEach((function(t){e.exchangeForm.controls[t].markAsDirty()}))}))},t.prototype.onStateUpdated=function(t){this.state=t,this.updateTransactionForm({fee:this.state.fee,feeLevel:this.state.feeLevel,isAdvancedMode:this.state.isAdvancedMode})},t.prototype.onChanges=function(){var t=this;this.state$.pipe(Object(m.a)(200)).subscribe((function(e){t.onStateUpdated(e)})),this.exchangeForm.get("fee").valueChanges.pipe(Object(m.a)(500)).subscribe((function(e){var n=new r.BigNumber(e);t.updateState({fee:{value:n.isNaN()?"":n.toFixed(),dirty:!0}})})),this.exchangeForm.get("feeLevel").valueChanges.subscribe((function(e){var n=new r.BigNumber(t.getFeeFromLevel(e));t.updateState({fee:{value:n.toFixed(),dirty:!1},feeLevel:{value:e,dirty:!0},disableExchangeButton:t.exchangeForm.invalid||t.amount.lte(0)},!1)})),this.exchangeForm.get("isAdvancedMode").valueChanges.subscribe((function(e){t.updateState({isAdvancedMode:{value:e,dirty:!0},disableExchangeButton:t.exchangeForm.invalid||new r.BigNumber(t.amount).lte(0)},!1)}))},t.prototype.updateFeeEstimate=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e,n;return Object(o.e)(this,(function(o){switch(o.label){case 0:return this._state?[4,this.priceService.getCurrentMarketPrice(this.selectedFromProtocol,"USD")]:[3,3];case 1:return t=o.sent().toNumber(),this.updateState({feeCurrentMarketPrice:t}),this.updateState({estimatingFeeDefaults:!0,disableFeeSlider:!0,disableExchangeButton:!0}),[4,this.estimateFees().catch((function(){}))];case 2:e=o.sent(),this.updateState({estimatingFeeDefaults:!1,feeDefaults:e,fee:{value:new r.BigNumber(this.getFeeFromLevel(n=e&&!this.isSubstrate?1:this._state.feeLevel.value,e)).toFixed(),dirty:!1},feeLevel:{value:n,dirty:!1},disableFeeSlider:!e,disableExchangeButton:!e||this.exchangeForm.invalid||this.amount.lte(0)}),o.label=3;case 3:return[2]}}))}))},t.prototype.estimateFees=function(){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.e)(this,(function(e){return[2,!(t=this.amount.shiftedBy(this.selectedFromProtocol.decimals)).isNaN()&&t.gt(0)?this.operationsProvider.estimateFees(this.fromWallet,this.fromWallet.addresses[0],t):void 0]}))}))},t.prototype.getFeeFromLevel=function(t,e){var n=e||this._state.feeDefaults;switch(t){case 0:return n.low;case 1:return n.medium;case 2:return n.high;default:return n.medium}},t.prototype.filterSupportedProtocols=function(t,e){return void 0===e&&(e=!0),Object(o.b)(this,void 0,void 0,(function(){var n,r,c;return Object(o.e)(this,(function(o){return n=this.accountProvider.getWalletList(),r=t.filter((function(t){return n.some((function(n){return n.protocol.identifier===t&&(!e||e&&n.currentBalance.isGreaterThan(0))}))})),-1===(c=r.indexOf(i.SubProtocolSymbols.XTZ_BTC))||n.some((function(t){return t.protocol.identifier===i.MainProtocolSymbols.BTC}))||r.splice(c,1),[2,r]}))}))},t.prototype.setup=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e,n;return Object(o.e)(this,(function(o){switch(o.label){case 0:return[4,this.getSupportedFromProtocols()];case 1:return 0===(t=o.sent()).length?(this.supportedProtocolsFrom=[],this.supportedProtocolsTo=[],this.selectedFromProtocol=void 0,this.selectedToProtocol=void 0,this.exchangePageState=E.NOT_ENOUGH_CURRENCIES,[2]):(this.supportedProtocolsFrom=t,e=void 0!==this.selectedFromProtocol&&this.supportedProtocolsFrom.includes(this.selectedFromProtocol.identifier)?this.selectedFromProtocol.identifier:t[0],n=this.setFromProtocol,[4,this.protocolService.getProtocol(e)]);case 2:return[4,n.apply(this,[o.sent()])];case 3:return o.sent(),this.exchangePageState!==E.LOADING?[3,5]:[4,this.storageProvider.get(u.a.EXCHANGE_INTEGRATION)];case 4:if(!o.sent())return this.exchangePageState=E.ONBOARDING,[2];o.label=5;case 5:return this.supportedProtocolsFrom.length>0&&this.supportedProtocolsTo.length>0&&(this.exchangePageState=E.EXCHANGE),[2]}}))}))},t.prototype.showLoadingErrorAlert=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e,n=this;return Object(o.e)(this,(function(o){return t=this.activeExchange,this.exchangeProvider.switchActiveExchange(),e=this.activeExchange,this.setup().then((function(){return n.switchExchange(t,e)})).catch((function(){return n.displaySetupFail()})),[2]}))}))},t.prototype.switchExchange=function(t,e){return Object(o.b)(this,void 0,void 0,(function(){var n;return Object(o.e)(this,(function(o){switch(o.label){case 0:return[4,this.alertCtrl.create({header:this.translateService.instant("exchange.loading.setup"),message:t+" could currently not be loaded, switched to "+e,backdropDismiss:!1,buttons:[{text:"ok",role:"cancel"}]})];case 1:return n=o.sent(),this.disableExchangeSelection=!0,n.present().catch(Object(b.b)(b.a.IONIC_ALERT)),[2]}}))}))},t.prototype.displaySetupFail=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.e)(this,(function(t){switch(t.label){case 0:return[4,this.alertCtrl.create({header:this.translateService.instant("exchange.loading.setup"),message:this.translateService.instant("exchange.loading.message"),backdropDismiss:!1,buttons:[{text:"ok",role:"cancel"}]})];case 1:return t.sent().present().catch(Object(b.b)(b.a.IONIC_ALERT)),[2]}}))}))},t.prototype.getSupportedFromProtocols=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e,n=this;return Object(o.e)(this,(function(r){switch(r.label){case 0:return[4,this.exchangeProvider.getAvailableFromCurrencies()];case 1:return(t=r.sent()).push(i.SubProtocolSymbols.XTZ_BTC),[4,this.filterSupportedProtocols(t)];case 2:return e=r.sent(),[4,Promise.all(e.map((function(t){return Object(o.b)(n,void 0,void 0,(function(){return Object(o.e)(this,(function(e){switch(e.label){case 0:return t===i.SubProtocolSymbols.XTZ_BTC?[2,t]:[4,this.exchangeProvider.getAvailableToCurrenciesForCurrency(t)];case 1:return[2,e.sent().length>0?t:void 0]}}))}))})))];case 3:return[2,r.sent().filter((function(t){return void 0!==t}))]}}))}))},t.prototype.getSupportedToProtocols=function(t){return Object(o.b)(this,void 0,void 0,(function(){var e;return Object(o.e)(this,(function(n){switch(n.label){case 0:return t===i.SubProtocolSymbols.XTZ_BTC?[2,this.filterSupportedProtocols([i.MainProtocolSymbols.BTC],!1)]:[4,this.exchangeProvider.getAvailableToCurrenciesForCurrency(t)];case 1:return e=n.sent(),t===i.MainProtocolSymbols.BTC&&e.push(i.SubProtocolSymbols.XTZ_BTC),[2,this.filterSupportedProtocols(e,!1)]}}))}))},t.prototype.setFromProtocol=function(t){return Object(o.b)(this,void 0,void 0,(function(){var e,n;return Object(o.e)(this,(function(o){switch(o.label){case 0:return this.selectedFromProtocol=t,e=this,[4,this.getSupportedToProtocols(t.identifier)];case 1:return e.supportedProtocolsTo=o.sent(),0===this.supportedProtocolsTo.length?(this.supportedProtocolsFrom=[],this.supportedProtocolsTo=[],this.selectedFromProtocol=void 0,this.selectedToProtocol=void 0,this.exchangePageState=E.NOT_ENOUGH_CURRENCIES,[2]):void 0!==this.selectedToProtocol&&this.selectedFromProtocol.identifier!==this.selectedToProtocol.identifier&&this.supportedProtocolsTo.includes(this.selectedToProtocol.identifier)?[3,3]:[4,this.protocolService.getProtocol(this.supportedProtocolsTo[0])];case 2:n=o.sent(),this.selectedToProtocol=n,this.loadWalletsForSelectedToProtocol(),o.label=3;case 3:return this.loadWalletsForSelectedFromProtocol(),this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),this.updateFeeEstimate(),[2]}}))}))},t.prototype.setToProtocol=function(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.e)(this,(function(e){return this.selectedToProtocol=t,this.loadWalletsForSelectedToProtocol(),this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),[2]}))}))},t.prototype.loadWalletsForSelectedFromProtocol=function(){this.supportedFromWallets=this.walletsForProtocol(this.selectedFromProtocol.identifier,!0),this.shouldReplaceActiveWallet(this.fromWallet,this.supportedFromWallets)&&(this.fromWallet=this.supportedFromWallets[0])},t.prototype.loadWalletsForSelectedToProtocol=function(){this.supportedToWallets=this.walletsForProtocol(this.selectedToProtocol.identifier,!1),this.toWallet=this.supportedToWallets[0],this.shouldReplaceActiveWallet(this.toWallet,this.supportedToWallets)&&(this.toWallet=this.supportedToWallets[0])},t.prototype.walletsForProtocol=function(t,e){return void 0===e&&(e=!0),this.accountProvider.getWalletList().filter((function(n){return n.protocol.identifier===t&&n.protocol.options.network.type===h.NetworkType.MAINNET&&(!e||n.currentBalance.isGreaterThan(0))}))},t.prototype.shouldReplaceActiveWallet=function(t,e){var n=this;return!t||t.protocol.identifier!==e[0].protocol.identifier||e.every((function(e){return!n.accountProvider.isSameWallet(e,t)}))},t.prototype.setFromWallet=function(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.e)(this,(function(e){return this.fromWallet=t,this.isSubstrate=this.fromWallet.protocol.identifier===i.MainProtocolSymbols.KUSAMA||this.selectedFromProtocol.identifier===i.MainProtocolSymbols.POLKADOT,this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),[2]}))}))},t.prototype.setToWallet=function(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.e)(this,(function(e){return this.toWallet=t,this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),[2]}))}))},t.prototype.amountSet=function(t){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.e)(this,(function(e){return this.amount=new r.BigNumber(t),this.updateFeeEstimate(),this.loadDataFromExchange(),[2]}))}))},t.prototype.loadDataFromExchange=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e,n;return Object(o.e)(this,(function(o){switch(o.label){case 0:return this.fromWallet&&this.toWallet?(t=this,[4,this.getMinAmountForCurrency()]):[3,2];case 1:t.minExchangeAmount=o.sent(),o.label=2;case 2:return this.fromWallet&&this.toWallet&&this.amount.isGreaterThan(0)?(e=this,n=r.BigNumber.bind,[4,this.getExchangeAmount()]):[3,4];case 3:return e.exchangeAmount=new(n.apply(r.BigNumber,[void 0,o.sent()])),[3,5];case 4:this.exchangeAmount=new r.BigNumber(0),o.label=5;case 5:return[2]}}))}))},t.prototype.getMinAmountForCurrency=function(){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.e)(this,(function(e){switch(e.label){case 0:return this.isTZBTCExchange?[2,new r.BigNumber(0)]:(t=r.BigNumber.bind,[4,this.exchangeProvider.getMinAmountForCurrency(this.fromWallet.protocol.identifier,this.toWallet.protocol.identifier)]);case 1:return[2,new(t.apply(r.BigNumber,[void 0,e.sent()]))]}}))}))},t.prototype.getExchangeAmount=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.e)(this,(function(t){switch(t.label){case 0:return this.isTZBTCExchange?[2,this.amount.toFixed()]:[4,this.exchangeProvider.getExchangeAmount(this.fromWallet.protocol.identifier,this.toWallet.protocol.identifier,this.amount.toString())];case 1:return[2,t.sent()]}}))}))},t.prototype.startExchange=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e,n,i,c,a,l,u,d,h;return Object(o.e)(this,(function(o){switch(o.label){case 0:return this.isTZBTCExchange?(this.router.navigateByUrl("/exchange-custom").catch(Object(b.b)(b.a.STORAGE)),[3,10]):[3,1];case 1:return[4,this.getAndShowLoader()];case 2:t=o.sent(),o.label=3;case 3:return o.trys.push([3,8,9,10]),[4,this.exchangeProvider.createTransaction(this.fromWallet.protocol.identifier,this.toWallet.protocol.identifier,this.toWallet.receivingPublicAddress,this.amount.toString(),this.fromWallet.receivingPublicAddress)];case 4:return e=o.sent(),[4,this.getExchangeAmount()];case 5:return n=o.sent(),i=e.amountExpectedFrom?new r.BigNumber(e.amountExpectedFrom):this.amount,[4,this.operationsProvider.estimateFees(this.fromWallet,e.payinAddress,i.shiftedBy(this.fromWallet.protocol.decimals))];case 6:return c=o.sent(),a={fromWallet:this.fromWallet,fromCurrency:this.fromWallet.protocol.marketSymbol,toWallet:this.toWallet,toCurrency:this.exchangeProvider.convertAirGapIdentifierToExchangeIdentifier([this.toWallet.protocol.identifier])[0],exchangeResult:e,amountExpectedFrom:this.amount.toString(),amountExpectedTo:n,fee:this.state.fee.value,memo:e.payinExtraId?e.payinExtraId:void 0},this.dataService.setData(s.b.EXCHANGE,a),this.router.navigateByUrl("/exchange-confirm/"+s.b.EXCHANGE).catch(Object(b.b)(b.a.STORAGE)),[4,this.exchangeProvider.getStatus(l=e.id)];case 7:return u=o.sent().status,d={receivingAddress:this.toWallet.addresses[0],sendingAddress:this.fromWallet.addresses[0],fromCurrency:this.fromWallet.protocol.identifier,toCurrency:this.toWallet.protocol.identifier,amountExpectedFrom:this.amount,amountExpectedTo:n.toString(),fee:c.medium,status:u,exchange:this.activeExchange,id:l,timestamp:new r.BigNumber(Date.now()).toNumber()},this.exchangeProvider.pushExchangeTransaction(d),[3,10];case 8:return h=o.sent(),console.error(h),[3,10];case 9:return this.hideLoader(t),[7];case 10:return[2]}}))}))},t.prototype.doRadio=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e=this;return Object(o.e)(this,(function(n){switch(n.label){case 0:return[4,this.modalController.create({component:d.a,componentProps:{activeExchange:this.activeExchange}})];case 1:return(t=n.sent()).present().catch((function(t){return console.error(t)})),t.onDidDismiss().then((function(){return Object(o.b)(e,void 0,void 0,(function(){return Object(o.e)(this,(function(t){switch(t.label){case 0:return[4,this.setup()];case 1:return t.sent(),[2]}}))}))})).catch(Object(b.b)(b.a.IONIC_MODAL)),[2]}}))}))},t.prototype.dismissExchangeOnboarding=function(){this.setup(),this.storageProvider.set(u.a.EXCHANGE_INTEGRATION,!0).catch(Object(b.b)(b.a.STORAGE))},t.prototype.goToAddCoinPage=function(){this.router.navigateByUrl("/account-add")},t.prototype.getAndShowLoader=function(){return Object(o.b)(this,void 0,void 0,(function(){var t;return Object(o.e)(this,(function(e){switch(e.label){case 0:return[4,this.loadingController.create({message:"Preparing transaction..."})];case 1:return[4,(t=e.sent()).present().catch(Object(b.b)(b.a.IONIC_LOADER))];case 2:return e.sent(),[2,t]}}))}))},t.prototype.hideLoader=function(t){t.dismiss().catch(Object(b.b)(b.a.IONIC_LOADER))},t.prototype.updateState=function(t,e){void 0===e&&(e=!0),this._state=this.reduceState(this._state,t),e?this.state$.next(this._state):this.onStateUpdated(this._state)},t.prototype.reduceState=function(t,e){return{feeDefaults:e.feeDefaults||t.feeDefaults,feeCurrentMarketPrice:void 0!==e.feeCurrentMarketPrice?e.feeCurrentMarketPrice:t.feeCurrentMarketPrice,disableAdvancedMode:this.isSubstrate||(void 0!==e.disableAdvancedMode?e.disableAdvancedMode:t.disableAdvancedMode),disableFeeSlider:this.isSubstrate||(void 0!==e.disableFeeSlider?e.disableFeeSlider:t.disableFeeSlider),disableExchangeButton:void 0!==e.disableExchangeButton?e.disableExchangeButton:t.disableExchangeButton,estimatingFeeDefaults:void 0!==e.estimatingFeeDefaults?e.estimatingFeeDefaults:t.estimatingFeeDefaults,feeLevel:e.feeLevel||t.feeLevel,fee:e.fee||t.fee,isAdvancedMode:e.isAdvancedMode||t.isAdvancedMode}},t.\u0275fac=function(e){return new(e||t)(v.Ib(g.e),v.Ib(y.g),v.Ib(l.a),v.Ib(u.b),v.Ib(a.a),v.Ib(s.a),v.Ib(M.Cb),v.Ib(w.e),v.Ib(M.Db),v.Ib(M.a),v.Ib(f.a),v.Ib(c.a),v.Ib(P.y),v.Ib(v.z))},t.\u0275cmp=v.Cb({type:t,selectors:[["page-exchange"]],decls:13,vars:6,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],[4,"ngIf"],[1,"onboarding__container","ion-padding"],["size","12"],[1,"ion-no-margin",3,"innerHTML"],[1,"content--align__center-center","ion-no-padding"],["src","./assets/img/token_swap.svg"],[1,"ion-no-margin","ion-padding-bottom"],["shape","round","color","primary","expand","full",3,"click"],[3,"selectedWallet","supportedWallets","selectedProtocol","supportedProtocols","exchangeAmount","minExchangeAmount","protocolSetEmitter","walletSetEmitter","amountSetEmitter"],[3,"selectedWallet","supportedWallets","selectedProtocol","supportedProtocols","exchangeAmount","swapSell","protocolSetEmitter","walletSetEmitter"],[1,"divider--line"],["class","powered__container ion-padding ion-align-items-center ",4,"ngIf"],[3,"state","form","wallet"],["vertical","bottom","horizontal","end"],["color","primary","shape","round",3,"disabled","click"],[1,"powered__container","ion-padding","ion-align-items-center"],[1,"ion-no-padding"],[1,"powered__container","ion-align-items-center"],["color","blackLight"],["src","./assets/img/changenow_logo.svg",4,"ngIf"],["src","./assets/img/changelly_logo.svg",4,"ngIf"],[1,"ion-no-padding","justify--content__end"],["fill","clear","color","secondary","size","small",3,"disabled","click"],["name","chevron-down-outline"],["src","./assets/img/changenow_logo.svg"],["src","./assets/img/changelly_logo.svg"]],template:function(t,e){1&t&&(v.Nb(0,"ion-header",0),v.Nb(1,"ion-grid",1),v.Nb(2,"ion-toolbar"),v.Nb(3,"ion-buttons",2),v.Jb(4,"ion-menu-button"),v.Mb(),v.Nb(5,"ion-title"),v.uc(6),v.Yb(7,"translate"),v.Mb(),v.Mb(),v.Mb(),v.Mb(),v.Nb(8,"ion-content"),v.Nb(9,"ion-grid",1),v.sc(10,_,13,9,"ng-container",3),v.sc(11,S,13,9,"ng-container",3),v.sc(12,T,10,20,"ng-container",3),v.Mb(),v.Mb()),2&t&&(v.yb(6),v.vc(v.Zb(7,4,"exchange.title")),v.yb(4),v.dc("ngIf",e.exchangePageState===e.exchangePageStates.ONBOARDING),v.yb(1),v.dc("ngIf",e.exchangePageState===e.exchangePageStates.NOT_ENOUGH_CURRENCIES),v.yb(1),v.dc("ngIf",e.exchangePageState===e.exchangePageStates.EXCHANGE))},directives:[M.A,M.z,M.yb,M.k,M.Q,M.wb,M.t,O.t,M.fb,M.s,M.j,N.a,x.a,M.v,M.tb,M.B],pipes:[w.d],styles:[".onboarding__container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50vh;height:50vh}.divider--line[_ngcontent-%COMP%]{border-top:1px solid rgba(var(--ion-color-primary-rgb),.24)}.powered__container[_ngcontent-%COMP%]{padding-bottom:8px}.powered__container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:24px;margin-left:8px}"]}),t}()},XvSo:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var o=n("mrSG"),i=n("138U"),r=n("wTY4"),c=n("hPkG"),a=n("AffV"),s=n("fXoL"),l=n("TEn/"),b=n("ofXK"),u=n("IyRd"),d=n("sYmb"),h=["scanner"];function g(t,e){if(1&t&&(s.Nb(0,"ion-title",19),s.uc(1),s.Mb()),2&t){var n=s.Xb();s.yb(1),s.xc("",n.numberOfQrsScanned,"/",n.numberOfQrsTotal,"")}}function p(t,e){1&t&&(s.Lb(0),s.uc(1),s.Yb(2,"translate"),s.Kb()),2&t&&(s.yb(1),s.wc(" ",s.Zb(2,1,"scan.text")," "))}function f(t,e){1&t&&(s.Lb(0),s.uc(1),s.Yb(2,"translate"),s.Kb()),2&t&&(s.yb(1),s.wc(" ",s.Zb(2,1,"scan.multi-qr_text")," "))}function m(t,e){if(1&t&&s.Jb(0,"ion-progress-bar",20),2&t){var n=s.Xb();s.dc("value",n.percentageScanned)}}function v(t,e){if(1&t){var n=s.Ob();s.Nb(0,"zxing-scanner",21,22),s.Vb("scanSuccess",(function(t){return s.lc(n),s.Xb().checkScan(t)})),s.Mb()}}var y=function(t){function e(e,n,o,i,r){var c=t.call(this,e,n,o)||this;return c.platform=e,c.scanner=n,c.permissionsProvider=o,c.iacService=i,c.ngZone=r,c.percentageScanned=0,c.numberOfQrsScanned=0,c.numberOfQrsTotal=0,c.parts=new Set,c.isMultiQr=!1,c}return Object(o.d)(e,t),e.prototype.ionViewWillEnter=function(){return Object(o.b)(this,void 0,void 0,(function(){return Object(o.e)(this,(function(e){switch(e.label){case 0:return[4,t.prototype.ionViewWillEnter.call(this)];case 1:return e.sent(),this.resetScannerPage(),[2]}}))}))},e.prototype.resetScannerPage=function(){this.parts=new Set,this.percentageScanned=0,this.isMultiQr=!1},e.prototype.checkScan=function(t){return Object(o.b)(this,void 0,void 0,(function(){var e,n=this;return Object(o.e)(this,(function(o){return e=this.parts.size,this.parts.add(t),e===this.parts.size?(console.log("[SCAN:checkScan]: Already scanned string skipping "+t),this.startScan(),[2]):(console.log("[SCAN:checkScan]: Trying to decode string "+t),this.ngZone.run((function(){n.iacService.handleRequest(Array.from(n.parts),i.q.QR_SCANNER,(function(t){console.log("scan result",t);var e=t;t&&e.availablePages&&(n.isMultiQr=!0,n.numberOfQrsScanned=e.availablePages.length,n.numberOfQrsTotal=e.totalPages,n.percentageScanned=Math.max(0,Math.min(1,e.availablePages.length/e.totalPages))),n.startScan()})).then((function(t){t===i.o.SUCCESS&&n.resetScannerPage()})).catch(Object(c.b)(c.a.SCHEME_ROUTING))})),[2])}))}))},e.\u0275fac=function(t){return new(t||e)(s.Ib(l.Ib),s.Ib(i.A),s.Ib(i.x),s.Ib(r.a),s.Ib(s.z))},e.\u0275cmp=s.Cb({type:e,selectors:[["page-scan"]],viewQuery:function(t,e){var n;1&t&&s.yc(h,!0),2&t&&s.jc(n=s.Wb())&&(e.zxingScanner=n.first)},features:[s.vb],decls:29,vars:18,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],["slot","end",4,"ngIf"],["forceOverscroll","false"],["color","secondary"],[1,"ion-padding","ion-no-margin"],[4,"ngIf"],["style","height: 8px","color","secondary",3,"value",4,"ngIf"],[1,"row--height__100","ion-justify-content-center","ion-align-items-center",3,"hidden"],[1,"guides--container","content--align__center-center"],["src","./assets/img/qr_code_guides.svg",1,"guides--container__img"],[3,"scanSuccess",4,"ngIf"],[1,"row--height__100","ion-justify-content-center","ion-align-items-center",3,"hidden","click"],[1,"ion-text-center"],["src","./assets/img/permission_onboarding_camera.svg"],[1,"ion-padding-horizontal",3,"innerHTML"],["shape","round","color","primary"],["slot","end"],["color","secondary",2,"height","8px",3,"value"],[3,"scanSuccess"],["scanner",""]],template:function(t,e){1&t&&(s.Nb(0,"ion-header",0),s.Nb(1,"ion-grid",1),s.Nb(2,"ion-toolbar"),s.Nb(3,"ion-buttons",2),s.Jb(4,"ion-menu-button"),s.Jb(5,"ion-back-button",3),s.Mb(),s.Nb(6,"ion-title"),s.uc(7),s.Yb(8,"translate"),s.Mb(),s.sc(9,g,2,2,"ion-title",4),s.Mb(),s.Mb(),s.Mb(),s.Nb(10,"ion-content",5),s.Nb(11,"ion-grid",1),s.Nb(12,"ion-text",6),s.Nb(13,"p",7),s.sc(14,p,3,3,"ng-container",8),s.sc(15,f,3,3,"ng-container",8),s.Mb(),s.Mb(),s.sc(16,m,1,1,"ion-progress-bar",9),s.Nb(17,"ion-row",10),s.Nb(18,"ion-col",11),s.Jb(19,"img",12),s.Mb(),s.sc(20,v,2,0,"zxing-scanner",13),s.Mb(),s.Nb(21,"ion-row",14),s.Vb("click",(function(){return e.requestPermission()})),s.Nb(22,"ion-col",15),s.Jb(23,"img",16),s.Jb(24,"h3",17),s.Yb(25,"translate"),s.Nb(26,"ion-button",18),s.uc(27),s.Yb(28,"translate"),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&t&&(s.yb(7),s.vc(s.Zb(8,12,"scan.title")),s.yb(2),s.dc("ngIf",e.isMultiQr),s.yb(1),s.Ab("transparent",e.hasCameraPermission),s.yb(4),s.dc("ngIf",!e.isMultiQr),s.yb(1),s.dc("ngIf",e.isMultiQr),s.yb(1),s.dc("ngIf",e.isMultiQr),s.yb(1),s.dc("hidden",!e.hasCameraPermission),s.yb(3),s.dc("ngIf",e.isBrowser||e.isElectron),s.yb(1),s.dc("hidden",e.hasCameraPermission),s.yb(3),s.dc("innerHTML",s.Zb(25,14,"scan.empty-state_heading"),s.mc),s.yb(3),s.vc(s.Zb(28,16,"scan.grant-permission_label")))},directives:[l.A,l.z,l.yb,l.k,l.Q,l.f,l.g,l.wb,b.t,l.t,l.tb,l.fb,l.s,l.j,l.V,u.a],pipes:[d.d],styles:["[_ngcontent-%COMP%]:root{--ion-color-primary:#00e8cc;--ion-color-primary-rgb:0,232,204;--ion-color-primary-contrast:#311b58;--ion-color-primary-contrast-rgb:49,27,88;--ion-color-primary-shade:#00ccb4;--ion-color-primary-tint:#1aead1;--ion-color-secondary:#311b58;--ion-color-secondary-rgb:49,27,88;--ion-color-secondary-contrast:#00e8cc;--ion-color-secondary-contrast-rgb:0,232,204;--ion-color-secondary-shade:#2b184d;--ion-color-secondary-tint:#463269;--ion-color-tertiary:#7044ff;--ion-color-tertiary-rgb:112,68,255;--ion-color-tertiary-contrast:#fff;--ion-color-tertiary-contrast-rgb:255,255,255;--ion-color-tertiary-shade:#633ce0;--ion-color-tertiary-tint:#7e57ff;--ion-color-success:#10dc60;--ion-color-success-rgb:16,220,96;--ion-color-success-contrast:#fff;--ion-color-success-contrast-rgb:255,255,255;--ion-color-success-shade:#0ec254;--ion-color-success-tint:#28e070;--ion-color-warning:#ffce00;--ion-color-warning-rgb:255,206,0;--ion-color-warning-contrast:#fff;--ion-color-warning-contrast-rgb:255,255,255;--ion-color-warning-shade:#e0b500;--ion-color-warning-tint:#ffd31a;--ion-color-danger:#f04141;--ion-color-danger-rgb:245,61,61;--ion-color-danger-contrast:#fff;--ion-color-danger-contrast-rgb:255,255,255;--ion-color-danger-shade:#d33939;--ion-color-danger-tint:#f25454;--ion-color-dark:#222428;--ion-color-dark-rgb:34,34,34;--ion-color-dark-contrast:#fff;--ion-color-dark-contrast-rgb:255,255,255;--ion-color-dark-shade:#1e2023;--ion-color-dark-tint:#383a3e;--ion-color-medium:#989aa2;--ion-color-medium-rgb:152,154,162;--ion-color-medium-contrast:#fff;--ion-color-medium-contrast-rgb:255,255,255;--ion-color-medium-shade:#86888f;--ion-color-medium-tint:#a2a4ab;--ion-color-light:#f4f4f4;--ion-color-light-rgb:244,244,244;--ion-color-light-contrast:#000;--ion-color-light-contrast-rgb:0,0,0;--ion-color-light-shade:#d7d8da;--ion-color-light-tint:#f5f6f9;--ion-color-secondaryLight:#440094;--ion-color-secondaryLight-rgb:68,0,148;--ion-color-secondaryLight-contrast:#fff;--ion-color-secondaryLight-contrast-rgb:255,255,255;--ion-color-secondaryLight-shade:#3c0082;--ion-color-secondaryLight-tint:#571a9f;--ion-color-gray:#d3d3d3;--ion-color-gray-rgb:211,211,211;--ion-color-gray-contrast:#000;--ion-color-gray-contrast-rgb:255,255,255;--ion-color-gray-shade:#bababa;--ion-color-gray-tint:#d7d7d7;--ion-color-grayLight:#f4f4f4;--ion-color-grayLight-rgb:244,244,244;--ion-color-grayLight-contrast:#000;--ion-color-grayLight-contrast-rgb:255,255,255;--ion-color-grayLight-shade:#d7d7d7;--ion-color-grayLight-tint:#f5f5f5}[_ngcontent-%COMP%]:root   ion-back-button[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   ion-title[_ngcontent-%COMP%]{--color:var(--ion-color-secondary)}[_ngcontent-%COMP%]:root   ion-back-button[_ngcontent-%COMP%]{--icon-margin-end:0}[_ngcontent-%COMP%]:root   ion-button[_ngcontent-%COMP%]{--border-width:1px;--padding-start:1.5rem;--padding-end:1.5rem}[_ngcontent-%COMP%]:root   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start:0.5rem;--padding-end:0.5rem}[_ngcontent-%COMP%]:root   ion-alert[_ngcontent-%COMP%]{--max-width:calc(100% - 32px)}[_ngcontent-%COMP%]:root   page-exchange[_ngcontent-%COMP%]   .button-small[_ngcontent-%COMP%]{--padding-start:0;--padding-end:0;margin:0}[_ngcontent-%COMP%]:root   ion-split-pane[_ngcontent-%COMP%]{--side-max-width:10vw}.ion-color-white[_ngcontent-%COMP%]{--ion-color-base:#fff;--ion-color-base-rgb:255,255,255;--ion-color-contrast:#000;--ion-color-contrast-rgb:0,0,0;--ion-color-shade:#e0e0e0;--ion-color-tint:#fff}.ion-color-black[_ngcontent-%COMP%]{--ion-color-base:#000;--ion-color-base-rgb:0,0,0;--ion-color-contrast:#000;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#5ca56c;--ion-color-tint:#78c288}.ion-color-whiteLight[_ngcontent-%COMP%]{--ion-color-base:#311b58;--ion-color-base-rgb:49,27,88;--ion-color-contrast:#fff;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#2b184d;--ion-color-tint:#463269}.ion-color-blackLight[_ngcontent-%COMP%]{--ion-color-base:rgba(0,0,0,0.54);--ion-color-base-rgb:49,27,88;--ion-color-contrast:#fff;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#5ca56c;--ion-color-tint:#78c288}.ion-color-grayLight[_ngcontent-%COMP%]{--ion-color-base:#f4f4f4;--ion-color-base-rgb:0,0,0;--ion-color-contrast:#000;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#5ca56c;--ion-color-tint:#78c288}ion-avatar[_ngcontent-%COMP%]{min-width:48px;min-height:48px}page-account-address[_ngcontent-%COMP%]   identicon[_ngcontent-%COMP%], page-account-address[_ngcontent-%COMP%]   identicon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], page-account-address[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:64px;height:64px}portfolio-item[_ngcontent-%COMP%]   div[slot=end][_ngcontent-%COMP%]{-webkit-margin-start:8px;margin-inline-start:8px}page-portfolio[_ngcontent-%COMP%]   portfolio-item[_ngcontent-%COMP%]   div[slot=end][_ngcontent-%COMP%]{-webkit-margin-end:0;margin-inline-end:0}.item__image[slot=start][_ngcontent-%COMP%]{margin:8px 16px 8px 0}ion-content[_ngcontent-%COMP%]{--background:none transparent}.transparent[_ngcontent-%COMP%]{background:none!important}p[_ngcontent-%COMP%]{background:var(--ion-color-primary)}.row--height__100[_ngcontent-%COMP%]{height:calc(100% - 48px)}.row--height__100[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:45vh}.guides--container[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}.guides--container[_ngcontent-%COMP%]   .guides--container__img[_ngcontent-%COMP%]{width:60%;max-width:400px;margin-top:3em;max-height:50%}ion-grid[_ngcontent-%COMP%]{height:100%}"]}),e}(a.a)},fOEu:function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));var o=n("mrSG"),i=n("jtHE"),r=n("Cfvw"),c=n("cp0P"),a=n("onrW"),s=n("57MG"),l=n("1y+R"),b=n("nxqh"),u=n("hPkG"),d=n("kB5k"),h=n.n(d),g=n("fXoL"),p=n("tyNb"),f=n("138U"),m=n("TEn/"),v=n("ofXK"),y=n("0HKr"),M=n("F07p"),w=n("1Mpf"),P=n("sYmb");function O(t,e){if(1&t&&g.Jb(0,"chart",11),2&t){var n=g.Xb(2);g.dc("total",n.total)}}function N(t,e){if(1&t&&(g.Lb(0),g.sc(1,O,1,1,"chart",10),g.Kb()),2&t){var n=e.ngIf;g.yb(1),g.dc("ngIf",n.length>0)}}function x(t,e){if(1&t){var n=g.Ob();g.Nb(0,"portfolio-item",17),g.Vb("click",(function(){g.lc(n);var t=g.Xb().$implicit;return g.Xb(3).openDetail(t.mainWallet)})),g.Mb()}if(2&t){var o=g.Xb().$implicit;g.dc("wallet",o.mainWallet)}}function _(t,e){if(1&t){var n=g.Ob();g.Nb(0,"portfolio-item",18),g.Vb("click",(function(){g.lc(n);var t=e.$implicit,o=g.Xb().$implicit;return g.Xb(3).openDetail(o.mainWallet,t)})),g.Mb()}2&t&&g.dc("wallet",e.$implicit)}function S(t,e){if(1&t&&(g.Nb(0,"ion-list",14),g.Nb(1,"ion-card"),g.sc(2,x,1,1,"portfolio-item",15),g.sc(3,_,1,1,"portfolio-item",16),g.Mb(),g.Mb()),2&t){var n=e.$implicit;g.yb(2),g.dc("ngIf",n.mainWallet),g.yb(1),g.dc("ngForOf",n.subWallets)}}function C(t,e){if(1&t&&(g.Lb(0),g.sc(1,S,4,2,"ion-list",13),g.Kb()),2&t){var n=g.Xb().ngIf;g.yb(1),g.dc("ngForOf",n)}}function I(t,e){1&t&&(g.Jb(0,"empty-state",20),g.Yb(1,"translate")),2&t&&g.dc("text",g.Zb(1,3,"portfolio.empty-state_desktop_text"))("imageName","signer-vault-ledger-desktop.svg")("fullHeight",!0)}function k(t,e){1&t&&(g.Jb(0,"empty-state",20),g.Yb(1,"translate")),2&t&&g.dc("text",g.Zb(1,3,"portfolio.empty-state_text"))("imageName","sync_wallet_onboarding_1.svg")("fullHeight",!0)}function T(t,e){if(1&t&&(g.sc(0,I,2,5,"empty-state",19),g.sc(1,k,2,5,"empty-state",19)),2&t){var n=g.Xb(2);g.dc("ngIf",n.isDesktop),g.yb(1),g.dc("ngIf",!n.isDesktop)}}function E(t,e){if(1&t&&(g.Lb(0),g.sc(1,C,2,1,"ng-container",7),g.sc(2,T,2,2,"ng-template",null,12,g.tc),g.Kb()),2&t){var n=e.ngIf,o=g.kc(3);g.yb(1),g.dc("ngIf",n.length)("ngIfElse",o)}}function A(t,e){1&t&&(g.Nb(0,"ion-list",21),g.Nb(1,"ion-card"),g.Jb(2,"portfolio-item"),g.Mb(),g.Nb(3,"ion-card"),g.Jb(4,"portfolio-item"),g.Mb(),g.Nb(5,"ion-card"),g.Jb(6,"portfolio-item"),g.Mb(),g.Nb(7,"ion-card"),g.Jb(8,"portfolio-item"),g.Mb(),g.Mb())}function j(t,e){if(1&t){var n=g.Ob();g.Nb(0,"ion-fab-button",24),g.Vb("click",(function(){return g.lc(n),g.Xb(2).openAccountAddPage()})),g.Jb(1,"ion-icon",25),g.Mb()}}function F(t,e){if(1&t){var n=g.Ob();g.Nb(0,"ion-button",26),g.Vb("click",(function(){return g.lc(n),g.Xb(2).openAccountAddPage()})),g.Jb(1,"ion-icon",27),g.uc(2),g.Yb(3,"translate"),g.Mb()}2&t&&(g.yb(2),g.wc(" ",g.Zb(3,1,"portfolio.add-coins_label")," "))}function W(t,e){if(1&t&&(g.Lb(0),g.sc(1,j,2,0,"ion-fab-button",22),g.sc(2,F,4,3,"ion-button",23),g.Kb()),2&t){var n=e.ngIf;g.yb(1),g.dc("ngIf",n.length>0),g.yb(1),g.dc("ngIf",0===n.length)}}var L=function(){function t(t,e,n,o,r){var c=this;this.router=t,this.walletsProvider=e,this.operationsProvider=n,this.protocolService=o,this.platform=r,this.isVisible="hidden",this.total=0,this.changePercentage=0,this.walletGroups=new i.a(1),this.isDesktop=!1,this.isDesktop=!this.platform.is("hybrid"),this.wallets=this.walletsProvider.wallets.asObservable(),this.wallets.subscribe((function(t){c.calculateTotal(t),c.refreshWalletGroups(t)})),this.walletsProvider.walletChangedObservable.subscribe((function(){c.calculateTotal(c.walletsProvider.getWalletList())}))}return t.prototype.refreshWalletGroups=function(t){var e=this,n=[],o=new Map;t.forEach((function(t){var e=t.protocol.isSubProtocol,n=e?t.protocol.identifier.split("-")[0]:t.protocol.identifier,i=t.publicKey+"_"+n;if(o.has(i)){var r=o.get(i);e?r.subWallets.push(t):r.mainWallet=t}else o.set(i,e?{mainWallet:void 0,subWallets:[t]}:{mainWallet:t,subWallets:[]})})),o.forEach((function(t){n.push(t)})),n.sort((function(t,e){return t.mainWallet&&e.mainWallet?t.mainWallet.protocol.symbol.localeCompare(e.mainWallet.protocol.symbol):t.mainWallet?-1:e.mainWallet?1:0})),setTimeout((function(){e.walletGroups.next(n)}),500)},t.prototype.ionViewDidEnter=function(){this.doRefresh().catch(Object(u.b)())},t.prototype.openDetail=function(t,e){var n=e?{mainWallet:t,wallet:e}:{wallet:t};console.log(n),this.router.navigateByUrl("/account-transaction-list/"+l.b.WALLET+"/"+n.wallet.publicKey+"/"+n.wallet.protocol.identifier+"/"+n.wallet.addressIndex).catch(console.error)},t.prototype.openAccountAddPage=function(){this.router.navigateByUrl("/account-add").catch(Object(u.b)(u.a.NAVIGATION))},t.prototype.doRefresh=function(t){return void 0===t&&(t=null),Object(o.b)(this,void 0,void 0,(function(){var e,n,i=this;return Object(o.e)(this,(function(o){return this.operationsProvider.refreshAllDelegationStatuses(this.walletsProvider.getWalletList()),e=[this.walletsProvider.getWalletList().map((function(t){return Object(r.a)(t.synchronize())}))],n=Object(c.a)([e]),this.subscription=n.subscribe((function(){i.calculateTotal(i.walletsProvider.getWalletList(),t?t.target:null)})),[2]}))}))},t.prototype.calculateTotal=function(t,e){return void 0===e&&(e=null),Object(o.b)(this,void 0,void 0,(function(){var n,i;return Object(o.e)(this,(function(o){switch(o.label){case 0:return n=new a.a(this.protocolService),i=this,[4,Promise.all(t.map((function(t){return n.transform(t.currentBalance,{protocolIdentifier:t.protocol.identifier,currentMarketPrice:t.currentMarketPrice})})))];case 1:return i.total=o.sent().reduce((function(t,e){return t.plus(e)}),new h.a(0)).toNumber(),e&&e.complete(),this.isVisible="visible",[2]}}))}))},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(g.Ib(p.g),g.Ib(s.a),g.Ib(b.a),g.Ib(f.y),g.Ib(m.Ib))},t.\u0275cmp=g.Cb({type:t,selectors:[["page-portfolio"]],decls:17,vars:10,consts:[[1,"ion-no-border"],["color","translucent"],["slot","start"],["fullscreen","true"],["fixed","true",1,"ion-no-padding"],[4,"ngIf"],["slot","fixed",3,"ionRefresh"],[4,"ngIf","ngIfElse"],["loading",""],["vertical","bottom","horizontal","end","slot","fixed"],[3,"total",4,"ngIf"],[3,"total"],["noItems",""],["class","walletGroups ion-no-padding","lines","none",4,"ngFor","ngForOf"],["lines","none",1,"walletGroups","ion-no-padding"],["class","mainWallet","tappable","",3,"wallet","click",4,"ngIf"],["tappable","",3,"wallet","click",4,"ngFor","ngForOf"],["tappable","",1,"mainWallet",3,"wallet","click"],["tappable","",3,"wallet","click"],[3,"text","imageName","fullHeight",4,"ngIf"],[3,"text","imageName","fullHeight"],["lines","none",1,"ion-margin-top"],["id","add-more-coins-button","color","secondary",3,"click",4,"ngIf"],["id","add-initial-coin-button","color","secondary","shape","round",3,"click",4,"ngIf"],["id","add-more-coins-button","color","secondary",3,"click"],["name","add"],["id","add-initial-coin-button","color","secondary","shape","round",3,"click"],["slot","start","name","add"]],template:function(t,e){if(1&t&&(g.Nb(0,"ion-header",0),g.Nb(1,"ion-toolbar",1),g.Nb(2,"ion-buttons",2),g.Jb(3,"ion-menu-button"),g.Mb(),g.Mb(),g.Mb(),g.Nb(4,"ion-content",3),g.Nb(5,"ion-grid",4),g.sc(6,N,2,1,"ng-container",5),g.Yb(7,"async"),g.Nb(8,"ion-refresher",6),g.Vb("ionRefresh",(function(t){return e.doRefresh(t)})),g.Jb(9,"ion-refresher-content"),g.Mb(),g.sc(10,E,4,2,"ng-container",7),g.Yb(11,"async"),g.sc(12,A,9,0,"ng-template",null,8,g.tc),g.Mb(),g.Nb(14,"ion-fab",9),g.sc(15,W,3,2,"ng-container",5),g.Yb(16,"async"),g.Mb(),g.Mb()),2&t){var n=g.kc(13);g.yb(6),g.dc("ngIf",g.Zb(7,4,e.wallets)),g.yb(4),g.dc("ngIf",g.Zb(11,6,e.walletGroups))("ngIfElse",n),g.yb(5),g.dc("ngIf",g.Zb(16,8,e.wallets))}},directives:[m.A,m.yb,m.k,m.Q,m.t,m.z,v.t,m.Z,m.ab,m.v,y.a,v.s,m.N,m.l,M.a,w.a,m.w,m.B,m.j],pipes:[v.b,P.d],styles:[".loading-header[_ngcontent-%COMP%]{color:#fff;font-weight:300;width:100%;text-align:center}.loading-header[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:28px;height:28px;stroke:#fff!important}.loading-content[_ngcontent-%COMP%]{color:#fff;font-weight:300;width:100%;margin-top:20vh;text-align:center}.loading-content[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:28px;height:28px}.sc-ion-card-ios-h[_ngcontent-%COMP%], .sc-ion-card-md-h[_ngcontent-%COMP%]{padding:4px 0;margin-bottom:16px;margin-top:0}.sc-ion-card-ios-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .sc-ion-card-md-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:inherit}.sc-ion-card-ios-h[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%], .sc-ion-card-md-h[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding-bottom:4px}.list-ios[_ngcontent-%COMP%]{margin:0}ion-card[_ngcontent-%COMP%]{margin:0 8px 16px}.container__empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30vh}.content-ios[_ngcontent-%COMP%]   ion-fab[bottom][_ngcontent-%COMP%]{bottom:10px}.portfolio--hero[_ngcontent-%COMP%]{background:url(/assets/img/portfolio-lines.svg) no-repeat;height:25vh;background-position:bottom}.portfolio--hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:48px;font-weight:700}"]}),t}()},ipgs:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var o=n("mrSG"),i=n("138U"),r=n("Bpmc"),c=n("jysE"),a=n("wTY4"),s=n("hPkG"),l=n("xWVS"),b=n("fXoL"),u=n("TEn/"),d=n("tyNb"),h=n("sYmb"),g=n("3Pt+"),p=function(){function t(t,e,n,o,i,r,c,a,s,l){this.platform=t,this.alertCtrl=e,this.serializerService=n,this.router=o,this.modalController=i,this.translateService=r,this.clipboardProvider=c,this.iacService=a,this.browserService=s,this.sharePlugin=l}return t.prototype.about=function(){this.router.navigateByUrl("/about").catch(Object(s.b)(s.a.NAVIGATION))},t.prototype.beaconPermissions=function(){this.router.navigateByUrl("/beacon-permission-list").catch(Object(s.b)(s.a.NAVIGATION))},t.prototype.beaconSettings=function(){this.router.navigateByUrl("/settings-beacon").catch(Object(s.b)(s.a.NAVIGATION))},t.prototype.share=function(){this.sharePlugin.share({title:"Checkout airgap.it",text:"Take a look at the app I found. Its the most secure practical way to do crypto transactions.",url:"https://www.airgap.it",dialogTitle:"Pick an app"}).then((function(t){console.log("Share completed: "+t)})).catch((function(t){console.log("Sharing failed with error: "+t)}))},t.prototype.introduction=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e=this;return Object(o.e)(this,(function(n){switch(n.label){case 0:return[4,this.modalController.create({component:l.a})];case 1:return(t=n.sent()).dismiss((function(){return Object(o.b)(e,void 0,void 0,(function(){return Object(o.e)(this,(function(t){return[2]}))}))})).catch(Object(s.b)(s.a.IONIC_MODAL)),t.present().catch(Object(s.b)(s.a.IONIC_MODAL)),[2]}}))}))},t.prototype.feedback=function(){this.browserService.openUrl("https://github.com/airgap-it/airgap-wallet/issues")},t.prototype.telegram=function(){return Object(o.b)(this,void 0,void 0,(function(){var t=this;return Object(o.e)(this,(function(e){switch(e.label){case 0:return[4,this.alertCtrl.create({header:this.translateService.instant("settings.alert_title"),inputs:[{type:"radio",label:this.translateService.instant("settings.channel.international"),value:"International",checked:!0},{type:"radio",label:this.translateService.instant("settings.channel.chinese"),value:"Chinese"}],buttons:[{text:this.translateService.instant("settings.alert_cancel"),role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:this.translateService.instant("settings.telegram_label"),handler:function(e){switch(e){case"Chinese":t.browserService.openUrl("https://t.me/AirGap_cn");break;case"International":default:t.browserService.openUrl("https://t.me/AirGap")}}}]})];case 1:return e.sent().present().catch(Object(s.b)(s.a.IONIC_ALERT)),[2]}}))}))},t.prototype.translate=function(){this.browserService.openUrl("https://translate.sook.ch/")},t.prototype.githubDistro=function(){this.browserService.openUrl("https://github.com/airgap-it/airgap-distro")},t.prototype.githubWebSigner=function(){this.browserService.openUrl("https://github.com/airgap-it/airgap-web-signer")},t.prototype.githubWallet=function(){this.browserService.openUrl("https://github.com/airgap-it")},t.prototype.faq=function(){this.browserService.openUrl("https://airgap.it/#faq")},t.prototype.aboutBeacon=function(){this.browserService.openUrl("https://walletbeacon.io")},t.prototype.pasteClipboard=function(){var t=this;this.clipboardProvider.paste().then((function(e){t.iacService.handleRequest(e,i.q.PASTE).catch(Object(s.b)(s.a.SCHEME_ROUTING))}),(function(t){console.error("Error: "+t)}))},t.prototype.switchSerializerVersion=function(t){console.log(t.detail.checked),this.serializerService.useV2=t.detail.checked},t.prototype.qrMsChanged=function(t){console.log(t.detail.value),this.serializerService.displayTimePerChunk=t.detail.value},t.prototype.qrBytesChanged=function(t){console.log(t.detail.value),this.serializerService.chunkSize=t.detail.value},t.\u0275fac=function(e){return new(e||t)(b.Ib(u.Ib),b.Ib(u.a),b.Ib(i.D),b.Ib(d.g),b.Ib(u.Db),b.Ib(h.e),b.Ib(i.j),b.Ib(a.a),b.Ib(c.a),b.Ib(r.c))},t.\u0275cmp=b.Cb({type:t,selectors:[["page-settings"]],decls:94,vars:59,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["lines","none"],["lines","none",1,"ion-no-margin"],["detail","true",3,"click"],["name","bulb-outline","slot","start"],["name","help-circle-outline","slot","start"],["name","chatbubbles-outline","slot","start"],["name","share-outline","slot","start"],["name","logo-github","slot","start"],["name","information-circle-outline","slot","start"],["src","assets/img/beacon_logo_black.svg","slot","start"],[3,"click"],["name","return-up-forward-outline","slot","start"],["slot","end",3,"ngModel","ngModelChange"],["min","100","max","2000","step","50","pin","true","snaps","false","color","secondary",3,"ngModel","ngModelChange"],["slot","end"],["min","10","max","500","step","10","pin","true","snaps","false","color","secondary",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(b.Nb(0,"ion-header",0),b.Nb(1,"ion-grid",1),b.Nb(2,"ion-toolbar"),b.Nb(3,"ion-buttons",2),b.Jb(4,"ion-menu-button"),b.Mb(),b.Nb(5,"ion-title"),b.uc(6),b.Yb(7,"translate"),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Nb(8,"ion-content"),b.Nb(9,"ion-grid",1),b.Nb(10,"ion-list",3),b.Nb(11,"ion-list-header",4),b.Nb(12,"ion-label"),b.uc(13),b.Yb(14,"translate"),b.Mb(),b.Mb(),b.Nb(15,"ion-item",5),b.Vb("click",(function(){return e.introduction()})),b.Jb(16,"ion-icon",6),b.uc(17),b.Yb(18,"translate"),b.Mb(),b.Nb(19,"ion-item",5),b.Vb("click",(function(){return e.faq()})),b.Jb(20,"ion-icon",7),b.uc(21),b.Yb(22,"translate"),b.Mb(),b.Nb(23,"ion-item",5),b.Vb("click",(function(){return e.telegram()})),b.Jb(24,"ion-icon",8),b.uc(25),b.Yb(26,"translate"),b.Mb(),b.Nb(27,"ion-item",5),b.Vb("click",(function(){return e.share()})),b.Jb(28,"ion-icon",9),b.uc(29),b.Yb(30,"translate"),b.Mb(),b.Mb(),b.Nb(31,"ion-list",3),b.Nb(32,"ion-list-header",4),b.Nb(33,"ion-label"),b.uc(34),b.Yb(35,"translate"),b.Mb(),b.Mb(),b.Nb(36,"ion-item",5),b.Vb("click",(function(){return e.githubWallet()})),b.Jb(37,"ion-icon",10),b.uc(38),b.Yb(39,"translate"),b.Mb(),b.Nb(40,"ion-item",5),b.Vb("click",(function(){return e.about()})),b.Jb(41,"ion-icon",11),b.uc(42),b.Yb(43,"translate"),b.Mb(),b.Mb(),b.Nb(44,"ion-list",3),b.Nb(45,"ion-list-header",4),b.Nb(46,"ion-label"),b.uc(47),b.Yb(48,"translate"),b.Mb(),b.Mb(),b.Nb(49,"ion-item",5),b.Vb("click",(function(){return e.beaconPermissions()})),b.Jb(50,"ion-icon",12),b.uc(51),b.Yb(52,"translate"),b.Mb(),b.Nb(53,"ion-item",5),b.Vb("click",(function(){return e.beaconSettings()})),b.Jb(54,"ion-icon",12),b.uc(55),b.Yb(56,"translate"),b.Mb(),b.Nb(57,"ion-item",5),b.Vb("click",(function(){return e.aboutBeacon()})),b.Jb(58,"ion-icon",11),b.uc(59),b.Yb(60,"translate"),b.Mb(),b.Mb(),b.Nb(61,"ion-list",3),b.Nb(62,"ion-list-header",4),b.Nb(63,"ion-label"),b.uc(64),b.Yb(65,"translate"),b.Mb(),b.Mb(),b.Nb(66,"ion-item",13),b.Vb("click",(function(){return e.pasteClipboard()})),b.Jb(67,"ion-icon",14),b.uc(68),b.Yb(69,"translate"),b.Mb(),b.Nb(70,"ion-item"),b.uc(71),b.Yb(72,"translate"),b.Nb(73,"ion-toggle",15),b.Vb("ngModelChange",(function(t){return e.serializerService.useV2=t})),b.Mb(),b.Mb(),b.Nb(74,"ion-item"),b.Nb(75,"ion-label"),b.uc(76),b.Yb(77,"translate"),b.Mb(),b.Mb(),b.Nb(78,"ion-item"),b.Nb(79,"ion-range",16),b.Vb("ngModelChange",(function(t){return e.serializerService.displayTimePerChunk=t})),b.Nb(80,"ion-label",2),b.uc(81,"100 ms"),b.Mb(),b.Nb(82,"ion-label",17),b.uc(83,"2000 ms"),b.Mb(),b.Mb(),b.Mb(),b.Nb(84,"ion-item"),b.Nb(85,"ion-label"),b.uc(86),b.Yb(87,"translate"),b.Mb(),b.Mb(),b.Nb(88,"ion-item"),b.Nb(89,"ion-range",18),b.Vb("ngModelChange",(function(t){return e.serializerService.chunkSize=t})),b.Nb(90,"ion-label",2),b.uc(91,"10 bytes"),b.Mb(),b.Nb(92,"ion-label",17),b.uc(93,"500 bytes"),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&t&&(b.yb(6),b.vc(b.Zb(7,23,"settings.title")),b.yb(7),b.vc(b.Zb(14,25,"settings.help_label")),b.yb(4),b.wc(" ",b.Zb(18,27,"settings.introduction_label")," "),b.yb(4),b.wc(" ",b.Zb(22,29,"settings.faq_label")," "),b.yb(4),b.wc(" ",b.Zb(26,31,"settings.telegram_label")," "),b.yb(4),b.wc(" ",b.Zb(30,33,"settings.share_label")," "),b.yb(5),b.vc(b.Zb(35,35,"settings.information_label")),b.yb(4),b.wc(" ",b.Zb(39,37,"settings.github_label")," "),b.yb(4),b.wc(" ",b.Zb(43,39,"settings.about_label")," "),b.yb(5),b.vc(b.Zb(48,41,"settings.beacon.label")),b.yb(4),b.wc(" ",b.Zb(52,43,"settings.beacon.permission-list_label")," "),b.yb(4),b.wc(" ",b.Zb(56,45,"settings.beacon.settings_label")," "),b.yb(4),b.wc(" ",b.Zb(60,47,"settings.beacon.about_label")," "),b.yb(5),b.vc(b.Zb(65,49,"settings.qr.settings_label")),b.yb(4),b.wc(" ",b.Zb(69,51,"settings.paste-from-clipboard_label")," "),b.yb(3),b.wc(" ",b.Zb(72,53,"settings.qr.enable-new-serializer_label")," "),b.yb(2),b.dc("ngModel",e.serializerService.useV2),b.yb(3),b.xc(" ",b.Zb(77,55,"settings.qr.page-time_label")," (",e.serializerService.displayTimePerChunk," ms) "),b.yb(3),b.dc("ngModel",e.serializerService.displayTimePerChunk),b.yb(7),b.xc(" ",b.Zb(87,57,"settings.qr.page-size_label")," (",e.serializerService.chunkSize," bytes) "),b.yb(3),b.dc("ngModel",e.serializerService.chunkSize))},directives:[u.A,u.z,u.yb,u.k,u.Q,u.wb,u.t,u.N,u.O,u.M,u.G,u.B,u.xb,u.b,g.m,g.p,u.Y,u.Mb],pipes:[h.d],encapsulation:2}),t}()},lkre:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var o=n("hPkG"),i=n("fXoL"),r=n("TEn/"),c=n("sYmb"),a=n("ofXK");function s(t,e){1&t&&(i.Nb(0,"h5"),i.uc(1),i.Yb(2,"translate"),i.Mb()),2&t&&(i.yb(1),i.vc(i.Zb(2,1,"introduction-download.text")))}function l(t,e){if(1&t){var n=i.Ob();i.Lb(0),i.Nb(1,"ion-button",15),i.Vb("click",(function(){return i.lc(n),i.Xb().downloadAndroid()})),i.Jb(2,"ion-icon",16),i.uc(3),i.Yb(4,"translate"),i.Mb(),i.Nb(5,"p",9),i.uc(6),i.Yb(7,"translate"),i.Mb(),i.Nb(8,"ion-button",17),i.Vb("click",(function(){return i.lc(n),i.Xb().downloadDistribution()})),i.Jb(9,"ion-icon",18),i.uc(10),i.Yb(11,"translate"),i.Mb(),i.Nb(12,"p"),i.uc(13),i.Yb(14,"translate"),i.Mb(),i.Kb()}if(2&t){var o=i.Xb();i.yb(3),i.wc(" ",i.Zb(4,4,"introduction-download.android")," "),i.yb(3),i.wc(" ",i.Zb(7,6,"introduction-download."+o.playStoreText)," "),i.yb(4),i.wc(" ",i.Zb(11,8,"introduction-download.linux-distro_label")," "),i.yb(3),i.vc(i.Zb(14,10,"introduction-download.install-distro_text"))}}var b=function(){function t(t,e,n){this.platform=t,this.viewController=e,this.translateService=n,this.appStoreText="android-device-iOS_text",this.playStoreText="iOS-device-android_text",this.isIOS=!0,this.isIOS=this.platform.is("ios"),this.translateService.currentLang.startsWith("en")?this.platform.is("ios")?(this.appStoreText="iOS-device-iOS_text",this.playStoreText="iOS-device-android_text"):this.platform.is("android")&&(this.appStoreText="android-device-iOS_text",this.playStoreText="android-device-android_text"):(this.appStoreText="app-store_text",this.playStoreText="play-store_text")}return t.prototype.dismiss=function(t){void 0===t&&(t=!1),this.viewController.dismiss(t).catch(Object(o.b)(o.a.NAVIGATION))},t.prototype.downloadAndroid=function(){this.platform.is("android")||this.platform.is("hybrid")?window.open("https://play.google.com/store/apps/details?id=it.airgap.vault","_system"):window.open("https://play.google.com/store/apps/details?id=it.airgap.vault","_blank"),this.dismiss(!0)},t.prototype.downloadIos=function(){this.platform.is("ios")?window.open("itms-apps://itunes.apple.com/app/id1417126841","_system"):this.platform.is("hybrid")?window.open("https://itunes.apple.com/us/app/airgap-vault-secure-secrets/id1417126841?mt=8","_system"):window.open("https://itunes.apple.com/us/app/airgap-vault-secure-secrets/id1417126841?mt=8","_blank"),this.dismiss(!0)},t.prototype.downloadDistribution=function(){this.platform.is("hybrid")?window.open("https://github.com/airgap-it/airgap-distro","_system"):window.open("https://github.com/airgap-it/airgap-distro","_blank"),this.dismiss(!0)},t.prototype.openGuide=function(){this.platform.is("hybrid")?window.open("https://medium.com/airgap-it/airgap-the-step-by-step-guide-c4c3d3fe9a05","_system"):window.open("https://medium.com/airgap-it/airgap-the-step-by-step-guide-c4c3d3fe9a05","_blank"),this.dismiss(!0)},t.\u0275fac=function(e){return new(e||t)(i.Ib(r.Ib),i.Ib(r.Db),i.Ib(c.e))},t.\u0275cmp=i.Cb({type:t,selectors:[["page-introduction-download"]],decls:34,vars:23,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","/"],["slot","end"],["color","secondary",3,"click"],["name","close-outline"],[1,"ion-padding"],["color","primary","shape","round",1,"ion-margin-top",3,"click"],["slot","start","name","open-outline"],[1,"ion-padding-bottom"],[4,"ngIf"],["id","btn-import-secret","color","primary","shape","round",3,"click"],["slot","start","name","phone-portrait-outline"],["vertical","bottom","horizontal","end","slot","fixed"],["shape","round","color","primary",3,"click"],["id","btn-generate-secret","color","primary","shape","round",1,"ion-margin-top",3,"click"],["slot","start","name","logo-android"],["id","btn-recover-secret","color","primary","shape","round",3,"click"],["slot","start","name","desktop-outline"]],template:function(t,e){1&t&&(i.Nb(0,"ion-header",0),i.Nb(1,"ion-toolbar"),i.Nb(2,"ion-buttons",1),i.Jb(3,"ion-back-button",2),i.Mb(),i.Nb(4,"ion-title"),i.uc(5),i.Yb(6,"translate"),i.Mb(),i.Nb(7,"ion-buttons",3),i.Nb(8,"ion-button",4),i.Vb("click",(function(){return e.dismiss()})),i.Jb(9,"ion-icon",5),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Nb(10,"ion-content",6),i.Nb(11,"h1"),i.uc(12),i.Yb(13,"translate"),i.Mb(),i.Nb(14,"ion-button",7),i.Vb("click",(function(){return e.openGuide()})),i.Jb(15,"ion-icon",8),i.uc(16),i.Yb(17,"translate"),i.Mb(),i.Nb(18,"p",9),i.uc(19),i.Yb(20,"translate"),i.Mb(),i.sc(21,s,3,3,"h5",10),i.Nb(22,"ion-button",11),i.Vb("click",(function(){return e.downloadIos()})),i.Jb(23,"ion-icon",12),i.uc(24),i.Yb(25,"translate"),i.Mb(),i.Nb(26,"p"),i.uc(27),i.Yb(28,"translate"),i.Mb(),i.sc(29,l,15,12,"ng-container",10),i.Nb(30,"ion-fab",13),i.Nb(31,"ion-button",14),i.Vb("click",(function(){return e.dismiss()})),i.uc(32),i.Yb(33,"translate"),i.Mb(),i.Mb(),i.Mb()),2&t&&(i.yb(5),i.vc(i.Zb(6,9,"introduction-download.title")),i.yb(7),i.vc(i.Zb(13,11,"introduction-download.heading")),i.yb(4),i.wc(" ",i.Zb(17,13,"introduction-download.guide-link_label")," "),i.yb(3),i.vc(i.Zb(20,15,"introduction-download.description")),i.yb(2),i.dc("ngIf",!e.isIOS),i.yb(3),i.wc(" ",i.Zb(25,17,"introduction-download.iOS")," "),i.yb(3),i.vc(i.Zb(28,19,"introduction-download."+e.appStoreText)),i.yb(2),i.dc("ngIf",!e.isIOS),i.yb(3),i.vc(i.Zb(33,21,"introduction-download.go_label")))},directives:[r.A,r.yb,r.k,r.f,r.g,r.wb,r.j,r.B,r.t,a.t,r.v],pipes:[c.d],encapsulation:2}),t}()},qiIP:function(t,e,n){"use strict";n.r(e),n.d(e,"TabsPageModule",(function(){return N}));var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),c=n("sYmb"),a=n("tyNb"),s=n("j1ZV"),l=n("lkre"),b=n("fXoL"),u=function(){function t(){}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(e){return new(e||t)},imports:[[r.Ab,o.c,i.h,s.a,c.c,a.k.forChild([{path:"",component:l.a}])]]}),t}(),d=n("xWVS"),h=function(){function t(){}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(e){return new(e||t)},imports:[[r.Ab,o.c,i.h,s.a,c.c,u,a.k.forChild([{path:"",component:d.a}])]]}),t}(),g=n("mrSG"),p=n("hPkG"),f=n("AFs5"),m=n("4HcY"),v=n("fOEu"),y=n("XvSo"),M=n("ipgs");function w(t,e){1&t&&(b.Nb(0,"ion-tab-bar",1),b.Nb(1,"ion-tab-button",2),b.Jb(2,"ion-icon",3),b.Nb(3,"ion-label"),b.uc(4),b.Yb(5,"translate"),b.Mb(),b.Mb(),b.Nb(6,"ion-tab-button",4),b.Jb(7,"ion-icon",5),b.Nb(8,"ion-label"),b.uc(9),b.Yb(10,"translate"),b.Mb(),b.Mb(),b.Nb(11,"ion-tab-button",6),b.Jb(12,"ion-icon",7),b.Nb(13,"ion-label"),b.uc(14),b.Yb(15,"translate"),b.Mb(),b.Mb(),b.Nb(16,"ion-tab-button",8),b.Jb(17,"ion-icon",9),b.Nb(18,"ion-label"),b.uc(19),b.Yb(20,"translate"),b.Mb(),b.Mb(),b.Mb()),2&t&&(b.yb(4),b.vc(b.Zb(5,4,"tabs.wallets")),b.yb(5),b.vc(b.Zb(10,6,"tabs.scan")),b.yb(5),b.vc(b.Zb(15,8,"tabs.exchange")),b.yb(5),b.vc(b.Zb(20,10,"tabs.settings")))}var P=[{path:"tabs",component:function(){function t(t,e,n){this.modalController=t,this.storageProvider=e,this.plaftorm=n,this.tab1Root=v.a,this.tab2Root=y.a,this.tab3Root=m.a,this.tab4Root=M.a,this.isMobile=!1,this.showIntroductions().catch(Object(p.b)(p.a.OTHER)),this.isMobile=this.plaftorm.is("mobile")}return t.prototype.showIntroductions=function(){return Object(g.b)(this,void 0,void 0,(function(){return Object(g.e)(this,(function(t){switch(t.label){case 0:return[4,this.storageProvider.get(f.a.DEEP_LINK)];case 1:return t.sent()?[3,3]:[4,this.showWalletIntroduction().catch(console.error)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t.prototype.showWalletIntroduction=function(){return Object(g.b)(this,void 0,void 0,(function(){return Object(g.e)(this,(function(t){return[2,this.showModal(f.a.WALLET_INTRODUCTION,d.a)]}))}))},t.prototype.showModal=function(t,e){return Object(g.b)(this,void 0,void 0,(function(){var n=this;return Object(g.e)(this,(function(o){switch(o.label){case 0:return[4,this.storageProvider.get(t)];case 1:return o.sent()?[2,Promise.resolve()]:[2,new Promise((function(o){return Object(g.b)(n,void 0,void 0,(function(){var n,i=this;return Object(g.e)(this,(function(r){switch(r.label){case 0:return[4,this.modalController.create({component:e})];case 1:return(n=r.sent()).onDidDismiss().then((function(){return Object(g.b)(i,void 0,void 0,(function(){return Object(g.e)(this,(function(e){switch(e.label){case 0:return[4,this.storageProvider.set(t,!0)];case 1:return e.sent(),o(void 0),[2]}}))}))})).catch(Object(p.b)(p.a.IONIC_MODAL)),n.present().catch(Object(p.b)(p.a.IONIC_MODAL)),[2]}}))}))}))]}}))}))},t.\u0275fac=function(e){return new(e||t)(b.Ib(r.Db),b.Ib(f.b),b.Ib(r.Ib))},t.\u0275cmp=b.Cb({type:t,selectors:[["app-tabs"]],decls:2,vars:1,consts:[["slot","bottom",4,"ngIf"],["slot","bottom"],["tab","portfolio"],["name","list-outline"],["tab","scan"],["name","barcode-outline"],["tab","exchange"],["name","repeat-outline"],["tab","settings"],["name","settings-outline"]],template:function(t,e){1&t&&(b.Nb(0,"ion-tabs"),b.sc(1,w,21,12,"ion-tab-bar",0),b.Mb()),2&t&&(b.yb(1),b.dc("ngIf",e.isMobile))},directives:[r.sb,o.t,r.qb,r.rb,r.B,r.M],pipes:[c.d],styles:["ion-tab-button[_ngcontent-%COMP%]{font-weight:500;--color-selected:var(--ion-color-secondary)}"]}),t}(),children:[{path:"portfolio",children:[{path:"",loadChildren:function(){return n.e(38).then(n.bind(null,"0rid")).then((function(t){return t.PortfolioPageModule}))}}]},{path:"scan",children:[{path:"",loadChildren:function(){return n.e(40).then(n.bind(null,"Fo4Z")).then((function(t){return t.ScanPageModule}))}}]},{path:"exchange",children:[{path:"",loadChildren:function(){return n.e(35).then(n.bind(null,"l1L9")).then((function(t){return t.ExchangePageModule}))}}]},{path:"settings",children:[{path:"",loadChildren:function(){return n.e(42).then(n.bind(null,"yPrK")).then((function(t){return t.SettingsPageModule}))}}]},{path:"",redirectTo:"/tabs/portfolio",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/portfolio",pathMatch:"full"}],O=function(){function t(){}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(e){return new(e||t)},imports:[[a.k.forChild(P)],a.k]}),t}(),N=function(){function t(){}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(e){return new(e||t)},imports:[[r.Ab,o.c,i.h,O,c.c,h]]}),t}()},xWVS:function(t,e,n){"use strict";n.d(e,"a",(function(){return M}));var o=n("mrSG"),i=n("hPkG"),r=n("lkre"),c=n("fXoL"),a=n("TEn/"),s=n("ofXK"),l=n("3Pt+"),b=n("sYmb");function u(t,e){if(1&t){var n=c.Ob();c.Nb(0,"ion-segment",10),c.Vb("ngModelChange",(function(t){return c.lc(n),c.Xb().security=t})),c.Nb(1,"ion-segment-button",11),c.Nb(2,"ion-label"),c.uc(3),c.Yb(4,"translate"),c.Mb(),c.Mb(),c.Nb(5,"ion-segment-button",12),c.Nb(6,"ion-label"),c.uc(7),c.Yb(8,"translate"),c.Mb(),c.Mb(),c.Mb()}if(2&t){var o=c.Xb();c.dc("ngModel",o.security),c.yb(3),c.vc(c.Zb(4,3,"introduction.highest.label")),c.yb(4),c.vc(c.Zb(8,5,"introduction.medium.label"))}}function d(t,e){1&t&&(c.Jb(0,"p",17),c.Yb(1,"translate")),2&t&&c.dc("innerHTML",c.Zb(1,1,"introduction.highest.text"),c.mc)}function h(t,e){1&t&&(c.Jb(0,"p",17),c.Yb(1,"translate")),2&t&&c.dc("innerHTML",c.Zb(1,1,"introduction.highest.desktop_text"),c.mc)}function g(t,e){1&t&&(c.Nb(0,"ion-col",18),c.Jb(1,"img",19),c.Mb())}function p(t,e){1&t&&(c.Nb(0,"ion-col",18),c.Jb(1,"img",20),c.Mb())}function f(t,e){1&t&&(c.Lb(0),c.Nb(1,"ion-row",21),c.Nb(2,"ion-col",22),c.Jb(3,"img",23),c.Mb(),c.Nb(4,"ion-col",16),c.Nb(5,"strong"),c.uc(6),c.Yb(7,"translate"),c.Mb(),c.Mb(),c.Mb(),c.Nb(8,"ion-row",24),c.Nb(9,"ion-col",18),c.Jb(10,"img",25),c.Mb(),c.Nb(11,"ion-col",16),c.Nb(12,"h5"),c.uc(13),c.Yb(14,"translate"),c.Mb(),c.Jb(15,"p",17),c.Yb(16,"translate"),c.Mb(),c.Mb(),c.Kb()),2&t&&(c.yb(6),c.vc(c.Zb(7,3,"introduction.communication.highest_text")),c.yb(7),c.vc(c.Zb(14,5,"introduction.vault.heading")),c.yb(2),c.dc("innerHTML",c.Zb(16,7,"introduction.vault.text"),c.mc))}function m(t,e){1&t&&(c.Lb(0),c.Nb(1,"ion-row",24),c.Nb(2,"ion-col",18),c.Jb(3,"img",26),c.Mb(),c.Nb(4,"ion-col",16),c.Nb(5,"h5"),c.uc(6),c.Yb(7,"translate"),c.Mb(),c.Jb(8,"p",17),c.Yb(9,"translate"),c.Mb(),c.Mb(),c.Kb()),2&t&&(c.yb(6),c.vc(c.Zb(7,2,"introduction.vault.desktop_heading")),c.yb(2),c.dc("innerHTML",c.Zb(9,4,"introduction.vault.desktop_text"),c.mc))}function v(t,e){if(1&t&&(c.Lb(0),c.Nb(1,"ion-row"),c.sc(2,d,2,3,"p",13),c.sc(3,h,2,3,"p",13),c.Mb(),c.Nb(4,"ion-row",14),c.sc(5,g,2,0,"ion-col",15),c.sc(6,p,2,0,"ion-col",15),c.Nb(7,"ion-col",16),c.Nb(8,"h5"),c.uc(9),c.Yb(10,"translate"),c.Mb(),c.Jb(11,"p",17),c.Yb(12,"translate"),c.Mb(),c.Mb(),c.sc(13,f,17,9,"ng-container",6),c.sc(14,m,10,6,"ng-container",6),c.Kb()),2&t){var n=c.Xb();c.yb(2),c.dc("ngIf",!n.isDesktop),c.yb(1),c.dc("ngIf",n.isDesktop),c.yb(2),c.dc("ngIf",n.isDesktop),c.yb(1),c.dc("ngIf",!n.isDesktop),c.yb(3),c.vc(c.Zb(10,8,"introduction.wallet.heading")),c.yb(2),c.dc("innerHTML",c.Zb(12,10,"introduction.wallet.text"),c.mc),c.yb(2),c.dc("ngIf",!n.isDesktop),c.yb(1),c.dc("ngIf",n.isDesktop)}}function y(t,e){1&t&&(c.Lb(0),c.Nb(1,"ion-row"),c.Jb(2,"p",17),c.Yb(3,"translate"),c.Mb(),c.Nb(4,"ion-row",14),c.Nb(5,"ion-col",18),c.Jb(6,"img",20),c.Mb(),c.Nb(7,"ion-col",16),c.Nb(8,"h5"),c.uc(9),c.Yb(10,"translate"),c.Mb(),c.Jb(11,"p",17),c.Yb(12,"translate"),c.Mb(),c.Mb(),c.Nb(13,"ion-row",21),c.Nb(14,"ion-col",22),c.Jb(15,"img",27),c.Mb(),c.Nb(16,"ion-col",16),c.Nb(17,"strong"),c.uc(18),c.Yb(19,"translate"),c.Mb(),c.Mb(),c.Mb(),c.Nb(20,"ion-row",24),c.Nb(21,"ion-col",18),c.Jb(22,"img",25),c.Mb(),c.Nb(23,"ion-col",16),c.Nb(24,"h5"),c.uc(25),c.Yb(26,"translate"),c.Mb(),c.Jb(27,"p",17),c.Yb(28,"translate"),c.Mb(),c.Mb(),c.Kb()),2&t&&(c.yb(2),c.dc("innerHTML",c.Zb(3,6,"introduction.medium.text"),c.mc),c.yb(7),c.vc(c.Zb(10,8,"introduction.wallet.heading")),c.yb(2),c.dc("innerHTML",c.Zb(12,10,"introduction.wallet.text"),c.mc),c.yb(7),c.vc(c.Zb(19,12,"introduction.communication.medium_text")),c.yb(7),c.vc(c.Zb(26,14,"introduction.vault.heading")),c.yb(2),c.dc("innerHTML",c.Zb(28,16,"introduction.vault.text"),c.mc))}var M=function(){function t(t,e){this.platform=t,this.modalController=e,this.security="highest",this.isDesktop=!1,this.isDesktop=!this.platform.is("hybrid")}return t.prototype.dismiss=function(){this.modalController.dismiss().catch(Object(i.b)(i.a.NAVIGATION))},t.prototype.openIntroductionDownloadPage=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,e=this;return Object(o.e)(this,(function(n){switch(n.label){case 0:return[4,this.modalController.create({component:r.a})];case 1:return(t=n.sent()).dismiss((function(t){t&&e.dismiss()})),t.present().catch(Object(i.b)(i.a.IONIC_MODAL)),[2]}}))}))},t.\u0275fac=function(e){return new(e||t)(c.Ib(a.Ib),c.Ib(a.Db))},t.\u0275cmp=c.Cb({type:t,selectors:[["page-introduction"]],decls:19,vars:12,consts:[[1,"ion-no-border"],["slot","end"],["color","secondary",3,"click"],["name","close-outline"],["forceOverflow","false",1,"ion-padding"],["color","secondary","value","highest",3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["id","introduction-button","shape","round","color","secondary",3,"click"],["id","dismiss-button","shape","round","color","primary",3,"click"],["color","secondary","value","highest",3,"ngModel","ngModelChange"],["value","highest"],["value","medium"],[3,"innerHTML",4,"ngIf"],[1,"ion-padding-top","ion-align-items-center"],["size","5",4,"ngIf"],["size","7"],[3,"innerHTML"],["size","5"],["src","./assets/img/airgap_onboarding_wallet-notebook.svg"],["src","./assets/img/airgap_onboarding_wallet.svg"],[1,"ion-padding-vertical","ion-align-items-center"],["size","5",1,"ion-text-center"],["src","./assets/img/qrcode.svg",1,"connector--img"],[1,"ion-align-items-center"],["src","./assets/img/airgap_onboarding_vault.svg"],["src","./assets/img/signer-vault-ledger-desktop.svg"],["src","./assets/img/clone.svg",1,"connector--img"]],template:function(t,e){1&t&&(c.Nb(0,"ion-header",0),c.Nb(1,"ion-toolbar"),c.Nb(2,"ion-title"),c.uc(3),c.Yb(4,"translate"),c.Mb(),c.Nb(5,"ion-buttons",1),c.Nb(6,"ion-button",2),c.Vb("click",(function(){return e.dismiss()})),c.Jb(7,"ion-icon",3),c.Mb(),c.Mb(),c.Mb(),c.Mb(),c.Nb(8,"ion-content",4),c.sc(9,u,9,7,"ion-segment",5),c.sc(10,v,15,12,"ng-container",6),c.sc(11,y,29,18,"ng-container",6),c.Nb(12,"ion-fab",7),c.Nb(13,"ion-button",8),c.Vb("click",(function(){return e.openIntroductionDownloadPage()})),c.uc(14),c.Yb(15,"translate"),c.Mb(),c.Nb(16,"ion-button",9),c.Vb("click",(function(){return e.dismiss()})),c.uc(17),c.Yb(18,"translate"),c.Mb(),c.Mb(),c.Mb()),2&t&&(c.yb(3),c.vc(c.Zb(4,6,"introduction.title")),c.yb(6),c.dc("ngIf",!e.isDesktop),c.yb(1),c.dc("ngIf","highest"===e.security),c.yb(1),c.dc("ngIf","medium"===e.security),c.yb(3),c.wc(" ",c.Zb(15,8,"introduction.vault-install_label")," "),c.yb(3),c.wc(" ",c.Zb(18,10,"introduction.continue_label")," "))},directives:[a.A,a.yb,a.wb,a.k,a.j,a.B,a.t,s.t,a.v,a.hb,a.Mb,l.m,l.p,a.ib,a.M,a.fb,a.s],pipes:[b.d],styles:[".connector--img[_ngcontent-%COMP%]{height:40px;width:40px}"]}),t}()}}]);