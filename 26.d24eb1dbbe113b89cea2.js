(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"bh/N":function(t,e,n){"use strict";n.r(e),n.d(e,"InteractionSelectionPageModule",function(){return h});var i=n("ofXK"),o=n("3Pt+"),a=n("tyNb"),c=n("TEn/"),r=n("sYmb"),s=n("j1ZV"),l=n("mrSG"),b=n("z26V"),g=n("nxqh"),p=n("1y+R"),d=n("hPkG"),_=n("fXoL"),u=n("138U");function InteractionSelectionPage_ion_title_5_Template(t,e){1&t&&(_.Ob(0,"ion-title"),_.vc(1),_.Zb(2,"translate"),_.Nb()),2&t&&(_.yb(1),_.xc(" ",_.ac(2,1,"interaction-selection.title")," "))}function InteractionSelectionPage_ion_title_6_Template(t,e){1&t&&(_.Ob(0,"ion-title"),_.vc(1),_.Zb(2,"translate"),_.Nb()),2&t&&(_.yb(1),_.xc(" ",_.ac(2,1,"interaction-selection-desktop.title")," "))}function InteractionSelectionPage_ion_content_7_Template(t,e){if(1&t){var n=_.Pb();_.Ob(0,"ion-content",6),_.Ob(1,"ion-grid",1),_.Kb(2,"h3",7),_.Zb(3,"translate"),_.Ob(4,"ion-row",8),_.Ob(5,"ion-col",9),_.Ob(6,"ion-row",10),_.Kb(7,"img",11),_.Nb(),_.Ob(8,"ion-row"),_.Ob(9,"ion-col",12),_.Ob(10,"ion-button",13),_.Wb("click",function InteractionSelectionPage_ion_content_7_Template_ion_button_click_10_listener(){return _.mc(n),_.Yb().sameDeviceSign()}),_.vc(11),_.Zb(12,"translate"),_.Nb(),_.Ob(13,"p"),_.vc(14),_.Zb(15,"translate"),_.Nb(),_.Nb(),_.Nb(),_.Ob(16,"ion-row",14),_.Kb(17,"img",15),_.Nb(),_.Ob(18,"ion-row"),_.Ob(19,"ion-col",12),_.Ob(20,"ion-button",16),_.Wb("click",function InteractionSelectionPage_ion_content_7_Template_ion_button_click_20_listener(){return _.mc(n),_.Yb().offlineDeviceSign()}),_.vc(21),_.Zb(22,"translate"),_.Nb(),_.Ob(23,"p"),_.vc(24),_.Zb(25,"translate"),_.Nb(),_.Nb(),_.Nb(),_.Nb(),_.Nb(),_.Nb(),_.Nb()}2&t&&(_.yb(2),_.ec("innerHTML",_.ac(3,5,"interaction-selection.heading"),_.nc),_.yb(9),_.xc(" ",_.ac(12,7,"interaction-selection.same-device_label")," "),_.yb(3),_.wc(_.ac(15,9,"interaction-selection.same-device_info")),_.yb(7),_.xc(" ",_.ac(22,11,"interaction-selection.offline-device_label")," "),_.yb(3),_.wc(_.ac(25,13,"interaction-selection.offline-device_info")))}function InteractionSelectionPage_ion_content_8_img_7_Template(t,e){1&t&&_.Kb(0,"img",15)}function InteractionSelectionPage_ion_content_8_img_8_Template(t,e){1&t&&_.Kb(0,"img",21)}function InteractionSelectionPage_ion_content_8_Template(t,e){if(1&t){var n=_.Pb();_.Ob(0,"ion-content",6),_.Ob(1,"ion-grid",1),_.Kb(2,"h3",7),_.Zb(3,"translate"),_.Ob(4,"ion-row",8),_.Ob(5,"ion-col",9),_.Ob(6,"ion-row",14),_.tc(7,InteractionSelectionPage_ion_content_8_img_7_Template,1,0,"img",17),_.tc(8,InteractionSelectionPage_ion_content_8_img_8_Template,1,0,"img",18),_.Nb(),_.Ob(9,"ion-row"),_.Ob(10,"ion-col",12),_.Ob(11,"ion-button",16),_.Wb("click",function InteractionSelectionPage_ion_content_8_Template_ion_button_click_11_listener(){return _.mc(n),_.Yb().offlineDeviceSign()}),_.vc(12),_.Zb(13,"translate"),_.Nb(),_.Ob(14,"p"),_.vc(15),_.Zb(16,"translate"),_.Nb(),_.Nb(),_.Nb(),_.Ob(17,"ion-row",10),_.Kb(18,"img",19),_.Nb(),_.Ob(19,"ion-row"),_.Ob(20,"ion-col",12),_.Ob(21,"ion-button",20),_.Wb("click",function InteractionSelectionPage_ion_content_8_Template_ion_button_click_21_listener(){return _.mc(n),_.Yb().ledgerSign()}),_.vc(22),_.Zb(23,"translate"),_.Nb(),_.Ob(24,"p"),_.vc(25),_.Zb(26,"translate"),_.Nb(),_.Nb(),_.Nb(),_.Nb(),_.Nb(),_.Nb(),_.Nb()}if(2&t){var i=_.Yb();_.yb(2),_.ec("innerHTML",_.ac(3,8,"interaction-selection-desktop.heading"),_.nc),_.yb(5),_.ec("ngIf",!i.isDesktop),_.yb(1),_.ec("ngIf",i.isDesktop),_.yb(4),_.xc(" ",_.ac(13,10,"interaction-selection-desktop.vault_label")," "),_.yb(3),_.wc(_.ac(16,12,"interaction-selection-desktop.vault_info")),_.yb(6),_.ec("disabled",!i.isLedgerSupported),_.yb(1),_.xc(" ",_.ac(23,14,"interaction-selection-desktop.ledger_label")," "),_.yb(3),_.wc(_.ac(26,16,"interaction-selection-desktop.ledger_info"))}}var f=function(){function InteractionSelectionPage(t,e,n,i,o,a,c){if(this.platform=t,this.router=e,this.route=n,this.deeplinkService=i,this.dataService=o,this.operations=a,this.ledgerService=c,this.isDesktop=!1,this.isLedgerSupported=!1,this.isDesktop=this.platform.is("desktop"),this.route.snapshot.data.special){var r=this.route.snapshot.data.special;this.wallet=r.wallet,this.airGapTxs=r.airGapTxs,this.interactionData=r.data,this.type=r.type,this.generatedId=r.generatedId,this.isLedgerSupported=this.isDesktop&&this.ledgerService.isProtocolSupported(this.wallet.protocol)}}return InteractionSelectionPage.prototype.offlineDeviceSign=function(){return Object(l.b)(this,void 0,void 0,function(){var t,e;return Object(l.e)(this,function(n){switch(n.label){case 0:return[4,this.prepareQRData()];case 1:return t=n.sent(),e={wallet:this.wallet,airGapTxs:this.airGapTxs,data:t,interactionData:this.interactionData},this.dataService.setData(p.b.TRANSACTION,e),this.router.navigateByUrl("/transaction-qr/"+p.b.TRANSACTION).catch(function(t){return console.error(t)}),[2]}})})},InteractionSelectionPage.prototype.sameDeviceSign=function(){return Object(l.b)(this,void 0,void 0,function(){var t,e=this;return Object(l.e)(this,function(n){switch(n.label){case 0:return[4,this.prepareQRData()];case 1:return t=n.sent(),this.deeplinkService.sameDeviceDeeplink(Array.isArray(t)?t.join(","):t).then(function(){e.router.navigateByUrl("/tabs/portfolio").catch(Object(d.b)(d.a.NAVIGATION))}).catch(Object(d.b)(d.a.DEEPLINK_PROVIDER)),[2]}})})},InteractionSelectionPage.prototype.ledgerSign=function(){var t={wallet:this.wallet,airGapTxs:this.airGapTxs,data:this.interactionData};this.dataService.setData(p.b.TRANSACTION,t),this.router.navigateByUrl("/ledger-sign/"+p.b.TRANSACTION).catch(Object(d.b)(d.a.NAVIGATION))},InteractionSelectionPage.prototype.prepareQRData=function(){return Object(l.b)(this,void 0,void 0,function(){var t=this;return Object(l.e)(this,function(e){return"string"==typeof this.interactionData&&this.interactionData.includes("://")?[2,this.interactionData]:[2,this.operations.serializeSignRequest(this.wallet,this.interactionData,this.type,this.generatedId).catch(function(e){return console.warn("Could not serialize transaction: "+e),t.interactionData})]})})},InteractionSelectionPage.\u0275fac=function InteractionSelectionPage_Factory(t){return new(t||InteractionSelectionPage)(_.Jb(c.pb),_.Jb(a.g),_.Jb(a.a),_.Jb(u.l),_.Jb(p.a),_.Jb(g.a),_.Jb(b.a))},InteractionSelectionPage.\u0275cmp=_.Db({type:InteractionSelectionPage,selectors:[["page-interaction-selection"]],decls:9,vars:4,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],[4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[1,"ion-padding-bottom","ion-no-margin",3,"innerHTML"],[1,"ion-no-padding"],["size","12","size-md","6"],[1,"ion-justify-content-center"],["src","./assets/img/sign-one-device.svg"],["size","12"],["id","online","expand","block","color","primary","shape","round",3,"click"],[1,"ion-justify-content-center","ion-padding-top"],["src","./assets/img/sign-two-device.svg"],["id","offline","expand","block","size","default","color","primary","shape","round",3,"click"],["src","./assets/img/sign-two-device.svg",4,"ngIf"],["src","./assets/img/signer-vault-desktop.svg",4,"ngIf"],["src","./assets/img/signer-ledger.svg"],["id","online","expand","block","color","primary","shape","round",3,"disabled","click"],["src","./assets/img/signer-vault-desktop.svg"]],template:function InteractionSelectionPage_Template(t,e){1&t&&(_.Ob(0,"ion-header",0),_.Ob(1,"ion-grid",1),_.Ob(2,"ion-toolbar"),_.Ob(3,"ion-buttons",2),_.Kb(4,"ion-back-button",3),_.Nb(),_.tc(5,InteractionSelectionPage_ion_title_5_Template,3,3,"ion-title",4),_.tc(6,InteractionSelectionPage_ion_title_6_Template,3,3,"ion-title",4),_.Nb(),_.Nb(),_.Nb(),_.tc(7,InteractionSelectionPage_ion_content_7_Template,26,15,"ion-content",5),_.tc(8,InteractionSelectionPage_ion_content_8_Template,27,18,"ion-content",5)),2&t&&(_.yb(5),_.ec("ngIf",!e.isDesktop),_.yb(1),_.ec("ngIf",e.isDesktop),_.yb(1),_.ec("ngIf",!e.isDesktop),_.yb(1),_.ec("ngIf",e.isDesktop))},directives:[c.v,c.u,c.hb,c.j,c.f,c.g,i.n,c.fb,c.q,c.R,c.p,c.i],pipes:[r.c],styles:["ion-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20vh}"]}),InteractionSelectionPage}(),h=function(){function InteractionSelectionPageModule(){}return InteractionSelectionPageModule.\u0275mod=_.Hb({type:InteractionSelectionPageModule}),InteractionSelectionPageModule.\u0275inj=_.Gb({factory:function InteractionSelectionPageModule_Factory(t){return new(t||InteractionSelectionPageModule)},imports:[[c.ib,i.c,o.e,s.a,r.b,a.j.forChild([{path:"",component:f}])]]}),InteractionSelectionPageModule}()}}]);