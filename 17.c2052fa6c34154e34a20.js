(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{MsxR:function(t,e,o){"use strict";o.r(e),o.d(e,"AccountImportPageModule",function(){return g});var n=o("ofXK"),i=o("3Pt+"),r=o("tyNb"),a=o("TEn/"),c=o("sYmb"),s=o("j1ZV"),l=o("mrSG"),u=o("1y+R"),b=o("57MG"),p=o("hPkG"),d=o("fXoL"),m=o("F07p");function AccountImportPage_ion_row_10_Template(t,e){1&t&&(d.Ob(0,"ion-row"),d.Ob(1,"p"),d.vc(2),d.Zb(3,"translate"),d.Nb(),d.Nb()),2&t&&(d.yb(2),d.wc(d.ac(3,1,"account-import.text")))}function AccountImportPage_ion_item_12_Template(t,e){1&t&&(d.Ob(0,"ion-item",11),d.vc(1),d.Zb(2,"translate"),d.Nb()),2&t&&(d.yb(1),d.xc(" ",d.ac(2,1,"account-import.warning")," "))}function AccountImportPage_ion_button_17_Template(t,e){if(1&t){var o=d.Pb();d.Ob(0,"ion-button",12),d.Wb("click",function AccountImportPage_ion_button_17_Template_ion_button_click_0_listener(){return d.mc(o),d.Yb().import()}),d.vc(1),d.Zb(2,"translate"),d.Nb()}2&t&&(d.yb(1),d.xc(" ",d.ac(2,1,"account-import.import_label")," "))}var h=function(){function AccountImportPage(t,e,o,n,i,r,a,c){if(this.platform=t,this.loadingCtrl=e,this.navController=o,this.route=n,this.router=i,this.wallets=r,this.dataService=a,this.ngZone=c,this.walletAlreadyExists=!1,!this.route.snapshot.data.special)throw this.router.navigateByUrl("/"),window.alert("The address you're trying to access is invalid."),new Error}return AccountImportPage.prototype.ionViewWillEnter=function(){return Object(l.b)(this,void 0,void 0,function(){var t,e=this;return Object(l.e)(this,function(o){switch(o.label){case 0:return this.route.snapshot.data.special&&this.dataService.getImportWallet().subscribe(function(t){e.wallet=t,e.ionViewDidEnter()}),[4,this.platform.ready()];case 1:return o.sent(),t=this,[4,this.loadingCtrl.create({message:"Syncing..."})];case 2:return t.loading=o.sent(),this.loading.present().catch(Object(p.b)(p.a.NAVIGATION)),this.walletAlreadyExists=!1,[2]}})})},AccountImportPage.prototype.ionViewDidEnter=function(){return Object(l.b)(this,void 0,void 0,function(){var t,e=this;return Object(l.e)(this,function(o){return this.wallets.walletExists(this.wallet)?(this.wallet=this.wallets.walletByPublicKeyAndProtocolAndAddressIndex(this.wallet.publicKey,this.wallet.protocol.identifier,this.wallet.addressIndex),this.walletAlreadyExists=!0,this.loading.dismiss().catch(Object(p.b)(p.a.NAVIGATION)),[2]):((t=new Worker("./assets/workers/airgap-coin-lib.js")).onmessage=function(t){e.wallet.addresses=t.data.addresses,e.wallet.synchronize().then(function(){e.ngZone.run(function(){e.wallets.triggerWalletChanged()})}).catch(Object(p.b)(p.a.WALLET_PROVIDER)),e.loading.dismiss().catch(Object(p.b)(p.a.NAVIGATION))},t.postMessage({protocolIdentifier:this.wallet.protocol.identifier,publicKey:this.wallet.publicKey,isExtendedPublicKey:this.wallet.isExtendedPublicKey,derivationPath:this.wallet.derivationPath}),[2])})})},AccountImportPage.prototype.dismiss=function(){return Object(l.b)(this,void 0,void 0,function(){return Object(l.e)(this,function(t){return this.navController.back(),[2]})})},AccountImportPage.prototype.import=function(){return Object(l.b)(this,void 0,void 0,function(){return Object(l.e)(this,function(t){switch(t.label){case 0:return[4,this.wallets.addWallet(this.wallet)];case 1:return t.sent(),[4,this.router.navigateByUrl("/tabs/portfolio",{skipLocationChange:!0})];case 2:return t.sent(),[2]}})})},AccountImportPage.\u0275fac=function AccountImportPage_Factory(t){return new(t||AccountImportPage)(d.Jb(a.pb),d.Jb(a.kb),d.Jb(a.mb),d.Jb(r.a),d.Jb(r.g),d.Jb(b.a),d.Jb(u.a),d.Jb(d.A))},AccountImportPage.\u0275cmp=d.Db({type:AccountImportPage,selectors:[["page-account-import"]],decls:18,vars:10,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],[1,"ion-padding"],[4,"ngIf"],[3,"wallet"],["color","danger","class","ion-margin-top ion-text-wrap",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["id","dismiss","shape","round","color","secondary",3,"click"],["id","import","shape","round","color","primary",3,"click",4,"ngIf"],["color","danger",1,"ion-margin-top","ion-text-wrap"],["id","import","shape","round","color","primary",3,"click"]],template:function AccountImportPage_Template(t,e){1&t&&(d.Ob(0,"ion-header",0),d.Ob(1,"ion-grid",1),d.Ob(2,"ion-toolbar"),d.Ob(3,"ion-buttons",2),d.Kb(4,"ion-back-button",3),d.Nb(),d.Ob(5,"ion-title"),d.vc(6),d.Zb(7,"translate"),d.Nb(),d.Nb(),d.Nb(),d.Nb(),d.Ob(8,"ion-content",4),d.Ob(9,"ion-grid",1),d.tc(10,AccountImportPage_ion_row_10_Template,4,3,"ion-row",5),d.Kb(11,"portfolio-item",6),d.tc(12,AccountImportPage_ion_item_12_Template,3,3,"ion-item",7),d.Nb(),d.Ob(13,"ion-fab",8),d.Ob(14,"ion-button",9),d.Wb("click",function AccountImportPage_Template_ion_button_click_14_listener(){return e.dismiss()}),d.vc(15),d.Zb(16,"translate"),d.Nb(),d.tc(17,AccountImportPage_ion_button_17_Template,3,3,"ion-button",10),d.Nb(),d.Nb()),2&t&&(d.yb(6),d.wc(d.ac(7,6,"account-import.title")),d.yb(4),d.ec("ngIf",!e.walletAlreadyExists),d.yb(1),d.ec("wallet",e.wallet),d.yb(1),d.ec("ngIf",e.walletAlreadyExists),d.yb(3),d.xc(" ",d.ac(16,8,"account-import.cancel_label")," "),d.yb(2),d.ec("ngIf",!e.walletAlreadyExists))},directives:[a.v,a.u,a.hb,a.j,a.f,a.g,a.fb,a.q,n.n,m.a,a.r,a.i,a.R,a.A],pipes:[c.c],encapsulation:2}),AccountImportPage}(),g=function(){function AccountImportPageModule(){}return AccountImportPageModule.\u0275mod=d.Hb({type:AccountImportPageModule}),AccountImportPageModule.\u0275inj=d.Gb({factory:function AccountImportPageModule_Factory(t){return new(t||AccountImportPageModule)},imports:[[a.ib,n.c,i.e,s.a,c.b,r.j.forChild([{path:"",component:h}])]]}),AccountImportPageModule}()}}]);