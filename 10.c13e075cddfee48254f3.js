(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"4HcY":function(t,e,n){"use strict";n.d(e,"a",function(){return V});var o=n("mrSG"),i=n("RKiA"),r=n("kB5k"),c=n("nxqh"),a=n("57MG"),s=n("1y+R"),l=n("dW0/"),b=n("hPkG"),u=n("AFs5"),d=n("TxTD"),h=n("14cC"),g=n("3Pt+"),p=n("2Vo4"),f=n("QMTT"),m=n("Kj3r"),v=n("fXoL"),P=n("tyNb"),w=n("TEn/"),y=n("sYmb"),O=n("138U"),x=n("ofXK"),A=n("R0Ic"),_=n("yJqF"),M=n("F07p"),S=function(t){return{minExchangeAmount:t}};function C(t,e){if(1&t&&(v.Mb(0,"span",16),v.bc(1,"translate")),2&t){var n=v.ac();v.gc("innerHTML",v.dc(1,1,"swap.min-amount_label",v.kc(4,S,n.minExchangeAmount.toString())),v.pc)}}function Q(t,e){if(1&t){var n=v.Rb();v.Qb(0,"ion-input",17),v.Yb("input",function(t){return v.oc(n),v.ac().amountSet(t.target.value)}),v.Pb()}if(2&t){var o=v.ac();v.gc("disabled",o.currentlyNotSupported)}}function E(t,e){if(1&t){var n=v.Rb();v.Qb(0,"ion-input",18),v.Yb("ngModelChange",function(t){return v.oc(n),v.ac().exchangeAmount=t}),v.Pb()}if(2&t){var o=v.ac();v.gc("disabled",!0)("ngModel",o.exchangeAmount)}}function T(t,e){if(1&t&&(v.Qb(0,"ion-row",19),v.Qb(1,"ion-text",20),v.Mb(2,"p",21),v.bc(3,"translate"),v.Pb(),v.Pb()),2&t){var n=v.ac();v.Ab(2),v.gc("innerHTML",v.dc(3,1,"swap.min-amount-error_label",v.kc(4,S,n.minExchangeAmount.toString())),v.pc)}}function I(t,e){1&t&&(v.Qb(0,"ion-row",19),v.Qb(1,"ion-text",20),v.Qb(2,"p",22),v.wc(3),v.bc(4,"translate"),v.Pb(),v.Pb(),v.Pb()),2&t&&(v.Ab(3),v.yc(" ",v.cc(4,1,"swap.currently_not_supported")," "))}var k=function(t){return{accountBalance:t}};function L(t,e){if(1&t&&(v.Qb(0,"ion-row",19),v.Qb(1,"ion-text",23),v.Mb(2,"p",24),v.bc(3,"translate"),v.Pb(),v.Pb()),2&t){var n=v.ac();v.Ab(2),v.gc("innerHTML",v.dc(3,1,"swap.amount-higher-than-balance-error_label",v.kc(4,k,n.selectedWallet.currentBalance.shiftedBy(-1*n.selectedWallet.protocol.decimals))),v.pc)}}function j(t,e){if(1&t){var n=v.Rb();v.Qb(0,"portfolio-item",28),v.Yb("click",function(){v.oc(n);var t=v.ac().$implicit;return v.ac(2).walletSet(t)}),v.Pb()}if(2&t){var o=v.ac().$implicit;v.gc("wallet",o)("hideFiatAmounts",!0)("isExpendable",!1)}}function F(t,e){if(1&t&&(v.Ob(0),v.uc(1,j,1,3,"portfolio-item",27),v.Nb()),2&t){var n=e.$implicit,o=v.ac(2);v.Ab(1),v.gc("ngIf",o.selectedWallet!==n)}}function W(t,e){if(1&t&&(v.Ob(0),v.Qb(1,"ion-list",25),v.uc(2,F,2,1,"ng-container",26),v.Pb(),v.Nb()),2&t){var n=v.ac();v.Ab(1),v.gc("@expandWalletAnimation",void 0),v.Ab(1),v.gc("ngForOf",n.supportedWallets)}}var N=function(){function t(t,e,n){this.alertCtrl=t,this.modalController=e,this.protocolService=n,this.expandWalletSelection=!1,this.currentlyNotSupported=!1,this.swapSell=!0,this.supportedProtocols=[],this.protocolSetEmitter=new v.o,this.walletSetEmitter=new v.o,this.amountSetEmitter=new v.o}return t.prototype.amountSet=function(t){this._amount=t,this.amountSetEmitter.emit(t)},t.prototype.walletSet=function(t){this.walletSetEmitter.emit(t),this.expandWalletSelection=!1},t.prototype.doRadio=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n=this;return Object(o.e)(this,function(i){switch(i.label){case 0:return[4,Promise.all(this.supportedProtocols.map(function(t){return Object(o.b)(n,void 0,void 0,function(){return Object(o.e)(this,function(e){return[2,this.protocolService.getProtocol(t).catch(function(){})]})})}))];case 1:return t=i.sent().filter(function(t){return void 0!==t}),[4,this.modalController.create({component:_.a,componentProps:{selectedProtocol:this.selectedProtocol.identifier,protocols:t}})];case 2:return(e=i.sent()).onDidDismiss().then(function(t){return Object(o.b)(n,void 0,void 0,function(){var e,n;return Object(o.e)(this,function(o){switch(o.label){case 0:return t&&t.data?(n=(e=this.protocolSetEmitter).emit,[4,this.protocolService.getProtocol(t.data)]):[3,2];case 1:n.apply(e,[o.sent()]),o.label=2;case 2:return[2]}})})}).catch(Object(b.b)(b.a.IONIC_MODAL)),e.present().catch(Object(b.b)(b.a.IONIC_MODAL)),[2]}})})},t.\u0275fac=function(e){return new(e||t)(v.Lb(w.a),v.Lb(w.lb),v.Lb(O.y))},t.\u0275cmp=v.Fb({type:t,selectors:[["swap"]],inputs:{currentlyNotSupported:"currentlyNotSupported",swapSell:"swapSell",selectedWallet:"selectedWallet",supportedWallets:"supportedWallets",selectedProtocol:"selectedProtocol",supportedProtocols:"supportedProtocols",minExchangeAmount:"minExchangeAmount",exchangeAmount:"exchangeAmount"},outputs:{protocolSetEmitter:"protocolSetEmitter",walletSetEmitter:"walletSetEmitter",amountSetEmitter:"amountSetEmitter"},decls:26,vars:22,consts:[[1,"amount__container","border--vertical","ion-no-padding","ion-align-items-stretch"],["size","8",1,"ion-padding"],["lines","none",1,"ion-no-padding"],["position","stacked","color","blackLight",1,"ion-no-margin"],[3,"innerHTML",4,"ngIf"],["type","number","id","buy-input","placeholder","0.0",3,"disabled","input",4,"ngIf"],["type","number","id","sell-input","placeholder","0.0",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["color","blackLight"],[1,"ion-no-margin"],["class","ion-padding-top",4,"ngIf"],["size","4",1,"coin__selection","ion-padding",3,"click"],[3,"src"],["name","chevron-down-outline"],[1,"ion-no-margin","ion-padding-vertical"],["tappable","",3,"wallet","hideDelegationBadge","isExpendable","hideFiatAmounts","isExtended","click"],[4,"ngIf"],[3,"innerHTML"],["type","number","id","buy-input","placeholder","0.0",3,"disabled","input"],["type","number","id","sell-input","placeholder","0.0",3,"disabled","ngModel","ngModelChange"],[1,"ion-padding-top"],["no-margin","","color","danger"],["color","danger",1,"ion-no-margin",3,"innerHTML"],["color","danger",1,"ion-no-margin"],["color","danger"],[1,"ion-no-margin",3,"innerHTML"],["lines","none","margin-top",""],[4,"ngFor","ngForOf"],["tappable","",3,"wallet","hideFiatAmounts","isExpendable","click",4,"ngIf"],["tappable","",3,"wallet","hideFiatAmounts","isExpendable","click"]],template:function(t,e){if(1&t&&(v.Qb(0,"ion-row",0),v.Qb(1,"ion-col",1),v.Qb(2,"ion-item",2),v.Qb(3,"ion-label",3),v.wc(4),v.bc(5,"translate"),v.uc(6,C,2,6,"span",4),v.Pb(),v.uc(7,Q,1,1,"ion-input",5),v.uc(8,E,1,2,"ion-input",6),v.Pb(),v.Qb(9,"ion-text",7),v.Qb(10,"p",8),v.wc(11),v.bc(12,"number"),v.Pb(),v.Pb(),v.uc(13,T,4,6,"ion-row",9),v.uc(14,I,5,3,"ion-row",9),v.uc(15,L,4,6,"ion-row",9),v.Pb(),v.Qb(16,"ion-col",10),v.Yb("click",function(){return e.doRadio()}),v.Qb(17,"ion-row"),v.Mb(18,"img",11),v.Pb(),v.Qb(19,"ion-row"),v.Qb(20,"h5"),v.wc(21),v.Mb(22,"ion-icon",12),v.Pb(),v.Pb(),v.Pb(),v.Pb(),v.Qb(23,"ion-list",13),v.Qb(24,"portfolio-item",14),v.Yb("click",function(){return(null==e.supportedWallets?null:e.supportedWallets.length)>1?e.expandWalletSelection=!e.expandWalletSelection:{}}),v.Pb(),v.uc(25,W,3,2,"ng-container",15),v.Pb()),2&t){var n=null;v.Ab(4),v.yc(" ",v.cc(5,17,e.swapSell?"swap.sell_label":"swap.buy_label")," "),v.Ab(2),v.gc("ngIf",e.minExchangeAmount),v.Ab(1),v.gc("ngIf",e.swapSell),v.Ab(1),v.gc("ngIf",!e.swapSell),v.Ab(3),v.yc(" $",v.dc(12,19,null==e.exchangeAmount||null==(n=e.exchangeAmount.multipliedBy(null==e.selectedWallet?null:e.selectedWallet.currentMarketPrice))?null:n.toNumber(),"1.2-2")," "),v.Ab(2),v.gc("ngIf",e.swapSell&&!(null!=e.exchangeAmount&&e.exchangeAmount.isZero())&&(null==e.exchangeAmount?null:e.exchangeAmount.isLessThan(e.minExchangeAmount))),v.Ab(1),v.gc("ngIf",e.currentlyNotSupported),v.Ab(1),v.gc("ngIf",e.swapSell&&(null==e.exchangeAmount?null:e.exchangeAmount.isGreaterThan(e.selectedWallet.currentBalance.shiftedBy(-1*e.selectedWallet.protocol.decimals)))),v.Ab(3),v.gc("src","./assets/symbols/"+(null==e.selectedProtocol||null==e.selectedProtocol.symbol?null:e.selectedProtocol.symbol.toLowerCase())+".svg",v.qc),v.Ab(3),v.yc(" ",null==e.selectedProtocol?null:e.selectedProtocol.symbol," "),v.Ab(2),v.gc("@expandWalletAnimation",void 0),v.Ab(1),v.gc("wallet",e.selectedWallet)("hideDelegationBadge",!0)("isExpendable",(null==e.supportedWallets?null:e.supportedWallets.length)>1)("hideFiatAmounts",!0)("isExtended",e.expandWalletSelection),v.Ab(1),v.gc("ngIf",e.expandWalletSelection)}},directives:[w.R,w.p,w.A,w.E,x.n,w.db,w.w,w.F,M.a,w.z,w.ob,g.h,g.j,x.m],pipes:[y.c,x.f],styles:[".amount__container[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom-color:transparent!important;box-shadow:none!important}.amount__container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;margin:0}.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]{background-color:rgba(0,232,204,.24);display:flex;align-items:center;justify-content:center;flex-direction:column}.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{justify-content:center}.amount__container[_ngcontent-%COMP%]   .coin__selection[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:8px 0;display:flex;align-items:center}.border--vertical[_ngcontent-%COMP%]{border-top:1px solid rgba(0,232,204,.24)}"],data:{animation:[Object(A.i)("expandWalletAnimation",[Object(A.h)(":enter",[Object(A.g)({transform:"translateY(-20%)",opacity:0}),Object(A.e)("500ms",Object(A.g)({transform:"translateY(0)",opacity:1}))]),Object(A.h)(":leave",[Object(A.g)({transform:"translateY(0)",opacity:1}),Object(A.e)("500ms",Object(A.g)({transform:"translateY(-20%)",opacity:0}))])])]}}),t}(),D=n("pNtj");function B(t,e){if(1&t){var n=v.Rb();v.Ob(0),v.Qb(1,"ion-row",4),v.Qb(2,"ion-col",5),v.Mb(3,"h3",6),v.bc(4,"translate"),v.Qb(5,"ion-col",7),v.Mb(6,"img",8),v.Pb(),v.Qb(7,"p",9),v.wc(8),v.bc(9,"translate"),v.Pb(),v.Qb(10,"ion-button",10),v.Yb("click",function(){return v.oc(n),v.ac().dismissExchangeOnboarding()}),v.wc(11),v.bc(12,"translate"),v.Pb(),v.Pb(),v.Pb(),v.Nb()}2&t&&(v.Ab(3),v.gc("innerHTML",v.cc(4,3,"exchange.onboarding.heading"),v.pc),v.Ab(5),v.yc(" ",v.cc(9,5,"exchange.onboarding.description")," "),v.Ab(3),v.yc(" ",v.cc(12,7,"exchange.onboarding.exchange_label")," "))}function R(t,e){if(1&t){var n=v.Rb();v.Ob(0),v.Qb(1,"ion-row",4),v.Qb(2,"ion-col",5),v.Mb(3,"h3",6),v.bc(4,"translate"),v.Qb(5,"ion-col",7),v.Mb(6,"img",8),v.Pb(),v.Qb(7,"p",9),v.wc(8),v.bc(9,"translate"),v.Pb(),v.Qb(10,"ion-button",10),v.Yb("click",function(){return v.oc(n),v.ac().goToAddCoinPage()}),v.wc(11),v.bc(12,"translate"),v.Pb(),v.Pb(),v.Pb(),v.Nb()}2&t&&(v.Ab(3),v.gc("innerHTML",v.cc(4,3,"exchange.no-currencies.heading"),v.pc),v.Ab(5),v.yc(" ",v.cc(9,5,"exchange.no-currencies.description")," "),v.Ab(3),v.yc(" ",v.cc(12,7,"exchange.no-currencies.exchange_label")," "))}function G(t,e){1&t&&v.Mb(0,"img",25)}function Y(t,e){1&t&&v.Mb(0,"img",26)}function H(t,e){if(1&t){var n=v.Rb();v.Qb(0,"ion-row",16),v.Qb(1,"ion-col",17),v.Qb(2,"ion-row",18),v.Qb(3,"ion-text",19),v.Qb(4,"small"),v.wc(5),v.bc(6,"translate"),v.Pb(),v.Pb(),v.uc(7,G,1,0,"img",20),v.uc(8,Y,1,0,"img",21),v.Pb(),v.Pb(),v.Qb(9,"ion-col",22),v.Qb(10,"ion-button",23),v.Yb("click",function(){return v.oc(n),v.ac(2).doRadio()}),v.wc(11),v.bc(12,"translate"),v.Mb(13,"ion-icon",24),v.Pb(),v.Pb(),v.Pb()}if(2&t){var o=v.ac(2);v.Ab(5),v.yc(" ",v.cc(6,5,"exchange.powered-by_label")," "),v.Ab(2),v.gc("ngIf","ChangeNow"===o.activeExchange),v.Ab(1),v.gc("ngIf","Changelly"===o.activeExchange),v.Ab(2),v.gc("disabled",o.disableExchangeSelection),v.Ab(1),v.yc(" ",v.cc(12,7,"exchange.switch-exchange_label")," ")}}function U(t,e){if(1&t){var n=v.Rb();v.Ob(0),v.Qb(1,"swap",11),v.Yb("protocolSetEmitter",function(t){return v.oc(n),v.ac().setFromProtocol(t)})("walletSetEmitter",function(t){return v.oc(n),v.ac().setFromWallet(t)})("amountSetEmitter",function(t){return v.oc(n),v.ac().amountSet(t)}),v.Pb(),v.Qb(2,"swap",12),v.Yb("protocolSetEmitter",function(t){return v.oc(n),v.ac().setToProtocol(t)})("walletSetEmitter",function(t){return v.oc(n),v.ac().setToWallet(t)}),v.Pb(),v.Mb(3,"div",13),v.uc(4,H,14,9,"ion-row",14),v.Mb(5,"fee",15),v.Nb()}if(2&t){var o=v.ac();v.Ab(1),v.gc("selectedWallet",o.fromWallet)("supportedWallets",o.supportedFromWallets)("selectedProtocol",o.selectedFromProtocol)("supportedProtocols",o.supportedProtocolsFrom)("exchangeAmount",o.amount)("minExchangeAmount",o.minExchangeAmount)("currentlyNotSupported",o.currentlyNotSupported),v.Ab(1),v.gc("selectedWallet",o.toWallet)("supportedWallets",o.supportedToWallets)("selectedProtocol",o.selectedToProtocol)("supportedProtocols",o.supportedProtocolsTo)("exchangeAmount",o.exchangeAmount)("swapSell",!1),v.Ab(2),v.gc("ngIf",!o.isTZBTCExchange),v.Ab(1),v.gc("state",o.state)("form",o.exchangeForm)("wallet",o.fromWallet)}}function X(t,e){if(1&t){var n=v.Rb();v.Ob(0),v.Qb(1,"ion-fab",27),v.Qb(2,"ion-button",28),v.Yb("click",function(){return v.oc(n),v.ac().startExchange()}),v.wc(3),v.bc(4,"translate"),v.Pb(),v.Pb(),v.Nb()}if(2&t){var o=v.ac();v.Ab(2),v.gc("disabled",(null==o.amount?null:o.amount.isNaN())||(null==o.amount?null:o.amount.isZero())||(null==o.amount?null:o.amount.isLessThan(o.minExchangeAmount))||(null==o.amount?null:o.amount.isGreaterThan(o.fromWallet.currentBalance.shiftedBy(-1*o.fromWallet.protocol.decimals)))||o.currentlyNotSupported),v.Ab(1),v.yc(" ",v.cc(4,2,"exchange.exchange_label")," ")}}var q=function(t){return t[t.LOADING=0]="LOADING",t[t.ONBOARDING=1]="ONBOARDING",t[t.NOT_ENOUGH_CURRENCIES=2]="NOT_ENOUGH_CURRENCIES",t[t.EXCHANGE=3]="EXCHANGE",t}({}),V=function(){function t(t,e,n,o,i,c,a,s,l,b,u,d,h,g){var f=this;this.formBuilder=t,this.router=e,this.exchangeProvider=n,this.storageProvider=o,this.accountProvider=i,this.dataService=c,this.loadingController=a,this.translateService=s,this.modalController=l,this.alertCtrl=b,this.priceService=u,this.operationsProvider=d,this.protocolService=h,this._ngZone=g,this.supportedProtocolsFrom=[],this.supportedProtocolsTo=[],this.currentlyNotSupported=!1,this.minExchangeAmount=new r.BigNumber(0),this.amount=new r.BigNumber(0),this.disableExchangeSelection=!1,this.isSubstrate=!1,this.exchangePageStates=q,this.exchangePageState=q.LOADING,this._state=void 0,this.state$=new p.a(this._state),this.exchangeProvider.getActiveExchange().subscribe(function(t){f.activeExchange=t})}return Object.defineProperty(t.prototype,"isTZBTCExchange",{get:function(){return void 0!==this.selectedFromProtocol&&this.selectedFromProtocol.identifier===i.SubProtocolSymbols.XTZ_BTC||void 0!==this.selectedToProtocol&&this.selectedToProtocol.identifier===i.SubProtocolSymbols.XTZ_BTC},enumerable:!1,configurable:!0}),t.prototype.ionViewWillEnter=function(){var t=this;this.exchangeForm=this.formBuilder.group({feeLevel:[0,[g.m.required]],fee:[0,g.m.compose([g.m.required])],isAdvancedMode:[!1,[]]}),this.setup().then(function(){t.initState().then(function(){return Object(o.b)(t,void 0,void 0,function(){return Object(o.e)(this,function(t){return this.onChanges(),this.updateFeeEstimate(),[2]})})}).catch(function(t){return console.error(t)})}).catch(function(){return t.showLoadingErrorAlert()})},t.prototype.initState=function(){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(t){return this._state={feeDefaults:this.selectedFromProtocol.feeDefaults,disableAdvancedMode:this.isSubstrate,feeCurrentMarketPrice:null,disableFeeSlider:!0,disableExchangeButton:!0,estimatingFeeDefaults:!1,feeLevel:{value:this.exchangeForm.controls.feeLevel.value,dirty:!1},fee:{value:this.exchangeForm.controls.fee.value,dirty:!1},isAdvancedMode:{value:this.exchangeForm.controls.isAdvancedMode.value,dirty:!1}},this.state=this._state,this.updateState(this.state),[2]})})},t.prototype.updateTransactionForm=function(t){var e=this,n=this.exchangeForm.value,o={};Object.keys(n).forEach(function(e){e in t&&!t[e].dirty&&t[e].value!==n[e]&&(o[e]=t[e].value)}),this._ngZone.run(function(){e.exchangeForm.patchValue(o,{emitEvent:!1}),Object.keys(o).forEach(function(t){e.exchangeForm.controls[t].markAsDirty()})})},t.prototype.onStateUpdated=function(t){this.state=t,this.updateTransactionForm({fee:this.state.fee,feeLevel:this.state.feeLevel,isAdvancedMode:this.state.isAdvancedMode})},t.prototype.onChanges=function(){var t=this;this.state$.pipe(Object(m.a)(200)).subscribe(function(e){t.onStateUpdated(e)}),this.exchangeForm.get("fee").valueChanges.pipe(Object(m.a)(500)).subscribe(function(e){var n=new r.BigNumber(e);t.updateState({fee:{value:n.isNaN()?"":n.toFixed(),dirty:!0}})}),this.exchangeForm.get("feeLevel").valueChanges.subscribe(function(e){var n=new r.BigNumber(t.getFeeFromLevel(e));t.updateState({fee:{value:n.toFixed(),dirty:!1},feeLevel:{value:e,dirty:!0},disableExchangeButton:t.exchangeForm.invalid||t.amount.lte(0)},!1)}),this.exchangeForm.get("isAdvancedMode").valueChanges.subscribe(function(e){t.updateState({isAdvancedMode:{value:e,dirty:!0},disableExchangeButton:t.exchangeForm.invalid||new r.BigNumber(t.amount).lte(0)},!1)})},t.prototype.updateFeeEstimate=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n;return Object(o.e)(this,function(o){switch(o.label){case 0:return this._state?(t=void 0,this.selectedFromProtocol.identifier.startsWith(i.SubProtocolSymbols.ETH_ERC20)?(t=this.priceService.getCurrentMarketPrice(new i.EthereumProtocol,"USD").then(function(t){return t.toNumber()}),[3,3]):[3,1]):[3,5];case 1:return[4,this.priceService.getCurrentMarketPrice(this.selectedFromProtocol,"USD")];case 2:t=o.sent().toNumber(),o.label=3;case 3:return this.updateState({feeCurrentMarketPrice:t}),this.updateState({estimatingFeeDefaults:!0,disableFeeSlider:!0,disableExchangeButton:!0}),[4,this.estimateFees().catch(function(){})];case 4:e=o.sent(),this.updateState({estimatingFeeDefaults:!1,feeDefaults:e,fee:{value:new r.BigNumber(this.getFeeFromLevel(n=e&&!this.isSubstrate?1:this._state.feeLevel.value,e)).toFixed(),dirty:!1},feeLevel:{value:n,dirty:!1},disableFeeSlider:!e,disableExchangeButton:!e||this.exchangeForm.invalid||this.amount.lte(0)}),o.label=5;case 5:return[2]}})})},t.prototype.estimateFees=function(){return Object(o.b)(this,void 0,void 0,function(){var t;return Object(o.e)(this,function(e){return[2,!(t=this.amount.shiftedBy(this.selectedFromProtocol.decimals)).isNaN()&&t.gt(0)?this.operationsProvider.estimateFees(this.fromWallet,this.fromWallet.addresses[0],t):void 0]})})},t.prototype.getFeeFromLevel=function(t,e){var n=e||this._state.feeDefaults;switch(t){case 0:return n.low;case 1:return n.medium;case 2:return n.high;default:return n.medium}},t.prototype.filterSupportedProtocols=function(t,e){return void 0===e&&(e=!0),Object(o.b)(this,void 0,void 0,function(){var n,r,c;return Object(o.e)(this,function(o){return n=this.accountProvider.getWalletList(),r=t.filter(function(t){return n.some(function(n){return n.protocol.identifier===t&&(!e||e&&n.currentBalance.isGreaterThan(0))})}),-1===(c=r.indexOf(i.SubProtocolSymbols.XTZ_BTC))||n.some(function(t){return t.protocol.identifier===i.MainProtocolSymbols.BTC})||r.splice(c,1),[2,r]})})},t.prototype.setup=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n;return Object(o.e)(this,function(o){switch(o.label){case 0:return[4,this.getSupportedFromProtocols()];case 1:if(0===(t=o.sent()).length)throw this.supportedProtocolsFrom=[],this.supportedProtocolsTo=[],this.selectedFromProtocol=void 0,this.selectedToProtocol=void 0,this.exchangePageState=q.NOT_ENOUGH_CURRENCIES,new Error("could not set up exchange");return this.supportedProtocolsFrom=t,e=void 0!==this.selectedFromProtocol&&this.supportedProtocolsFrom.includes(this.selectedFromProtocol.identifier)?this.selectedFromProtocol.identifier:t[0],n=this.setFromProtocol,[4,this.protocolService.getProtocol(e)];case 2:return[4,n.apply(this,[o.sent()])];case 3:return o.sent(),this.exchangePageState!==q.LOADING?[3,5]:[4,this.storageProvider.get(u.a.EXCHANGE_INTEGRATION)];case 4:if(!o.sent())return this.exchangePageState=q.ONBOARDING,[2];o.label=5;case 5:return this.supportedProtocolsFrom.length>0&&this.supportedProtocolsTo.length>0&&(this.exchangePageState=q.EXCHANGE),[2]}})})},t.prototype.showLoadingErrorAlert=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n=this;return Object(o.e)(this,function(o){return t=this.activeExchange,this.exchangeProvider.switchActiveExchange(),e=this.activeExchange,this.setup().then(function(){return n.switchExchange(t,e)}).catch(function(){return n.displaySetupFail()}),[2]})})},t.prototype.switchExchange=function(t,e){return Object(o.b)(this,void 0,void 0,function(){var n;return Object(o.e)(this,function(o){switch(o.label){case 0:return[4,this.alertCtrl.create({header:this.translateService.instant("exchange.loading.setup"),message:t+" could currently not be loaded, switched to "+e,backdropDismiss:!1,buttons:[{text:"ok",role:"cancel"}]})];case 1:return n=o.sent(),this.disableExchangeSelection=!0,n.present().catch(Object(b.b)(b.a.IONIC_ALERT)),[2]}})})},t.prototype.displaySetupFail=function(){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(t){switch(t.label){case 0:return[4,this.alertCtrl.create({header:this.translateService.instant("exchange.loading.setup"),message:this.translateService.instant("exchange.loading.message"),backdropDismiss:!1,buttons:[{text:"ok",role:"cancel"}]})];case 1:return t.sent().present().catch(Object(b.b)(b.a.IONIC_ALERT)),[2]}})})},t.prototype.getSupportedFromProtocols=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n=this;return Object(o.e)(this,function(r){switch(r.label){case 0:return[4,this.exchangeProvider.getAvailableFromCurrencies()];case 1:return(t=r.sent()).push(i.SubProtocolSymbols.XTZ_BTC),[4,this.filterSupportedProtocols(t)];case 2:return e=r.sent(),[4,Promise.all(e.map(function(t){return Object(o.b)(n,void 0,void 0,function(){return Object(o.e)(this,function(e){switch(e.label){case 0:return t===i.SubProtocolSymbols.XTZ_BTC?[2,t]:[4,this.exchangeProvider.getAvailableToCurrenciesForCurrency(t)];case 1:return[2,e.sent().length>0?t:void 0]}})})}))];case 3:return[2,r.sent().filter(function(t){return void 0!==t})]}})})},t.prototype.getSupportedToProtocols=function(t){return Object(o.b)(this,void 0,void 0,function(){var e;return Object(o.e)(this,function(n){switch(n.label){case 0:return t===i.SubProtocolSymbols.XTZ_BTC?[2,this.filterSupportedProtocols([i.MainProtocolSymbols.BTC],!1)]:[4,this.exchangeProvider.getAvailableToCurrenciesForCurrency(t)];case 1:return e=n.sent(),t===i.MainProtocolSymbols.BTC&&e.push(i.SubProtocolSymbols.XTZ_BTC),[2,this.filterSupportedProtocols(e,!1)]}})})},t.prototype.setFromProtocol=function(t){return Object(o.b)(this,void 0,void 0,function(){var e,n;return Object(o.e)(this,function(o){switch(o.label){case 0:return this.selectedFromProtocol=t,e=this,[4,this.getSupportedToProtocols(t.identifier)];case 1:return e.supportedProtocolsTo=o.sent(),0===this.supportedProtocolsTo.length?(this.supportedProtocolsFrom=[],this.supportedProtocolsTo=[],this.selectedFromProtocol=void 0,this.selectedToProtocol=void 0,this.exchangePageState=q.NOT_ENOUGH_CURRENCIES,[2]):void 0!==this.selectedToProtocol&&this.selectedFromProtocol.identifier!==this.selectedToProtocol.identifier&&this.supportedProtocolsTo.includes(this.selectedToProtocol.identifier)?[3,3]:[4,this.protocolService.getProtocol(this.supportedProtocolsTo[0])];case 2:n=o.sent(),this.selectedToProtocol=n,this.loadWalletsForSelectedToProtocol(),o.label=3;case 3:return this.loadWalletsForSelectedFromProtocol(),this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),this.updateFeeEstimate(),[2]}})})},t.prototype.setToProtocol=function(t){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(e){return this.selectedToProtocol=t,this.loadWalletsForSelectedToProtocol(),this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),[2]})})},t.prototype.loadWalletsForSelectedFromProtocol=function(){this.supportedFromWallets=this.walletsForProtocol(this.selectedFromProtocol.identifier,!0),this.shouldReplaceActiveWallet(this.fromWallet,this.supportedFromWallets)&&(this.fromWallet=this.supportedFromWallets[0])},t.prototype.loadWalletsForSelectedToProtocol=function(){this.supportedToWallets=this.walletsForProtocol(this.selectedToProtocol.identifier,!1),this.toWallet=this.supportedToWallets[0],this.shouldReplaceActiveWallet(this.toWallet,this.supportedToWallets)&&(this.toWallet=this.supportedToWallets[0])},t.prototype.walletsForProtocol=function(t,e){return void 0===e&&(e=!0),this.accountProvider.getWalletList().filter(function(n){return n.protocol.identifier===t&&n.protocol.options.network.type===h.NetworkType.MAINNET&&(!e||n.currentBalance.isGreaterThan(0))})},t.prototype.shouldReplaceActiveWallet=function(t,e){var n=this;return!t||t.protocol.identifier!==e[0].protocol.identifier||e.every(function(e){return!n.accountProvider.isSameWallet(e,t)})},t.prototype.setFromWallet=function(t){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(e){return this.fromWallet=t,this.isSubstrate=this.fromWallet.protocol.identifier===i.MainProtocolSymbols.KUSAMA||this.selectedFromProtocol.identifier===i.MainProtocolSymbols.POLKADOT,this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),[2]})})},t.prototype.setToWallet=function(t){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(e){return this.toWallet=t,this.loadDataFromExchange(),this.accountProvider.triggerWalletChanged(),[2]})})},t.prototype.amountSet=function(t){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(e){return this.amount=new r.BigNumber(t),this.updateFeeEstimate(),this.loadDataFromExchange(),[2]})})},t.prototype.loadDataFromExchange=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n;return Object(o.e)(this,function(o){switch(o.label){case 0:this.currentlyNotSupported=!1,o.label=1;case 1:return o.trys.push([1,7,,8]),this.fromWallet&&this.toWallet?(t=this,[4,this.getMinAmountForCurrency()]):[3,3];case 2:t.minExchangeAmount=o.sent(),o.label=3;case 3:return this.fromWallet&&this.toWallet&&this.amount.isGreaterThan(0)?(e=this,n=r.BigNumber.bind,[4,this.getExchangeAmount()]):[3,5];case 4:return e.exchangeAmount=new(n.apply(r.BigNumber,[void 0,o.sent()])),[3,6];case 5:this.exchangeAmount=new r.BigNumber(0),o.label=6;case 6:return[3,8];case 7:return o.sent(),this.currentlyNotSupported=!0,[3,8];case 8:return[2]}})})},t.prototype.getMinAmountForCurrency=function(){return Object(o.b)(this,void 0,void 0,function(){var t;return Object(o.e)(this,function(e){switch(e.label){case 0:return this.isTZBTCExchange?[2,new r.BigNumber(0)]:(t=r.BigNumber.bind,[4,this.exchangeProvider.getMinAmountForCurrency(this.fromWallet.protocol.identifier,this.toWallet.protocol.identifier)]);case 1:return[2,new(t.apply(r.BigNumber,[void 0,e.sent()]))]}})})},t.prototype.getExchangeAmount=function(){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(t){switch(t.label){case 0:return this.isTZBTCExchange?[2,this.amount.toFixed()]:[4,this.exchangeProvider.getExchangeAmount(this.fromWallet.protocol.identifier,this.toWallet.protocol.identifier,this.amount.toString())];case 1:return[2,t.sent()]}})})},t.prototype.startExchange=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e,n,i,c,a,l,u,d,h;return Object(o.e)(this,function(o){switch(o.label){case 0:return this.isTZBTCExchange?(this.router.navigateByUrl("/exchange-custom").catch(Object(b.b)(b.a.STORAGE)),[3,10]):[3,1];case 1:return[4,this.getAndShowLoader()];case 2:t=o.sent(),o.label=3;case 3:return o.trys.push([3,8,9,10]),[4,this.exchangeProvider.createTransaction(this.fromWallet.protocol.identifier,this.toWallet.protocol.identifier,this.toWallet.receivingPublicAddress,this.amount.toString(),this.fromWallet.receivingPublicAddress)];case 4:return e=o.sent(),[4,this.getExchangeAmount()];case 5:return n=o.sent(),i=e.amountExpectedFrom?new r.BigNumber(e.amountExpectedFrom):this.amount,[4,this.operationsProvider.estimateFees(this.fromWallet,e.payinAddress,i.shiftedBy(this.fromWallet.protocol.decimals))];case 6:return c=o.sent(),a={fromWallet:this.fromWallet,fromCurrency:this.fromWallet.protocol.marketSymbol,toWallet:this.toWallet,toCurrency:this.exchangeProvider.convertAirGapIdentifierToExchangeIdentifier([this.toWallet.protocol.identifier])[0],exchangeResult:e,amountExpectedFrom:this.amount.toString(),amountExpectedTo:n,fee:this.state.fee.value,memo:e.payinExtraId?e.payinExtraId:void 0},this.dataService.setData(s.b.EXCHANGE,a),this.router.navigateByUrl("/exchange-confirm/"+s.b.EXCHANGE).catch(Object(b.b)(b.a.STORAGE)),[4,this.exchangeProvider.getStatus(l=e.id)];case 7:return u=o.sent().status,d={receivingAddress:this.toWallet.addresses[0],sendingAddress:this.fromWallet.addresses[0],fromCurrency:this.fromWallet.protocol.identifier,toCurrency:this.toWallet.protocol.identifier,amountExpectedFrom:this.amount,amountExpectedTo:n.toString(),fee:c.medium,status:u,exchange:this.activeExchange,id:l,timestamp:new r.BigNumber(Date.now()).toNumber()},this.exchangeProvider.pushExchangeTransaction(d),[3,10];case 8:return h=o.sent(),console.error(h),[3,10];case 9:return this.hideLoader(t),[7];case 10:return[2]}})})},t.prototype.doRadio=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e=this;return Object(o.e)(this,function(n){switch(n.label){case 0:return[4,this.modalController.create({component:d.a,componentProps:{activeExchange:this.activeExchange}})];case 1:return(t=n.sent()).present().catch(function(t){return console.error(t)}),t.onDidDismiss().then(function(){return Object(o.b)(e,void 0,void 0,function(){return Object(o.e)(this,function(t){switch(t.label){case 0:return[4,this.setup()];case 1:return t.sent(),[2]}})})}).catch(Object(b.b)(b.a.IONIC_MODAL)),[2]}})})},t.prototype.dismissExchangeOnboarding=function(){this.setup(),this.storageProvider.set(u.a.EXCHANGE_INTEGRATION,!0).catch(Object(b.b)(b.a.STORAGE))},t.prototype.goToAddCoinPage=function(){this.router.navigateByUrl("/account-add")},t.prototype.getAndShowLoader=function(){return Object(o.b)(this,void 0,void 0,function(){var t;return Object(o.e)(this,function(e){switch(e.label){case 0:return[4,this.loadingController.create({message:"Preparing transaction..."})];case 1:return[4,(t=e.sent()).present().catch(Object(b.b)(b.a.IONIC_LOADER))];case 2:return e.sent(),[2,t]}})})},t.prototype.hideLoader=function(t){t.dismiss().catch(Object(b.b)(b.a.IONIC_LOADER))},t.prototype.updateState=function(t,e){void 0===e&&(e=!0),this._state=this.reduceState(this._state,t),e?this.state$.next(this._state):this.onStateUpdated(this._state)},t.prototype.reduceState=function(t,e){return{feeDefaults:e.feeDefaults||t.feeDefaults,feeCurrentMarketPrice:void 0!==e.feeCurrentMarketPrice?e.feeCurrentMarketPrice:t.feeCurrentMarketPrice,disableAdvancedMode:this.isSubstrate||(void 0!==e.disableAdvancedMode?e.disableAdvancedMode:t.disableAdvancedMode),disableFeeSlider:this.isSubstrate||(void 0!==e.disableFeeSlider?e.disableFeeSlider:t.disableFeeSlider),disableExchangeButton:void 0!==e.disableExchangeButton?e.disableExchangeButton:t.disableExchangeButton,estimatingFeeDefaults:void 0!==e.estimatingFeeDefaults?e.estimatingFeeDefaults:t.estimatingFeeDefaults,feeLevel:e.feeLevel||t.feeLevel,fee:e.fee||t.fee,isAdvancedMode:e.isAdvancedMode||t.isAdvancedMode}},t.\u0275fac=function(e){return new(e||t)(v.Lb(g.b),v.Lb(P.g),v.Lb(l.a),v.Lb(u.b),v.Lb(a.a),v.Lb(s.a),v.Lb(w.kb),v.Lb(y.d),v.Lb(w.lb),v.Lb(w.a),v.Lb(f.a),v.Lb(c.a),v.Lb(O.y),v.Lb(v.B))},t.\u0275cmp=v.Fb({type:t,selectors:[["page-exchange"]],decls:14,vars:7,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],[4,"ngIf"],[1,"onboarding__container","ion-padding"],["size","12"],[1,"ion-no-margin",3,"innerHTML"],[1,"content--align__center-center","ion-no-padding"],["src","./assets/img/token_swap.svg"],[1,"ion-no-margin","ion-padding-bottom"],["shape","round","color","primary","expand","full",3,"click"],[3,"selectedWallet","supportedWallets","selectedProtocol","supportedProtocols","exchangeAmount","minExchangeAmount","currentlyNotSupported","protocolSetEmitter","walletSetEmitter","amountSetEmitter"],[3,"selectedWallet","supportedWallets","selectedProtocol","supportedProtocols","exchangeAmount","swapSell","protocolSetEmitter","walletSetEmitter"],[1,"divider--line"],["class","powered__container ion-padding ion-align-items-center ",4,"ngIf"],[3,"state","form","wallet"],[1,"powered__container","ion-padding","ion-align-items-center"],[1,"ion-no-padding"],[1,"powered__container","ion-align-items-center"],["color","blackLight"],["src","./assets/img/changenow_logo.svg",4,"ngIf"],["src","./assets/img/changelly_logo.svg",4,"ngIf"],[1,"ion-no-padding","justify--content__end"],["fill","clear","color","secondary","size","small",3,"disabled","click"],["name","chevron-down-outline"],["src","./assets/img/changenow_logo.svg"],["src","./assets/img/changelly_logo.svg"],["vertical","bottom","horizontal","end"],["color","primary","shape","round",3,"disabled","click"]],template:function(t,e){1&t&&(v.Qb(0,"ion-header",0),v.Qb(1,"ion-grid",1),v.Qb(2,"ion-toolbar"),v.Qb(3,"ion-buttons",2),v.Mb(4,"ion-menu-button"),v.Pb(),v.Qb(5,"ion-title"),v.wc(6),v.bc(7,"translate"),v.Pb(),v.Pb(),v.Pb(),v.Pb(),v.Qb(8,"ion-content"),v.Qb(9,"ion-grid",1),v.uc(10,B,13,9,"ng-container",3),v.uc(11,R,13,9,"ng-container",3),v.uc(12,U,6,17,"ng-container",3),v.Pb(),v.Pb(),v.uc(13,X,5,4,"ng-container",3)),2&t&&(v.Ab(6),v.xc(v.cc(7,5,"exchange.title")),v.Ab(4),v.gc("ngIf",e.exchangePageState===e.exchangePageStates.ONBOARDING),v.Ab(1),v.gc("ngIf",e.exchangePageState===e.exchangePageStates.NOT_ENOUGH_CURRENCIES),v.Ab(1),v.gc("ngIf",e.exchangePageState===e.exchangePageStates.EXCHANGE),v.Ab(1),v.gc("ngIf",e.exchangePageState===e.exchangePageStates.EXCHANGE))},directives:[w.v,w.u,w.hb,w.j,w.I,w.fb,w.q,x.n,w.R,w.p,w.i,N,D.a,w.db,w.w,w.r],pipes:[y.c],styles:[".onboarding__container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50vh;height:50vh}.divider--line[_ngcontent-%COMP%]{border-top:1px solid rgba(var(--ion-color-primary-rgb),.24)}.powered__container[_ngcontent-%COMP%]{padding-bottom:8px}.powered__container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:24px;margin-left:8px}ion-content[_ngcontent-%COMP%]{--padding-bottom:108px}"]}),t}()},XvSo:function(t,e,n){"use strict";n.d(e,"a",function(){return P});var o=n("mrSG"),i=n("138U"),r=n("wTY4"),c=n("hPkG"),a=n("AffV"),s=n("fXoL"),l=n("TEn/"),b=n("ofXK"),u=n("IyRd"),d=n("sYmb"),h=["scanner"];function g(t,e){if(1&t&&(s.Qb(0,"ion-title",19),s.wc(1),s.Pb()),2&t){var n=s.ac();s.Ab(1),s.zc("",n.numberOfQrsScanned,"/",n.numberOfQrsTotal,"")}}function p(t,e){1&t&&(s.Ob(0),s.wc(1),s.bc(2,"translate"),s.Nb()),2&t&&(s.Ab(1),s.yc(" ",s.cc(2,1,"scan.text")," "))}function f(t,e){1&t&&(s.Ob(0),s.wc(1),s.bc(2,"translate"),s.Nb()),2&t&&(s.Ab(1),s.yc(" ",s.cc(2,1,"scan.multi-qr_text")," "))}function m(t,e){if(1&t&&s.Mb(0,"ion-progress-bar",20),2&t){var n=s.ac();s.gc("value",n.percentageScanned)}}function v(t,e){if(1&t){var n=s.Rb();s.Qb(0,"zxing-scanner",21,22),s.Yb("scanSuccess",function(t){return s.oc(n),s.ac().checkScan(t)}),s.Pb()}}var P=function(t){function e(e,n,o,i,r){var c=t.call(this,e,n,o)||this;return c.platform=e,c.scanner=n,c.permissionsProvider=o,c.iacService=i,c.ngZone=r,c.percentageScanned=0,c.numberOfQrsScanned=0,c.numberOfQrsTotal=0,c.parts=new Set,c.isMultiQr=!1,c}return Object(o.d)(e,t),e.prototype.ionViewWillEnter=function(){return Object(o.b)(this,void 0,void 0,function(){return Object(o.e)(this,function(e){switch(e.label){case 0:return[4,t.prototype.ionViewWillEnter.call(this)];case 1:return e.sent(),this.resetScannerPage(),[2]}})})},e.prototype.resetScannerPage=function(){this.parts=new Set,this.percentageScanned=0,this.isMultiQr=!1},e.prototype.checkScan=function(t){return Object(o.b)(this,void 0,void 0,function(){var e,n=this;return Object(o.e)(this,function(o){return e=this.parts.size,this.parts.add(t),e===this.parts.size?(console.log("[SCAN:checkScan]: Already scanned string skipping "+t),this.startScan(),[2]):(console.log("[SCAN:checkScan]: Trying to decode string "+t),this.ngZone.run(function(){n.iacService.handleRequest(Array.from(n.parts),i.r.QR_SCANNER,function(t){console.log("scan result",t);var e=t;t&&e.availablePages&&(n.isMultiQr=!0,n.numberOfQrsScanned=e.availablePages.length,n.numberOfQrsTotal=e.totalPages,n.percentageScanned=Math.max(0,Math.min(1,e.availablePages.length/e.totalPages))),n.startScan()}).then(function(t){t===i.p.SUCCESS&&n.resetScannerPage()}).catch(Object(c.b)(c.a.SCHEME_ROUTING))}),[2])})})},e.\u0275fac=function(t){return new(t||e)(s.Lb(l.pb),s.Lb(i.A),s.Lb(i.x),s.Lb(r.a),s.Lb(s.B))},e.\u0275cmp=s.Fb({type:e,selectors:[["page-scan"]],viewQuery:function(t,e){var n;1&t&&s.Cc(h,1),2&t&&s.mc(n=s.Zb())&&(e.zxingScanner=n.first)},features:[s.xb],decls:29,vars:18,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],["slot","end",4,"ngIf"],["forceOverscroll","false"],["color","secondary"],[1,"ion-padding","ion-no-margin"],[4,"ngIf"],["style","height: 8px","color","secondary",3,"value",4,"ngIf"],[1,"row--height__100","ion-justify-content-center","ion-align-items-center",3,"hidden"],[1,"guides--container","content--align__center-center"],["src","./assets/img/qr_code_guides.svg",1,"guides--container__img"],[3,"scanSuccess",4,"ngIf"],[1,"row--height__100","ion-justify-content-center","ion-align-items-center",3,"hidden","click"],[1,"ion-text-center"],["src","./assets/img/permission_onboarding_camera.svg"],[1,"ion-padding-horizontal",3,"innerHTML"],["shape","round","color","primary"],["slot","end"],["color","secondary",2,"height","8px",3,"value"],[3,"scanSuccess"],["scanner",""]],template:function(t,e){1&t&&(s.Qb(0,"ion-header",0),s.Qb(1,"ion-grid",1),s.Qb(2,"ion-toolbar"),s.Qb(3,"ion-buttons",2),s.Mb(4,"ion-menu-button"),s.Mb(5,"ion-back-button",3),s.Pb(),s.Qb(6,"ion-title"),s.wc(7),s.bc(8,"translate"),s.Pb(),s.uc(9,g,2,2,"ion-title",4),s.Pb(),s.Pb(),s.Pb(),s.Qb(10,"ion-content",5),s.Qb(11,"ion-grid",1),s.Qb(12,"ion-text",6),s.Qb(13,"p",7),s.uc(14,p,3,3,"ng-container",8),s.uc(15,f,3,3,"ng-container",8),s.Pb(),s.Pb(),s.uc(16,m,1,1,"ion-progress-bar",9),s.Qb(17,"ion-row",10),s.Qb(18,"ion-col",11),s.Mb(19,"img",12),s.Pb(),s.uc(20,v,2,0,"zxing-scanner",13),s.Pb(),s.Qb(21,"ion-row",14),s.Yb("click",function(){return e.requestPermission()}),s.Qb(22,"ion-col",15),s.Mb(23,"img",16),s.Mb(24,"h3",17),s.bc(25,"translate"),s.Qb(26,"ion-button",18),s.wc(27),s.bc(28,"translate"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.Ab(7),s.xc(s.cc(8,12,"scan.title")),s.Ab(2),s.gc("ngIf",e.isMultiQr),s.Ab(1),s.Db("transparent",e.hasCameraPermission),s.Ab(4),s.gc("ngIf",!e.isMultiQr),s.Ab(1),s.gc("ngIf",e.isMultiQr),s.Ab(1),s.gc("ngIf",e.isMultiQr),s.Ab(1),s.gc("hidden",!e.hasCameraPermission),s.Ab(3),s.gc("ngIf",e.isBrowser||e.isElectron),s.Ab(1),s.gc("hidden",e.hasCameraPermission),s.Ab(3),s.gc("innerHTML",s.cc(25,14,"scan.empty-state_heading"),s.pc),s.Ab(3),s.xc(s.cc(28,16,"scan.grant-permission_label")))},directives:[l.v,l.u,l.hb,l.j,l.I,l.f,l.g,l.fb,b.n,l.q,l.db,l.R,l.p,l.i,l.K,u.a],pipes:[d.c],styles:["[_ngcontent-%COMP%]:root{--ion-color-primary:#00e8cc;--ion-color-primary-rgb:0,232,204;--ion-color-primary-contrast:#311b58;--ion-color-primary-contrast-rgb:49,27,88;--ion-color-primary-shade:#00ccb4;--ion-color-primary-tint:#1aead1;--ion-color-secondary:#311b58;--ion-color-secondary-rgb:49,27,88;--ion-color-secondary-contrast:#00e8cc;--ion-color-secondary-contrast-rgb:0,232,204;--ion-color-secondary-shade:#2b184d;--ion-color-secondary-tint:#463269;--ion-color-tertiary:#7044ff;--ion-color-tertiary-rgb:112,68,255;--ion-color-tertiary-contrast:#fff;--ion-color-tertiary-contrast-rgb:255,255,255;--ion-color-tertiary-shade:#633ce0;--ion-color-tertiary-tint:#7e57ff;--ion-color-success:#10dc60;--ion-color-success-rgb:16,220,96;--ion-color-success-contrast:#fff;--ion-color-success-contrast-rgb:255,255,255;--ion-color-success-shade:#0ec254;--ion-color-success-tint:#28e070;--ion-color-warning:#ffce00;--ion-color-warning-rgb:255,206,0;--ion-color-warning-contrast:#fff;--ion-color-warning-contrast-rgb:255,255,255;--ion-color-warning-shade:#e0b500;--ion-color-warning-tint:#ffd31a;--ion-color-danger:#f04141;--ion-color-danger-rgb:245,61,61;--ion-color-danger-contrast:#fff;--ion-color-danger-contrast-rgb:255,255,255;--ion-color-danger-shade:#d33939;--ion-color-danger-tint:#f25454;--ion-color-dark:#222428;--ion-color-dark-rgb:34,34,34;--ion-color-dark-contrast:#fff;--ion-color-dark-contrast-rgb:255,255,255;--ion-color-dark-shade:#1e2023;--ion-color-dark-tint:#383a3e;--ion-color-medium:#989aa2;--ion-color-medium-rgb:152,154,162;--ion-color-medium-contrast:#fff;--ion-color-medium-contrast-rgb:255,255,255;--ion-color-medium-shade:#86888f;--ion-color-medium-tint:#a2a4ab;--ion-color-light:#f4f4f4;--ion-color-light-rgb:244,244,244;--ion-color-light-contrast:#000;--ion-color-light-contrast-rgb:0,0,0;--ion-color-light-shade:#d7d8da;--ion-color-light-tint:#f5f6f9;--ion-color-secondaryLight:#440094;--ion-color-secondaryLight-rgb:68,0,148;--ion-color-secondaryLight-contrast:#fff;--ion-color-secondaryLight-contrast-rgb:255,255,255;--ion-color-secondaryLight-shade:#3c0082;--ion-color-secondaryLight-tint:#571a9f;--ion-color-gray:#d3d3d3;--ion-color-gray-rgb:211,211,211;--ion-color-gray-contrast:#000;--ion-color-gray-contrast-rgb:255,255,255;--ion-color-gray-shade:#bababa;--ion-color-gray-tint:#d7d7d7;--ion-color-grayLight:#f4f4f4;--ion-color-grayLight-rgb:244,244,244;--ion-color-grayLight-contrast:#000;--ion-color-grayLight-contrast-rgb:255,255,255;--ion-color-grayLight-shade:#d7d7d7;--ion-color-grayLight-tint:#f5f5f5}[_ngcontent-%COMP%]:root   ion-back-button[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   ion-title[_ngcontent-%COMP%]{--color:var(--ion-color-secondary)}[_ngcontent-%COMP%]:root   ion-back-button[_ngcontent-%COMP%]{--icon-margin-end:0}[_ngcontent-%COMP%]:root   ion-button[_ngcontent-%COMP%]{--border-width:1px;--padding-start:1.5rem;--padding-end:1.5rem}[_ngcontent-%COMP%]:root   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start:0.5rem;--padding-end:0.5rem}[_ngcontent-%COMP%]:root   ion-alert[_ngcontent-%COMP%]{--max-width:calc(100% - 32px)}[_ngcontent-%COMP%]:root   page-exchange[_ngcontent-%COMP%]   .button-small[_ngcontent-%COMP%]{--padding-start:0;--padding-end:0;margin:0}[_ngcontent-%COMP%]:root   ion-split-pane[_ngcontent-%COMP%]{--side-max-width:10vw}.ion-color-white[_ngcontent-%COMP%]{--ion-color-base:#fff;--ion-color-base-rgb:255,255,255;--ion-color-contrast:#000;--ion-color-contrast-rgb:0,0,0;--ion-color-shade:#e0e0e0;--ion-color-tint:#fff}.ion-color-black[_ngcontent-%COMP%]{--ion-color-base:#000;--ion-color-base-rgb:0,0,0;--ion-color-contrast:#000;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#5ca56c;--ion-color-tint:#78c288}.ion-color-whiteLight[_ngcontent-%COMP%]{--ion-color-base:#311b58;--ion-color-base-rgb:49,27,88;--ion-color-contrast:#fff;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#2b184d;--ion-color-tint:#463269}.ion-color-blackLight[_ngcontent-%COMP%]{--ion-color-base:rgba(0,0,0,0.54);--ion-color-base-rgb:49,27,88;--ion-color-contrast:#fff;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#5ca56c;--ion-color-tint:#78c288}.ion-color-grayLight[_ngcontent-%COMP%]{--ion-color-base:#f4f4f4;--ion-color-base-rgb:0,0,0;--ion-color-contrast:#000;--ion-color-contrast-rgb:255,255,255;--ion-color-shade:#5ca56c;--ion-color-tint:#78c288}ion-avatar[_ngcontent-%COMP%]{min-width:48px;min-height:48px}page-account-address[_ngcontent-%COMP%]   identicon[_ngcontent-%COMP%], page-account-address[_ngcontent-%COMP%]   identicon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], page-account-address[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:64px;height:64px}portfolio-item[_ngcontent-%COMP%]   div[slot=end][_ngcontent-%COMP%]{-webkit-margin-start:8px;margin-inline-start:8px}page-portfolio[_ngcontent-%COMP%]   portfolio-item[_ngcontent-%COMP%]   div[slot=end][_ngcontent-%COMP%]{-webkit-margin-end:0;margin-inline-end:0}.item__image[slot=start][_ngcontent-%COMP%]{margin:8px 16px 8px 0}ion-content[_ngcontent-%COMP%]{--background:none transparent}.transparent[_ngcontent-%COMP%]{background:none!important}p[_ngcontent-%COMP%]{background:var(--ion-color-primary)}.row--height__100[_ngcontent-%COMP%]{height:calc(100% - 48px)}.row--height__100[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:45vh}.guides--container[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0}.guides--container[_ngcontent-%COMP%]   .guides--container__img[_ngcontent-%COMP%]{width:60%;max-width:400px;margin-top:3em;max-height:50%}ion-grid[_ngcontent-%COMP%]{height:100%}"]}),e}(a.a)},fOEu:function(t,e,n){"use strict";n.d(e,"a",function(){return H});var o=n("mrSG"),i=n("jtHE"),r=n("Cfvw"),c=n("cp0P"),a=n("onrW"),s=n("57MG"),l=n("1y+R"),b=n("nxqh"),u=n("hPkG"),d=n("kB5k"),h=n.n(d),g=n("fXoL"),p=n("tyNb"),f=n("138U"),m=n("TEn/"),v=n("ofXK"),P=n("wd/R"),w=n("wEhd"),y=n("xnpP"),O=n("DUVq"),x=n("LPYB"),A=["baseChart"];function _(t,e){1&t&&(g.Qb(0,"span"),g.wc(1,"+"),g.Pb())}var M=function(){function t(t,e){this.drawChartProvider=t,this.marketDataProvider=e,this.timeInterval=w.TimeInterval,this.currentTimeInterval=void 0,this.chartType="line",this.chartLabels=[],this.chartOptions={},this.chartColors=[],this.chartDatasets=[{data:[],label:"Price"}]}return t.prototype.ngOnInit=function(){var t=this;this.chartOptions={layout:{padding:{left:0,right:0,top:0,bottom:0}},animation:{duration:1250},hover:{animationDuration:250},responsiveAnimationDuration:0,legend:{display:!1},responsive:!0,scaleFontColor:"white",type:"line",scales:{yAxes:[{display:!1,gridLines:{display:!1}}],xAxes:[{display:!1,gridLines:{display:!1}}]},elements:{point:{radius:1},line:{tension:0}},tooltips:{mode:"x-axis",intersect:!1,displayColors:!1,callbacks:{title:function(t){return P.unix(t[0].label).format("DD.MM.YYYY")},label:function(t){return Number(t.value)%1!=0?"$"+parseFloat(t.value).toFixed(2):t.value}}},annotation:{annotations:[{type:"line",mode:"vertical",scaleID:"x-axis-0",borderColor:"orange",borderWidth:2,label:{enabled:!0,fontColor:"orange",content:"LineAnno"}}]}},this.subscription=this.drawChartProvider.getChartObservable().subscribe(function(e){return Object(o.b)(t,void 0,void 0,function(){return Object(o.e)(this,function(t){return this.drawChart(e),[2]})})})},t.prototype.drawChart=function(t){return Object(o.b)(this,void 0,void 0,function(){var e=this;return Object(o.e)(this,function(n){return this.chartLabels=[],this.chartDatasets=[{data:[],label:"$"}],this.currentTimeInterval=t,this.marketDataProvider.fetchAllValues(this.currentTimeInterval).then(function(t){return Object(o.b)(e,void 0,void 0,function(){var e,n,i,r;return Object(o.e)(this,function(c){this.chartDatasets[0].data=t.map(function(t){return t.usdValue});try{for(e=Object(o.k)(t),n=e.next();!n.done;n=e.next())this.chartLabels.push(n.value.timestamp.toString())}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=e.return)&&r.call(e)}finally{if(i)throw i.error}}return this.percentageChange=this.displayPercentageChange(t.map(function(t){return t.usdValue})),[2]})})}),[2]})})},t.prototype.setLabel24h=function(){this.currentTimeInterval=w.TimeInterval.HOURS},t.prototype.displayPercentageChange=function(t){var e=t.find(function(t){return t>0});if(void 0!==e){var n=t.slice(-1)[0];return Number(parseFloat(String(Math.round((n-e)/e*100*100)/100)).toFixed(2))}return 0},t.prototype.ngAfterViewInit=function(){if(this.chartDatasets=[{data:[],label:"$"}],this.chartLabels=[],this.chart){var t=this.chart.ctx,e=t.createLinearGradient(0,10,0,0);e.addColorStop(0,"#26E8CD");var n=t.createLinearGradient(0,100,0,0);n.addColorStop(1,"rgba(38,232,205,0.34)"),n.addColorStop(0,"rgba(38,232,205,0.04) "),this.chartColors[0]={backgroundColor:n,borderColor:e,pointBackgroundColor:e,pointBorderColor:e,pointHoverBackgroundColor:e,pointHoverBorderColor:e}}},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(g.Lb(y.a),g.Lb(O.a))},t.\u0275cmp=g.Fb({type:t,selectors:[["chart"]],viewQuery:function(t,e){var n;1&t&&g.Cc(A,3),2&t&&g.mc(n=g.Zb())&&(e.chart=n.first)},inputs:{total:"total"},decls:20,vars:16,consts:[[1,"ion-padding-horizontal","ion-align-items-end","ion-justify-content-center"],[1,"ion-no-margin"],[3,"color"],[4,"ngIf"],["baseChart","","width","700","height","200px",3,"chartType","datasets","labels","colors","options","legend"],["baseChart","base-chart"],[1,"ion-padding-horizontal","ion-padding-bottom","ion-align-items-end","ion-justify-content-center"],["size","small","fill","clear",3,"color","click"]],template:function(t,e){1&t&&(g.Qb(0,"ion-row",0),g.Qb(1,"h1",1),g.wc(2),g.bc(3,"number"),g.Pb(),g.Pb(),g.Qb(4,"ion-row",0),g.Qb(5,"ion-text",2),g.Qb(6,"small"),g.uc(7,_,2,0,"span",3),g.Qb(8,"span"),g.wc(9),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Qb(10,"div"),g.Mb(11,"canvas",4,5),g.Pb(),g.Qb(13,"ion-row",6),g.Qb(14,"ion-button",7),g.Yb("click",function(){return e.drawChart(e.timeInterval.HOURS)}),g.wc(15," 24h "),g.Pb(),g.Qb(16,"ion-button",7),g.Yb("click",function(){return e.drawChart(e.timeInterval.DAYS)}),g.wc(17," 7d "),g.Pb(),g.Qb(18,"ion-button",7),g.Yb("click",function(){return e.drawChart(e.timeInterval.MONTH)}),g.wc(19," 30d "),g.Pb(),g.Pb()),2&t&&(g.Ab(2),g.yc("$",g.dc(3,13,e.total,"1.2-2"),""),g.Ab(3),g.gc("color",e.percentageChange>=0?"primary":"danger"),g.Ab(2),g.gc("ngIf",e.percentageChange>=0),g.Ab(2),g.yc("",e.percentageChange,"%"),g.Ab(2),g.gc("chartType",e.chartType)("datasets",e.chartDatasets)("labels",e.chartLabels)("colors",e.chartColors)("options",e.chartOptions)("legend",!1),g.Ab(3),g.gc("color",e.currentTimeInterval!==e.timeInterval.HOURS&&e.chartDatasets[0].data.length>0?"primary":"secondary"),g.Ab(2),g.gc("color",e.currentTimeInterval!==e.timeInterval.DAYS&&e.chartDatasets[0].data.length>0?"primary":"secondary"),g.Ab(2),g.gc("color",e.currentTimeInterval!==e.timeInterval.MONTH&&e.chartDatasets[0].data.length>0?"primary":"secondary"))},directives:[m.R,m.db,v.n,x.a,m.i],pipes:[v.f],encapsulation:2}),t}(),S=n("F07p"),C=n("1Mpf"),Q=n("sYmb");function E(t,e){if(1&t&&g.Mb(0,"chart",11),2&t){var n=g.ac(2);g.gc("total",n.total)}}function T(t,e){if(1&t&&(g.Ob(0),g.uc(1,E,1,1,"chart",10),g.Nb()),2&t){var n=e.ngIf;g.Ab(1),g.gc("ngIf",n.length>0)}}function I(t,e){if(1&t){var n=g.Rb();g.Qb(0,"portfolio-item",17),g.Yb("click",function(){g.oc(n);var t=g.ac().$implicit;return g.ac(3).openDetail(t.mainWallet)}),g.Pb()}if(2&t){var o=g.ac().$implicit;g.gc("wallet",o.mainWallet)}}function k(t,e){if(1&t){var n=g.Rb();g.Qb(0,"portfolio-item",18),g.Yb("click",function(){g.oc(n);var t=e.$implicit,o=g.ac().$implicit;return g.ac(3).openDetail(o.mainWallet,t)}),g.Pb()}2&t&&g.gc("wallet",e.$implicit)}function L(t,e){if(1&t&&(g.Qb(0,"ion-list",14),g.Qb(1,"ion-card"),g.uc(2,I,1,1,"portfolio-item",15),g.uc(3,k,1,1,"portfolio-item",16),g.Pb(),g.Pb()),2&t){var n=e.$implicit;g.Ab(2),g.gc("ngIf",n.mainWallet),g.Ab(1),g.gc("ngForOf",n.subWallets)}}function j(t,e){if(1&t&&(g.Ob(0),g.uc(1,L,4,2,"ion-list",13),g.Nb()),2&t){var n=g.ac().ngIf;g.Ab(1),g.gc("ngForOf",n)}}function F(t,e){1&t&&(g.Mb(0,"empty-state",20),g.bc(1,"translate")),2&t&&g.gc("text",g.cc(1,3,"portfolio.empty-state_desktop_text"))("imageName","signer-vault-ledger-desktop.svg")("fullHeight",!0)}function W(t,e){1&t&&(g.Mb(0,"empty-state",20),g.bc(1,"translate")),2&t&&g.gc("text",g.cc(1,3,"portfolio.empty-state_text"))("imageName","sync_wallet_onboarding_1.svg")("fullHeight",!0)}function N(t,e){if(1&t&&(g.uc(0,F,2,5,"empty-state",19),g.uc(1,W,2,5,"empty-state",19)),2&t){var n=g.ac(2);g.gc("ngIf",n.isDesktop),g.Ab(1),g.gc("ngIf",!n.isDesktop)}}function D(t,e){if(1&t&&(g.Ob(0),g.uc(1,j,2,1,"ng-container",7),g.uc(2,N,2,2,"ng-template",null,12,g.vc),g.Nb()),2&t){var n=e.ngIf,o=g.nc(3);g.Ab(1),g.gc("ngIf",n.length)("ngIfElse",o)}}function B(t,e){1&t&&(g.Qb(0,"ion-list",21),g.Qb(1,"ion-card"),g.Mb(2,"portfolio-item"),g.Pb(),g.Qb(3,"ion-card"),g.Mb(4,"portfolio-item"),g.Pb(),g.Qb(5,"ion-card"),g.Mb(6,"portfolio-item"),g.Pb(),g.Qb(7,"ion-card"),g.Mb(8,"portfolio-item"),g.Pb(),g.Pb())}function R(t,e){if(1&t){var n=g.Rb();g.Qb(0,"ion-fab-button",24),g.Yb("click",function(){return g.oc(n),g.ac(2).openAccountAddPage()}),g.Mb(1,"ion-icon",25),g.Pb()}}function G(t,e){if(1&t){var n=g.Rb();g.Qb(0,"ion-button",26),g.Yb("click",function(){return g.oc(n),g.ac(2).openAccountAddPage()}),g.Mb(1,"ion-icon",27),g.wc(2),g.bc(3,"translate"),g.Pb()}2&t&&(g.Ab(2),g.yc(" ",g.cc(3,1,"portfolio.add-coins_label")," "))}function Y(t,e){if(1&t&&(g.Ob(0),g.uc(1,R,2,0,"ion-fab-button",22),g.uc(2,G,4,3,"ion-button",23),g.Nb()),2&t){var n=e.ngIf;g.Ab(1),g.gc("ngIf",n.length>0),g.Ab(1),g.gc("ngIf",0===n.length)}}var H=function(){function t(t,e,n,o,r){var c=this;this.router=t,this.walletsProvider=e,this.operationsProvider=n,this.protocolService=o,this.platform=r,this.isVisible="hidden",this.total=0,this.changePercentage=0,this.walletGroups=new i.a(1),this.isDesktop=!1,this.isDesktop=!this.platform.is("hybrid"),this.wallets=this.walletsProvider.wallets.asObservable(),this.wallets.subscribe(function(t){c.calculateTotal(t),c.refreshWalletGroups(t)}),this.walletsProvider.walletChangedObservable.subscribe(function(){c.calculateTotal(c.walletsProvider.getWalletList())})}return t.prototype.refreshWalletGroups=function(t){var e=this,n=[],o=new Map;t.forEach(function(t){var e=t.protocol.isSubProtocol,n=e?t.protocol.identifier.split("-")[0]:t.protocol.identifier,i=t.publicKey+"_"+n;if(o.has(i)){var r=o.get(i);e?r.subWallets.push(t):r.mainWallet=t}else o.set(i,e?{mainWallet:void 0,subWallets:[t]}:{mainWallet:t,subWallets:[]})}),o.forEach(function(t){n.push(t)}),n.sort(function(t,e){return t.mainWallet&&e.mainWallet?t.mainWallet.protocol.symbol.localeCompare(e.mainWallet.protocol.symbol):t.mainWallet?-1:e.mainWallet?1:0}),setTimeout(function(){e.walletGroups.next(n)},500)},t.prototype.ionViewDidEnter=function(){this.doRefresh().catch(Object(u.b)())},t.prototype.openDetail=function(t,e){var n=e?{mainWallet:t,wallet:e}:{wallet:t};console.log(n),this.router.navigateByUrl("/account-transaction-list/"+l.b.WALLET+"/"+n.wallet.publicKey+"/"+n.wallet.protocol.identifier+"/"+n.wallet.addressIndex).catch(console.error)},t.prototype.openAccountAddPage=function(){this.router.navigateByUrl("/account-add").catch(Object(u.b)(u.a.NAVIGATION))},t.prototype.doRefresh=function(t){return void 0===t&&(t=null),Object(o.b)(this,void 0,void 0,function(){var e,n,i=this;return Object(o.e)(this,function(o){return this.operationsProvider.refreshAllDelegationStatuses(this.walletsProvider.getWalletList()),e=[this.walletsProvider.getWalletList().map(function(t){return Object(r.a)(t.synchronize())})],n=Object(c.a)([e]),this.subscription=n.subscribe(function(){i.calculateTotal(i.walletsProvider.getWalletList(),t?t.target:null)}),[2]})})},t.prototype.calculateTotal=function(t,e){return void 0===e&&(e=null),Object(o.b)(this,void 0,void 0,function(){var n,i;return Object(o.e)(this,function(o){switch(o.label){case 0:return n=new a.a(this.protocolService),i=this,[4,Promise.all(t.map(function(t){return n.transform(t.currentBalance,{protocolIdentifier:t.protocol.identifier,currentMarketPrice:t.currentMarketPrice})}))];case 1:return i.total=o.sent().reduce(function(t,e){return t.plus(e)},new h.a(0)).toNumber(),e&&e.complete(),this.isVisible="visible",[2]}})})},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(g.Lb(p.g),g.Lb(s.a),g.Lb(b.a),g.Lb(f.y),g.Lb(m.pb))},t.\u0275cmp=g.Fb({type:t,selectors:[["page-portfolio"]],decls:17,vars:10,consts:[[1,"ion-no-border"],["color","translucent"],["slot","start"],["fullscreen","true"],["fixed","true",1,"ion-no-padding"],[4,"ngIf"],["slot","fixed",3,"ionRefresh"],[4,"ngIf","ngIfElse"],["loading",""],["vertical","bottom","horizontal","end","slot","fixed"],[3,"total",4,"ngIf"],[3,"total"],["noItems",""],["class","walletGroups ion-no-padding","lines","none",4,"ngFor","ngForOf"],["lines","none",1,"walletGroups","ion-no-padding"],["class","mainWallet","tappable","",3,"wallet","click",4,"ngIf"],["tappable","",3,"wallet","click",4,"ngFor","ngForOf"],["tappable","",1,"mainWallet",3,"wallet","click"],["tappable","",3,"wallet","click"],[3,"text","imageName","fullHeight",4,"ngIf"],[3,"text","imageName","fullHeight"],["lines","none",1,"ion-margin-top"],["id","add-more-coins-button","color","secondary",3,"click",4,"ngIf"],["id","add-initial-coin-button","color","secondary","shape","round",3,"click",4,"ngIf"],["id","add-more-coins-button","color","secondary",3,"click"],["name","add"],["id","add-initial-coin-button","color","secondary","shape","round",3,"click"],["slot","start","name","add"]],template:function(t,e){if(1&t&&(g.Qb(0,"ion-header",0),g.Qb(1,"ion-toolbar",1),g.Qb(2,"ion-buttons",2),g.Mb(3,"ion-menu-button"),g.Pb(),g.Pb(),g.Pb(),g.Qb(4,"ion-content",3),g.Qb(5,"ion-grid",4),g.uc(6,T,2,1,"ng-container",5),g.bc(7,"async"),g.Qb(8,"ion-refresher",6),g.Yb("ionRefresh",function(t){return e.doRefresh(t)}),g.Mb(9,"ion-refresher-content"),g.Pb(),g.uc(10,D,4,2,"ng-container",7),g.bc(11,"async"),g.uc(12,B,9,0,"ng-template",null,8,g.vc),g.Pb(),g.Qb(14,"ion-fab",9),g.uc(15,Y,3,2,"ng-container",5),g.bc(16,"async"),g.Pb(),g.Pb()),2&t){var n=g.nc(13);g.Ab(6),g.gc("ngIf",g.cc(7,4,e.wallets)),g.Ab(4),g.gc("ngIf",g.cc(11,6,e.walletGroups))("ngIfElse",n),g.Ab(5),g.gc("ngIf",g.cc(16,8,e.wallets))}},directives:[m.v,m.hb,m.j,m.I,m.q,m.u,v.n,m.O,m.P,m.r,M,v.m,m.F,m.k,S.a,C.a,m.s,m.w,m.i],pipes:[v.b,Q.c],styles:[".loading-header[_ngcontent-%COMP%]{color:#fff;font-weight:300;width:100%;text-align:center}.loading-header[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:28px;height:28px;stroke:#fff!important}.loading-content[_ngcontent-%COMP%]{color:#fff;font-weight:300;width:100%;margin-top:20vh;text-align:center}.loading-content[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:28px;height:28px}.sc-ion-card-ios-h[_ngcontent-%COMP%], .sc-ion-card-md-h[_ngcontent-%COMP%]{padding:4px 0;margin-bottom:16px;margin-top:0}.sc-ion-card-ios-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .sc-ion-card-md-h[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:inherit}.sc-ion-card-ios-h[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%], .sc-ion-card-md-h[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding-bottom:4px}.list-ios[_ngcontent-%COMP%]{margin:0}ion-card[_ngcontent-%COMP%]{margin:0 8px 16px}.container__empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30vh}.content-ios[_ngcontent-%COMP%]   ion-fab[bottom][_ngcontent-%COMP%]{bottom:10px}.portfolio--hero[_ngcontent-%COMP%]{background:url(/assets/img/portfolio-lines.svg) no-repeat;height:25vh;background-position:bottom}.portfolio--hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:48px;font-weight:700}"]}),t}()},ipgs:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var o=n("mrSG"),i=n("138U"),r=n("Bpmc"),c=n("jysE"),a=n("wTY4"),s=n("hPkG"),l=n("xWVS"),b=n("fXoL"),u=n("TEn/"),d=n("tyNb"),h=n("sYmb"),g=function(){function t(t,e,n,o,i,r,c,a,s,l){this.platform=t,this.alertCtrl=e,this.serializerService=n,this.router=o,this.modalController=i,this.translateService=r,this.clipboardProvider=c,this.iacService=a,this.browserService=s,this.sharePlugin=l}return t.prototype.about=function(){this.router.navigateByUrl("/about").catch(Object(s.b)(s.a.NAVIGATION))},t.prototype.beaconPermissions=function(){this.router.navigateByUrl("/beacon-permission-list").catch(Object(s.b)(s.a.NAVIGATION))},t.prototype.beaconSettings=function(){this.router.navigateByUrl("/settings-beacon").catch(Object(s.b)(s.a.NAVIGATION))},t.prototype.share=function(){this.sharePlugin.share({title:"Checkout airgap.it",text:"Take a look at the app I found. It's the most secure way to do crypto transactions.",url:"https://www.airgap.it",dialogTitle:"Pick an app"}).then(function(t){console.log("Share completed: "+t)}).catch(function(t){console.log("Sharing failed with error: "+t)})},t.prototype.introduction=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e=this;return Object(o.e)(this,function(n){switch(n.label){case 0:return[4,this.modalController.create({component:l.a})];case 1:return(t=n.sent()).dismiss(function(){return Object(o.b)(e,void 0,void 0,function(){return Object(o.e)(this,function(t){return[2]})})}).catch(Object(s.b)(s.a.IONIC_MODAL)),t.present().catch(Object(s.b)(s.a.IONIC_MODAL)),[2]}})})},t.prototype.feedback=function(){this.browserService.openUrl("https://github.com/airgap-it/airgap-wallet/issues")},t.prototype.telegram=function(){return Object(o.b)(this,void 0,void 0,function(){var t=this;return Object(o.e)(this,function(e){switch(e.label){case 0:return[4,this.alertCtrl.create({header:this.translateService.instant("settings.alert_title"),inputs:[{type:"radio",label:this.translateService.instant("settings.channel.international"),value:"International",checked:!0},{type:"radio",label:this.translateService.instant("settings.channel.chinese"),value:"Chinese"}],buttons:[{text:this.translateService.instant("settings.alert_cancel"),role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:this.translateService.instant("settings.telegram_label"),handler:function(e){switch(e){case"Chinese":t.browserService.openUrl("https://t.me/AirGap_cn");break;case"International":default:t.browserService.openUrl("https://t.me/AirGap")}}}]})];case 1:return e.sent().present().catch(Object(s.b)(s.a.IONIC_ALERT)),[2]}})})},t.prototype.translate=function(){this.browserService.openUrl("https://translate.sook.ch/")},t.prototype.githubDistro=function(){this.browserService.openUrl("https://github.com/airgap-it/airgap-distro")},t.prototype.githubWebSigner=function(){this.browserService.openUrl("https://github.com/airgap-it/airgap-web-signer")},t.prototype.githubWallet=function(){this.browserService.openUrl("https://github.com/airgap-it")},t.prototype.faq=function(){this.browserService.openUrl("https://airgap.it/#faq")},t.prototype.aboutBeacon=function(){this.browserService.openUrl("https://walletbeacon.io")},t.prototype.goToQrSettings=function(){this.router.navigateByUrl("/qr-settings").catch(function(t){return console.error(t)})},t.prototype.pasteClipboard=function(){var t=this;this.clipboardProvider.paste().then(function(e){t.iacService.handleRequest(e,i.r.PASTE).catch(Object(s.b)(s.a.SCHEME_ROUTING))},function(t){console.error("Error: "+t)})},t.\u0275fac=function(e){return new(e||t)(b.Lb(u.pb),b.Lb(u.a),b.Lb(i.E),b.Lb(d.g),b.Lb(u.lb),b.Lb(h.d),b.Lb(i.k),b.Lb(a.a),b.Lb(c.a),b.Lb(r.d))},t.\u0275cmp=b.Fb({type:t,selectors:[["page-settings"]],decls:74,vars:48,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["lines","none"],["lines","none",1,"ion-no-margin"],["detail","true",3,"click"],["name","bulb-outline","slot","start"],["name","help-circle-outline","slot","start"],["name","chatbubbles-outline","slot","start"],["name","share-outline","slot","start"],["name","logo-github","slot","start"],["name","information-circle-outline","slot","start"],["src","assets/img/beacon_logo_black.svg","slot","start"],[3,"click"],["name","return-up-forward-outline","slot","start"],["name","qr-code-outline","slot","start"]],template:function(t,e){1&t&&(b.Qb(0,"ion-header",0),b.Qb(1,"ion-grid",1),b.Qb(2,"ion-toolbar"),b.Qb(3,"ion-buttons",2),b.Mb(4,"ion-menu-button"),b.Pb(),b.Qb(5,"ion-title"),b.wc(6),b.bc(7,"translate"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(8,"ion-content"),b.Qb(9,"ion-grid",1),b.Qb(10,"ion-list",3),b.Qb(11,"ion-list-header",4),b.Qb(12,"ion-label"),b.wc(13),b.bc(14,"translate"),b.Pb(),b.Pb(),b.Qb(15,"ion-item",5),b.Yb("click",function(){return e.introduction()}),b.Mb(16,"ion-icon",6),b.wc(17),b.bc(18,"translate"),b.Pb(),b.Qb(19,"ion-item",5),b.Yb("click",function(){return e.faq()}),b.Mb(20,"ion-icon",7),b.wc(21),b.bc(22,"translate"),b.Pb(),b.Qb(23,"ion-item",5),b.Yb("click",function(){return e.telegram()}),b.Mb(24,"ion-icon",8),b.wc(25),b.bc(26,"translate"),b.Pb(),b.Qb(27,"ion-item",5),b.Yb("click",function(){return e.share()}),b.Mb(28,"ion-icon",9),b.wc(29),b.bc(30,"translate"),b.Pb(),b.Pb(),b.Qb(31,"ion-list",3),b.Qb(32,"ion-list-header",4),b.Qb(33,"ion-label"),b.wc(34),b.bc(35,"translate"),b.Pb(),b.Pb(),b.Qb(36,"ion-item",5),b.Yb("click",function(){return e.githubWallet()}),b.Mb(37,"ion-icon",10),b.wc(38),b.bc(39,"translate"),b.Pb(),b.Qb(40,"ion-item",5),b.Yb("click",function(){return e.about()}),b.Mb(41,"ion-icon",11),b.wc(42),b.bc(43,"translate"),b.Pb(),b.Pb(),b.Qb(44,"ion-list",3),b.Qb(45,"ion-list-header",4),b.Qb(46,"ion-label"),b.wc(47),b.bc(48,"translate"),b.Pb(),b.Pb(),b.Qb(49,"ion-item",5),b.Yb("click",function(){return e.beaconPermissions()}),b.Mb(50,"ion-icon",12),b.wc(51),b.bc(52,"translate"),b.Pb(),b.Qb(53,"ion-item",5),b.Yb("click",function(){return e.beaconSettings()}),b.Mb(54,"ion-icon",12),b.wc(55),b.bc(56,"translate"),b.Pb(),b.Qb(57,"ion-item",5),b.Yb("click",function(){return e.aboutBeacon()}),b.Mb(58,"ion-icon",11),b.wc(59),b.bc(60,"translate"),b.Pb(),b.Pb(),b.Qb(61,"ion-list",3),b.Qb(62,"ion-list-header",4),b.Qb(63,"ion-label"),b.wc(64),b.bc(65,"translate"),b.Pb(),b.Pb(),b.Qb(66,"ion-item",13),b.Yb("click",function(){return e.pasteClipboard()}),b.Mb(67,"ion-icon",14),b.wc(68),b.bc(69,"translate"),b.Pb(),b.Qb(70,"ion-item",13),b.Yb("click",function(){return e.goToQrSettings()}),b.Mb(71,"ion-icon",15),b.wc(72),b.bc(73,"translate"),b.Pb(),b.Pb(),b.Pb(),b.Pb()),2&t&&(b.Ab(6),b.xc(b.cc(7,16,"settings.title")),b.Ab(7),b.xc(b.cc(14,18,"settings.help_label")),b.Ab(4),b.yc(" ",b.cc(18,20,"settings.introduction_label")," "),b.Ab(4),b.yc(" ",b.cc(22,22,"settings.faq_label")," "),b.Ab(4),b.yc(" ",b.cc(26,24,"settings.telegram_label")," "),b.Ab(4),b.yc(" ",b.cc(30,26,"settings.share_label")," "),b.Ab(5),b.xc(b.cc(35,28,"settings.information_label")),b.Ab(4),b.yc(" ",b.cc(39,30,"settings.github_label")," "),b.Ab(4),b.yc(" ",b.cc(43,32,"settings.about_label")," "),b.Ab(5),b.xc(b.cc(48,34,"settings.beacon.label")),b.Ab(4),b.yc(" ",b.cc(52,36,"settings.beacon.permission-list_label")," "),b.Ab(4),b.yc(" ",b.cc(56,38,"settings.beacon.settings_label")," "),b.Ab(4),b.yc(" ",b.cc(60,40,"settings.beacon.about_label")," "),b.Ab(5),b.xc(b.cc(65,42,"settings.qr.settings_label")),b.Ab(4),b.yc(" ",b.cc(69,44,"settings.paste-from-clipboard_label")," "),b.Ab(4),b.yc(" ",b.cc(73,46,"settings.qr-advanced-settings_label")," "))},directives:[u.v,u.u,u.hb,u.j,u.I,u.fb,u.q,u.F,u.G,u.E,u.A,u.w],pipes:[h.c],encapsulation:2}),t}()},lkre:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var o=n("hPkG"),i=n("fXoL"),r=n("TEn/"),c=n("sYmb"),a=n("ofXK");function s(t,e){1&t&&(i.Qb(0,"h5"),i.wc(1),i.bc(2,"translate"),i.Pb()),2&t&&(i.Ab(1),i.xc(i.cc(2,1,"introduction-download.text")))}function l(t,e){if(1&t){var n=i.Rb();i.Ob(0),i.Qb(1,"ion-button",15),i.Yb("click",function(){return i.oc(n),i.ac().downloadAndroid()}),i.Mb(2,"ion-icon",16),i.wc(3),i.bc(4,"translate"),i.Pb(),i.Qb(5,"p",9),i.wc(6),i.bc(7,"translate"),i.Pb(),i.Qb(8,"ion-button",17),i.Yb("click",function(){return i.oc(n),i.ac().downloadDistribution()}),i.Mb(9,"ion-icon",18),i.wc(10),i.bc(11,"translate"),i.Pb(),i.Qb(12,"p"),i.wc(13),i.bc(14,"translate"),i.Pb(),i.Nb()}if(2&t){var o=i.ac();i.Ab(3),i.yc(" ",i.cc(4,4,"introduction-download.android")," "),i.Ab(3),i.yc(" ",i.cc(7,6,"introduction-download."+o.playStoreText)," "),i.Ab(4),i.yc(" ",i.cc(11,8,"introduction-download.linux-distro_label")," "),i.Ab(3),i.xc(i.cc(14,10,"introduction-download.install-distro_text"))}}var b=function(){function t(t,e,n){this.platform=t,this.viewController=e,this.translateService=n,this.appStoreText="android-device-iOS_text",this.playStoreText="iOS-device-android_text",this.isIOS=!0,this.isIOS=this.platform.is("ios"),this.translateService.currentLang.startsWith("en")?this.platform.is("ios")?(this.appStoreText="iOS-device-iOS_text",this.playStoreText="iOS-device-android_text"):this.platform.is("android")&&(this.appStoreText="android-device-iOS_text",this.playStoreText="android-device-android_text"):(this.appStoreText="app-store_text",this.playStoreText="play-store_text")}return t.prototype.dismiss=function(t){void 0===t&&(t=!1),this.viewController.dismiss(t).catch(Object(o.b)(o.a.NAVIGATION))},t.prototype.downloadAndroid=function(){this.platform.is("android")||this.platform.is("hybrid")?window.open("https://play.google.com/store/apps/details?id=it.airgap.vault","_system"):window.open("https://play.google.com/store/apps/details?id=it.airgap.vault","_blank"),this.dismiss(!0)},t.prototype.downloadIos=function(){this.platform.is("ios")?window.open("itms-apps://itunes.apple.com/app/id1417126841","_system"):this.platform.is("hybrid")?window.open("https://itunes.apple.com/us/app/airgap-vault-secure-secrets/id1417126841?mt=8","_system"):window.open("https://itunes.apple.com/us/app/airgap-vault-secure-secrets/id1417126841?mt=8","_blank"),this.dismiss(!0)},t.prototype.downloadDistribution=function(){this.platform.is("hybrid")?window.open("https://github.com/airgap-it/airgap-distro","_system"):window.open("https://github.com/airgap-it/airgap-distro","_blank"),this.dismiss(!0)},t.prototype.openGuide=function(){this.platform.is("hybrid")?window.open("https://medium.com/airgap-it/airgap-the-step-by-step-guide-c4c3d3fe9a05","_system"):window.open("https://medium.com/airgap-it/airgap-the-step-by-step-guide-c4c3d3fe9a05","_blank"),this.dismiss(!0)},t.\u0275fac=function(e){return new(e||t)(i.Lb(r.pb),i.Lb(r.lb),i.Lb(c.d))},t.\u0275cmp=i.Fb({type:t,selectors:[["page-introduction-download"]],decls:34,vars:23,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","/"],["slot","end"],["color","secondary",3,"click"],["name","close-outline"],[1,"ion-padding"],["color","primary","shape","round",1,"ion-margin-top",3,"click"],["slot","start","name","open-outline"],[1,"ion-padding-bottom"],[4,"ngIf"],["id","btn-import-secret","color","primary","shape","round",3,"click"],["slot","start","name","phone-portrait-outline"],["vertical","bottom","horizontal","end","slot","fixed"],["shape","round","color","primary",3,"click"],["id","btn-generate-secret","color","primary","shape","round",1,"ion-margin-top",3,"click"],["slot","start","name","logo-android"],["id","btn-recover-secret","color","primary","shape","round",3,"click"],["slot","start","name","desktop-outline"]],template:function(t,e){1&t&&(i.Qb(0,"ion-header",0),i.Qb(1,"ion-toolbar"),i.Qb(2,"ion-buttons",1),i.Mb(3,"ion-back-button",2),i.Pb(),i.Qb(4,"ion-title"),i.wc(5),i.bc(6,"translate"),i.Pb(),i.Qb(7,"ion-buttons",3),i.Qb(8,"ion-button",4),i.Yb("click",function(){return e.dismiss()}),i.Mb(9,"ion-icon",5),i.Pb(),i.Pb(),i.Pb(),i.Pb(),i.Qb(10,"ion-content",6),i.Qb(11,"h1"),i.wc(12),i.bc(13,"translate"),i.Pb(),i.Qb(14,"ion-button",7),i.Yb("click",function(){return e.openGuide()}),i.Mb(15,"ion-icon",8),i.wc(16),i.bc(17,"translate"),i.Pb(),i.Qb(18,"p",9),i.wc(19),i.bc(20,"translate"),i.Pb(),i.uc(21,s,3,3,"h5",10),i.Qb(22,"ion-button",11),i.Yb("click",function(){return e.downloadIos()}),i.Mb(23,"ion-icon",12),i.wc(24),i.bc(25,"translate"),i.Pb(),i.Qb(26,"p"),i.wc(27),i.bc(28,"translate"),i.Pb(),i.uc(29,l,15,12,"ng-container",10),i.Qb(30,"ion-fab",13),i.Qb(31,"ion-button",14),i.Yb("click",function(){return e.dismiss()}),i.wc(32),i.bc(33,"translate"),i.Pb(),i.Pb(),i.Pb()),2&t&&(i.Ab(5),i.xc(i.cc(6,9,"introduction-download.title")),i.Ab(7),i.xc(i.cc(13,11,"introduction-download.heading")),i.Ab(4),i.yc(" ",i.cc(17,13,"introduction-download.guide-link_label")," "),i.Ab(3),i.xc(i.cc(20,15,"introduction-download.description")),i.Ab(2),i.gc("ngIf",!e.isIOS),i.Ab(3),i.yc(" ",i.cc(25,17,"introduction-download.iOS")," "),i.Ab(3),i.xc(i.cc(28,19,"introduction-download."+e.appStoreText)),i.Ab(2),i.gc("ngIf",!e.isIOS),i.Ab(3),i.xc(i.cc(33,21,"introduction-download.go_label")))},directives:[r.v,r.hb,r.j,r.f,r.g,r.fb,r.i,r.w,r.q,a.n,r.r],pipes:[c.c],encapsulation:2}),t}()},qiIP:function(t,e,n){"use strict";n.r(e),n.d(e,"TabsPageModule",function(){return A});var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),c=n("sYmb"),a=n("tyNb"),s=n("j1ZV"),l=n("lkre"),b=n("fXoL"),u=function(){function t(){}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(e){return new(e||t)},imports:[[r.ib,o.c,i.e,s.a,c.b,a.j.forChild([{path:"",component:l.a}])]]}),t}(),d=n("xWVS"),h=function(){function t(){}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(e){return new(e||t)},imports:[[r.ib,o.c,i.e,s.a,c.b,u,a.j.forChild([{path:"",component:d.a}])]]}),t}(),g=n("mrSG"),p=n("hPkG"),f=n("AFs5"),m=n("4HcY"),v=n("fOEu"),P=n("XvSo"),w=n("ipgs");function y(t,e){1&t&&(b.Qb(0,"ion-tab-bar",3),b.Qb(1,"ion-tab-button",4),b.Mb(2,"ion-icon",5),b.Qb(3,"ion-label"),b.wc(4),b.bc(5,"translate"),b.Pb(),b.Pb(),b.Qb(6,"ion-tab-button",6),b.Mb(7,"ion-icon",7),b.Qb(8,"ion-label"),b.wc(9),b.bc(10,"translate"),b.Pb(),b.Pb(),b.Qb(11,"ion-tab-button",8),b.Mb(12,"ion-icon",9),b.Qb(13,"ion-label"),b.wc(14),b.bc(15,"translate"),b.Pb(),b.Pb(),b.Qb(16,"ion-tab-button",10),b.Mb(17,"ion-icon",11),b.Qb(18,"ion-label"),b.wc(19),b.bc(20,"translate"),b.Pb(),b.Pb(),b.Pb()),2&t&&(b.Ab(4),b.xc(b.cc(5,4,"tabs.wallets")),b.Ab(5),b.xc(b.cc(10,6,"tabs.scan")),b.Ab(5),b.xc(b.cc(15,8,"tabs.exchange")),b.Ab(5),b.xc(b.cc(20,10,"tabs.settings")))}var O=[{path:"tabs",component:function(){function t(t,e,n){this.modalController=t,this.storageProvider=e,this.plaftorm=n,this.tab1Root=v.a,this.tab2Root=P.a,this.tab3Root=m.a,this.tab4Root=w.a,this.isMobile=!1,this.showIntroductions().catch(Object(p.b)(p.a.OTHER)),this.isMobile=this.plaftorm.is("mobile")}return t.prototype.showIntroductions=function(){return Object(g.b)(this,void 0,void 0,function(){return Object(g.e)(this,function(t){switch(t.label){case 0:return[4,this.storageProvider.get(f.a.DEEP_LINK)];case 1:return t.sent()?[3,3]:[4,this.showWalletIntroduction().catch(console.error)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.showWalletIntroduction=function(){return Object(g.b)(this,void 0,void 0,function(){return Object(g.e)(this,function(t){return[2,this.showModal(f.a.WALLET_INTRODUCTION,d.a)]})})},t.prototype.showModal=function(t,e){return Object(g.b)(this,void 0,void 0,function(){var n=this;return Object(g.e)(this,function(o){switch(o.label){case 0:return[4,this.storageProvider.get(t)];case 1:return o.sent()?[2,Promise.resolve()]:[2,new Promise(function(o){return Object(g.b)(n,void 0,void 0,function(){var n,i=this;return Object(g.e)(this,function(r){switch(r.label){case 0:return[4,this.modalController.create({component:e})];case 1:return(n=r.sent()).onDidDismiss().then(function(){return Object(g.b)(i,void 0,void 0,function(){return Object(g.e)(this,function(e){switch(e.label){case 0:return[4,this.storageProvider.set(t,!0)];case 1:return e.sent(),o(void 0),[2]}})})}).catch(Object(p.b)(p.a.IONIC_MODAL)),n.present().catch(Object(p.b)(p.a.IONIC_MODAL)),[2]}})})})]}})})},t.prototype.tabChange=function(t){this.activeTab=t.outlet.activatedView.element},t.prototype.ionViewWillEnter=function(){this.propagateToActiveTab("ionViewWillEnter")},t.prototype.propagateToActiveTab=function(t){this.activeTab&&this.activeTab.dispatchEvent(new CustomEvent(t))},t.\u0275fac=function(e){return new(e||t)(b.Lb(r.lb),b.Lb(f.b),b.Lb(r.pb))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-tabs"]],decls:3,vars:1,consts:[[3,"ionTabsDidChange"],["tabs",""],["slot","bottom",4,"ngIf"],["slot","bottom"],["tab","portfolio"],["name","list-outline"],["tab","scan"],["name","barcode-outline"],["tab","exchange"],["name","repeat-outline"],["tab","settings"],["name","settings-outline"]],template:function(t,e){if(1&t){var n=b.Rb();b.Qb(0,"ion-tabs",0,1),b.Yb("ionTabsDidChange",function(){b.oc(n);var t=b.nc(1);return e.tabChange(t)}),b.uc(2,y,21,12,"ion-tab-bar",2),b.Pb()}2&t&&(b.Ab(2),b.gc("ngIf",e.isMobile))},directives:[r.cb,o.n,r.ab,r.bb,r.w,r.E],pipes:[c.c],styles:["ion-tab-button[_ngcontent-%COMP%]{font-weight:500;--color-selected:var(--ion-color-secondary)}"]}),t}(),children:[{path:"portfolio",children:[{path:"",loadChildren:function(){return n.e(28).then(n.bind(null,"0rid")).then(function(t){return t.PortfolioPageModule})}}]},{path:"scan",children:[{path:"",loadChildren:function(){return n.e(31).then(n.bind(null,"Fo4Z")).then(function(t){return t.ScanPageModule})}}]},{path:"exchange",children:[{path:"",loadChildren:function(){return n.e(25).then(n.bind(null,"l1L9")).then(function(t){return t.ExchangePageModule})}}]},{path:"settings",children:[{path:"",loadChildren:function(){return n.e(34).then(n.bind(null,"yPrK")).then(function(t){return t.SettingsPageModule})}}]},{path:"",redirectTo:"/tabs/portfolio",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/portfolio",pathMatch:"full"}],x=function(){function t(){}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(e){return new(e||t)},imports:[[a.j.forChild(O)],a.j]}),t}(),A=function(){function t(){}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(e){return new(e||t)},imports:[[r.ib,o.c,i.e,x,c.b,h]]}),t}()},xWVS:function(t,e,n){"use strict";n.d(e,"a",function(){return w});var o=n("mrSG"),i=n("hPkG"),r=n("lkre"),c=n("fXoL"),a=n("TEn/"),s=n("ofXK"),l=n("3Pt+"),b=n("sYmb");function u(t,e){if(1&t){var n=c.Rb();c.Qb(0,"ion-segment",10),c.Yb("ngModelChange",function(t){return c.oc(n),c.ac().security=t}),c.Qb(1,"ion-segment-button",11),c.Qb(2,"ion-label"),c.wc(3),c.bc(4,"translate"),c.Pb(),c.Pb(),c.Qb(5,"ion-segment-button",12),c.Qb(6,"ion-label"),c.wc(7),c.bc(8,"translate"),c.Pb(),c.Pb(),c.Pb()}if(2&t){var o=c.ac();c.gc("ngModel",o.security),c.Ab(3),c.xc(c.cc(4,3,"introduction.highest.label")),c.Ab(4),c.xc(c.cc(8,5,"introduction.medium.label"))}}function d(t,e){1&t&&(c.Mb(0,"p",17),c.bc(1,"translate")),2&t&&c.gc("innerHTML",c.cc(1,1,"introduction.highest.text"),c.pc)}function h(t,e){1&t&&(c.Mb(0,"p",17),c.bc(1,"translate")),2&t&&c.gc("innerHTML",c.cc(1,1,"introduction.highest.desktop_text"),c.pc)}function g(t,e){1&t&&(c.Qb(0,"ion-col",18),c.Mb(1,"img",19),c.Pb())}function p(t,e){1&t&&(c.Qb(0,"ion-col",18),c.Mb(1,"img",20),c.Pb())}function f(t,e){1&t&&(c.Ob(0),c.Qb(1,"ion-row",21),c.Qb(2,"ion-col",22),c.Mb(3,"img",23),c.Pb(),c.Qb(4,"ion-col",16),c.Qb(5,"strong"),c.wc(6),c.bc(7,"translate"),c.Pb(),c.Pb(),c.Pb(),c.Qb(8,"ion-row",24),c.Qb(9,"ion-col",18),c.Mb(10,"img",25),c.Pb(),c.Qb(11,"ion-col",16),c.Qb(12,"h5"),c.wc(13),c.bc(14,"translate"),c.Pb(),c.Mb(15,"p",17),c.bc(16,"translate"),c.Pb(),c.Pb(),c.Nb()),2&t&&(c.Ab(6),c.xc(c.cc(7,3,"introduction.communication.highest_text")),c.Ab(7),c.xc(c.cc(14,5,"introduction.vault.heading")),c.Ab(2),c.gc("innerHTML",c.cc(16,7,"introduction.vault.text"),c.pc))}function m(t,e){1&t&&(c.Ob(0),c.Qb(1,"ion-row",24),c.Qb(2,"ion-col",18),c.Mb(3,"img",26),c.Pb(),c.Qb(4,"ion-col",16),c.Qb(5,"h5"),c.wc(6),c.bc(7,"translate"),c.Pb(),c.Mb(8,"p",17),c.bc(9,"translate"),c.Pb(),c.Pb(),c.Nb()),2&t&&(c.Ab(6),c.xc(c.cc(7,2,"introduction.vault.desktop_heading")),c.Ab(2),c.gc("innerHTML",c.cc(9,4,"introduction.vault.desktop_text"),c.pc))}function v(t,e){if(1&t&&(c.Ob(0),c.Qb(1,"ion-row"),c.uc(2,d,2,3,"p",13),c.uc(3,h,2,3,"p",13),c.Pb(),c.Qb(4,"ion-row",14),c.uc(5,g,2,0,"ion-col",15),c.uc(6,p,2,0,"ion-col",15),c.Qb(7,"ion-col",16),c.Qb(8,"h5"),c.wc(9),c.bc(10,"translate"),c.Pb(),c.Mb(11,"p",17),c.bc(12,"translate"),c.Pb(),c.Pb(),c.uc(13,f,17,9,"ng-container",6),c.uc(14,m,10,6,"ng-container",6),c.Nb()),2&t){var n=c.ac();c.Ab(2),c.gc("ngIf",!n.isDesktop),c.Ab(1),c.gc("ngIf",n.isDesktop),c.Ab(2),c.gc("ngIf",n.isDesktop),c.Ab(1),c.gc("ngIf",!n.isDesktop),c.Ab(3),c.xc(c.cc(10,8,"introduction.wallet.heading")),c.Ab(2),c.gc("innerHTML",c.cc(12,10,"introduction.wallet.text"),c.pc),c.Ab(2),c.gc("ngIf",!n.isDesktop),c.Ab(1),c.gc("ngIf",n.isDesktop)}}function P(t,e){1&t&&(c.Ob(0),c.Qb(1,"ion-row"),c.Mb(2,"p",17),c.bc(3,"translate"),c.Pb(),c.Qb(4,"ion-row",14),c.Qb(5,"ion-col",18),c.Mb(6,"img",20),c.Pb(),c.Qb(7,"ion-col",16),c.Qb(8,"h5"),c.wc(9),c.bc(10,"translate"),c.Pb(),c.Mb(11,"p",17),c.bc(12,"translate"),c.Pb(),c.Pb(),c.Qb(13,"ion-row",21),c.Qb(14,"ion-col",22),c.Mb(15,"img",27),c.Pb(),c.Qb(16,"ion-col",16),c.Qb(17,"strong"),c.wc(18),c.bc(19,"translate"),c.Pb(),c.Pb(),c.Pb(),c.Qb(20,"ion-row",24),c.Qb(21,"ion-col",18),c.Mb(22,"img",25),c.Pb(),c.Qb(23,"ion-col",16),c.Qb(24,"h5"),c.wc(25),c.bc(26,"translate"),c.Pb(),c.Mb(27,"p",17),c.bc(28,"translate"),c.Pb(),c.Pb(),c.Nb()),2&t&&(c.Ab(2),c.gc("innerHTML",c.cc(3,6,"introduction.medium.text"),c.pc),c.Ab(7),c.xc(c.cc(10,8,"introduction.wallet.heading")),c.Ab(2),c.gc("innerHTML",c.cc(12,10,"introduction.wallet.text"),c.pc),c.Ab(7),c.xc(c.cc(19,12,"introduction.communication.medium_text")),c.Ab(7),c.xc(c.cc(26,14,"introduction.vault.heading")),c.Ab(2),c.gc("innerHTML",c.cc(28,16,"introduction.vault.text"),c.pc))}var w=function(){function t(t,e){this.platform=t,this.modalController=e,this.security="highest",this.isDesktop=!1,this.isDesktop=!this.platform.is("hybrid")}return t.prototype.dismiss=function(){this.modalController.dismiss().catch(Object(i.b)(i.a.NAVIGATION))},t.prototype.openIntroductionDownloadPage=function(){return Object(o.b)(this,void 0,void 0,function(){var t,e=this;return Object(o.e)(this,function(n){switch(n.label){case 0:return[4,this.modalController.create({component:r.a})];case 1:return(t=n.sent()).dismiss(function(t){t&&e.dismiss()}),t.present().catch(Object(i.b)(i.a.IONIC_MODAL)),[2]}})})},t.\u0275fac=function(e){return new(e||t)(c.Lb(a.pb),c.Lb(a.lb))},t.\u0275cmp=c.Fb({type:t,selectors:[["page-introduction"]],decls:19,vars:12,consts:[[1,"ion-no-border"],["slot","end"],["color","secondary",3,"click"],["name","close-outline"],["forceOverflow","false",1,"ion-padding"],["color","secondary","value","highest",3,"ngModel","ngModelChange",4,"ngIf"],[4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["id","introduction-button","shape","round","color","secondary",3,"click"],["id","dismiss-button","shape","round","color","primary",3,"click"],["color","secondary","value","highest",3,"ngModel","ngModelChange"],["value","highest"],["value","medium"],[3,"innerHTML",4,"ngIf"],[1,"ion-padding-top","ion-align-items-center"],["size","5",4,"ngIf"],["size","7"],[3,"innerHTML"],["size","5"],["src","./assets/img/airgap_onboarding_wallet-notebook.svg"],["src","./assets/img/airgap_onboarding_wallet.svg"],[1,"ion-padding-vertical","ion-align-items-center"],["size","5",1,"ion-text-center"],["src","./assets/img/qrcode.svg",1,"connector--img"],[1,"ion-align-items-center"],["src","./assets/img/airgap_onboarding_vault.svg"],["src","./assets/img/signer-vault-ledger-desktop.svg"],["src","./assets/img/clone.svg",1,"connector--img"]],template:function(t,e){1&t&&(c.Qb(0,"ion-header",0),c.Qb(1,"ion-toolbar"),c.Qb(2,"ion-title"),c.wc(3),c.bc(4,"translate"),c.Pb(),c.Qb(5,"ion-buttons",1),c.Qb(6,"ion-button",2),c.Yb("click",function(){return e.dismiss()}),c.Mb(7,"ion-icon",3),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(8,"ion-content",4),c.uc(9,u,9,7,"ion-segment",5),c.uc(10,v,15,12,"ng-container",6),c.uc(11,P,29,18,"ng-container",6),c.Qb(12,"ion-fab",7),c.Qb(13,"ion-button",8),c.Yb("click",function(){return e.openIntroductionDownloadPage()}),c.wc(14),c.bc(15,"translate"),c.Pb(),c.Qb(16,"ion-button",9),c.Yb("click",function(){return e.dismiss()}),c.wc(17),c.bc(18,"translate"),c.Pb(),c.Pb(),c.Pb()),2&t&&(c.Ab(3),c.xc(c.cc(4,6,"introduction.title")),c.Ab(6),c.gc("ngIf",!e.isDesktop),c.Ab(1),c.gc("ngIf","highest"===e.security),c.Ab(1),c.gc("ngIf","medium"===e.security),c.Ab(3),c.yc(" ",c.cc(15,8,"introduction.vault-install_label")," "),c.Ab(3),c.yc(" ",c.cc(18,10,"introduction.continue_label")," "))},directives:[a.v,a.hb,a.fb,a.j,a.i,a.w,a.q,s.n,a.r,a.T,a.tb,l.h,l.j,a.U,a.E,a.R,a.p],pipes:[b.c],styles:[".connector--img[_ngcontent-%COMP%]{height:40px;width:40px}"]}),t}()}}]);