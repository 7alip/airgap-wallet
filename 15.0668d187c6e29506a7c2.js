(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"1Mpf":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("fXoL"),o=n("TEn/"),r=n("ofXK"),a=function(){function t(){this.fullHeight=!0}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Cb({type:t,selectors:[["empty-state"]],inputs:{imageName:"imageName",text:"text",fullHeight:"fullHeight"},decls:3,vars:3,consts:[[1,"ion-padding-horizontal","ion-align-items-end","ion-justify-content-center",3,"ngClass"],[3,"src"],[1,"ion-text-center",3,"innerHTML"]],template:function(t,e){1&t&&(i.Nb(0,"ion-row",0),i.Jb(1,"img",1),i.Jb(2,"p",2),i.Mb()),2&t&&(i.dc("ngClass",e.fullHeight?"height__full":"height__content"),i.yb(1),i.fc("src","./assets/img/",e.imageName,"",i.nc),i.yb(1),i.dc("innerHTML",e.text,i.mc))},directives:[o.fb,r.q],styles:["ion-row[_ngcontent-%COMP%]{font-weight:100;font-size:1.4rem}.height__full[_ngcontent-%COMP%]{height:60vh}.height__full[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40vh}.height__content[_ngcontent-%COMP%]{height:50vh}.height__content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30vh}"]}),t}()},F07p:function(t,e,n){"use strict";n.d(e,"a",(function(){return W}));var i=n("mrSG"),o=n("138U"),r=(n("IVSH"),n("1T0C")),a=n("VE8E"),c=n("57MG"),s=n("nxqh"),l=n("fXoL"),b=n("ofXK"),u=n("TEn/"),d=n("iLEx"),f=n("sYmb"),g=n("onrW");function p(t,e){if(1&t&&l.Jb(0,"airgap-identicon",15),2&t){var n=l.Xb(2);l.dc("address",n.wallet.receivingPublicAddress)}}function h(t,e){if(1&t&&l.Jb(0,"airgap-currency-symbol",16),2&t){var n=l.Xb(2);l.dc("symbol",n.wallet.protocol.symbol)}}function m(t,e){if(1&t&&l.Jb(0,"airgap-currency-symbol",17),2&t){var n=l.Xb(2);l.dc("symbol",n.wallet.protocol.symbol)}}var y=function(t,e){return{"porfolio-item__margin":t,"font-size__regular":e}};function v(t,e){if(1&t&&(l.Nb(0,"h2",18),l.uc(1),l.Mb()),2&t){var n=l.Xb(2);l.dc("ngClass",l.ic(2,y,!n.isDelegated,n.numberOfDecimalsInBalance>n.smallFontDecimalThreshold)),l.yb(1),l.wc(" ",n.balance," ")}}function w(t,e){1&t&&(l.Nb(0,"h2"),l.Jb(1,"ion-skeleton-text",19),l.Mb())}function I(t,e){1&t&&(l.Nb(0,"ion-badge",24),l.uc(1),l.Yb(2,"translate"),l.Mb()),2&t&&(l.yb(1),l.vc(l.Zb(2,1,"portfolio-item.active")))}function M(t,e){if(1&t&&(l.Nb(0,"h3",22),l.sc(1,I,3,3,"ion-badge",23),l.uc(2),l.Yb(3,"shortenString"),l.Mb()),2&t){var n=l.Xb(3);l.yb(1),l.dc("ngIf",n.isActive),l.yb(1),l.wc(" ",l.Zb(3,2,n.wallet.receivingPublicAddress)," ")}}function N(t,e){if(1&t&&(l.Lb(0),l.Nb(1,"ion-text",20),l.sc(2,M,4,4,"h3",21),l.Mb(),l.Kb()),2&t){l.Xb();var n=l.kc(14),i=l.Xb();l.yb(2),l.dc("ngIf",i.wallet.addresses.length>0)("ngIfElse",n)}}function P(t,e){if(1&t&&(l.Nb(0,"ion-badge",25),l.uc(1),l.Mb()),2&t){var n=l.Xb(2);l.yb(1),l.wc(" ",n.wallet.protocol.options.network.name," ")}}function k(t,e){if(1&t&&(l.Nb(0,"ion-badge",26),l.uc(1),l.Yb(2,"async"),l.Mb()),2&t){var n=l.Xb(2);l.yb(1),l.wc(" ",l.Zb(2,1,n.isDelegated)?"delegated":"undelegated"," ")}}function x(t,e){1&t&&(l.Nb(0,"div"),l.Nb(1,"h3"),l.Jb(2,"ion-skeleton-text",27),l.Mb(),l.Mb())}var _=function(t,e){return{protocolIdentifier:t,currentMarketPrice:e}};function O(t,e){if(1&t&&(l.Nb(0,"p",33),l.uc(1),l.Yb(2,"number"),l.Yb(3,"async"),l.Yb(4,"cryptoToFiat"),l.Mb()),2&t){var n=l.Xb(4);l.yb(1),l.wc(" $",l.ac(2,1,l.Zb(3,4,l.ac(4,6,n.wallet.currentBalance,l.ic(9,_,n.wallet.protocol.identifier,n.wallet.currentMarketPrice))),"1.2-2")," ")}}function C(t,e){if(1&t&&(l.Lb(0),l.sc(1,O,5,12,"p",32),l.Kb()),2&t){var n=l.Xb(3);l.yb(1),l.dc("ngIf",n.wallet.currentMarketPrice.toNumber()>0)}}function T(t,e){1&t&&(l.Nb(0,"p"),l.Jb(1,"ion-skeleton-text",34),l.Mb())}function B(t,e){if(1&t&&(l.Nb(0,"span"),l.uc(1),l.Yb(2,"number"),l.Mb()),2&t){var n=l.Xb(4);l.yb(1),l.wc(" $",l.ac(2,1,null==n.wallet.currentMarketPrice?null:n.wallet.currentMarketPrice.toNumber(),"1.2-4")," ")}}function D(t,e){if(1&t&&(l.Nb(0,"p"),l.Nb(1,"ion-text",20),l.sc(2,B,3,4,"span",9),l.Mb(),l.Mb()),2&t){var n=l.Xb(3);l.yb(2),l.dc("ngIf",(null==n.wallet.currentBalance?null:n.wallet.currentBalance.toNumber())>0&&(null==n.wallet.currentMarketPrice?null:n.wallet.currentMarketPrice.toNumber())>0)}}function E(t,e){1&t&&(l.Nb(0,"p"),l.Jb(1,"ion-skeleton-text",34),l.Mb())}function X(t,e){if(1&t&&(l.Nb(0,"div",28),l.sc(1,C,2,1,"ng-container",29),l.sc(2,T,2,0,"ng-template",null,30,l.tc),l.sc(4,D,3,1,"p",29),l.sc(5,E,2,0,"ng-template",null,31,l.tc),l.Mb()),2&t){var n=l.kc(3),i=l.kc(6),o=l.Xb(2);l.yb(1),l.dc("ngIf",o.wallet.currentBalance&&o.wallet.currentMarketPrice)("ngIfElse",n),l.yb(3),l.dc("ngIf",o.wallet.currentBalance)("ngIfElse",i)}}var A=function(t){return{"icon--rotated":t}};function J(t,e){if(1&t&&l.Jb(0,"ion-icon",35),2&t){var n=l.Xb(2);l.dc("ngClass",l.hc(1,A,n.isExtended))}}function L(t,e){if(1&t&&(l.Nb(0,"ion-item",2),l.Nb(1,"ion-avatar",3),l.sc(2,p,1,1,"airgap-identicon",4),l.sc(3,h,1,1,"airgap-currency-symbol",5),l.sc(4,m,1,1,"airgap-currency-symbol",6),l.Mb(),l.Nb(5,"ion-label"),l.sc(6,v,2,5,"h2",7),l.sc(7,w,2,0,"ng-template",null,8,l.tc),l.sc(9,N,3,2,"ng-container",9),l.sc(10,P,2,1,"ion-badge",10),l.sc(11,k,3,3,"ion-badge",11),l.Yb(12,"async"),l.sc(13,x,3,0,"ng-template",null,12,l.tc),l.Mb(),l.sc(15,X,7,4,"div",13),l.sc(16,J,1,3,"ion-icon",14),l.Mb()),2&t){var n=l.kc(8),i=l.Xb();l.yb(2),l.dc("ngIf",!i.isToken),l.yb(1),l.dc("ngIf",i.isToken),l.yb(1),l.dc("ngIf",!i.isToken),l.yb(2),l.dc("ngIf",i.wallet.currentBalance&&i.wallet.currentMarketPrice)("ngIfElse",n),l.yb(3),l.dc("ngIf",!i.isToken),l.yb(1),l.dc("ngIf",i.wallet.protocol.options.network.type!==i.networkType.MAINNET),l.yb(1),l.dc("ngIf",null!==l.Zb(12,10,i.isDelegated)&&!i.hideDelegationBadge),l.yb(4),l.dc("ngIf",!i.isExpendable&&!i.hideFiatAmounts),l.yb(1),l.dc("ngIf",i.isExpendable)}}function S(t,e){1&t&&(l.Nb(0,"h3"),l.Jb(1,"ion-skeleton-text",38),l.Mb())}function j(t,e){if(1&t&&(l.Nb(0,"ion-item",2),l.Nb(1,"ion-avatar",3),l.Jb(2,"ion-skeleton-text",36),l.Nb(3,"div",37),l.Jb(4,"ion-skeleton-text",36),l.Mb(),l.Mb(),l.Nb(5,"ion-label"),l.Nb(6,"h2"),l.Jb(7,"ion-skeleton-text",19),l.Mb(),l.sc(8,S,2,0,"h3",9),l.Mb(),l.Nb(9,"div",28),l.Nb(10,"p"),l.Jb(11,"ion-skeleton-text",34),l.Mb(),l.Nb(12,"p"),l.Jb(13,"ion-skeleton-text",34),l.Mb(),l.Mb(),l.Mb()),2&t){var n=l.Xb();l.yb(8),l.dc("ngIf",!n.isToken)}}var W=function(){function t(t,e,n){this.operationsProvider=t,this.accountProvider=e,this.protocolService=n,this.networkType=r.NetworkType,this.isActive=!1,this.showBalances=!0,this.isExpendable=!1,this.isExtended=!1,this.hideFiatAmounts=!1,this.hideDelegationBadge=!1,this.isToken=!1,this.numberOfDecimalsInBalance=0,this.smallFontDecimalThreshold=16,this.defaultMaxDigits=15}return t.prototype.ngOnInit=function(){var t=this;this.updateBalance(),this.updateDelegationStatus(),this.walletChanged=this.accountProvider.walletChangedObservable.subscribe((function(){return Object(i.b)(t,void 0,void 0,(function(){return Object(i.e)(this,(function(t){return this.updateBalance(),this.updateDelegationStatus(),[2]}))}))}))},t.prototype.updateDelegationStatus=function(){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.e)(this,(function(e){switch(e.label){case 0:return void 0===this.wallet||void 0===this.wallet.receivingPublicAddress?[3,3]:Object(a.b)(this.wallet.protocol)?[3,1]:(this.isDelegated=null,[3,3]);case 1:return t=this,[4,this.operationsProvider.getDelegationStatusObservableOfAddress(this.wallet.protocol,this.wallet.receivingPublicAddress)];case 2:t.isDelegated=e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.updateBalance=function(){if(void 0!==this.wallet&&void 0!==this.wallet.currentBalance){var t=new o.f(this.protocolService).transformValueOnly(this.wallet.currentBalance,this.wallet.protocol,this.digits());this.balance=t+" "+this.wallet.protocol.symbol;var e=t.split(".");if(2==e.length){var n=e.pop();this.numberOfDecimalsInBalance=n.length}}},t.prototype.digits=function(){return void 0===this.maxDigits?Math.min(this.wallet.protocol.decimals+1,this.defaultMaxDigits):0==this.maxDigits?this.wallet.protocol.decimals+1:this.maxDigits},t.prototype.ngOnDestroy=function(){this.walletChanged.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(l.Ib(s.a),l.Ib(c.a),l.Ib(o.y))},t.\u0275cmp=l.Cb({type:t,selectors:[["portfolio-item"]],inputs:{wallet:"wallet",showBalances:"showBalances",isExpendable:"isExpendable",isExtended:"isExtended",hideFiatAmounts:"hideFiatAmounts",hideDelegationBadge:"hideDelegationBadge",isToken:"isToken",isDelegated:"isDelegated",maxDigits:"maxDigits"},decls:3,vars:2,consts:[["lines","none",4,"ngIf","ngIfElse"],["skeletonWallet",""],["lines","none"],["slot","start"],[3,"address",4,"ngIf"],[3,"symbol",4,"ngIf"],["class","symbol--icon",3,"symbol",4,"ngIf"],["class","font--weight__bold",3,"ngClass",4,"ngIf","ngIfElse"],["syncingHeading",""],[4,"ngIf"],["color","danger","class","badge__margin",4,"ngIf"],["color","secondary",4,"ngIf"],["syncingHeadingLow",""],["slot","end",4,"ngIf"],["slot","end","class","expendable__container","name","chevron-down-outline",3,"ngClass",4,"ngIf"],[3,"address"],[3,"symbol"],[1,"symbol--icon",3,"symbol"],[1,"font--weight__bold",3,"ngClass"],["animated","",2,"width","80%"],["color","blackLight"],["class","typography--mono",4,"ngIf","ngIfElse"],[1,"typography--mono"],["slot","end","color","primary",4,"ngIf"],["slot","end","color","primary"],["color","danger",1,"badge__margin"],["color","secondary"],["animated","",2,"width","60%"],["slot","end"],[4,"ngIf","ngIfElse"],["syncingBalance",""],["syncingPrice",""],["class","ion-text-right font--weight__bold porfolio-item__margin",4,"ngIf"],[1,"ion-text-right","font--weight__bold","porfolio-item__margin"],["animated","",2,"width","40px"],["slot","end","name","chevron-down-outline",1,"expendable__container",3,"ngClass"],["animated",""],[1,"symbol--icon"],["animated","",2,"width","50%"]],template:function(t,e){if(1&t&&(l.sc(0,L,17,12,"ion-item",0),l.sc(1,j,14,1,"ng-template",null,1,l.tc)),2&t){var n=l.kc(2);l.dc("ngIf",e.wallet)("ngIfElse",n)}},directives:[b.t,u.G,u.e,u.M,o.r,o.k,b.q,u.lb,u.tb,u.i,u.B],pipes:[b.b,d.a,f.d,b.g,g.a],styles:[".expendable__container[_ngcontent-%COMP%]{transition-duration:.4s;transition-property:transform}.expendable__container.icon--rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}ion-label[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}ion-badge[_ngcontent-%COMP%]{margin:4px 0 0}.badge__margin[_ngcontent-%COMP%]{margin:0 6px 0 0}.porfolio-item__margin[_ngcontent-%COMP%]{margin:2px 0 6px}.symbol--icon[_ngcontent-%COMP%]{position:absolute;height:24px;width:24px;left:40px;top:40px}ion-avatar[_ngcontent-%COMP%]{margin:8px 16px 8px 0;min-height:48px;min-width:48px}"]}),t}()},Q4oi:function(t,e,n){"use strict";n.r(e),n.d(e,"SubAccountImportPageModule",(function(){return _}));var i=n("ofXK"),o=n("3Pt+"),r=n("tyNb"),a=n("TEn/"),c=n("sYmb"),s=n("j1ZV"),l=n("mrSG"),b=n("138U"),u=n("IVSH"),d=n("lJxs"),f=n("1y+R"),g=n("QMTT"),p=n("57MG"),h=n("hPkG"),m=n("fXoL"),y=n("F07p"),v=n("1Mpf");function w(t,e){if(1&t){var n=m.Ob();m.Nb(0,"ion-list",11),m.Nb(1,"portfolio-item",12),m.Vb("click",(function(){m.lc(n);var t=e.$implicit;return m.Xb(2).importWallet(t)})),m.Mb(),m.Mb()}if(2&t){var i=e.$implicit;m.yb(1),m.dc("wallet",i)}}var I=function(t){return{tokenName:t}};function M(t,e){if(1&t&&(m.Jb(0,"empty-state",13),m.Yb(1,"translate")),2&t){var n=m.Xb(2);m.dc("text",m.ac(1,2,"sub-account-import.empty_text",m.hc(5,I,n.subProtocol.name)))("imageName","no-imports.svg")}}var N=function(t){return{subProtocolName:t}},P=function(t){return{typeLabel:t}};function k(t,e){if(1&t){var n=m.Ob();m.Nb(0,"ion-grid",1),m.Jb(1,"p",5),m.Yb(2,"translate"),m.sc(3,w,2,1,"ion-list",6),m.sc(4,M,2,7,"empty-state",7),m.Nb(5,"ion-fab",8),m.Nb(6,"ion-button",9),m.Vb("click",(function(){return m.lc(n),m.Xb().importWallets()})),m.Jb(7,"ion-icon",10),m.uc(8),m.Yb(9,"translate"),m.Yb(10,"translate"),m.Mb(),m.Mb(),m.Mb()}if(2&t){var i=m.Xb();m.yb(1),m.dc("innerHTML",m.ac(2,5,"sub-account-import.text",m.hc(13,N,i.subProtocol.name)),m.mc),m.yb(2),m.dc("ngForOf",i.subWallets),m.yb(1),m.dc("ngIf",0===i.subWallets.length),m.yb(2),m.dc("disabled",0===i.subWallets.length),m.yb(2),m.wc(" ",m.ac(9,8,"sub-account-import.import-all_label",m.hc(15,P,m.Zb(10,11,i.typeLabel)))," ")}}var x=function(){function t(t,e,n,i,o,r){var a,c=this;this.router=t,this.route=e,this.accountProvider=n,this.priceService=i,this.protocolService=o,this.typeLabel="",this.subWallets=[],void 0!==(a=r.getData(f.b.PROTOCOL))?(this.subProtocolIdentifier=a.subProtocolIdentifier,this.networkIdentifier=a.networkIdentifier,this.protocolService.getProtocol(this.subProtocolIdentifier,this.networkIdentifier).then((function(t){c.subProtocol=t}))):(this.subProtocolIdentifier=this.route.snapshot.params.protocolID,this.networkIdentifier=this.route.snapshot.params.networkID,this.protocolService.getProtocol(this.subProtocolIdentifier,this.networkIdentifier).then((function(t){c.subProtocol=t}))),this.accountProvider.wallets.pipe(Object(d.a)((function(t){return t.filter((function(t){return t.protocol.identifier===Object(b.I)(c.subProtocolIdentifier)&&t.protocol.options.network.type===u.NetworkType.MAINNET}))}))).subscribe((function(t){var e=t.map((function(t){return Object(l.b)(c,void 0,void 0,(function(){var e,n;return Object(l.e)(this,(function(i){switch(i.label){case 0:return this.accountProvider.walletByPublicKeyAndProtocolAndAddressIndex(t.publicKey,this.subProtocolIdentifier)?[3,2]:[4,this.protocolService.getProtocol(this.subProtocolIdentifier)];case 1:return e=i.sent(),(n=new u.AirGapMarketWallet(e,t.publicKey,t.isExtendedPublicKey,t.derivationPath,this.priceService)).addresses=t.addresses,this.subWallets.push(n),[2,n.synchronize()];case 2:return[2]}}))}))}));Promise.all(e).then((function(){return c.accountProvider.triggerWalletChanged()})).catch(Object(h.b)(h.a.COINLIB))}))}return t.prototype.importWallets=function(){var t=this;this.subWallets.forEach((function(e){t.accountProvider.addWallet(e).catch(Object(h.b)(h.a.WALLET_PROVIDER))})),this.popToRoot()},t.prototype.importWallet=function(t){this.accountProvider.addWallet(t).catch(Object(h.b)(h.a.WALLET_PROVIDER)),this.popToRoot()},t.prototype.popToRoot=function(){this.router.navigateByUrl("/tabs/portfolio").catch(Object(h.b)(h.a.NAVIGATION))},t.\u0275fac=function(e){return new(e||t)(m.Ib(r.g),m.Ib(r.a),m.Ib(p.a),m.Ib(g.a),m.Ib(b.y),m.Ib(f.a))},t.\u0275cmp=m.Cb({type:t,selectors:[["page-sub-account-import"]],decls:10,vars:4,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],["fixed","true","class","ion-no-padding",4,"ngIf"],[1,"ion-padding-horizontal",3,"innerHTML"],["lines","none","class","ion-margin-top",4,"ngFor","ngForOf"],[3,"text","imageName",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["shape","round","color","secondary",3,"disabled","click"],["slot","start","name","add"],["lines","none",1,"ion-margin-top"],["tappable","",3,"wallet","click"],[3,"text","imageName"]],template:function(t,e){1&t&&(m.Nb(0,"ion-header",0),m.Nb(1,"ion-grid",1),m.Nb(2,"ion-toolbar"),m.Nb(3,"ion-buttons",2),m.Jb(4,"ion-back-button",3),m.Mb(),m.Nb(5,"ion-title"),m.uc(6),m.Yb(7,"translate"),m.Mb(),m.Mb(),m.Mb(),m.Mb(),m.Nb(8,"ion-content"),m.sc(9,k,11,17,"ion-grid",4),m.Mb()),2&t&&(m.yb(6),m.vc(m.Zb(7,2,"sub-account-import.title")),m.yb(3),m.dc("ngIf",e.subProtocol))},directives:[a.A,a.z,a.yb,a.k,a.f,a.g,a.wb,a.t,i.t,i.s,a.v,a.j,a.B,a.N,y.a,v.a],pipes:[c.d],encapsulation:2}),t}(),_=function(){function t(){}return t.\u0275mod=m.Gb({type:t}),t.\u0275inj=m.Fb({factory:function(e){return new(e||t)},imports:[[a.Ab,i.c,o.h,s.a,c.c,r.k.forChild([{path:"",component:x}])]]}),t}()},onrW:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("mrSG"),o=n("kB5k"),r=n("fXoL"),a=n("138U"),c=function(){function t(t){this.protocolService=t}return t.prototype.transform=function(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n;return Object(i.e)(this,(function(i){switch(i.label){case 0:if(!e||!e.currentMarketPrice||!o.BigNumber.isBigNumber(e.currentMarketPrice)||isNaN(e.currentMarketPrice.toNumber())||!e.protocolIdentifier||!t||!o.BigNumber.isBigNumber(t)||isNaN(t.toNumber()))return[2,""];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.protocolService.getProtocol(e.protocolIdentifier)];case 2:return n=i.sent(),[3,4];case 3:return i.sent(),[2,""];case 4:return[2,e.currentMarketPrice.multipliedBy(t.shiftedBy(-1*n.decimals)).toFixed()]}}))}))},t.\u0275fac=function(e){return new(e||t)(r.Ib(a.y))},t.\u0275pipe=r.Hb({name:"cryptoToFiat",type:t,pure:!0}),t}()}}]);