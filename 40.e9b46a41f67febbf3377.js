(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{RpAR:function(e,t,a){"use strict";a.r(t),a.d(t,"TransactionPreparePageModule",function(){return x});var n=a("138U"),o=a("ofXK"),i=a("3Pt+"),r=a("tyNb"),s=a("TEn/"),c=a("sYmb"),l=a("j1ZV"),d=a("iTUp"),u=a("mrSG"),b=a("RKiA"),p=a("14cC"),m=a("kB5k"),g=a("2Vo4"),f=a("Kj3r"),h=a("57MG"),v=a("QMTT"),_=a("1y+R"),P=a("nxqh"),M=a("hPkG"),O=function(){function AddressValidator(){}return AddressValidator.validate=function(e){var t=e.addressValidationPattern;return function(e){return null===String(e.value).match(t)?{addressFormat:"Address format is unknown."}:null}},AddressValidator}(),y=a("fUHw"),T=a("fXoL"),N=a("pNtj");function TransactionPreparePage_ng_container_13_ion_badge_3_Template(e,t){if(1&e&&(T.Ob(0,"ion-badge"),T.vc(1),T.Nb()),2&e){var a=T.Yb(2);T.yb(1),T.xc(" ",a.wallet.protocol.options.network.rpcUrl," ")}}function TransactionPreparePage_ng_container_13_Template(e,t){if(1&e&&(T.Mb(0,45),T.Ob(1,"ion-badge",46),T.vc(2),T.Nb(),T.tc(3,TransactionPreparePage_ng_container_13_ion_badge_3_Template,2,1,"ion-badge",13),T.Lb()),2&e){var a=T.Yb();T.yb(2),T.wc(a.wallet.protocol.options.network.name),T.yb(1),T.ec("ngIf",a.wallet.protocol.options.network.type===a.networkType.CUSTOM)}}var _c0=function(e,t){return{protocol:e,maxDigits:t}};function TransactionPreparePage_ng_container_25_Template(e,t){if(1&e&&(T.Mb(0),T.vc(1),T.Zb(2,"async"),T.Zb(3,"amountConverter"),T.Lb()),2&e){var a=T.Yb();T.yb(1),T.xc(" ",T.ac(2,1,T.bc(3,3,a.state.availableBalance,T.jc(6,_c0,a.wallet.protocol.identifier,a.wallet.protocol.decimals+1)))," ")}}function TransactionPreparePage_ion_spinner_37_Template(e,t){1&e&&T.Kb(0,"ion-spinner",47)}function TransactionPreparePage_span_38_Template(e,t){1&e&&(T.Ob(0,"span"),T.vc(1),T.Zb(2,"translate"),T.Nb()),2&e&&(T.yb(1),T.wc(T.ac(2,1,"transaction-prepare.fee.max_label")))}function TransactionPreparePage_ion_col_40_Template(e,t){1&e&&(T.Ob(0,"ion-col",48),T.Ob(1,"ion-text",49),T.Ob(2,"p",27),T.vc(3),T.Zb(4,"translate"),T.Nb(),T.Nb(),T.Nb()),2&e&&(T.yb(3),T.xc(" ",T.ac(4,1,"transaction-prepare.error.amount_label")," "))}var _c1=function(e){return{addressPlaceholder:e}};function TransactionPreparePage_ion_col_63_Template(e,t){if(1&e&&(T.Ob(0,"ion-col",50),T.Ob(1,"ion-text",49),T.Kb(2,"p",51),T.Zb(3,"translate"),T.Nb(),T.Nb()),2&e){var a=T.Yb();T.yb(2),T.ec("innerHTML",T.bc(3,1,"transaction-prepare.error.address_label",T.ic(4,_c1,a.wallet.protocol.addressPlaceholder)),T.nc)}}function TransactionPreparePage_ion_button_74_Template(e,t){if(1&e){var a=T.Pb();T.Ob(0,"ion-button",52),T.Wb("click",function TransactionPreparePage_ion_button_74_Template_ion_button_click_0_listener(){return T.mc(a),T.Yb().prepareTransaction()}),T.Kb(1,"ion-icon",53),T.vc(2),T.Zb(3,"translate"),T.Nb()}if(2&e){var n=T.Yb();T.ec("disabled",n.state.disablePrepareButton),T.yb(2),T.xc(" ",T.ac(3,2,"transaction-prepare.create-transaction")," ")}}function TransactionPreparePage_ion_button_75_Template(e,t){if(1&e){var a=T.Pb();T.Ob(0,"ion-button",52),T.Wb("click",function TransactionPreparePage_ion_button_75_Template_ion_button_click_0_listener(){return T.mc(a),T.Yb().prepareTransaction()}),T.Kb(1,"ion-icon",53),T.vc(2),T.Zb(3,"translate"),T.Nb()}if(2&e){var n=T.Yb();T.ec("disabled",n.state.disablePrepareButton),T.yb(2),T.xc(" ",T.ac(3,2,"transaction-prepare.create-transaction")," ")}}var _c2=function(e){return{title:e}},w=function(){function TransactionPreparePage(e,t,a,n,o,r,s,c,l,d,m){var f=this;this.loadingCtrl=e,this.formBuilder=t,this.router=a,this.route=n,this._ngZone=o,this.clipboardProvider=r,this.operationsProvider=s,this.dataService=c,this.amountConverterPipe=l,this.priceService=d,this.accountProvider=m,this.networkType=p.NetworkType,this.publicKey=this.route.snapshot.params.publicKey,this.protocolID=this.route.snapshot.params.protocolID;var h=this.route.snapshot.params.addressIndex;this.addressIndex="undefined"===h?void 0:Number(h),this.state$=new g.a(this._state);var v="false"===this.route.snapshot.params.address?"":this.route.snapshot.params.address||"",_=Number(this.route.snapshot.params.amount)||0,P=this.accountProvider.walletByPublicKeyAndProtocolAndAddressIndex(this.publicKey,this.protocolID,this.addressIndex),T="forced"===this.route.snapshot.params.forceMigration||!1;this.transactionForm=this.formBuilder.group({address:[v,i.m.compose([i.m.required,O.validate(P.protocol)])],amount:[_,i.m.compose([i.m.required,y.a.validate(P.protocol.decimals)])],feeLevel:[0,[i.m.required]],fee:[0,i.m.compose([i.m.required,y.a.validate(P.protocol.feeDecimals)])],isAdvancedMode:[!1,[]]}),this.wallet=P,this.isSubstrate=P.protocol.identifier===b.MainProtocolSymbols.KUSAMA||P.protocol.identifier===b.MainProtocolSymbols.POLKADOT,this.initState().then(function(){return Object(u.b)(f,void 0,void 0,function(){return Object(u.e)(this,function(e){switch(e.label){case 0:return T?[4,this.forceMigration()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.onChanges(),this.updateFeeEstimate(),[2]}})})}).catch(Object(M.b)(M.a.OTHER))}return TransactionPreparePage.prototype.onChanges=function(){var e=this;this.state$.pipe(Object(f.a)(200)).subscribe(function(t){e.onStateUpdated(t)}),this.transactionForm.get("address").valueChanges.pipe(Object(f.a)(500)).subscribe(function(t){e.updateState({address:{value:t,dirty:!0},disableSendMaxAmount:!1,disablePrepareButton:e.transactionForm.invalid||new m.BigNumber(e._state.amount.value).lte(0)}),e.updateFeeEstimate()}),this.transactionForm.get("amount").valueChanges.pipe(Object(f.a)(500)).subscribe(function(t){var a=new m.BigNumber(t);e.updateState({sendMaxAmount:!1,amount:{value:a.isNaN()?"":a.toFixed(),dirty:!0},disablePrepareButton:e.transactionForm.invalid||a.isNaN()||a.lte(0)}),e.updateFeeEstimate()}),this.transactionForm.get("fee").valueChanges.pipe(Object(f.a)(500)).subscribe(function(t){var a=new m.BigNumber(t);e.updateState({fee:{value:a.isNaN()?"":a.toFixed(),dirty:!0},disablePrepareButton:e.transactionForm.invalid||new m.BigNumber(e._state.amount.value).lte(0)}),e._state.sendMaxAmount&&e.updateWithMaxAmount(a.toString(10))}),this.transactionForm.get("feeLevel").valueChanges.subscribe(function(t){var a=new m.BigNumber(e.getFeeFromLevel(t));e.updateState({fee:{value:a.toFixed(),dirty:!1},feeLevel:{value:t,dirty:!0},disablePrepareButton:e.transactionForm.invalid||new m.BigNumber(e._state.amount.value).lte(0)},!1),e._state.sendMaxAmount&&e.updateWithMaxAmount(a.toString(10))}),this.transactionForm.get("isAdvancedMode").valueChanges.subscribe(function(t){e.updateState({isAdvancedMode:{value:t,dirty:!0},disablePrepareButton:e.transactionForm.invalid||new m.BigNumber(e._state.amount.value).lte(0)},!1)})},TransactionPreparePage.prototype.initState=function(){return Object(u.b)(this,void 0,void 0,function(){var e,t,a;return Object(u.e)(this,function(n){switch(n.label){case 0:return this._state={availableBalance:null,forceMigration:!1,feeDefaults:this.wallet.protocol.feeDefaults,feeCurrentMarketPrice:null,sendMaxAmount:!1,disableSendMaxAmount:!0,disableAdvancedMode:this.isSubstrate,disableFeeSlider:!0,disablePrepareButton:!0,estimatingMaxAmount:!1,estimatingFeeDefaults:!1,address:{value:this.transactionForm.controls.address.value,dirty:!1},amount:{value:this.transactionForm.controls.amount.value,dirty:!1},feeLevel:{value:this.transactionForm.controls.feeLevel.value,dirty:!1},fee:{value:this.transactionForm.controls.fee.value,dirty:!1},isAdvancedMode:{value:this.transactionForm.controls.isAdvancedMode.value,dirty:!1}},this.state=this._state,[4,Promise.all([this.calculateFeeCurrentMarketPrice(this.wallet),this.getAvailableBalance(this.wallet)])];case 1:return e=u.h.apply(void 0,[n.sent(),2]),t=e[0],a=e[1],this.updateState({availableBalance:a,feeCurrentMarketPrice:t}),[2]}})})},TransactionPreparePage.prototype.updateState=function(e,t){void 0===t&&(t=!0),this._state=this.reduceState(this._state,e),t?this.state$.next(this._state):this.onStateUpdated(this._state)},TransactionPreparePage.prototype.reduceState=function(e,t){return{availableBalance:void 0!==t.availableBalance?t.availableBalance:e.availableBalance,forceMigration:void 0!==t.forceMigration?t.forceMigration:e.forceMigration,feeDefaults:t.feeDefaults||e.feeDefaults,feeCurrentMarketPrice:void 0!==t.feeCurrentMarketPrice?t.feeCurrentMarketPrice:e.feeCurrentMarketPrice,sendMaxAmount:void 0!==t.sendMaxAmount?t.sendMaxAmount:e.sendMaxAmount,disableSendMaxAmount:void 0!==t.disableSendMaxAmount?t.disableSendMaxAmount:e.disableSendMaxAmount,disableAdvancedMode:this.isSubstrate||(void 0!==t.disableAdvancedMode?t.disableAdvancedMode:e.disableAdvancedMode),disableFeeSlider:this.isSubstrate||(void 0!==t.disableFeeSlider?t.disableFeeSlider:e.disableFeeSlider),disablePrepareButton:void 0!==t.disablePrepareButton?t.disablePrepareButton:e.disablePrepareButton,estimatingMaxAmount:void 0!==t.estimatingMaxAmount?t.estimatingMaxAmount:e.estimatingMaxAmount,estimatingFeeDefaults:void 0!==t.estimatingFeeDefaults?t.estimatingFeeDefaults:e.estimatingFeeDefaults,address:t.address||e.address,amount:t.amount||e.amount,feeLevel:t.feeLevel||e.feeLevel,fee:t.fee||e.fee,isAdvancedMode:t.isAdvancedMode||e.isAdvancedMode}},TransactionPreparePage.prototype.onStateUpdated=function(e){this.state=e,this.updateTransactionForm({address:this.state.address,amount:this.state.amount,fee:this.state.fee,feeLevel:this.state.feeLevel,isAdvancedMode:this.state.isAdvancedMode})},TransactionPreparePage.prototype.updateTransactionForm=function(e){var t=this,a=this.transactionForm.value,n={};Object.keys(a).forEach(function(t){t in e&&!e[t].dirty&&e[t].value!==a[t]&&(n[t]=e[t].value)}),this._ngZone.run(function(){t.transactionForm.patchValue(n,{emitEvent:!1}),Object.keys(n).forEach(function(e){t.transactionForm.controls[e].markAsDirty()})})},TransactionPreparePage.prototype.calculateFeeCurrentMarketPrice=function(e){return Object(u.b)(this,void 0,void 0,function(){return Object(u.e)(this,function(t){return e.protocol.identifier===b.SubProtocolSymbols.XTZ_BTC?[2,this.priceService.getCurrentMarketPrice(new b.TezosProtocol,"USD").then(function(e){return e.toNumber()})]:e.protocol.identifier.startsWith(b.SubProtocolSymbols.ETH_ERC20)?[2,this.priceService.getCurrentMarketPrice(new b.EthereumProtocol,"USD").then(function(e){return e.toNumber()})]:[2,e.currentMarketPrice.toNumber()]})})},TransactionPreparePage.prototype.getAvailableBalance=function(e){return Object(u.b)(this,void 0,void 0,function(){var t;return Object(u.e)(this,function(a){switch(a.label){case 0:return e.protocol.identifier!==b.MainProtocolSymbols.COSMOS&&e.protocol.identifier!==b.MainProtocolSymbols.KUSAMA&&e.protocol.identifier!==b.MainProtocolSymbols.POLKADOT?[3,2]:(t=m.BigNumber.bind,[4,e.protocol.getAvailableBalanceOfAddresses([e.addresses[0]])]);case 1:return[2,new(t.apply(m.BigNumber,[void 0,a.sent()]))];case 2:return[2,e.currentBalance]}})})},TransactionPreparePage.prototype.updateFeeEstimate=function(){return Object(u.b)(this,void 0,void 0,function(){var e,t;return Object(u.e)(this,function(a){switch(a.label){case 0:return this._state.isAdvancedMode.value?[3,2]:(this.updateState({estimatingFeeDefaults:!0,disableFeeSlider:!0,disablePrepareButton:!0}),[4,this.estimateFees().catch(function(){})]);case 1:e=a.sent(),t=e&&!this.isSubstrate?1:this._state.feeLevel.value,this.updateState({estimatingFeeDefaults:!1,feeDefaults:e,fee:{value:new m.BigNumber(this.getFeeFromLevel(t,e)).toFixed(),dirty:!1},feeLevel:{value:t,dirty:!1},disableFeeSlider:!e,disablePrepareButton:!e||this.transactionForm.invalid||new m.BigNumber(this._state.amount.value).lte(0)}),a.label=2;case 2:return[2]}})})},TransactionPreparePage.prototype.estimateFees=function(){return Object(u.b)(this,void 0,void 0,function(){var e,t,a;return Object(u.e)(this,function(n){return e=new m.BigNumber(this._state.amount.value).shiftedBy(this.wallet.protocol.decimals),t=this.transactionForm.controls.address.valid,a=this.transactionForm.controls.amount.valid&&!e.isNaN()&&e.gt(0),[2,t&&a?this.operationsProvider.estimateFees(this.wallet,this._state.address.value,e):void 0]})})},TransactionPreparePage.prototype.getFeeFromLevel=function(e,t){var a=t||this._state.feeDefaults;switch(e){case 0:return a.low;case 1:return a.medium;case 2:return a.high;default:return a.medium}},TransactionPreparePage.prototype.prepareTransaction=function(){return Object(u.b)(this,void 0,void 0,function(){var e,t,a,n,o,i;return Object(u.e)(this,function(r){switch(r.label){case 0:e=new m.BigNumber(this._state.amount.value).shiftedBy(this.wallet.protocol.decimals),t=new m.BigNumber(this._state.fee.value).shiftedBy(this.wallet.protocol.feeDecimals),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.operationsProvider.prepareTransaction(this.wallet,this._state.address.value,e,t)];case 2:return a=r.sent(),n=a.airGapTxs,o=a.unsignedTx,i={wallet:this.wallet,airGapTxs:n,data:o,type:b.IACMessageType.TransactionSignRequest},this.dataService.setData(_.b.INTERACTION,i),this.router.navigateByUrl("/interaction-selection/"+_.b.INTERACTION).catch(Object(M.b)(M.a.NAVIGATION)),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}})})},TransactionPreparePage.prototype.openScanner=function(){var e=this,t={callback:function(t){e.updateState({address:{value:t,dirty:!1}})}};this.dataService.setData(_.b.SCAN,t),this.router.navigateByUrl("/scan-address/"+_.b.SCAN).catch(Object(M.b)(M.a.NAVIGATION))},TransactionPreparePage.prototype.toggleMaxAmount=function(){return Object(u.b)(this,void 0,void 0,function(){return Object(u.e)(this,function(e){switch(e.label){case 0:return this.updateState({sendMaxAmount:!this._state.sendMaxAmount},!1),this._state.sendMaxAmount?[4,this.updateWithMaxAmount()]:[3,2];case 1:e.sent(),this.updateFeeEstimate(),e.label=2;case 2:return[2]}})})},TransactionPreparePage.prototype.forceMigration=function(){return Object(u.b)(this,void 0,void 0,function(){return Object(u.e)(this,function(e){switch(e.label){case 0:return this.updateState({forceMigration:!0,sendMaxAmount:!0,disablePrepareButton:!1},!1),[4,this.updateWithMaxAmount()];case 1:return e.sent(),[2]}})})},TransactionPreparePage.prototype.updateWithMaxAmount=function(e){return Object(u.b)(this,void 0,void 0,function(){var t,a,n;return Object(u.e)(this,function(o){switch(o.label){case 0:return this.updateState({estimatingMaxAmount:!0}),t=e?new m.BigNumber(e).shiftedBy(this.wallet.protocol.feeDecimals):void 0,[4,this.operationsProvider.estimateMaxTransferAmount(this.wallet,this._state.address.value,t)];case 1:return a=o.sent(),n=this.amountConverterPipe.transformValueOnly(a,this.wallet.protocol,this.wallet.protocol.decimals+1),a.isNaN()||this.updateState({estimatingMaxAmount:!1,amount:{value:n,dirty:!1},disablePrepareButton:this.transactionForm.invalid||a.isNaN()||a.lte(0)}),[2]}})})},TransactionPreparePage.prototype.pasteClipboard=function(){var e=this;this.clipboardProvider.paste().then(function(t){e.updateState({address:{value:t,dirty:!1},disableSendMaxAmount:!1,disablePrepareButton:e.transactionForm.invalid||new m.BigNumber(e._state.amount.value).lte(0)}),e.updateFeeEstimate()},function(e){console.error("Error: "+e)})},TransactionPreparePage.\u0275fac=function TransactionPreparePage_Factory(e){return new(e||TransactionPreparePage)(T.Jb(s.kb),T.Jb(i.b),T.Jb(r.g),T.Jb(r.a),T.Jb(T.A),T.Jb(n.j),T.Jb(P.a),T.Jb(_.a),T.Jb(n.f),T.Jb(v.a),T.Jb(h.a))},TransactionPreparePage.\u0275cmp=T.Db({type:TransactionPreparePage,selectors:[["page-transaction-prepare"]],decls:76,vars:46,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/tabs/portfolio"],[1,"ion-no-padding"],["fixed","true"],[1,"ion-padding-horizontal"],["class","ion-no-padding","lines","none","slot","start",4,"ngIf"],[1,"ion-padding-bottom",3,"formGroup"],[1,"ion-justify-content-between"],["size","3"],["color","blackLight","position","stacked",1,"ion-no-margin"],["size","9",1,"ion-text-end"],[4,"ngIf"],[1,"amount__container"],["size","2",1,"d-flex","ion-align-items-center"],[3,"address"],["size","7",1,"ion-no-padding","amount--container__input"],["lines","none",1,"ion-no-padding"],["formControlName","amount","type","number","id","amount-input","placeholder","0.0"],["size","3",1,"ion-no-padding","d-flex","ion-align-items-center"],["slot","end"],["shape","round","size","small","color","secondary",3,"fill","click"],["name","lines-small","color","primary",4,"ngIf"],["size","10","offset","2","class","ion-no-padding error--container",4,"ngIf"],["offset","2",1,"ion-no-padding"],["color","blackLight",1,"ion-no-margin"],[1,"ion-no-margin"],[1,"ion-text-center","ion-no-padding","divider--container"],["name","arrow-down-outline","color","medium"],["size","12"],["color","blackLight","position","stacked"],[1,"to__container"],["size","2"],[1,"d-flex","ion-align-items-center"],["size","10",1,"ion-no-padding"],[1,"content--align-vert__center","to-address__item","ion-no-padding"],["formControlName","address","id","address-input",3,"placeholder"],["size","10","offset","2","class","ion-no-padding error--address",4,"ngIf"],["size","10","offset","2",1,"address-to__buttons"],["fill","outline","size","small","color","secondary","shape","round",3,"click"],["slot","start","name","barcode-outline"],[3,"wallet","state","form"],["vertical","bottom","horizontal","end","slot","fixed"],["id","prepare","size","default","color","primary","shape","round",3,"disabled","click",4,"ngIf"],["lines","none","slot","start",1,"ion-no-padding"],["color","danger"],["name","lines-small","color","primary"],["size","10","offset","2",1,"ion-no-padding","error--container"],["color","danger",1,"ion-no-margin"],["size","10","offset","2",1,"ion-no-padding","error--address"],[1,"ion-no-margin",3,"innerHTML"],["id","prepare","size","default","color","primary","shape","round",3,"disabled","click"],["slot","start","name","open"]],template:function TransactionPreparePage_Template(e,t){1&e&&(T.Ob(0,"ion-header",0),T.Ob(1,"ion-grid",1),T.Ob(2,"ion-toolbar"),T.Ob(3,"ion-buttons",2),T.Kb(4,"ion-back-button",3),T.Nb(),T.Ob(5,"ion-title"),T.vc(6),T.Zb(7,"translate"),T.Nb(),T.Nb(),T.Nb(),T.Nb(),T.Ob(8,"ion-content",4),T.Ob(9,"ion-grid",5),T.Ob(10,"ion-row",6),T.Ob(11,"ion-col",4),T.Ob(12,"ion-row"),T.tc(13,TransactionPreparePage_ng_container_13_Template,4,2,"ng-container",7),T.Nb(),T.Nb(),T.Nb(),T.Ob(14,"form",8),T.Ob(15,"ion-card"),T.Ob(16,"ion-row",9),T.Ob(17,"ion-col",10),T.Ob(18,"ion-label",11),T.vc(19),T.Zb(20,"translate"),T.Nb(),T.Nb(),T.Ob(21,"ion-col",12),T.Ob(22,"ion-label",11),T.vc(23),T.Zb(24,"translate"),T.tc(25,TransactionPreparePage_ng_container_25_Template,4,9,"ng-container",13),T.Nb(),T.Nb(),T.Nb(),T.Ob(26,"ion-row",14),T.Ob(27,"ion-col",15),T.Ob(28,"ion-avatar"),T.Kb(29,"airgap-identicon",16),T.Nb(),T.Nb(),T.Ob(30,"ion-col",17),T.Ob(31,"ion-item",18),T.Kb(32,"ion-input",19),T.Nb(),T.Nb(),T.Ob(33,"ion-col",20),T.Ob(34,"ion-toolbar"),T.Ob(35,"ion-buttons",21),T.Ob(36,"ion-button",22),T.Wb("click",function TransactionPreparePage_Template_ion_button_click_36_listener(){return t.toggleMaxAmount()}),T.tc(37,TransactionPreparePage_ion_spinner_37_Template,1,0,"ion-spinner",23),T.tc(38,TransactionPreparePage_span_38_Template,3,3,"span",13),T.Nb(),T.Nb(),T.Nb(),T.Nb(),T.Nb(),T.Ob(39,"ion-row"),T.tc(40,TransactionPreparePage_ion_col_40_Template,5,3,"ion-col",24),T.Nb(),T.Ob(41,"ion-row"),T.Ob(42,"ion-col",25),T.Ob(43,"ion-text",26),T.Ob(44,"p",27),T.vc(45),T.Zb(46,"number"),T.Nb(),T.Nb(),T.Nb(),T.Nb(),T.Nb(),T.Ob(47,"ion-row"),T.Ob(48,"ion-col",28),T.Kb(49,"ion-icon",29),T.Nb(),T.Nb(),T.Ob(50,"ion-card"),T.Ob(51,"ion-row"),T.Ob(52,"ion-col",30),T.Ob(53,"ion-label",31),T.vc(54),T.Zb(55,"translate"),T.Nb(),T.Nb(),T.Nb(),T.Ob(56,"ion-row",32),T.Ob(57,"ion-col",33),T.Ob(58,"ion-avatar",34),T.Kb(59,"airgap-identicon",16),T.Nb(),T.Nb(),T.Ob(60,"ion-col",35),T.Ob(61,"ion-item",36),T.Kb(62,"ion-textarea",37),T.Nb(),T.Nb(),T.tc(63,TransactionPreparePage_ion_col_63_Template,4,6,"ion-col",38),T.Ob(64,"ion-col",39),T.Ob(65,"ion-button",40),T.Wb("click",function TransactionPreparePage_Template_ion_button_click_65_listener(){return t.pasteClipboard()}),T.vc(66),T.Zb(67,"translate"),T.Nb(),T.Ob(68,"ion-button",40),T.Wb("click",function TransactionPreparePage_Template_ion_button_click_68_listener(){return t.openScanner()}),T.Kb(69,"ion-icon",41),T.vc(70),T.Zb(71,"translate"),T.Nb(),T.Nb(),T.Nb(),T.Nb(),T.Kb(72,"fee",42),T.Nb(),T.Nb(),T.Ob(73,"ion-fab",43),T.tc(74,TransactionPreparePage_ion_button_74_Template,4,4,"ion-button",44),T.tc(75,TransactionPreparePage_ion_button_75_Template,4,4,"ion-button",44),T.Nb(),T.Nb()),2&e&&(T.yb(6),T.xc(" ",T.bc(7,28,"transaction-prepare.title",T.ic(44,_c2,t.wallet.protocol.symbol))," "),T.yb(7),T.ec("ngIf",t.wallet.protocol.options.network&&t.wallet.protocol.options.network.type!==t.networkType.MAINNET),T.yb(1),T.ec("formGroup",t.transactionForm),T.yb(5),T.xc(" ",T.ac(20,31,"transaction-prepare.amount_label")," "),T.yb(4),T.xc(" ",T.ac(24,33,"transaction-prepare.balance_label")," "),T.yb(2),T.ec("ngIf",null!==t.state.availableBalance),T.yb(4),T.ec("address",t.wallet.receivingPublicAddress),T.yb(3),T.zb("disabled",t.state.forceMigration),T.yb(4),T.ec("fill",t.state.sendMaxAmount?"solid":"outline"),T.zb("disabled",t.state.disableSendMaxAmount),T.yb(1),T.ec("ngIf",t.state.estimatingMaxAmount),T.yb(1),T.ec("ngIf",!t.state.estimatingMaxAmount),T.yb(2),T.ec("ngIf",!t.transactionForm.controls.amount.valid),T.yb(5),T.xc(" $",T.bc(46,35,t.wallet.currentMarketPrice.times(t.state.amount.value).toNumber(),"1.2-2")," "),T.yb(9),T.wc(T.ac(55,38,"transaction-prepare.to-address_label")),T.yb(5),T.ec("address",t.transactionForm.get("address").value),T.yb(3),T.ec("placeholder",t.wallet.protocol.addressPlaceholder),T.zb("disabled",t.state.forceMigration),T.yb(1),T.ec("ngIf",t.transactionForm.controls.address.dirty&&t.transactionForm.controls.address.invalid),T.yb(2),T.zb("disabled",t.state.forceMigration),T.yb(1),T.xc(" ",T.ac(67,40,"transaction-prepare.paste_label")," "),T.yb(2),T.zb("disabled",t.state.forceMigration),T.yb(2),T.xc(" ",T.ac(71,42,"transaction-prepare.to-address-scan_label")," "),T.yb(2),T.ec("wallet",t.wallet)("state",t.state)("form",t.transactionForm),T.yb(2),T.ec("ngIf",!t.state.forceMigration),T.yb(1),T.ec("ngIf",t.state.forceMigration))},directives:[s.v,s.u,s.hb,s.j,s.f,s.g,s.fb,s.q,s.R,s.p,o.n,i.n,i.i,i.d,s.k,s.E,s.e,n.r,s.A,s.z,s.ob,i.h,i.c,s.i,s.db,s.w,s.eb,s.ub,N.a,s.r,s.h,s.Y],pipes:[c.c,o.f,o.b,n.f],styles:[".item-ios.item-toggle[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .item-md.item-toggle[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .label-stacked[_ngcontent-%COMP%]{font-size:14px}.font--size__large[_ngcontent-%COMP%]{font-size:large}.to-address__item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{font-size:12px}.address-to__buttons[_ngcontent-%COMP%]{padding:4px 0 0}.amount__container[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom-color:transparent!important;box-shadow:none!important}.amount__container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin:0;--padding-top:12px}.amount__container[_ngcontent-%COMP%]   .md[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-bottom:0}.amount__container[_ngcontent-%COMP%]   .amount--container__input[_ngcontent-%COMP%], .amount__container[_ngcontent-%COMP%]   .amount--container__input[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{padding-right:0}.amount__container[_ngcontent-%COMP%], .to__container[_ngcontent-%COMP%]{padding-top:8px}.error--container[_ngcontent-%COMP%]{padding-bottom:8px}ion-avatar[_ngcontent-%COMP%]{height:40px;min-height:40px;width:40px;min-width:40px}.range-slider[_ngcontent-%COMP%]{--bar-background:rgba(var(--ion-color-secondary-rgb),0.12);--bar-background-active:var(--ion-color-primary)}.advanced-item[_ngcontent-%COMP%]{--border-color:var(--ion-color-primary)}ion-card[_ngcontent-%COMP%]{padding:12px}.divider--container[_ngcontent-%COMP%]{padding-top:8px}.native-textarea.sc-ion-textarea-md[_ngcontent-%COMP%]{padding-top:0}ion-textarea[_ngcontent-%COMP%]{--padding-top:0}"]}),TransactionPreparePage}(),x=function(){function TransactionPreparePageModule(){}return TransactionPreparePageModule.\u0275mod=T.Hb({type:TransactionPreparePageModule}),TransactionPreparePageModule.\u0275inj=T.Gb({factory:function TransactionPreparePageModule_Factory(e){return new(e||TransactionPreparePageModule)},imports:[[s.ib,o.c,i.e,i.k,c.b,l.a,d.a,r.j.forChild([{path:"",component:w}]),n.d]]}),TransactionPreparePageModule}()}}]);