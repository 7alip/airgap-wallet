(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"bh/N":function(t,i,e){"use strict";e.r(i),e.d(i,"InteractionSelectionPageModule",(function(){return m}));var n=e("ofXK"),o=e("3Pt+"),s=e("tyNb"),c=e("TEn/"),a=e("sYmb"),r=e("j1ZV"),b=e("mrSG"),l=e("z26V"),d=e("nxqh"),u=e("1y+R"),p=e("hPkG"),g=e("fXoL"),f=e("138U");function h(t,i){1&t&&(g.Nb(0,"ion-title"),g.uc(1),g.Yb(2,"translate"),g.Mb()),2&t&&(g.yb(1),g.wc(" ",g.Zb(2,1,"interaction-selection.title")," "))}function v(t,i){1&t&&(g.Nb(0,"ion-title"),g.uc(1),g.Yb(2,"translate"),g.Mb()),2&t&&(g.yb(1),g.wc(" ",g.Zb(2,1,"interaction-selection-desktop.title")," "))}function N(t,i){if(1&t){var e=g.Ob();g.Nb(0,"ion-content",6),g.Nb(1,"ion-grid",1),g.Jb(2,"h3",7),g.Yb(3,"translate"),g.Nb(4,"ion-row",8),g.Nb(5,"ion-col",9),g.Nb(6,"ion-row",10),g.Jb(7,"img",11),g.Mb(),g.Nb(8,"ion-row"),g.Nb(9,"ion-col",12),g.Nb(10,"ion-button",13),g.Vb("click",(function(){return g.lc(e),g.Xb().sameDeviceSign()})),g.uc(11),g.Yb(12,"translate"),g.Mb(),g.Nb(13,"p"),g.uc(14),g.Yb(15,"translate"),g.Mb(),g.Mb(),g.Mb(),g.Nb(16,"ion-row",14),g.Jb(17,"img",15),g.Mb(),g.Nb(18,"ion-row"),g.Nb(19,"ion-col",12),g.Nb(20,"ion-button",16),g.Vb("click",(function(){return g.lc(e),g.Xb().offlineDeviceSign()})),g.uc(21),g.Yb(22,"translate"),g.Mb(),g.Nb(23,"p"),g.uc(24),g.Yb(25,"translate"),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb()}2&t&&(g.yb(2),g.dc("innerHTML",g.Zb(3,5,"interaction-selection.heading"),g.mc),g.yb(9),g.wc(" ",g.Zb(12,7,"interaction-selection.same-device_label")," "),g.yb(3),g.vc(g.Zb(15,9,"interaction-selection.same-device_info")),g.yb(7),g.wc(" ",g.Zb(22,11,"interaction-selection.offline-device_label")," "),g.yb(3),g.vc(g.Zb(25,13,"interaction-selection.offline-device_info")))}function y(t,i){1&t&&g.Jb(0,"img",15)}function M(t,i){1&t&&g.Jb(0,"img",21)}function w(t,i){if(1&t){var e=g.Ob();g.Nb(0,"ion-content",6),g.Nb(1,"ion-grid",1),g.Jb(2,"h3",7),g.Yb(3,"translate"),g.Nb(4,"ion-row",8),g.Nb(5,"ion-col",9),g.Nb(6,"ion-row",14),g.sc(7,y,1,0,"img",17),g.sc(8,M,1,0,"img",18),g.Mb(),g.Nb(9,"ion-row"),g.Nb(10,"ion-col",12),g.Nb(11,"ion-button",16),g.Vb("click",(function(){return g.lc(e),g.Xb().offlineDeviceSign()})),g.uc(12),g.Yb(13,"translate"),g.Mb(),g.Nb(14,"p"),g.uc(15),g.Yb(16,"translate"),g.Mb(),g.Mb(),g.Mb(),g.Nb(17,"ion-row",10),g.Jb(18,"img",19),g.Mb(),g.Nb(19,"ion-row"),g.Nb(20,"ion-col",12),g.Nb(21,"ion-button",20),g.Vb("click",(function(){return g.lc(e),g.Xb().ledgerSign()})),g.uc(22),g.Yb(23,"translate"),g.Mb(),g.Nb(24,"p"),g.uc(25),g.Yb(26,"translate"),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb(),g.Mb()}if(2&t){var n=g.Xb();g.yb(2),g.dc("innerHTML",g.Zb(3,8,"interaction-selection-desktop.heading"),g.mc),g.yb(5),g.dc("ngIf",!n.isDesktop),g.yb(1),g.dc("ngIf",n.isDesktop),g.yb(4),g.wc(" ",g.Zb(13,10,"interaction-selection-desktop.vault_label")," "),g.yb(3),g.vc(g.Zb(16,12,"interaction-selection-desktop.vault_info")),g.yb(6),g.dc("disabled",!n.isLedgerSupported),g.yb(1),g.wc(" ",g.Zb(23,14,"interaction-selection-desktop.ledger_label")," "),g.yb(3),g.vc(g.Zb(26,16,"interaction-selection-desktop.ledger_info"))}}var k=function(){function t(t,i,e,n,o,s,c){if(this.platform=t,this.router=i,this.route=e,this.deeplinkService=n,this.dataService=o,this.operations=s,this.ledgerService=c,this.isDesktop=!1,this.isLedgerSupported=!1,this.isDesktop=this.platform.is("desktop"),this.route.snapshot.data.special){var a=this.route.snapshot.data.special;this.wallet=a.wallet,this.airGapTxs=a.airGapTxs,this.interactionData=a.data,this.isLedgerSupported=this.isDesktop&&this.ledgerService.isProtocolSupported(this.wallet.protocol)}}return t.prototype.offlineDeviceSign=function(){return Object(b.b)(this,void 0,void 0,(function(){var t;return Object(b.e)(this,(function(i){switch(i.label){case 0:return[4,this.prepareQRData()];case 1:return t=i.sent(),this.dataService.setData(u.b.TRANSACTION,{wallet:this.wallet,airGapTxs:this.airGapTxs,data:t}),this.router.navigateByUrl("/transaction-qr/"+u.b.TRANSACTION).catch(Object(p.b)(p.a.NAVIGATION)),[2]}}))}))},t.prototype.sameDeviceSign=function(){return Object(b.b)(this,void 0,void 0,(function(){var t,i=this;return Object(b.e)(this,(function(e){switch(e.label){case 0:return[4,this.prepareQRData()];case 1:return t=e.sent(),this.deeplinkService.sameDeviceDeeplink(Array.isArray(t)?t.join(","):t).then((function(){i.router.navigateByUrl("/tabs/portfolio").catch(Object(p.b)(p.a.NAVIGATION))})).catch(Object(p.b)(p.a.DEEPLINK_PROVIDER)),[2]}}))}))},t.prototype.ledgerSign=function(){this.dataService.setData(u.b.TRANSACTION,{wallet:this.wallet,airGapTxs:this.airGapTxs,data:this.interactionData}),this.router.navigateByUrl("/ledger-sign/"+u.b.TRANSACTION).catch(Object(p.b)(p.a.NAVIGATION))},t.prototype.prepareQRData=function(){return Object(b.b)(this,void 0,void 0,(function(){var t=this;return Object(b.e)(this,(function(i){return"string"==typeof this.interactionData&&this.interactionData.includes("://")?[2,this.interactionData]:[2,this.operations.serializeSignRequest(this.wallet,this.interactionData).catch((function(i){return console.warn("Could not serialize transaction: "+i),t.interactionData}))]}))}))},t.\u0275fac=function(i){return new(i||t)(g.Ib(c.Ib),g.Ib(s.g),g.Ib(s.a),g.Ib(f.l),g.Ib(u.a),g.Ib(d.a),g.Ib(l.a))},t.\u0275cmp=g.Cb({type:t,selectors:[["page-interaction-selection"]],decls:9,vars:4,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],[4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[1,"ion-padding-bottom","ion-no-margin",3,"innerHTML"],[1,"ion-no-padding"],["size","12","size-md","6"],[1,"ion-justify-content-center"],["src","./assets/img/sign-one-device.svg"],["size","12"],["id","online","expand","block","color","primary","shape","round",3,"click"],[1,"ion-justify-content-center","ion-padding-top"],["src","./assets/img/sign-two-device.svg"],["id","offline","expand","block","size","default","color","primary","shape","round",3,"click"],["src","./assets/img/sign-two-device.svg",4,"ngIf"],["src","./assets/img/signer-vault-desktop.svg",4,"ngIf"],["src","./assets/img/signer-ledger.svg"],["id","online","expand","block","color","primary","shape","round",3,"disabled","click"],["src","./assets/img/signer-vault-desktop.svg"]],template:function(t,i){1&t&&(g.Nb(0,"ion-header",0),g.Nb(1,"ion-grid",1),g.Nb(2,"ion-toolbar"),g.Nb(3,"ion-buttons",2),g.Jb(4,"ion-back-button",3),g.Mb(),g.sc(5,h,3,3,"ion-title",4),g.sc(6,v,3,3,"ion-title",4),g.Mb(),g.Mb(),g.Mb(),g.sc(7,N,26,15,"ion-content",5),g.sc(8,w,27,18,"ion-content",5)),2&t&&(g.yb(5),g.dc("ngIf",!i.isDesktop),g.yb(1),g.dc("ngIf",i.isDesktop),g.yb(1),g.dc("ngIf",!i.isDesktop),g.yb(1),g.dc("ngIf",i.isDesktop))},directives:[c.A,c.z,c.yb,c.k,c.f,c.g,n.t,c.wb,c.t,c.fb,c.s,c.j],pipes:[a.d],styles:["ion-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20vh}"]}),t}(),m=function(){function t(){}return t.\u0275mod=g.Gb({type:t}),t.\u0275inj=g.Fb({factory:function(i){return new(i||t)},imports:[[c.Ab,n.c,o.h,r.a,a.c,s.k.forChild([{path:"",component:k}])]]}),t}()}}]);