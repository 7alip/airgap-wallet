(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{Q4oi:function(t,o,e){"use strict";e.r(o),e.d(o,"SubAccountImportPageModule",function(){return T});var i=e("ofXK"),n=e("3Pt+"),r=e("tyNb"),c=e("TEn/"),a=e("sYmb"),s=e("j1ZV"),b=e("mrSG"),l=e("138U"),u=e("RKiA"),p=e("lJxs"),f=e("1y+R"),d=e("QMTT"),h=e("57MG"),m=e("hPkG"),v=e("fXoL"),P=e("F07p"),g=e("1Mpf");function y(t,o){if(1&t){var e=v.Pb();v.Ob(0,"ion-list",11),v.Ob(1,"portfolio-item",12),v.Wb("click",function(){v.mc(e);var t=o.$implicit;return v.Yb(2).importWallet(t)}),v.Nb(),v.Nb()}if(2&t){var i=o.$implicit;v.yb(1),v.ec("wallet",i)}}var I=function(t){return{tokenName:t}};function O(t,o){if(1&t&&(v.Kb(0,"empty-state",13),v.Zb(1,"translate")),2&t){var e=v.Yb(2);v.ec("text",v.bc(1,2,"sub-account-import.empty_text",v.ic(5,I,e.subProtocol.name)))("imageName","no-imports.svg")}}var w=function(t){return{subProtocolName:t}},N=function(t){return{typeLabel:t}};function k(t,o){if(1&t){var e=v.Pb();v.Ob(0,"ion-grid",1),v.Kb(1,"p",5),v.Zb(2,"translate"),v.tc(3,y,2,1,"ion-list",6),v.tc(4,O,2,7,"empty-state",7),v.Ob(5,"ion-fab",8),v.Ob(6,"ion-button",9),v.Wb("click",function(){return v.mc(e),v.Yb().importWallets()}),v.Kb(7,"ion-icon",10),v.vc(8),v.Zb(9,"translate"),v.Zb(10,"translate"),v.Nb(),v.Nb(),v.Nb()}if(2&t){var i=v.Yb();v.yb(1),v.ec("innerHTML",v.bc(2,5,"sub-account-import.text",v.ic(13,w,i.subProtocol.name)),v.nc),v.yb(2),v.ec("ngForOf",i.subWallets),v.yb(1),v.ec("ngIf",0===i.subWallets.length),v.yb(2),v.ec("disabled",0===i.subWallets.length),v.yb(2),v.xc(" ",v.bc(9,8,"sub-account-import.import-all_label",v.ic(15,N,v.ac(10,11,i.typeLabel)))," ")}}var W=function(){function t(t,o,e,i,n,r){var c,a=this;this.router=t,this.route=o,this.accountProvider=e,this.priceService=i,this.protocolService=n,this.typeLabel="",this.subWallets=[],void 0!==(c=r.getData(f.b.PROTOCOL))?(this.subProtocolIdentifier=c.subProtocolIdentifier,this.networkIdentifier=c.networkIdentifier,this.protocolService.getProtocol(this.subProtocolIdentifier,this.networkIdentifier).then(function(t){a.subProtocol=t})):(this.subProtocolIdentifier=this.route.snapshot.params.protocolID,this.networkIdentifier=this.route.snapshot.params.networkID,this.protocolService.getProtocol(this.subProtocolIdentifier,this.networkIdentifier).then(function(t){a.subProtocol=t})),this.accountProvider.wallets.pipe(Object(p.a)(function(t){return t.filter(function(t){return t.protocol.identifier===Object(l.H)(a.subProtocolIdentifier)&&t.protocol.options.network.type===u.NetworkType.MAINNET})})).subscribe(function(t){var o=t.map(function(t){return Object(b.b)(a,void 0,void 0,function(){var o,e;return Object(b.e)(this,function(i){switch(i.label){case 0:return this.accountProvider.walletByPublicKeyAndProtocolAndAddressIndex(t.publicKey,this.subProtocolIdentifier)?[3,2]:[4,this.protocolService.getProtocol(this.subProtocolIdentifier)];case 1:return o=i.sent(),(e=new u.AirGapMarketWallet(o,t.publicKey,t.isExtendedPublicKey,t.derivationPath,this.priceService)).addresses=t.addresses,this.subWallets.push(e),[2,e.synchronize()];case 2:return[2]}})})});Promise.all(o).then(function(){return a.accountProvider.triggerWalletChanged()}).catch(Object(m.b)(m.a.COINLIB))})}return t.prototype.importWallets=function(){var t=this;this.subWallets.forEach(function(o){t.accountProvider.addWallet(o).catch(Object(m.b)(m.a.WALLET_PROVIDER))}),this.popToRoot()},t.prototype.importWallet=function(t){this.accountProvider.addWallet(t).catch(Object(m.b)(m.a.WALLET_PROVIDER)),this.popToRoot()},t.prototype.popToRoot=function(){this.router.navigateByUrl("/tabs/portfolio").catch(Object(m.b)(m.a.NAVIGATION))},t.\u0275fac=function(o){return new(o||t)(v.Jb(r.g),v.Jb(r.a),v.Jb(h.a),v.Jb(d.a),v.Jb(l.x),v.Jb(f.a))},t.\u0275cmp=v.Db({type:t,selectors:[["page-sub-account-import"]],decls:10,vars:4,consts:[[1,"ion-no-border"],["fixed","true",1,"ion-no-padding"],["slot","start"],["defaultHref","/"],["fixed","true","class","ion-no-padding",4,"ngIf"],[1,"ion-padding-horizontal",3,"innerHTML"],["lines","none","class","ion-margin-top",4,"ngFor","ngForOf"],[3,"text","imageName",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["shape","round","color","secondary",3,"disabled","click"],["slot","start","name","add"],["lines","none",1,"ion-margin-top"],["tappable","",3,"wallet","click"],[3,"text","imageName"]],template:function(t,o){1&t&&(v.Ob(0,"ion-header",0),v.Ob(1,"ion-grid",1),v.Ob(2,"ion-toolbar"),v.Ob(3,"ion-buttons",2),v.Kb(4,"ion-back-button",3),v.Nb(),v.Ob(5,"ion-title"),v.vc(6),v.Zb(7,"translate"),v.Nb(),v.Nb(),v.Nb(),v.Nb(),v.Ob(8,"ion-content"),v.tc(9,k,11,17,"ion-grid",4),v.Nb()),2&t&&(v.yb(6),v.wc(v.ac(7,2,"sub-account-import.title")),v.yb(3),v.ec("ngIf",o.subProtocol))},directives:[c.v,c.u,c.hb,c.j,c.f,c.g,c.fb,c.q,i.n,i.m,c.r,c.i,c.w,c.F,P.a,g.a],pipes:[a.c],encapsulation:2}),t}(),T=function(){function t(){}return t.\u0275mod=v.Hb({type:t}),t.\u0275inj=v.Gb({factory:function(o){return new(o||t)},imports:[[c.ib,i.c,n.e,s.a,a.b,r.j.forChild([{path:"",component:W}])]]}),t}()}}]);